function GS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var yy={exports:{}},ac={},xy={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=Symbol.for("react.element"),YS=Symbol.for("react.portal"),JS=Symbol.for("react.fragment"),XS=Symbol.for("react.strict_mode"),QS=Symbol.for("react.profiler"),ZS=Symbol.for("react.provider"),e_=Symbol.for("react.context"),t_=Symbol.for("react.forward_ref"),n_=Symbol.for("react.suspense"),r_=Symbol.for("react.memo"),s_=Symbol.for("react.lazy"),qp=Symbol.iterator;function o_(e){return e===null||typeof e!="object"?null:(e=qp&&e[qp]||e["@@iterator"],typeof e=="function"?e:null)}var wy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jy=Object.assign,by={};function Eo(e,t,n){this.props=e,this.context=t,this.refs=by,this.updater=n||wy}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sy(){}Sy.prototype=Eo.prototype;function zf(e,t,n){this.props=e,this.context=t,this.refs=by,this.updater=n||wy}var Wf=zf.prototype=new Sy;Wf.constructor=zf;jy(Wf,Eo.prototype);Wf.isPureReactComponent=!0;var Gp=Array.isArray,_y=Object.prototype.hasOwnProperty,Hf={current:null},Cy={key:!0,ref:!0,__self:!0,__source:!0};function Ey(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)_y.call(t,r)&&!Cy.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Zi,type:e,key:o,ref:i,props:s,_owner:Hf.current}}function i_(e,t){return{$$typeof:Zi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zi}function a_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kp=/\/+/g;function Zc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a_(""+e.key):t.toString(36)}function Xa(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Zi:case YS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Zc(i,0):r,Gp(s)?(n="",e!=null&&(n=e.replace(Kp,"$&/")+"/"),Xa(s,t,n,"",function(u){return u})):s!=null&&(qf(s)&&(s=i_(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Kp,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Gp(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Zc(o,l);i+=Xa(o,t,n,c,s)}else if(c=o_(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Zc(o,l++),i+=Xa(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ma(e,t,n){if(e==null)return e;var r=[],s=0;return Xa(e,r,"","",function(o){return t.call(n,o,s++)}),r}function l_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},Qa={transition:null},c_={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Qa,ReactCurrentOwner:Hf};function ky(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:ma,forEach:function(e,t,n){ma(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ma(e,function(){t++}),t},toArray:function(e){return ma(e,function(t){return t})||[]},only:function(e){if(!qf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Eo;fe.Fragment=JS;fe.Profiler=QS;fe.PureComponent=zf;fe.StrictMode=XS;fe.Suspense=n_;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c_;fe.act=ky;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jy({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Hf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_y.call(t,c)&&!Cy.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Zi,type:e.type,key:s,ref:o,props:r,_owner:i}};fe.createContext=function(e){return e={$$typeof:e_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZS,_context:e},e.Consumer=e};fe.createElement=Ey;fe.createFactory=function(e){var t=Ey.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:t_,render:e}};fe.isValidElement=qf;fe.lazy=function(e){return{$$typeof:s_,_payload:{_status:-1,_result:e},_init:l_}};fe.memo=function(e,t){return{$$typeof:r_,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Qa.transition;Qa.transition={};try{e()}finally{Qa.transition=t}};fe.unstable_act=ky;fe.useCallback=function(e,t){return yt.current.useCallback(e,t)};fe.useContext=function(e){return yt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return yt.current.useEffect(e,t)};fe.useId=function(){return yt.current.useId()};fe.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return yt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};fe.useRef=function(e){return yt.current.useRef(e)};fe.useState=function(e){return yt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return yt.current.useTransition()};fe.version="18.3.1";xy.exports=fe;var m=xy.exports;const oe=vy(m),Gf=GS({__proto__:null,default:oe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_=m,d_=Symbol.for("react.element"),f_=Symbol.for("react.fragment"),h_=Object.prototype.hasOwnProperty,p_=u_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m_={key:!0,ref:!0,__self:!0,__source:!0};function Ny(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)h_.call(t,r)&&!m_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:d_,type:e,key:o,ref:i,props:s,_owner:p_.current}}ac.Fragment=f_;ac.jsx=Ny;ac.jsxs=Ny;yy.exports=ac;var a=yy.exports,sd={},Py={exports:{}},Ft={},Ty={exports:{}},Ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var D=T.length;T.push(P);e:for(;0<D;){var A=D-1>>>1,$=T[A];if(0<s($,P))T[A]=P,T[D]=$,D=A;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var P=T[0],D=T.pop();if(D!==P){T[0]=D;e:for(var A=0,$=T.length,X=$>>>1;A<X;){var ie=2*(A+1)-1,ye=T[ie],xe=ie+1,J=T[xe];if(0>s(ye,D))xe<$&&0>s(J,ye)?(T[A]=J,T[xe]=D,A=xe):(T[A]=ye,T[ie]=D,A=ie);else if(xe<$&&0>s(J,D))T[A]=J,T[xe]=D,A=xe;else break e}}return P}function s(T,P){var D=T.sortIndex-P.sortIndex;return D!==0?D:T.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=T)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function b(T){if(x=!1,g(T),!w)if(n(c)!==null)w=!0,M(S);else{var P=n(u);P!==null&&N(b,P.startTime-T)}}function S(T,P){w=!1,x&&(x=!1,y(_),_=-1),p=!0;var D=h;try{for(g(P),f=n(c);f!==null&&(!(f.expirationTime>P)||T&&!L());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var $=A(f.expirationTime<=P);P=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&r(c),g(P)}else r(c);f=n(c)}if(f!==null)var X=!0;else{var ie=n(u);ie!==null&&N(b,ie.startTime-P),X=!1}return X}finally{f=null,h=D,p=!1}}var k=!1,C=null,_=-1,E=5,R=-1;function L(){return!(e.unstable_now()-R<E)}function I(){if(C!==null){var T=e.unstable_now();R=T;var P=!0;try{P=C(!0,T)}finally{P?V():(k=!1,C=null)}}else k=!1}var V;if(typeof v=="function")V=function(){v(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,F=O.port2;O.port1.onmessage=I,V=function(){F.postMessage(null)}}else V=function(){j(I,0)};function M(T){C=T,k||(k=!0,V())}function N(T,P){_=j(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,M(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var D=h;h=P;try{return T()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=h;h=T;try{return P()}finally{h=D}},e.unstable_scheduleCallback=function(T,P,D){var A=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?A+D:A):D=A,T){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=D+$,T={id:d++,callback:P,priorityLevel:T,startTime:D,expirationTime:$,sortIndex:-1},D>A?(T.sortIndex=D,t(u,T),n(c)===null&&T===n(u)&&(x?(y(_),_=-1):x=!0,N(b,D-A))):(T.sortIndex=$,t(c,T),w||p||(w=!0,M(S))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var P=h;return function(){var D=h;h=P;try{return T.apply(this,arguments)}finally{h=D}}}})(Ay);Ty.exports=Ay;var g_=Ty.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=m,Mt=g_;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ry=new Set,Si={};function _s(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(Si[e]=t,e=0;e<t.length;e++)Ry.add(t[e])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=Object.prototype.hasOwnProperty,y_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yp={},Jp={};function x_(e){return od.call(Jp,e)?!0:od.call(Yp,e)?!1:y_.test(e)?Jp[e]=!0:(Yp[e]=!0,!1)}function w_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j_(e,t,n,r){if(t===null||typeof t>"u"||w_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kf=/[\-:]([a-z])/g;function Yf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kf,Yf);it[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kf,Yf);it[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kf,Yf);it[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jf(e,t,n,r){var s=it.hasOwnProperty(t)?it[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j_(t,n,s,r)&&(n=null),r||s===null?x_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tr=v_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ga=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Xf=Symbol.for("react.strict_mode"),id=Symbol.for("react.profiler"),Oy=Symbol.for("react.provider"),Iy=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),ad=Symbol.for("react.suspense"),ld=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),Ly=Symbol.for("react.offscreen"),Xp=Symbol.iterator;function Vo(e){return e===null||typeof e!="object"?null:(e=Xp&&e[Xp]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,eu;function Zo(e){if(eu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eu=t&&t[1]||""}return`
`+eu+e}var tu=!1;function nu(e,t){if(!e||tu)return"";tu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{tu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zo(e):""}function b_(e){switch(e.tag){case 5:return Zo(e.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 2:case 15:return e=nu(e.type,!1),e;case 11:return e=nu(e.type.render,!1),e;case 1:return e=nu(e.type,!0),e;default:return""}}function cd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bs:return"Fragment";case Us:return"Portal";case id:return"Profiler";case Xf:return"StrictMode";case ad:return"Suspense";case ld:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Iy:return(e.displayName||"Context")+".Consumer";case Oy:return(e._context.displayName||"Context")+".Provider";case Qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zf:return t=e.displayName||null,t!==null?t:cd(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return cd(e(t))}catch{}}return null}function S_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cd(t);case 8:return t===Xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function My(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function __(e){var t=My(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function va(e){e._valueTracker||(e._valueTracker=__(e))}function Dy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=My(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ud(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ar(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $y(e,t){t=t.checked,t!=null&&Jf(e,"checked",t,!1)}function dd(e,t){$y(e,t);var n=Ar(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fd(e,t.type,n):t.hasOwnProperty("defaultValue")&&fd(e,t.type,Ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fd(e,t,n){(t!=="number"||gl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ei=Array.isArray;function ro(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ar(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function em(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(ei(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ar(n)}}function Fy(e,t){var n=Ar(t.value),r=Ar(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ya,Uy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ya=ya||document.createElement("div"),ya.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ya.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C_=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(e){C_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ii[t]=ii[e]})});function By(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ii.hasOwnProperty(e)&&ii[e]?(""+t).trim():t+"px"}function zy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=By(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var E_=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function md(e,t){if(t){if(E_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function gd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=null;function eh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yd=null,so=null,oo=null;function nm(e){if(e=na(e)){if(typeof yd!="function")throw Error(U(280));var t=e.stateNode;t&&(t=fc(t),yd(e.stateNode,e.type,t))}}function Wy(e){so?oo?oo.push(e):oo=[e]:so=e}function Hy(){if(so){var e=so,t=oo;if(oo=so=null,nm(e),t)for(e=0;e<t.length;e++)nm(t[e])}}function qy(e,t){return e(t)}function Gy(){}var ru=!1;function Ky(e,t,n){if(ru)return e(t,n);ru=!0;try{return qy(e,t,n)}finally{ru=!1,(so!==null||oo!==null)&&(Gy(),Hy())}}function Ci(e,t){var n=e.stateNode;if(n===null)return null;var r=fc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var xd=!1;if(Kn)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){xd=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{xd=!1}function k_(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ai=!1,vl=null,yl=!1,wd=null,N_={onError:function(e){ai=!0,vl=e}};function P_(e,t,n,r,s,o,i,l,c){ai=!1,vl=null,k_.apply(N_,arguments)}function T_(e,t,n,r,s,o,i,l,c){if(P_.apply(this,arguments),ai){if(ai){var u=vl;ai=!1,vl=null}else throw Error(U(198));yl||(yl=!0,wd=u)}}function Cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rm(e){if(Cs(e)!==e)throw Error(U(188))}function A_(e){var t=e.alternate;if(!t){if(t=Cs(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return rm(s),e;if(o===r)return rm(s),t;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Jy(e){return e=A_(e),e!==null?Xy(e):null}function Xy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xy(e);if(t!==null)return t;e=e.sibling}return null}var Qy=Mt.unstable_scheduleCallback,sm=Mt.unstable_cancelCallback,R_=Mt.unstable_shouldYield,O_=Mt.unstable_requestPaint,He=Mt.unstable_now,I_=Mt.unstable_getCurrentPriorityLevel,th=Mt.unstable_ImmediatePriority,Zy=Mt.unstable_UserBlockingPriority,xl=Mt.unstable_NormalPriority,L_=Mt.unstable_LowPriority,ex=Mt.unstable_IdlePriority,lc=null,Pn=null;function M_(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(lc,e,void 0,(e.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:F_,D_=Math.log,$_=Math.LN2;function F_(e){return e>>>=0,e===0?32:31-(D_(e)/$_|0)|0}var xa=64,wa=4194304;function ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=ti(l):(o&=i,o!==0&&(r=ti(o)))}else i=n&~s,i!==0?r=ti(i):o!==0&&(r=ti(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hn(t),s=1<<n,r|=e[n],t&=~s;return r}function V_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-hn(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=V_(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function jd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tx(){var e=xa;return xa<<=1,!(xa&4194240)&&(xa=64),e}function su(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hn(t),e[t]=n}function B_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-hn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function nh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ke=0;function nx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rx,rh,sx,ox,ix,bd=!1,ja=[],xr=null,wr=null,jr=null,Ei=new Map,ki=new Map,dr=[],z_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function om(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function Bo(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=na(t),t!==null&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function W_(e,t,n,r,s){switch(t){case"focusin":return xr=Bo(xr,e,t,n,r,s),!0;case"dragenter":return wr=Bo(wr,e,t,n,r,s),!0;case"mouseover":return jr=Bo(jr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ei.set(o,Bo(Ei.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ki.set(o,Bo(ki.get(o)||null,e,t,n,r,s)),!0}return!1}function ax(e){var t=ss(e.target);if(t!==null){var n=Cs(t);if(n!==null){if(t=n.tag,t===13){if(t=Yy(n),t!==null){e.blockedOn=t,ix(e.priority,function(){sx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vd=r,n.target.dispatchEvent(r),vd=null}else return t=na(n),t!==null&&rh(t),e.blockedOn=n,!1;t.shift()}return!0}function im(e,t,n){Za(e)&&n.delete(t)}function H_(){bd=!1,xr!==null&&Za(xr)&&(xr=null),wr!==null&&Za(wr)&&(wr=null),jr!==null&&Za(jr)&&(jr=null),Ei.forEach(im),ki.forEach(im)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,bd||(bd=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,H_)))}function Ni(e){function t(s){return zo(s,e)}if(0<ja.length){zo(ja[0],e);for(var n=1;n<ja.length;n++){var r=ja[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xr!==null&&zo(xr,e),wr!==null&&zo(wr,e),jr!==null&&zo(jr,e),Ei.forEach(t),ki.forEach(t),n=0;n<dr.length;n++)r=dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)ax(n),n.blockedOn===null&&dr.shift()}var io=tr.ReactCurrentBatchConfig,jl=!0;function q_(e,t,n,r){var s=ke,o=io.transition;io.transition=null;try{ke=1,sh(e,t,n,r)}finally{ke=s,io.transition=o}}function G_(e,t,n,r){var s=ke,o=io.transition;io.transition=null;try{ke=4,sh(e,t,n,r)}finally{ke=s,io.transition=o}}function sh(e,t,n,r){if(jl){var s=Sd(e,t,n,r);if(s===null)pu(e,t,r,bl,n),om(e,r);else if(W_(s,e,t,n,r))r.stopPropagation();else if(om(e,r),t&4&&-1<z_.indexOf(e)){for(;s!==null;){var o=na(s);if(o!==null&&rx(o),o=Sd(e,t,n,r),o===null&&pu(e,t,r,bl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else pu(e,t,r,null,n)}}var bl=null;function Sd(e,t,n,r){if(bl=null,e=eh(r),e=ss(e),e!==null)if(t=Cs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bl=e,null}function lx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I_()){case th:return 1;case Zy:return 4;case xl:case L_:return 16;case ex:return 536870912;default:return 16}default:return 16}}var pr=null,oh=null,el=null;function cx(){if(el)return el;var e,t=oh,n=t.length,r,s="value"in pr?pr.value:pr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return el=s.slice(e,1<r?1-r:void 0)}function tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ba(){return!0}function am(){return!1}function Vt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ba:am,this.isPropagationStopped=am,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),t}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ih=Vt(ko),ta=Be({},ko,{view:0,detail:0}),K_=Vt(ta),ou,iu,Wo,cc=Be({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ah,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wo&&(Wo&&e.type==="mousemove"?(ou=e.screenX-Wo.screenX,iu=e.screenY-Wo.screenY):iu=ou=0,Wo=e),ou)},movementY:function(e){return"movementY"in e?e.movementY:iu}}),lm=Vt(cc),Y_=Be({},cc,{dataTransfer:0}),J_=Vt(Y_),X_=Be({},ta,{relatedTarget:0}),au=Vt(X_),Q_=Be({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),Z_=Vt(Q_),eC=Be({},ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tC=Vt(eC),nC=Be({},ko,{data:0}),cm=Vt(nC),rC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oC[e])?!!t[e]:!1}function ah(){return iC}var aC=Be({},ta,{key:function(e){if(e.key){var t=rC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ah,charCode:function(e){return e.type==="keypress"?tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lC=Vt(aC),cC=Be({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=Vt(cC),uC=Be({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ah}),dC=Vt(uC),fC=Be({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),hC=Vt(fC),pC=Be({},cc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mC=Vt(pC),gC=[9,13,27,32],lh=Kn&&"CompositionEvent"in window,li=null;Kn&&"documentMode"in document&&(li=document.documentMode);var vC=Kn&&"TextEvent"in window&&!li,ux=Kn&&(!lh||li&&8<li&&11>=li),dm=String.fromCharCode(32),fm=!1;function dx(e,t){switch(e){case"keyup":return gC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function yC(e,t){switch(e){case"compositionend":return fx(t);case"keypress":return t.which!==32?null:(fm=!0,dm);case"textInput":return e=t.data,e===dm&&fm?null:e;default:return null}}function xC(e,t){if(zs)return e==="compositionend"||!lh&&dx(e,t)?(e=cx(),el=oh=pr=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ux&&t.locale!=="ko"?null:t.data;default:return null}}var wC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wC[e.type]:t==="textarea"}function hx(e,t,n,r){Wy(r),t=Sl(t,"onChange"),0<t.length&&(n=new ih("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ci=null,Pi=null;function jC(e){_x(e,0)}function uc(e){var t=qs(e);if(Dy(t))return e}function bC(e,t){if(e==="change")return t}var px=!1;if(Kn){var lu;if(Kn){var cu="oninput"in document;if(!cu){var pm=document.createElement("div");pm.setAttribute("oninput","return;"),cu=typeof pm.oninput=="function"}lu=cu}else lu=!1;px=lu&&(!document.documentMode||9<document.documentMode)}function mm(){ci&&(ci.detachEvent("onpropertychange",mx),Pi=ci=null)}function mx(e){if(e.propertyName==="value"&&uc(Pi)){var t=[];hx(t,Pi,e,eh(e)),Ky(jC,t)}}function SC(e,t,n){e==="focusin"?(mm(),ci=t,Pi=n,ci.attachEvent("onpropertychange",mx)):e==="focusout"&&mm()}function _C(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uc(Pi)}function CC(e,t){if(e==="click")return uc(t)}function EC(e,t){if(e==="input"||e==="change")return uc(t)}function kC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:kC;function Ti(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!od.call(t,s)||!yn(e[s],t[s]))return!1}return!0}function gm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vm(e,t){var n=gm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gm(n)}}function gx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vx(){for(var e=window,t=gl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gl(e.document)}return t}function ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NC(e){var t=vx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gx(n.ownerDocument.documentElement,n)){if(r!==null&&ch(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=vm(n,o);var i=vm(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PC=Kn&&"documentMode"in document&&11>=document.documentMode,Ws=null,_d=null,ui=null,Cd=!1;function ym(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cd||Ws==null||Ws!==gl(r)||(r=Ws,"selectionStart"in r&&ch(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ui&&Ti(ui,r)||(ui=r,r=Sl(_d,"onSelect"),0<r.length&&(t=new ih("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ws)))}function Sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hs={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},uu={},yx={};Kn&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function dc(e){if(uu[e])return uu[e];if(!Hs[e])return e;var t=Hs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yx)return uu[e]=t[n];return e}var xx=dc("animationend"),wx=dc("animationiteration"),jx=dc("animationstart"),bx=dc("transitionend"),Sx=new Map,xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(e,t){Sx.set(e,t),_s(t,[e])}for(var du=0;du<xm.length;du++){var fu=xm[du],TC=fu.toLowerCase(),AC=fu[0].toUpperCase()+fu.slice(1);$r(TC,"on"+AC)}$r(xx,"onAnimationEnd");$r(wx,"onAnimationIteration");$r(jx,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(bx,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function wm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,T_(r,t,void 0,e),e.currentTarget=null}function _x(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;wm(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;wm(s,l,u),o=c}}}if(yl)throw e=wd,yl=!1,wd=null,e}function Me(e,t){var n=t[Td];n===void 0&&(n=t[Td]=new Set);var r=e+"__bubble";n.has(r)||(Cx(t,e,2,!1),n.add(r))}function hu(e,t,n){var r=0;t&&(r|=4),Cx(n,e,r,t)}var _a="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[_a]){e[_a]=!0,Ry.forEach(function(n){n!=="selectionchange"&&(RC.has(n)||hu(n,!1,e),hu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_a]||(t[_a]=!0,hu("selectionchange",!1,t))}}function Cx(e,t,n,r){switch(lx(t)){case 1:var s=q_;break;case 4:s=G_;break;default:s=sh}n=s.bind(null,t,n,e),s=void 0,!xd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function pu(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ss(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Ky(function(){var u=o,d=eh(n),f=[];e:{var h=Sx.get(e);if(h!==void 0){var p=ih,w=e;switch(e){case"keypress":if(tl(n)===0)break e;case"keydown":case"keyup":p=lC;break;case"focusin":w="focus",p=au;break;case"focusout":w="blur",p=au;break;case"beforeblur":case"afterblur":p=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=J_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dC;break;case xx:case wx:case jx:p=Z_;break;case bx:p=hC;break;case"scroll":p=K_;break;case"wheel":p=mC;break;case"copy":case"cut":case"paste":p=tC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=um}var x=(t&4)!==0,j=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,g;v!==null;){g=v;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,y!==null&&(b=Ci(v,y),b!=null&&x.push(Ri(v,b,g)))),j)break;v=v.return}0<x.length&&(h=new p(h,w,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==vd&&(w=n.relatedTarget||n.fromElement)&&(ss(w)||w[Yn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?ss(w):null,w!==null&&(j=Cs(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(x=lm,b="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=um,b="onPointerLeave",y="onPointerEnter",v="pointer"),j=p==null?h:qs(p),g=w==null?h:qs(w),h=new x(b,v+"leave",p,n,d),h.target=j,h.relatedTarget=g,b=null,ss(d)===u&&(x=new x(y,v+"enter",w,n,d),x.target=g,x.relatedTarget=j,b=x),j=b,p&&w)t:{for(x=p,y=w,v=0,g=x;g;g=As(g))v++;for(g=0,b=y;b;b=As(b))g++;for(;0<v-g;)x=As(x),v--;for(;0<g-v;)y=As(y),g--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=As(x),y=As(y)}x=null}else x=null;p!==null&&jm(f,h,p,x,!1),w!==null&&j!==null&&jm(f,j,w,x,!0)}}e:{if(h=u?qs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=bC;else if(hm(h))if(px)S=EC;else{S=_C;var k=SC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=CC);if(S&&(S=S(e,u))){hx(f,S,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&fd(h,"number",h.value)}switch(k=u?qs(u):window,e){case"focusin":(hm(k)||k.contentEditable==="true")&&(Ws=k,_d=u,ui=null);break;case"focusout":ui=_d=Ws=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,ym(f,n,d);break;case"selectionchange":if(PC)break;case"keydown":case"keyup":ym(f,n,d)}var C;if(lh)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zs?dx(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ux&&n.locale!=="ko"&&(zs||_!=="onCompositionStart"?_==="onCompositionEnd"&&zs&&(C=cx()):(pr=d,oh="value"in pr?pr.value:pr.textContent,zs=!0)),k=Sl(u,_),0<k.length&&(_=new cm(_,e,null,n,d),f.push({event:_,listeners:k}),C?_.data=C:(C=fx(n),C!==null&&(_.data=C)))),(C=vC?yC(e,n):xC(e,n))&&(u=Sl(u,"onBeforeInput"),0<u.length&&(d=new cm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}_x(f,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ci(e,n),o!=null&&r.unshift(Ri(e,o,s)),o=Ci(e,t),o!=null&&r.push(Ri(e,o,s))),e=e.return}return r}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jm(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ci(n,o),c!=null&&i.unshift(Ri(n,c,l))):s||(c=Ci(n,o),c!=null&&i.push(Ri(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var OC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function bm(e){return(typeof e=="string"?e:""+e).replace(OC,`
`).replace(IC,"")}function Ca(e,t,n){if(t=bm(t),bm(e)!==t&&n)throw Error(U(425))}function _l(){}var Ed=null,kd=null;function Nd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pd=typeof setTimeout=="function"?setTimeout:void 0,LC=typeof clearTimeout=="function"?clearTimeout:void 0,Sm=typeof Promise=="function"?Promise:void 0,MC=typeof queueMicrotask=="function"?queueMicrotask:typeof Sm<"u"?function(e){return Sm.resolve(null).then(e).catch(DC)}:Pd;function DC(e){setTimeout(function(){throw e})}function mu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ni(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ni(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var No=Math.random().toString(36).slice(2),En="__reactFiber$"+No,Oi="__reactProps$"+No,Yn="__reactContainer$"+No,Td="__reactEvents$"+No,$C="__reactListeners$"+No,FC="__reactHandles$"+No;function ss(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yn]||n[En]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_m(e);e!==null;){if(n=e[En])return n;e=_m(e)}return t}e=n,n=e.parentNode}return null}function na(e){return e=e[En]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function fc(e){return e[Oi]||null}var Ad=[],Gs=-1;function Fr(e){return{current:e}}function De(e){0>Gs||(e.current=Ad[Gs],Ad[Gs]=null,Gs--)}function Te(e,t){Gs++,Ad[Gs]=e.current,e.current=t}var Rr={},ft=Fr(Rr),Et=Fr(!1),hs=Rr;function po(e,t){var n=e.type.contextTypes;if(!n)return Rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kt(e){return e=e.childContextTypes,e!=null}function Cl(){De(Et),De(ft)}function Cm(e,t,n){if(ft.current!==Rr)throw Error(U(168));Te(ft,t),Te(Et,n)}function Ex(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,S_(e)||"Unknown",s));return Be({},n,r)}function El(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rr,hs=ft.current,Te(ft,e),Te(Et,Et.current),!0}function Em(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Ex(e,t,hs),r.__reactInternalMemoizedMergedChildContext=e,De(Et),De(ft),Te(ft,e)):De(Et),Te(Et,n)}var Un=null,hc=!1,gu=!1;function kx(e){Un===null?Un=[e]:Un.push(e)}function VC(e){hc=!0,kx(e)}function Vr(){if(!gu&&Un!==null){gu=!0;var e=0,t=ke;try{var n=Un;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Un=null,hc=!1}catch(s){throw Un!==null&&(Un=Un.slice(e+1)),Qy(th,Vr),s}finally{ke=t,gu=!1}}return null}var Ks=[],Ys=0,kl=null,Nl=0,zt=[],Wt=0,ps=null,Bn=1,zn="";function Xr(e,t){Ks[Ys++]=Nl,Ks[Ys++]=kl,kl=e,Nl=t}function Nx(e,t,n){zt[Wt++]=Bn,zt[Wt++]=zn,zt[Wt++]=ps,ps=e;var r=Bn;e=zn;var s=32-hn(r)-1;r&=~(1<<s),n+=1;var o=32-hn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Bn=1<<32-hn(t)+s|n<<s|r,zn=o+e}else Bn=1<<o|n<<s|r,zn=e}function uh(e){e.return!==null&&(Xr(e,1),Nx(e,1,0))}function dh(e){for(;e===kl;)kl=Ks[--Ys],Ks[Ys]=null,Nl=Ks[--Ys],Ks[Ys]=null;for(;e===ps;)ps=zt[--Wt],zt[Wt]=null,zn=zt[--Wt],zt[Wt]=null,Bn=zt[--Wt],zt[Wt]=null}var It=null,Ot=null,$e=!1,fn=null;function Px(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function km(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Ot=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ps!==null?{id:Bn,overflow:zn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,It=e,Ot=null,!0):!1;default:return!1}}function Rd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Od(e){if($e){var t=Ot;if(t){var n=t;if(!km(e,t)){if(Rd(e))throw Error(U(418));t=br(n.nextSibling);var r=It;t&&km(e,t)?Px(r,n):(e.flags=e.flags&-4097|2,$e=!1,It=e)}}else{if(Rd(e))throw Error(U(418));e.flags=e.flags&-4097|2,$e=!1,It=e}}}function Nm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function Ea(e){if(e!==It)return!1;if(!$e)return Nm(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nd(e.type,e.memoizedProps)),t&&(t=Ot)){if(Rd(e))throw Tx(),Error(U(418));for(;t;)Px(e,t),t=br(t.nextSibling)}if(Nm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ot=br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=It?br(e.stateNode.nextSibling):null;return!0}function Tx(){for(var e=Ot;e;)e=br(e.nextSibling)}function mo(){Ot=It=null,$e=!1}function fh(e){fn===null?fn=[e]:fn.push(e)}var UC=tr.ReactCurrentBatchConfig;function Ho(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ka(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pm(e){var t=e._init;return t(e._payload)}function Ax(e){function t(y,v){if(e){var g=y.deletions;g===null?(y.deletions=[v],y.flags|=16):g.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Er(y,v),y.index=0,y.sibling=null,y}function o(y,v,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<v?(y.flags|=2,v):g):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,g,b){return v===null||v.tag!==6?(v=Su(g,y.mode,b),v.return=y,v):(v=s(v,g),v.return=y,v)}function c(y,v,g,b){var S=g.type;return S===Bs?d(y,v,g.props.children,b,g.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lr&&Pm(S)===v.type)?(b=s(v,g.props),b.ref=Ho(y,v,g),b.return=y,b):(b=ll(g.type,g.key,g.props,null,y.mode,b),b.ref=Ho(y,v,g),b.return=y,b)}function u(y,v,g,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=_u(g,y.mode,b),v.return=y,v):(v=s(v,g.children||[]),v.return=y,v)}function d(y,v,g,b,S){return v===null||v.tag!==7?(v=us(g,y.mode,b,S),v.return=y,v):(v=s(v,g),v.return=y,v)}function f(y,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Su(""+v,y.mode,g),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ga:return g=ll(v.type,v.key,v.props,null,y.mode,g),g.ref=Ho(y,null,v),g.return=y,g;case Us:return v=_u(v,y.mode,g),v.return=y,v;case lr:var b=v._init;return f(y,b(v._payload),g)}if(ei(v)||Vo(v))return v=us(v,y.mode,g,null),v.return=y,v;ka(y,v)}return null}function h(y,v,g,b){var S=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(y,v,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ga:return g.key===S?c(y,v,g,b):null;case Us:return g.key===S?u(y,v,g,b):null;case lr:return S=g._init,h(y,v,S(g._payload),b)}if(ei(g)||Vo(g))return S!==null?null:d(y,v,g,b,null);ka(y,g)}return null}function p(y,v,g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(g)||null,l(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ga:return y=y.get(b.key===null?g:b.key)||null,c(v,y,b,S);case Us:return y=y.get(b.key===null?g:b.key)||null,u(v,y,b,S);case lr:var k=b._init;return p(y,v,g,k(b._payload),S)}if(ei(b)||Vo(b))return y=y.get(g)||null,d(v,y,b,S,null);ka(v,b)}return null}function w(y,v,g,b){for(var S=null,k=null,C=v,_=v=0,E=null;C!==null&&_<g.length;_++){C.index>_?(E=C,C=null):E=C.sibling;var R=h(y,C,g[_],b);if(R===null){C===null&&(C=E);break}e&&C&&R.alternate===null&&t(y,C),v=o(R,v,_),k===null?S=R:k.sibling=R,k=R,C=E}if(_===g.length)return n(y,C),$e&&Xr(y,_),S;if(C===null){for(;_<g.length;_++)C=f(y,g[_],b),C!==null&&(v=o(C,v,_),k===null?S=C:k.sibling=C,k=C);return $e&&Xr(y,_),S}for(C=r(y,C);_<g.length;_++)E=p(C,y,_,g[_],b),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?_:E.key),v=o(E,v,_),k===null?S=E:k.sibling=E,k=E);return e&&C.forEach(function(L){return t(y,L)}),$e&&Xr(y,_),S}function x(y,v,g,b){var S=Vo(g);if(typeof S!="function")throw Error(U(150));if(g=S.call(g),g==null)throw Error(U(151));for(var k=S=null,C=v,_=v=0,E=null,R=g.next();C!==null&&!R.done;_++,R=g.next()){C.index>_?(E=C,C=null):E=C.sibling;var L=h(y,C,R.value,b);if(L===null){C===null&&(C=E);break}e&&C&&L.alternate===null&&t(y,C),v=o(L,v,_),k===null?S=L:k.sibling=L,k=L,C=E}if(R.done)return n(y,C),$e&&Xr(y,_),S;if(C===null){for(;!R.done;_++,R=g.next())R=f(y,R.value,b),R!==null&&(v=o(R,v,_),k===null?S=R:k.sibling=R,k=R);return $e&&Xr(y,_),S}for(C=r(y,C);!R.done;_++,R=g.next())R=p(C,y,_,R.value,b),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?_:R.key),v=o(R,v,_),k===null?S=R:k.sibling=R,k=R);return e&&C.forEach(function(I){return t(y,I)}),$e&&Xr(y,_),S}function j(y,v,g,b){if(typeof g=="object"&&g!==null&&g.type===Bs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ga:e:{for(var S=g.key,k=v;k!==null;){if(k.key===S){if(S=g.type,S===Bs){if(k.tag===7){n(y,k.sibling),v=s(k,g.props.children),v.return=y,y=v;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lr&&Pm(S)===k.type){n(y,k.sibling),v=s(k,g.props),v.ref=Ho(y,k,g),v.return=y,y=v;break e}n(y,k);break}else t(y,k);k=k.sibling}g.type===Bs?(v=us(g.props.children,y.mode,b,g.key),v.return=y,y=v):(b=ll(g.type,g.key,g.props,null,y.mode,b),b.ref=Ho(y,v,g),b.return=y,y=b)}return i(y);case Us:e:{for(k=g.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(y,v.sibling),v=s(v,g.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=_u(g,y.mode,b),v.return=y,y=v}return i(y);case lr:return k=g._init,j(y,v,k(g._payload),b)}if(ei(g))return w(y,v,g,b);if(Vo(g))return x(y,v,g,b);ka(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,g),v.return=y,y=v):(n(y,v),v=Su(g,y.mode,b),v.return=y,y=v),i(y)):n(y,v)}return j}var go=Ax(!0),Rx=Ax(!1),Pl=Fr(null),Tl=null,Js=null,hh=null;function ph(){hh=Js=Tl=null}function mh(e){var t=Pl.current;De(Pl),e._currentValue=t}function Id(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ao(e,t){Tl=e,hh=Js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ct=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(hh!==e)if(e={context:e,memoizedValue:t,next:null},Js===null){if(Tl===null)throw Error(U(308));Js=e,Tl.dependencies={lanes:0,firstContext:e}}else Js=Js.next=e;return t}var os=null;function gh(e){os===null?os=[e]:os.push(e)}function Ox(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,gh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Jn(e,r)}function Jn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cr=!1;function vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ix(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Jn(e,n)}return s=r.interleaved,s===null?(t.next=t,gh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Jn(e,n)}function nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nh(e,n)}}function Tm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Al(e,t,n,r){var s=e.updateQueue;cr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(h=t,p=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=Be({},f,h);break e;case 2:cr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);gs|=i,e.lanes=i,e.memoizedState=f}}function Am(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ra={},Tn=Fr(ra),Ii=Fr(ra),Li=Fr(ra);function is(e){if(e===ra)throw Error(U(174));return e}function yh(e,t){switch(Te(Li,t),Te(Ii,e),Te(Tn,ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pd(t,e)}De(Tn),Te(Tn,t)}function vo(){De(Tn),De(Ii),De(Li)}function Lx(e){is(Li.current);var t=is(Tn.current),n=pd(t,e.type);t!==n&&(Te(Ii,e),Te(Tn,n))}function xh(e){Ii.current===e&&(De(Tn),De(Ii))}var Fe=Fr(0);function Rl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vu=[];function wh(){for(var e=0;e<vu.length;e++)vu[e]._workInProgressVersionPrimary=null;vu.length=0}var rl=tr.ReactCurrentDispatcher,yu=tr.ReactCurrentBatchConfig,ms=0,Ue=null,Ye=null,et=null,Ol=!1,di=!1,Mi=0,BC=0;function lt(){throw Error(U(321))}function jh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function bh(e,t,n,r,s,o){if(ms=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=e===null||e.memoizedState===null?qC:GC,e=n(r,s),di){o=0;do{if(di=!1,Mi=0,25<=o)throw Error(U(301));o+=1,et=Ye=null,t.updateQueue=null,rl.current=KC,e=n(r,s)}while(di)}if(rl.current=Il,t=Ye!==null&&Ye.next!==null,ms=0,et=Ye=Ue=null,Ol=!1,t)throw Error(U(300));return e}function Sh(){var e=Mi!==0;return Mi=0,e}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ue.memoizedState=et=e:et=et.next=e,et}function Yt(){if(Ye===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=et===null?Ue.memoizedState:et.next;if(t!==null)et=t,Ye=e;else{if(e===null)throw Error(U(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},et===null?Ue.memoizedState=et=e:et=et.next=e}return et}function Di(e,t){return typeof t=="function"?t(e):t}function xu(e){var t=Yt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ye,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((ms&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Ue.lanes|=d,gs|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,yn(r,t.memoizedState)||(Ct=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ue.lanes|=o,gs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wu(e){var t=Yt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);yn(o,t.memoizedState)||(Ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mx(){}function Dx(e,t){var n=Ue,r=Yt(),s=t(),o=!yn(r.memoizedState,s);if(o&&(r.memoizedState=s,Ct=!0),r=r.queue,_h(Vx.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,$i(9,Fx.bind(null,n,r,s,t),void 0,null),tt===null)throw Error(U(349));ms&30||$x(n,t,s)}return s}function $x(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fx(e,t,n,r){t.value=n,t.getSnapshot=r,Ux(t)&&Bx(e)}function Vx(e,t,n){return n(function(){Ux(t)&&Bx(e)})}function Ux(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch{return!0}}function Bx(e){var t=Jn(e,1);t!==null&&pn(t,e,1,-1)}function Rm(e){var t=Cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=HC.bind(null,Ue,e),[t.memoizedState,e]}function $i(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zx(){return Yt().memoizedState}function sl(e,t,n,r){var s=Cn();Ue.flags|=e,s.memoizedState=$i(1|t,n,void 0,r===void 0?null:r)}function pc(e,t,n,r){var s=Yt();r=r===void 0?null:r;var o=void 0;if(Ye!==null){var i=Ye.memoizedState;if(o=i.destroy,r!==null&&jh(r,i.deps)){s.memoizedState=$i(t,n,o,r);return}}Ue.flags|=e,s.memoizedState=$i(1|t,n,o,r)}function Om(e,t){return sl(8390656,8,e,t)}function _h(e,t){return pc(2048,8,e,t)}function Wx(e,t){return pc(4,2,e,t)}function Hx(e,t){return pc(4,4,e,t)}function qx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gx(e,t,n){return n=n!=null?n.concat([e]):null,pc(4,4,qx.bind(null,t,e),n)}function Ch(){}function Kx(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yx(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jx(e,t,n){return ms&21?(yn(n,t)||(n=tx(),Ue.lanes|=n,gs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=n)}function zC(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=yu.transition;yu.transition={};try{e(!1),t()}finally{ke=n,yu.transition=r}}function Xx(){return Yt().memoizedState}function WC(e,t,n){var r=Cr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qx(e))Zx(t,n);else if(n=Ox(e,t,n,r),n!==null){var s=gt();pn(n,e,r,s),e0(n,t,r)}}function HC(e,t,n){var r=Cr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qx(e))Zx(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,yn(l,i)){var c=t.interleaved;c===null?(s.next=s,gh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Ox(e,t,s,r),n!==null&&(s=gt(),pn(n,e,r,s),e0(n,t,r))}}function Qx(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Zx(e,t){di=Ol=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function e0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nh(e,n)}}var Il={readContext:Kt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},qC={readContext:Kt,useCallback:function(e,t){return Cn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Om,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sl(4194308,4,qx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var n=Cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=WC.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Cn();return e={current:e},t.memoizedState=e},useState:Rm,useDebugValue:Ch,useDeferredValue:function(e){return Cn().memoizedState=e},useTransition:function(){var e=Rm(!1),t=e[0];return e=zC.bind(null,e[1]),Cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,s=Cn();if($e){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),tt===null)throw Error(U(349));ms&30||$x(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Om(Vx.bind(null,r,o,e),[e]),r.flags|=2048,$i(9,Fx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Cn(),t=tt.identifierPrefix;if($e){var n=zn,r=Bn;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=BC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GC={readContext:Kt,useCallback:Kx,useContext:Kt,useEffect:_h,useImperativeHandle:Gx,useInsertionEffect:Wx,useLayoutEffect:Hx,useMemo:Yx,useReducer:xu,useRef:zx,useState:function(){return xu(Di)},useDebugValue:Ch,useDeferredValue:function(e){var t=Yt();return Jx(t,Ye.memoizedState,e)},useTransition:function(){var e=xu(Di)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Mx,useSyncExternalStore:Dx,useId:Xx,unstable_isNewReconciler:!1},KC={readContext:Kt,useCallback:Kx,useContext:Kt,useEffect:_h,useImperativeHandle:Gx,useInsertionEffect:Wx,useLayoutEffect:Hx,useMemo:Yx,useReducer:wu,useRef:zx,useState:function(){return wu(Di)},useDebugValue:Ch,useDeferredValue:function(e){var t=Yt();return Ye===null?t.memoizedState=e:Jx(t,Ye.memoizedState,e)},useTransition:function(){var e=wu(Di)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Mx,useSyncExternalStore:Dx,useId:Xx,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ld(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mc={isMounted:function(e){return(e=e._reactInternals)?Cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),s=Cr(e),o=Hn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Sr(e,o,s),t!==null&&(pn(t,e,s,r),nl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),s=Cr(e),o=Hn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Sr(e,o,s),t!==null&&(pn(t,e,s,r),nl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=Cr(e),s=Hn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Sr(e,s,r),t!==null&&(pn(t,e,r,n),nl(t,e,r))}};function Im(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ti(n,r)||!Ti(s,o):!0}function t0(e,t,n){var r=!1,s=Rr,o=t.contextType;return typeof o=="object"&&o!==null?o=Kt(o):(s=kt(t)?hs:ft.current,r=t.contextTypes,o=(r=r!=null)?po(e,s):Rr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Lm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mc.enqueueReplaceState(t,t.state,null)}function Md(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},vh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Kt(o):(o=kt(t)?hs:ft.current,s.context=po(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ld(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mc.enqueueReplaceState(s,s.state,null),Al(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t){try{var n="",r=t;do n+=b_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ju(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Dd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var YC=typeof WeakMap=="function"?WeakMap:Map;function n0(e,t,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ml||(Ml=!0,Gd=r),Dd(e,t)},n}function r0(e,t,n){n=Hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Dd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Dd(e,t),typeof r!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Mm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new YC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cE.bind(null,e,t,n),t.then(e,e))}function Dm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $m(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hn(-1,1),t.tag=2,Sr(n,t,1))),n.lanes|=1),e)}var JC=tr.ReactCurrentOwner,Ct=!1;function mt(e,t,n,r){t.child=e===null?Rx(t,null,n,r):go(t,e.child,n,r)}function Fm(e,t,n,r,s){n=n.render;var o=t.ref;return ao(t,s),r=bh(e,t,n,r,o,s),n=Sh(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xn(e,t,s)):($e&&n&&uh(t),t.flags|=1,mt(e,t,r,s),t.child)}function Vm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Oh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,s0(e,t,o,r,s)):(e=ll(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ti,n(i,r)&&e.ref===t.ref)return Xn(e,t,s)}return t.flags|=1,e=Er(o,r),e.ref=t.ref,e.return=t,t.child=e}function s0(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ti(o,r)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ct=!0);else return t.lanes=e.lanes,Xn(e,t,s)}return $d(e,t,n,r,s)}function o0(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Qs,At),At|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Qs,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Te(Qs,At),At|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Te(Qs,At),At|=r;return mt(e,t,s,n),t.child}function i0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $d(e,t,n,r,s){var o=kt(n)?hs:ft.current;return o=po(t,o),ao(t,s),n=bh(e,t,n,r,o,s),r=Sh(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xn(e,t,s)):($e&&r&&uh(t),t.flags|=1,mt(e,t,n,s),t.child)}function Um(e,t,n,r,s){if(kt(n)){var o=!0;El(t)}else o=!1;if(ao(t,s),t.stateNode===null)ol(e,t),t0(t,n,r),Md(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kt(u):(u=kt(n)?hs:ft.current,u=po(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Lm(t,i,r,u),cr=!1;var h=t.memoizedState;i.state=h,Al(t,r,i,s),c=t.memoizedState,l!==r||h!==c||Et.current||cr?(typeof d=="function"&&(Ld(t,n,d,r),c=t.memoizedState),(l=cr||Im(t,n,l,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ix(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ln(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kt(c):(c=kt(n)?hs:ft.current,c=po(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Lm(t,i,r,c),cr=!1,h=t.memoizedState,i.state=h,Al(t,r,i,s);var w=t.memoizedState;l!==f||h!==w||Et.current||cr?(typeof p=="function"&&(Ld(t,n,p,r),w=t.memoizedState),(u=cr||Im(t,n,u,r,h,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Fd(e,t,n,r,o,s)}function Fd(e,t,n,r,s,o){i0(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Em(t,n,!1),Xn(e,t,o);r=t.stateNode,JC.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=go(t,e.child,null,o),t.child=go(t,null,l,o)):mt(e,t,l,o),t.memoizedState=r.state,s&&Em(t,n,!0),t.child}function a0(e){var t=e.stateNode;t.pendingContext?Cm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cm(e,t.context,!1),yh(e,t.containerInfo)}function Bm(e,t,n,r,s){return mo(),fh(s),t.flags|=256,mt(e,t,n,r),t.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function l0(e,t,n){var r=t.pendingProps,s=Fe.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(Fe,s&1),e===null)return Od(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=yc(i,r,0,null),e=us(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ud(n),t.memoizedState=Vd,e):Eh(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return XC(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Er(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Er(l,o):(o=us(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Ud(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Vd,r}return o=e.child,e=o.sibling,r=Er(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Eh(e,t){return t=yc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Na(e,t,n,r){return r!==null&&fh(r),go(t,e.child,null,n),e=Eh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function XC(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=ju(Error(U(422))),Na(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=yc({mode:"visible",children:r.children},s,0,null),o=us(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&go(t,e.child,null,i),t.child.memoizedState=Ud(i),t.memoizedState=Vd,o);if(!(t.mode&1))return Na(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(U(419)),r=ju(o,r,void 0),Na(e,t,i,r)}if(l=(i&e.childLanes)!==0,Ct||l){if(r=tt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Jn(e,s),pn(r,e,s,-1))}return Rh(),r=ju(Error(U(421))),Na(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=uE.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Ot=br(s.nextSibling),It=t,$e=!0,fn=null,e!==null&&(zt[Wt++]=Bn,zt[Wt++]=zn,zt[Wt++]=ps,Bn=e.id,zn=e.overflow,ps=t),t=Eh(t,r.children),t.flags|=4096,t)}function zm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Id(e.return,t,n)}function bu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function c0(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(mt(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zm(e,n,t);else if(e.tag===19)zm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Rl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Rl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bu(t,!0,n,null,o);break;case"together":bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function QC(e,t,n){switch(t.tag){case 3:a0(t),mo();break;case 5:Lx(t);break;case 1:kt(t.type)&&El(t);break;case 4:yh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Te(Pl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?l0(e,t,n):(Te(Fe,Fe.current&1),e=Xn(e,t,n),e!==null?e.sibling:null);Te(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return c0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,o0(e,t,n)}return Xn(e,t,n)}var u0,Bd,d0,f0;u0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bd=function(){};d0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,is(Tn.current);var o=null;switch(n){case"input":s=ud(e,s),r=ud(e,r),o=[];break;case"select":s=Be({},s,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":s=hd(e,s),r=hd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_l)}md(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Si.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Si.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};f0=function(e,t,n,r){n!==r&&(t.flags|=4)};function qo(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ZC(e,t,n){var r=t.pendingProps;switch(dh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return kt(t.type)&&Cl(),ct(t),null;case 3:return r=t.stateNode,vo(),De(Et),De(ft),wh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fn!==null&&(Jd(fn),fn=null))),Bd(e,t),ct(t),null;case 5:xh(t);var s=is(Li.current);if(n=t.type,e!==null&&t.stateNode!=null)d0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return ct(t),null}if(e=is(Tn.current),Ea(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[En]=t,r[Oi]=o,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<ni.length;s++)Me(ni[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Qp(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":em(r,o),Me("invalid",r)}md(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ca(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ca(r.textContent,l,e),s=["children",""+l]):Si.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Me("scroll",r)}switch(n){case"input":va(r),Zp(r,o,!0);break;case"textarea":va(r),tm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=_l)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[En]=t,e[Oi]=r,u0(e,t,!1,!1),t.stateNode=e;e:{switch(i=gd(n,r),n){case"dialog":Me("cancel",e),Me("close",e),s=r;break;case"iframe":case"object":case"embed":Me("load",e),s=r;break;case"video":case"audio":for(s=0;s<ni.length;s++)Me(ni[s],e);s=r;break;case"source":Me("error",e),s=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),s=r;break;case"details":Me("toggle",e),s=r;break;case"input":Qp(e,r),s=ud(e,r),Me("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Be({},r,{value:void 0}),Me("invalid",e);break;case"textarea":em(e,r),s=hd(e,r),Me("invalid",e);break;default:s=r}md(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?zy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Uy(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_i(e,c):typeof c=="number"&&_i(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Si.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Me("scroll",e):c!=null&&Jf(e,o,c,i))}switch(n){case"input":va(e),Zp(e,r,!1);break;case"textarea":va(e),tm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ar(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ro(e,!!r.multiple,o,!1):r.defaultValue!=null&&ro(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_l)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)f0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=is(Li.current),is(Tn.current),Ea(t)){if(r=t.stateNode,n=t.memoizedProps,r[En]=t,(o=r.nodeValue!==n)&&(e=It,e!==null))switch(e.tag){case 3:Ca(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ca(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=t,t.stateNode=r}return ct(t),null;case 13:if(De(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Ot!==null&&t.mode&1&&!(t.flags&128))Tx(),mo(),t.flags|=98560,o=!1;else if(o=Ea(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[En]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),o=!1}else fn!==null&&(Jd(fn),fn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?Je===0&&(Je=3):Rh())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return vo(),Bd(e,t),e===null&&Ai(t.stateNode.containerInfo),ct(t),null;case 10:return mh(t.type._context),ct(t),null;case 17:return kt(t.type)&&Cl(),ct(t),null;case 19:if(De(Fe),o=t.memoizedState,o===null)return ct(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)qo(o,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Rl(e),i!==null){for(t.flags|=128,qo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&He()>xo&&(t.flags|=128,r=!0,qo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Rl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!$e)return ct(t),null}else 2*He()-o.renderingStartTime>xo&&n!==1073741824&&(t.flags|=128,r=!0,qo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=He(),t.sibling=null,n=Fe.current,Te(Fe,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return Ah(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?At&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function eE(e,t){switch(dh(t),t.tag){case 1:return kt(t.type)&&Cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vo(),De(Et),De(ft),wh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xh(t),null;case 13:if(De(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Fe),null;case 4:return vo(),null;case 10:return mh(t.type._context),null;case 22:case 23:return Ah(),null;case 24:return null;default:return null}}var Pa=!1,dt=!1,tE=typeof WeakSet=="function"?WeakSet:Set,K=null;function Xs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function zd(e,t,n){try{n()}catch(r){ze(e,t,r)}}var Wm=!1;function nE(e,t){if(Ed=jl,e=vx(),ch(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=i),h===o&&++d===r&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kd={focusedElem:e,selectionRange:n},jl=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:ln(t.type,x),j);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){ze(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return w=Wm,Wm=!1,w}function fi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&zd(t,n,o)}s=s.next}while(s!==r)}}function gc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function h0(e){var t=e.alternate;t!==null&&(e.alternate=null,h0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[En],delete t[Oi],delete t[Td],delete t[$C],delete t[FC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function p0(e){return e.tag===5||e.tag===3||e.tag===4}function Hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_l));else if(r!==4&&(e=e.child,e!==null))for(Hd(e,t,n),e=e.sibling;e!==null;)Hd(e,t,n),e=e.sibling}function qd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qd(e,t,n),e=e.sibling;e!==null;)qd(e,t,n),e=e.sibling}var st=null,un=!1;function rr(e,t,n){for(n=n.child;n!==null;)m0(e,t,n),n=n.sibling}function m0(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(lc,n)}catch{}switch(n.tag){case 5:dt||Xs(n,t);case 6:var r=st,s=un;st=null,rr(e,t,n),st=r,un=s,st!==null&&(un?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(un?(e=st,n=n.stateNode,e.nodeType===8?mu(e.parentNode,n):e.nodeType===1&&mu(e,n),Ni(e)):mu(st,n.stateNode));break;case 4:r=st,s=un,st=n.stateNode.containerInfo,un=!0,rr(e,t,n),st=r,un=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&zd(n,t,i),s=s.next}while(s!==r)}rr(e,t,n);break;case 1:if(!dt&&(Xs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,t,l)}rr(e,t,n);break;case 21:rr(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,rr(e,t,n),dt=r):rr(e,t,n);break;default:rr(e,t,n)}}function qm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tE),t.forEach(function(r){var s=dE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:st=l.stateNode,un=!1;break e;case 3:st=l.stateNode.containerInfo,un=!0;break e;case 4:st=l.stateNode.containerInfo,un=!0;break e}l=l.return}if(st===null)throw Error(U(160));m0(o,i,s),st=null,un=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ze(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)g0(t,e),t=t.sibling}function g0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),_n(e),r&4){try{fi(3,e,e.return),gc(3,e)}catch(x){ze(e,e.return,x)}try{fi(5,e,e.return)}catch(x){ze(e,e.return,x)}}break;case 1:nn(t,e),_n(e),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(nn(t,e),_n(e),r&512&&n!==null&&Xs(n,n.return),e.flags&32){var s=e.stateNode;try{_i(s,"")}catch(x){ze(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&$y(s,o),gd(l,i);var u=gd(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?zy(s,f):d==="dangerouslySetInnerHTML"?Uy(s,f):d==="children"?_i(s,f):Jf(s,d,f,u)}switch(l){case"input":dd(s,o);break;case"textarea":Fy(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ro(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ro(s,!!o.multiple,o.defaultValue,!0):ro(s,!!o.multiple,o.multiple?[]:"",!1))}s[Oi]=o}catch(x){ze(e,e.return,x)}}break;case 6:if(nn(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){ze(e,e.return,x)}}break;case 3:if(nn(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ni(t.containerInfo)}catch(x){ze(e,e.return,x)}break;case 4:nn(t,e),_n(e);break;case 13:nn(t,e),_n(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ph=He())),r&4&&qm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||d,nn(t,e),dt=u):nn(t,e),_n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(f=K=d;K!==null;){switch(h=K,p=h.child,h.tag){case 0:case 11:case 14:case 15:fi(4,h,h.return);break;case 1:Xs(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){ze(r,n,x)}}break;case 5:Xs(h,h.return);break;case 22:if(h.memoizedState!==null){Km(f);continue}}p!==null?(p.return=h,K=p):Km(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=By("display",i))}catch(x){ze(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ze(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nn(t,e),_n(e),r&4&&qm(e);break;case 21:break;default:nn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(p0(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_i(s,""),r.flags&=-33);var o=Hm(e);qd(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Hm(e);Hd(e,l,i);break;default:throw Error(U(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rE(e,t,n){K=e,v0(e)}function v0(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var s=K,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Pa;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||dt;l=Pa;var u=dt;if(Pa=i,(dt=c)&&!u)for(K=s;K!==null;)i=K,c=i.child,i.tag===22&&i.memoizedState!==null?Ym(s):c!==null?(c.return=i,K=c):Ym(s);for(;o!==null;)K=o,v0(o),o=o.sibling;K=s,Pa=l,dt=u}Gm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,K=o):Gm(e)}}function Gm(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||gc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ln(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Am(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Am(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ni(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}dt||t.flags&512&&Wd(t)}catch(h){ze(t,t.return,h)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Km(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Ym(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gc(4,t)}catch(c){ze(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ze(t,s,c)}}var o=t.return;try{Wd(t)}catch(c){ze(t,o,c)}break;case 5:var i=t.return;try{Wd(t)}catch(c){ze(t,i,c)}}}catch(c){ze(t,t.return,c)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var sE=Math.ceil,Ll=tr.ReactCurrentDispatcher,kh=tr.ReactCurrentOwner,qt=tr.ReactCurrentBatchConfig,be=0,tt=null,Ke=null,ot=0,At=0,Qs=Fr(0),Je=0,Fi=null,gs=0,vc=0,Nh=0,hi=null,St=null,Ph=0,xo=1/0,$n=null,Ml=!1,Gd=null,_r=null,Ta=!1,mr=null,Dl=0,pi=0,Kd=null,il=-1,al=0;function gt(){return be&6?He():il!==-1?il:il=He()}function Cr(e){return e.mode&1?be&2&&ot!==0?ot&-ot:UC.transition!==null?(al===0&&(al=tx()),al):(e=ke,e!==0||(e=window.event,e=e===void 0?16:lx(e.type)),e):1}function pn(e,t,n,r){if(50<pi)throw pi=0,Kd=null,Error(U(185));ea(e,n,r),(!(be&2)||e!==tt)&&(e===tt&&(!(be&2)&&(vc|=n),Je===4&&fr(e,ot)),Nt(e,r),n===1&&be===0&&!(t.mode&1)&&(xo=He()+500,hc&&Vr()))}function Nt(e,t){var n=e.callbackNode;U_(e,t);var r=wl(e,e===tt?ot:0);if(r===0)n!==null&&sm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sm(n),t===1)e.tag===0?VC(Jm.bind(null,e)):kx(Jm.bind(null,e)),MC(function(){!(be&6)&&Vr()}),n=null;else{switch(nx(r)){case 1:n=th;break;case 4:n=Zy;break;case 16:n=xl;break;case 536870912:n=ex;break;default:n=xl}n=C0(n,y0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function y0(e,t){if(il=-1,al=0,be&6)throw Error(U(327));var n=e.callbackNode;if(lo()&&e.callbackNode!==n)return null;var r=wl(e,e===tt?ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$l(e,r);else{t=r;var s=be;be|=2;var o=w0();(tt!==e||ot!==t)&&($n=null,xo=He()+500,cs(e,t));do try{aE();break}catch(l){x0(e,l)}while(1);ph(),Ll.current=o,be=s,Ke!==null?t=0:(tt=null,ot=0,t=Je)}if(t!==0){if(t===2&&(s=jd(e),s!==0&&(r=s,t=Yd(e,s))),t===1)throw n=Fi,cs(e,0),fr(e,r),Nt(e,He()),n;if(t===6)fr(e,r);else{if(s=e.current.alternate,!(r&30)&&!oE(s)&&(t=$l(e,r),t===2&&(o=jd(e),o!==0&&(r=o,t=Yd(e,o))),t===1))throw n=Fi,cs(e,0),fr(e,r),Nt(e,He()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Qr(e,St,$n);break;case 3:if(fr(e,r),(r&130023424)===r&&(t=Ph+500-He(),10<t)){if(wl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pd(Qr.bind(null,e,St,$n),t);break}Qr(e,St,$n);break;case 4:if(fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-hn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sE(r/1960))-r,10<r){e.timeoutHandle=Pd(Qr.bind(null,e,St,$n),r);break}Qr(e,St,$n);break;case 5:Qr(e,St,$n);break;default:throw Error(U(329))}}}return Nt(e,He()),e.callbackNode===n?y0.bind(null,e):null}function Yd(e,t){var n=hi;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=$l(e,t),e!==2&&(t=St,St=n,t!==null&&Jd(t)),e}function Jd(e){St===null?St=e:St.push.apply(St,e)}function oE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!yn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t){for(t&=~Nh,t&=~vc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hn(t),r=1<<n;e[n]=-1,t&=~r}}function Jm(e){if(be&6)throw Error(U(327));lo();var t=wl(e,0);if(!(t&1))return Nt(e,He()),null;var n=$l(e,t);if(e.tag!==0&&n===2){var r=jd(e);r!==0&&(t=r,n=Yd(e,r))}if(n===1)throw n=Fi,cs(e,0),fr(e,t),Nt(e,He()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qr(e,St,$n),Nt(e,He()),null}function Th(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(xo=He()+500,hc&&Vr())}}function vs(e){mr!==null&&mr.tag===0&&!(be&6)&&lo();var t=be;be|=1;var n=qt.transition,r=ke;try{if(qt.transition=null,ke=1,e)return e()}finally{ke=r,qt.transition=n,be=t,!(be&6)&&Vr()}}function Ah(){At=Qs.current,De(Qs)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LC(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(dh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cl();break;case 3:vo(),De(Et),De(ft),wh();break;case 5:xh(r);break;case 4:vo();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:mh(r.type._context);break;case 22:case 23:Ah()}n=n.return}if(tt=e,Ke=e=Er(e.current,null),ot=At=t,Je=0,Fi=null,Nh=vc=gs=0,St=hi=null,os!==null){for(t=0;t<os.length;t++)if(n=os[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}os=null}return e}function x0(e,t){do{var n=Ke;try{if(ph(),rl.current=Il,Ol){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ol=!1}if(ms=0,et=Ye=Ue=null,di=!1,Mi=0,kh.current=null,n===null||n.return===null){Je=1,Fi=t,Ke=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=ot,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Dm(i);if(p!==null){p.flags&=-257,$m(p,i,l,o,t),p.mode&1&&Mm(o,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){Mm(o,u,t),Rh();break e}c=Error(U(426))}}else if($e&&l.mode&1){var j=Dm(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),$m(j,i,l,o,t),fh(yo(c,l));break e}}o=c=yo(c,l),Je!==4&&(Je=2),hi===null?hi=[o]:hi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=n0(o,c,t);Tm(o,y);break e;case 1:l=c;var v=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_r===null||!_r.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=r0(o,l,t);Tm(o,b);break e}}o=o.return}while(o!==null)}b0(n)}catch(S){t=S,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function w0(){var e=Ll.current;return Ll.current=Il,e===null?Il:e}function Rh(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||!(gs&268435455)&&!(vc&268435455)||fr(tt,ot)}function $l(e,t){var n=be;be|=2;var r=w0();(tt!==e||ot!==t)&&($n=null,cs(e,t));do try{iE();break}catch(s){x0(e,s)}while(1);if(ph(),be=n,Ll.current=r,Ke!==null)throw Error(U(261));return tt=null,ot=0,Je}function iE(){for(;Ke!==null;)j0(Ke)}function aE(){for(;Ke!==null&&!R_();)j0(Ke)}function j0(e){var t=_0(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?b0(e):Ke=t,kh.current=null}function b0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eE(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ke=null;return}}else if(n=ZC(n,t,At),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Je===0&&(Je=5)}function Qr(e,t,n){var r=ke,s=qt.transition;try{qt.transition=null,ke=1,lE(e,t,n,r)}finally{qt.transition=s,ke=r}return null}function lE(e,t,n,r){do lo();while(mr!==null);if(be&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(B_(e,o),e===tt&&(Ke=tt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ta||(Ta=!0,C0(xl,function(){return lo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=qt.transition,qt.transition=null;var i=ke;ke=1;var l=be;be|=4,kh.current=null,nE(e,n),g0(n,e),NC(kd),jl=!!Ed,kd=Ed=null,e.current=n,rE(n),O_(),be=l,ke=i,qt.transition=o}else e.current=n;if(Ta&&(Ta=!1,mr=e,Dl=s),o=e.pendingLanes,o===0&&(_r=null),M_(n.stateNode),Nt(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ml)throw Ml=!1,e=Gd,Gd=null,e;return Dl&1&&e.tag!==0&&lo(),o=e.pendingLanes,o&1?e===Kd?pi++:(pi=0,Kd=e):pi=0,Vr(),null}function lo(){if(mr!==null){var e=nx(Dl),t=qt.transition,n=ke;try{if(qt.transition=null,ke=16>e?16:e,mr===null)var r=!1;else{if(e=mr,mr=null,Dl=0,be&6)throw Error(U(331));var s=be;for(be|=4,K=e.current;K!==null;){var o=K,i=o.child;if(K.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(K=u;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:fi(8,d,o)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var h=d.sibling,p=d.return;if(h0(d),d===u){K=null;break}if(h!==null){h.return=p,K=h;break}K=p}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}K=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,K=i;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,K=y;break e}K=o.return}}var v=e.current;for(K=v;K!==null;){i=K;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,K=g;else e:for(i=v;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gc(9,l)}}catch(S){ze(l,l.return,S)}if(l===i){K=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,K=b;break e}K=l.return}}if(be=s,Vr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(lc,e)}catch{}r=!0}return r}finally{ke=n,qt.transition=t}}return!1}function Xm(e,t,n){t=yo(n,t),t=n0(e,t,1),e=Sr(e,t,1),t=gt(),e!==null&&(ea(e,1,t),Nt(e,t))}function ze(e,t,n){if(e.tag===3)Xm(e,e,n);else for(;t!==null;){if(t.tag===3){Xm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_r===null||!_r.has(r))){e=yo(n,e),e=r0(t,e,1),t=Sr(t,e,1),e=gt(),t!==null&&(ea(t,1,e),Nt(t,e));break}}t=t.return}}function cE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(ot&n)===n&&(Je===4||Je===3&&(ot&130023424)===ot&&500>He()-Ph?cs(e,0):Nh|=n),Nt(e,t)}function S0(e,t){t===0&&(e.mode&1?(t=wa,wa<<=1,!(wa&130023424)&&(wa=4194304)):t=1);var n=gt();e=Jn(e,t),e!==null&&(ea(e,t,n),Nt(e,n))}function uE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),S0(e,n)}function dE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),S0(e,n)}var _0;_0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)Ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ct=!1,QC(e,t,n);Ct=!!(e.flags&131072)}else Ct=!1,$e&&t.flags&1048576&&Nx(t,Nl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ol(e,t),e=t.pendingProps;var s=po(t,ft.current);ao(t,n),s=bh(null,t,r,e,s,n);var o=Sh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(r)?(o=!0,El(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vh(t),s.updater=mc,t.stateNode=s,s._reactInternals=t,Md(t,r,e,n),t=Fd(null,t,r,!0,o,n)):(t.tag=0,$e&&o&&uh(t),mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ol(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hE(r),e=ln(r,e),s){case 0:t=$d(null,t,r,e,n);break e;case 1:t=Um(null,t,r,e,n);break e;case 11:t=Fm(null,t,r,e,n);break e;case 14:t=Vm(null,t,r,ln(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ln(r,s),$d(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ln(r,s),Um(e,t,r,s,n);case 3:e:{if(a0(t),e===null)throw Error(U(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Ix(e,t),Al(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=yo(Error(U(423)),t),t=Bm(e,t,r,n,s);break e}else if(r!==s){s=yo(Error(U(424)),t),t=Bm(e,t,r,n,s);break e}else for(Ot=br(t.stateNode.containerInfo.firstChild),It=t,$e=!0,fn=null,n=Rx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===s){t=Xn(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return Lx(t),e===null&&Od(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Nd(r,s)?i=null:o!==null&&Nd(r,o)&&(t.flags|=32),i0(e,t),mt(e,t,i,n),t.child;case 6:return e===null&&Od(t),null;case 13:return l0(e,t,n);case 4:return yh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=go(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ln(r,s),Fm(e,t,r,s,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Te(Pl,r._currentValue),r._currentValue=i,o!==null)if(yn(o.value,i)){if(o.children===s.children&&!Et.current){t=Xn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Hn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Id(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Id(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ao(t,n),s=Kt(s),r=r(s),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,s=ln(r,t.pendingProps),s=ln(r.type,s),Vm(e,t,r,s,n);case 15:return s0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ln(r,s),ol(e,t),t.tag=1,kt(r)?(e=!0,El(t)):e=!1,ao(t,n),t0(t,r,s),Md(t,r,s,n),Fd(null,t,r,!0,e,n);case 19:return c0(e,t,n);case 22:return o0(e,t,n)}throw Error(U(156,t.tag))};function C0(e,t){return Qy(e,t)}function fE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new fE(e,t,n,r)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hE(e){if(typeof e=="function")return Oh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qf)return 11;if(e===Zf)return 14}return 2}function Er(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Oh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Bs:return us(n.children,s,o,t);case Xf:i=8,s|=8;break;case id:return e=Ht(12,n,t,s|2),e.elementType=id,e.lanes=o,e;case ad:return e=Ht(13,n,t,s),e.elementType=ad,e.lanes=o,e;case ld:return e=Ht(19,n,t,s),e.elementType=ld,e.lanes=o,e;case Ly:return yc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oy:i=10;break e;case Iy:i=9;break e;case Qf:i=11;break e;case Zf:i=14;break e;case lr:i=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Ht(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function us(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function yc(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=Ly,e.lanes=n,e.stateNode={isHidden:!1},e}function Su(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function _u(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ih(e,t,n,r,s,o,i,l,c){return e=new pE(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(o),e}function mE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function E0(e){if(!e)return Rr;e=e._reactInternals;e:{if(Cs(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(kt(n))return Ex(e,n,t)}return t}function k0(e,t,n,r,s,o,i,l,c){return e=Ih(n,r,!0,e,s,o,i,l,c),e.context=E0(null),n=e.current,r=gt(),s=Cr(n),o=Hn(r,s),o.callback=t??null,Sr(n,o,s),e.current.lanes=s,ea(e,s,r),Nt(e,r),e}function xc(e,t,n,r){var s=t.current,o=gt(),i=Cr(s);return n=E0(n),t.context===null?t.context=n:t.pendingContext=n,t=Hn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sr(s,t,i),e!==null&&(pn(e,s,i,o),nl(e,s,i)),i}function Fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lh(e,t){Qm(e,t),(e=e.alternate)&&Qm(e,t)}function gE(){return null}var N0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mh(e){this._internalRoot=e}wc.prototype.render=Mh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));xc(e,t,null,null)};wc.prototype.unmount=Mh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vs(function(){xc(null,e,null,null)}),t[Yn]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ox();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dr.length&&t!==0&&t<dr[n].priority;n++);dr.splice(n,0,e),n===0&&ax(e)}};function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function vE(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Fl(i);o.call(u)}}var i=k0(t,r,e,0,null,!1,!1,"",Zm);return e._reactRootContainer=i,e[Yn]=i.current,Ai(e.nodeType===8?e.parentNode:e),vs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Fl(c);l.call(u)}}var c=Ih(e,0,!1,null,null,!1,!1,"",Zm);return e._reactRootContainer=c,e[Yn]=c.current,Ai(e.nodeType===8?e.parentNode:e),vs(function(){xc(t,c,n,r)}),c}function bc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Fl(i);l.call(c)}}xc(t,i,e,s)}else i=vE(n,t,e,s,r);return Fl(i)}rx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ti(t.pendingLanes);n!==0&&(nh(t,n|1),Nt(t,He()),!(be&6)&&(xo=He()+500,Vr()))}break;case 13:vs(function(){var r=Jn(e,1);if(r!==null){var s=gt();pn(r,e,1,s)}}),Lh(e,1)}};rh=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var n=gt();pn(t,e,134217728,n)}Lh(e,134217728)}};sx=function(e){if(e.tag===13){var t=Cr(e),n=Jn(e,t);if(n!==null){var r=gt();pn(n,e,t,r)}Lh(e,t)}};ox=function(){return ke};ix=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};yd=function(e,t,n){switch(t){case"input":if(dd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fc(r);if(!s)throw Error(U(90));Dy(r),dd(r,s)}}}break;case"textarea":Fy(e,n);break;case"select":t=n.value,t!=null&&ro(e,!!n.multiple,t,!1)}};qy=Th;Gy=vs;var yE={usingClientEntryPoint:!1,Events:[na,qs,fc,Wy,Hy,Th]},Go={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xE={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jy(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||gE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{lc=Aa.inject(xE),Pn=Aa}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yE;Ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(t))throw Error(U(200));return mE(e,t,null,n)};Ft.createRoot=function(e,t){if(!Dh(e))throw Error(U(299));var n=!1,r="",s=N0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ih(e,1,!1,null,null,n,!1,r,s),e[Yn]=t.current,Ai(e.nodeType===8?e.parentNode:e),new Mh(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Jy(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return vs(e)};Ft.hydrate=function(e,t,n){if(!jc(t))throw Error(U(200));return bc(null,e,t,!0,n)};Ft.hydrateRoot=function(e,t,n){if(!Dh(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=N0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=k0(t,null,e,1,n??null,s,!1,o,i),e[Yn]=t.current,Ai(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new wc(t)};Ft.render=function(e,t,n){if(!jc(t))throw Error(U(200));return bc(null,e,t,!1,n)};Ft.unmountComponentAtNode=function(e){if(!jc(e))throw Error(U(40));return e._reactRootContainer?(vs(function(){bc(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1};Ft.unstable_batchedUpdates=Th;Ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jc(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return bc(e,t,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function P0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P0)}catch(e){console.error(e)}}P0(),Py.exports=Ft;var Es=Py.exports;const wE=vy(Es);var eg=Es;sd.createRoot=eg.createRoot,sd.hydrateRoot=eg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(this,arguments)}var gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gr||(gr={}));const tg="popstate";function jE(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return Xd("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vl(s)}return SE(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bE(){return Math.random().toString(36).substr(2,8)}function ng(e,t){return{usr:e.state,key:e.key,idx:t}}function Xd(e,t,n,r){return n===void 0&&(n=null),Vi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Po(t):t,{state:n,key:t&&t.key||r||bE()})}function Vl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Po(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function SE(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=gr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Vi({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=gr.Pop;let j=d(),y=j==null?null:j-u;u=j,c&&c({action:l,location:x.location,delta:y})}function h(j,y){l=gr.Push;let v=Xd(x.location,j,y);n&&n(v,j),u=d()+1;let g=ng(v,u),b=x.createHref(v);try{i.pushState(g,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}o&&c&&c({action:l,location:x.location,delta:1})}function p(j,y){l=gr.Replace;let v=Xd(x.location,j,y);n&&n(v,j),u=d();let g=ng(v,u),b=x.createHref(v);i.replaceState(g,"",b),o&&c&&c({action:l,location:x.location,delta:0})}function w(j){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof j=="string"?j:Vl(j);return v=v.replace(/ $/,"%20"),qe(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let x={get action(){return l},get location(){return e(s,i)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(tg,f),c=j,()=>{s.removeEventListener(tg,f),c=null}},createHref(j){return t(s,j)},createURL:w,encodeLocation(j){let y=w(j);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(j){return i.go(j)}};return x}var rg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rg||(rg={}));function _E(e,t,n){return n===void 0&&(n="/"),CE(e,t,n,!1)}function CE(e,t,n,r){let s=typeof t=="string"?Po(t):t,o=$h(s.pathname||"/",n);if(o==null)return null;let i=A0(e);EE(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=DE(o);l=LE(i[c],u,r)}return l}function A0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=kr([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),A0(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:OE(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of R0(o.path))s(o,i,c)}),t}function R0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=R0(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function EE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:IE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kE=/^:[\w-]+$/,NE=3,PE=2,TE=1,AE=10,RE=-2,sg=e=>e==="*";function OE(e,t){let n=e.split("/"),r=n.length;return n.some(sg)&&(r+=RE),t&&(r+=PE),n.filter(s=>!sg(s)).reduce((s,o)=>s+(kE.test(o)?NE:o===""?TE:AE),r)}function IE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function LE(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=og({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=og({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:kr([o,f.pathname]),pathnameBase:UE(kr([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=kr([o,f.pathnameBase]))}return i}function og(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ME(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let x=l[f]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[f];return p&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function ME(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),T0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function DE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return T0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $h(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $E(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Po(e):e;return{pathname:n?n.startsWith("/")?n:FE(n,t):t,search:BE(r),hash:zE(s)}}function FE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fh(e,t){let n=VE(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Po(e):(s=Vi({},e),qe(!s.pathname||!s.pathname.includes("?"),Cu("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),Cu("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),Cu("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=$E(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const kr=e=>e.join("/").replace(/\/\/+/g,"/"),UE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const O0=["post","put","patch","delete"];new Set(O0);const HE=["get",...O0];new Set(HE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ui.apply(this,arguments)}const Uh=m.createContext(null),qE=m.createContext(null),Ur=m.createContext(null),Sc=m.createContext(null),Ln=m.createContext({outlet:null,matches:[],isDataRoute:!1}),I0=m.createContext(null);function GE(e,t){let{relative:n}=t===void 0?{}:t;To()||qe(!1);let{basename:r,navigator:s}=m.useContext(Ur),{hash:o,pathname:i,search:l}=M0(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:kr([r,i])),s.createHref({pathname:c,search:l,hash:o})}function To(){return m.useContext(Sc)!=null}function Ao(){return To()||qe(!1),m.useContext(Sc).location}function L0(e){m.useContext(Ur).static||m.useLayoutEffect(e)}function Bh(){let{isDataRoute:e}=m.useContext(Ln);return e?ck():KE()}function KE(){To()||qe(!1);let e=m.useContext(Uh),{basename:t,future:n,navigator:r}=m.useContext(Ur),{matches:s}=m.useContext(Ln),{pathname:o}=Ao(),i=JSON.stringify(Fh(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return L0(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Vh(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:kr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}const YE=m.createContext(null);function JE(e){let t=m.useContext(Ln).outlet;return t&&m.createElement(YE.Provider,{value:e},t)}function XE(){let{matches:e}=m.useContext(Ln),t=e[e.length-1];return t?t.params:{}}function M0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Ur),{matches:s}=m.useContext(Ln),{pathname:o}=Ao(),i=JSON.stringify(Fh(s,r.v7_relativeSplatPath));return m.useMemo(()=>Vh(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function QE(e,t){return ZE(e,t)}function ZE(e,t,n,r){To()||qe(!1);let{navigator:s}=m.useContext(Ur),{matches:o}=m.useContext(Ln),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ao(),d;if(t){var f;let j=typeof t=="string"?Po(t):t;c==="/"||(f=j.pathname)!=null&&f.startsWith(c)||qe(!1),d=j}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let j=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=_E(e,{pathname:p}),x=sk(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:kr([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:kr([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,r);return t&&x?m.createElement(Sc.Provider,{value:{location:Ui({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gr.Pop}},x):x}function ek(){let e=lk(),t=WE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,o)}const tk=m.createElement(ek,null);class nk extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Ln.Provider,{value:this.props.routeContext},m.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rk(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(Uh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ln.Provider,{value:t},r)}function sk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||qe(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,w=!1,x=null,j=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||tk,c&&(u<0&&h===0?(uk("route-fallback",!1),w=!0,j=null):u===h&&(w=!0,j=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),v=()=>{let g;return p?g=x:w?g=j:f.route.Component?g=m.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,m.createElement(rk,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(nk,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var D0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(D0||{}),Ul=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ul||{});function ok(e){let t=m.useContext(Uh);return t||qe(!1),t}function ik(e){let t=m.useContext(qE);return t||qe(!1),t}function ak(e){let t=m.useContext(Ln);return t||qe(!1),t}function $0(e){let t=ak(),n=t.matches[t.matches.length-1];return n.route.id||qe(!1),n.route.id}function lk(){var e;let t=m.useContext(I0),n=ik(Ul.UseRouteError),r=$0(Ul.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ck(){let{router:e}=ok(D0.UseNavigateStable),t=$0(Ul.UseNavigateStable),n=m.useRef(!1);return L0(()=>{n.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ui({fromRouteId:t},o)))},[e,t])}const ig={};function uk(e,t,n){!t&&!ig[e]&&(ig[e]=!0)}function dk(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Bl(e){let{to:t,replace:n,state:r,relative:s}=e;To()||qe(!1);let{future:o,static:i}=m.useContext(Ur),{matches:l}=m.useContext(Ln),{pathname:c}=Ao(),u=Bh(),d=Vh(t,Fh(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function fk(e){return JE(e.context)}function bt(e){qe(!1)}function hk(e){let{basename:t="/",children:n=null,location:r,navigationType:s=gr.Pop,navigator:o,static:i=!1,future:l}=e;To()&&qe(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Ui({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=Po(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:w="default"}=r,x=m.useMemo(()=>{let j=$h(d,c);return j==null?null:{location:{pathname:j,search:f,hash:h,state:p,key:w},navigationType:s}},[c,d,f,h,p,w,s]);return x==null?null:m.createElement(Ur.Provider,{value:u},m.createElement(Sc.Provider,{children:n,value:x}))}function pk(e){let{children:t,location:n}=e;return QE(Qd(t),n)}new Promise(()=>{});function Qd(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let o=[...t,s];if(r.type===m.Fragment){n.push.apply(n,Qd(r.props.children,o));return}r.type!==bt&&qe(!1),!r.props.index||!r.props.children||qe(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Qd(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(this,arguments)}function mk(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function gk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vk(e,t){return e.button===0&&(!t||t==="_self")&&!gk(e)}const yk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xk="6";try{window.__reactRouterVersion=xk}catch{}const wk="startTransition",ag=Gf[wk];function jk(e){let{basename:t,children:n,future:r,window:s}=e,o=m.useRef();o.current==null&&(o.current=jE({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&ag?ag(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>dk(r),[r]),m.createElement(hk,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const bk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bi=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=mk(t,yk),{basename:p}=m.useContext(Ur),w,x=!1;if(typeof u=="string"&&Sk.test(u)&&(w=u,bk))try{let g=new URL(window.location.href),b=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=$h(b.pathname,p);b.origin===g.origin&&S!=null?u=S+b.search+b.hash:x=!0}catch{}let j=GE(u,{relative:s}),y=_k(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(g){r&&r(g),g.defaultPrevented||y(g)}return m.createElement("a",Zd({},h,{href:w||j,onClick:x||o?r:v,ref:n,target:c}))});var lg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lg||(lg={}));var cg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cg||(cg={}));function _k(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Bh(),u=Ao(),d=M0(e,{relative:i});return m.useCallback(f=>{if(vk(f,n)){f.preventDefault();let h=r!==void 0?r:Vl(u)===Vl(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,s,n,e,o,i,l])}function F0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=F0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function V0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=F0(e))&&(r&&(r+=" "),r+=t);return r}function Ck(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=U0(t))&&(r&&(r+=" "),r+=n);return r}function U0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=U0(e[r]))&&(n&&(n+=" "),n+=t);return n}var zh="-";function Ek(e){var t=Nk(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(zh);return c[0]===""&&c.length!==1&&c.shift(),B0(c,t)||kk(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function B0(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?B0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(zh);return(i=t.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var ug=/^\[(.+)\]$/;function kk(e){if(ug.test(e)){var t=ug.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Nk(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=Tk(Object.entries(e.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];ef(l,r,i,t)}),r}function ef(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var o=s===""?t:dg(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(Pk(s)){ef(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];ef(c,dg(t,l),n,r)})})}function dg(e,t){var n=e;return t.split(zh).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Pk(e){return e.isThemeGetter}function Tk(e,t){return t?e.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,o]}):e}function Ak(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var z0="!";function Rk(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var h=i[f];if(c===0){if(h===r&&(n||i.slice(f,f+s)===t)){l.push(i.slice(u,f)),u=f+s;continue}if(h==="/"){d=f;continue}}h==="["?c++:h==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith(z0),x=w?p.substring(1):p,j=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:j}}}function Ok(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Ik(e){return{cache:Ak(e.cacheSize),splitModifiers:Rk(e),...Ek(e)}}var Lk=/\s+/;function Mk(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(Lk).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,h=r(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:i};if(h=r(d),!h)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=Ok(c).join(":"),x=u?w+z0:w;return{isTailwindClass:!0,modifierId:x,classGroupId:h,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function Dk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,o,i=l;function l(u){var d=t[0],f=t.slice(1),h=f.reduce(function(p,w){return w(p)},d());return r=Ik(h),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=Mk(u,r);return o(u,f),f}return function(){return i(Ck.apply(null,arguments))}}function Le(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var W0=/^\[(?:([a-z-]+):)?(.+)\]$/i,$k=/^\d+\/\d+$/,Fk=new Set(["px","full","screen"]),Vk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Uk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bk=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function rn(e){return as(e)||Fk.has(e)||$k.test(e)||tf(e)}function tf(e){return ks(e,"length",Kk)}function zk(e){return ks(e,"size",H0)}function Wk(e){return ks(e,"position",H0)}function Hk(e){return ks(e,"url",Yk)}function Ra(e){return ks(e,"number",as)}function as(e){return!Number.isNaN(Number(e))}function qk(e){return e.endsWith("%")&&as(e.slice(0,-1))}function Ko(e){return fg(e)||ks(e,"number",fg)}function me(e){return W0.test(e)}function Yo(){return!0}function sr(e){return Vk.test(e)}function Gk(e){return ks(e,"",Jk)}function ks(e,t,n){var r=W0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Kk(e){return Uk.test(e)}function H0(){return!1}function Yk(e){return e.startsWith("url(")}function fg(e){return Number.isInteger(Number(e))}function Jk(e){return Bk.test(e)}function Xk(){var e=Le("colors"),t=Le("spacing"),n=Le("blur"),r=Le("brightness"),s=Le("borderColor"),o=Le("borderRadius"),i=Le("borderSpacing"),l=Le("borderWidth"),c=Le("contrast"),u=Le("grayscale"),d=Le("hueRotate"),f=Le("invert"),h=Le("gap"),p=Le("gradientColorStops"),w=Le("gradientColorStopPositions"),x=Le("inset"),j=Le("margin"),y=Le("opacity"),v=Le("padding"),g=Le("saturate"),b=Le("scale"),S=Le("sepia"),k=Le("skew"),C=Le("space"),_=Le("translate"),E=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},L=function(){return["auto",me,t]},I=function(){return[me,t]},V=function(){return["",rn]},O=function(){return["auto",as,me]},F=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},M=function(){return["solid","dashed","dotted","double","none"]},N=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},T=function(){return["start","end","center","between","around","evenly","stretch"]},P=function(){return["","0",me]},D=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},A=function(){return[as,Ra]},$=function(){return[as,me]};return{cacheSize:500,theme:{colors:[Yo],spacing:[rn],blur:["none","",sr,me],brightness:A(),borderColor:[e],borderRadius:["none","","full",sr,me],borderSpacing:I(),borderWidth:V(),contrast:A(),grayscale:P(),hueRotate:$(),invert:P(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[qk,tf],inset:L(),margin:L(),opacity:A(),padding:I(),saturate:A(),scale:A(),sepia:P(),skew:$(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[sr]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(F(),[me])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ko]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Ko]}],"grid-cols":[{"grid-cols":[Yo]}],"col-start-end":[{col:["auto",{span:["full",Ko]},me]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Yo]}],"row-start-end":[{row:["auto",{span:[Ko]},me]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(T())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(T(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(T(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",me,t]}],"min-w":[{"min-w":["min","max","fit",me,rn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[sr]},sr,me]}],h:[{h:[me,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",me,rn]}],"max-h":[{"max-h":[me,t,"min","max","fit"]}],"font-size":[{text:["base",sr,tf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ra]}],"font-family":[{font:[Yo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",as,Ra]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",me,rn]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(M(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",rn]}],"underline-offset":[{"underline-offset":["auto",me,rn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(F(),[Wk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(M(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(M())}],"outline-offset":[{"outline-offset":[me,rn]}],"outline-w":[{outline:[rn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[rn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sr,Gk]}],"shadow-color":[{shadow:[Yo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":N()}],"bg-blend":[{"bg-blend":N()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sr,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ko,me]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rn,Ra]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Qk=Dk(Xk);function ve(...e){return Qk(V0(e))}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function hg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function q0(...e){return t=>{let n=!1;const r=e.map(s=>{const o=hg(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():hg(e[s],null)}}}}function Re(...e){return m.useCallback(q0(...e),e)}function Zk(e,t){const n=m.createContext(t),r=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Br(e,t=[]){let n=[];function r(o,i){const l=m.createContext(i),c=n.length;n=[...n,i];const u=f=>{var y;const{scope:h,children:p,...w}=f,x=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,j=m.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:j,children:p})};u.displayName=o+"Provider";function d(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=m.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,eN(s,...t)]}function eN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function wo(e){const t=nN(e),n=m.forwardRef((r,s)=>{const{children:o,...i}=r,l=m.Children.toArray(o),c=l.find(sN);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var tN=wo("Slot");function nN(e){const t=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const i=iN(s),l=oN(o,s.props);return s.type!==m.Fragment&&(l.ref=r?q0(r,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rN=Symbol("radix.slottable");function sN(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rN}function oN(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function iN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Wh(e){const t=e+"CollectionProvider",[n,r]=Br(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:j,children:y}=x,v=oe.useRef(null),g=oe.useRef(new Map).current;return a.jsx(s,{scope:j,itemMap:g,collectionRef:v,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=wo(l),u=oe.forwardRef((x,j)=>{const{scope:y,children:v}=x,g=o(l,y),b=Re(j,g.collectionRef);return a.jsx(c,{ref:b,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=wo(d),p=oe.forwardRef((x,j)=>{const{scope:y,children:v,...g}=x,b=oe.useRef(null),S=Re(j,b),k=o(d,y);return oe.useEffect(()=>(k.itemMap.set(b,{ref:b,...g}),()=>void k.itemMap.delete(b))),a.jsx(h,{[f]:"",ref:S,children:v})});p.displayName=d;function w(x){const j=o(e+"CollectionConsumer",x);return oe.useCallback(()=>{const v=j.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((k,C)=>g.indexOf(k.ref.current)-g.indexOf(C.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var aN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=aN.reduce((e,t)=>{const n=wo(`Primitive.${t}`),r=m.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function G0(e,t){e&&Es.flushSync(()=>e.dispatchEvent(t))}function Jt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function lN(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var cN="DismissableLayer",nf="dismissableLayer.update",uN="dismissableLayer.pointerDownOutside",dN="dismissableLayer.focusOutside",pg,K0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_c=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(K0),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=Re(t,C=>f(C)),x=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(j),v=d?x.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=y,S=hN(C=>{const _=C.target,E=[...u.branches].some(R=>R.contains(_));!b||E||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},h),k=pN(C=>{const _=C.target;[...u.branches].some(R=>R.contains(_))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},h);return lN(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),mg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=pg)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),mg())},[d,u]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(nf,C),()=>document.removeEventListener(nf,C)},[]),a.jsx(ce.div,{...c,ref:w,style:{pointerEvents:g?b?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,k.onFocusCapture),onBlurCapture:se(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,S.onPointerDownCapture)})});_c.displayName=cN;var fN="DismissableLayerBranch",Y0=m.forwardRef((e,t)=>{const n=m.useContext(K0),r=m.useRef(null),s=Re(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(ce.div,{...e,ref:s})});Y0.displayName=fN;function hN(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){J0(uN,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function pN(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&J0(dN,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mg(){const e=new CustomEvent(nf);document.dispatchEvent(e)}function J0(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?G0(s,o):s.dispatchEvent(o)}var mN=_c,gN=Y0,at=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},vN="Portal",Cc=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=m.useState(!1);at(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?wE.createPortal(a.jsx(ce.div,{...r,ref:t}),i):null});Cc.displayName=vN;function yN(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Ro=e=>{const{present:t,children:n}=e,r=xN(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Re(r.ref,wN(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};Ro.displayName="Presence";function xN(e){const[t,n]=m.useState(),r=m.useRef(null),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=yN(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Oa(r.current);o.current=l==="mounted"?u:"none"},[l]),at(()=>{const u=r.current,d=s.current;if(d!==e){const h=o.current,p=Oa(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),at(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const x=Oa(r.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},h=p=>{p.target===t&&(o.current=Oa(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Oa(e){return(e==null?void 0:e.animationName)||"none"}function wN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jN=Gf[" useInsertionEffect ".trim().toString()]||at;function ys({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=bN({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=m.useCallback(d=>{var f;if(l){const h=SN(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else o(d)},[l,e,o,i]);return[c,u]}function bN({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),s=m.useRef(n),o=m.useRef(t);return jN(()=>{o.current=t},[t]),m.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function SN(e){return typeof e=="function"}var X0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_N="VisuallyHidden",Hh=m.forwardRef((e,t)=>a.jsx(ce.span,{...e,ref:t,style:{...X0,...e.style}}));Hh.displayName=_N;var qh="ToastProvider",[Gh,CN,EN]=Wh("Toast"),[Q0,F4]=Br("Toast",[EN]),[kN,Ec]=Q0(qh),Z0=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qh}\`. Expected non-empty \`string\`.`),a.jsx(Gh.Provider,{scope:t,children:a.jsx(kN,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};Z0.displayName=qh;var ew="ToastViewport",NN=["F8"],rf="toast.viewportPause",sf="toast.viewportResume",tw=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=NN,label:s="Notifications ({hotkey})",...o}=e,i=Ec(ew,n),l=CN(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=Re(t,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;m.useEffect(()=>{const j=y=>{var g;r.length!==0&&r.every(b=>y[b]||y.code===b)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[r]),m.useEffect(()=>{const j=c.current,y=f.current;if(w&&j&&y){const v=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(rf);y.dispatchEvent(k),i.isClosePausedRef.current=!0}},g=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(sf);y.dispatchEvent(k),i.isClosePausedRef.current=!1}},b=k=>{!j.contains(k.relatedTarget)&&g()},S=()=>{j.contains(document.activeElement)||g()};return j.addEventListener("focusin",v),j.addEventListener("focusout",b),j.addEventListener("pointermove",v),j.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",g),()=>{j.removeEventListener("focusin",v),j.removeEventListener("focusout",b),j.removeEventListener("pointermove",v),j.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",g)}}},[w,i.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:j})=>{const v=l().map(g=>{const b=g.ref.current,S=[b,...UN(b)];return j==="forwards"?S:S.reverse()});return(j==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const j=f.current;if(j){const y=v=>{var S,k,C;const g=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!g){const _=document.activeElement,E=v.shiftKey;if(v.target===j&&E){(S=u.current)==null||S.focus();return}const I=x({tabbingDirection:E?"backwards":"forwards"}),V=I.findIndex(O=>O===_);Eu(I.slice(V+1))?v.preventDefault():E?(k=u.current)==null||k.focus():(C=d.current)==null||C.focus()}};return j.addEventListener("keydown",y),()=>j.removeEventListener("keydown",y)}},[l,x]),a.jsxs(gN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(of,{ref:u,onFocusFromOutsideViewport:()=>{const j=x({tabbingDirection:"forwards"});Eu(j)}}),a.jsx(Gh.Slot,{scope:n,children:a.jsx(ce.ol,{tabIndex:-1,...o,ref:h})}),w&&a.jsx(of,{ref:d,onFocusFromOutsideViewport:()=>{const j=x({tabbingDirection:"backwards"});Eu(j)}})]})});tw.displayName=ew;var nw="ToastFocusProxy",of=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Ec(nw,n);return a.jsx(Hh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});of.displayName=nw;var sa="Toast",PN="toast.swipeStart",TN="toast.swipeMove",AN="toast.swipeCancel",RN="toast.swipeEnd",rw=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=ys({prop:r,defaultProp:s??!0,onChange:o,caller:sa});return a.jsx(Ro,{present:n||l,children:a.jsx(LN,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Jt(e.onPause),onResume:Jt(e.onResume),onSwipeStart:se(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});rw.displayName=sa;var[ON,IN]=Q0(sa,{onClose(){}}),LN=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...w}=e,x=Ec(sa,n),[j,y]=m.useState(null),v=Re(t,O=>y(O)),g=m.useRef(null),b=m.useRef(null),S=s||x.duration,k=m.useRef(0),C=m.useRef(S),_=m.useRef(0),{onToastAdd:E,onToastRemove:R}=x,L=Jt(()=>{var F;(j==null?void 0:j.contains(document.activeElement))&&((F=x.viewport)==null||F.focus()),i()}),I=m.useCallback(O=>{!O||O===1/0||(window.clearTimeout(_.current),k.current=new Date().getTime(),_.current=window.setTimeout(L,O))},[L]);m.useEffect(()=>{const O=x.viewport;if(O){const F=()=>{I(C.current),u==null||u()},M=()=>{const N=new Date().getTime()-k.current;C.current=C.current-N,window.clearTimeout(_.current),c==null||c()};return O.addEventListener(rf,M),O.addEventListener(sf,F),()=>{O.removeEventListener(rf,M),O.removeEventListener(sf,F)}}},[x.viewport,S,c,u,I]),m.useEffect(()=>{o&&!x.isClosePausedRef.current&&I(S)},[o,S,x.isClosePausedRef,I]),m.useEffect(()=>(E(),()=>R()),[E,R]);const V=m.useMemo(()=>j?uw(j):null,[j]);return x.viewport?a.jsxs(a.Fragment,{children:[V&&a.jsx(MN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),a.jsx(ON,{scope:n,onClose:L,children:Es.createPortal(a.jsx(Gh.ItemSlot,{scope:n,children:a.jsx(mN,{asChild:!0,onEscapeKeyDown:se(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||L(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:se(e.onPointerDown,O=>{O.button===0&&(g.current={x:O.clientX,y:O.clientY})}),onPointerMove:se(e.onPointerMove,O=>{if(!g.current)return;const F=O.clientX-g.current.x,M=O.clientY-g.current.y,N=!!b.current,T=["left","right"].includes(x.swipeDirection),P=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,D=T?P(0,F):0,A=T?0:P(0,M),$=O.pointerType==="touch"?10:2,X={x:D,y:A},ie={originalEvent:O,delta:X};N?(b.current=X,Ia(TN,f,ie,{discrete:!1})):gg(X,x.swipeDirection,$)?(b.current=X,Ia(PN,d,ie,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(F)>$||Math.abs(M)>$)&&(g.current=null)}),onPointerUp:se(e.onPointerUp,O=>{const F=b.current,M=O.target;if(M.hasPointerCapture(O.pointerId)&&M.releasePointerCapture(O.pointerId),b.current=null,g.current=null,F){const N=O.currentTarget,T={originalEvent:O,delta:F};gg(F,x.swipeDirection,x.swipeThreshold)?Ia(RN,p,T,{discrete:!0}):Ia(AN,h,T,{discrete:!0}),N.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),MN=e=>{const{__scopeToast:t,children:n,...r}=e,s=Ec(sa,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return FN(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Cc,{asChild:!0,children:a.jsx(Hh,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},DN="ToastTitle",sw=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ce.div,{...r,ref:t})});sw.displayName=DN;var $N="ToastDescription",ow=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ce.div,{...r,ref:t})});ow.displayName=$N;var iw="ToastAction",aw=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(cw,{altText:n,asChild:!0,children:a.jsx(Kh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${iw}\`. Expected non-empty \`string\`.`),null)});aw.displayName=iw;var lw="ToastClose",Kh=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=IN(lw,n);return a.jsx(cw,{asChild:!0,children:a.jsx(ce.button,{type:"button",...r,ref:t,onClick:se(e.onClick,s.onClose)})})});Kh.displayName=lw;var cw=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function uw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),VN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...uw(r))}}),t}function Ia(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?G0(s,o):s.dispatchEvent(o)}var gg=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function FN(e=()=>{}){const t=Jt(e);at(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function VN(e){return e.nodeType===e.ELEMENT_NODE}function UN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Eu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var BN=Z0,dw=tw,fw=rw,hw=sw,pw=ow,mw=aw,gw=Kh;const vg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yg=V0,kc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return yg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=vg(d)||vg(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(w=>{let[x,j]=w;return Array.isArray(j)?j.includes({...o,...l}[x]):{...o,...l}[x]===j})?[...u,f,h]:u},[]);return yg(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};var zN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>m.createElement("svg",{ref:u,...zN,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${WN(e)}`,...c},[...t.map(([d,f])=>m.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},HN=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xg=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),vw=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),qN=Z("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),wg=Z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),GN=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),KN=Z("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),yw=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),YN=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xw=Z("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]),JN=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),xs=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),XN=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),QN=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ww=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ZN=Z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),eP=Z("GalleryHorizontalEnd",[["path",{d:"M2 7v10",key:"a2pl2d"}],["path",{d:"M6 5v14",key:"1kq3d7"}],["rect",{width:"12",height:"18",x:"10",y:"3",rx:"2",key:"13i7bc"}]]),cl=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ku=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),tP=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),nP=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),af=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),rP=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),sP=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),oP=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),zi=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),iP=Z("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Or=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Nc=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),aP=Z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),lP=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Xt=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cP=Z("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),jg=Z("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),uP=Z("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Yh=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),dP=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fP=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),hP=Z("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Wi=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),pP=Z("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Hi=Z("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),lf=Z("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Oo=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),mP=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),qi=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),bg=Z("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),ds=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),fs=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),gP=Z("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),Sg=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Jh=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vP=BN,jw=oe.forwardRef(({className:e,...t},n)=>a.jsx(dw,{ref:n,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));jw.displayName=dw.displayName;const yP=kc("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bw=oe.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(fw,{ref:r,className:ve(yP({variant:t}),e),...n}));bw.displayName=fw.displayName;const xP=oe.forwardRef(({className:e,...t},n)=>a.jsx(mw,{ref:n,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));xP.displayName=mw.displayName;const Sw=oe.forwardRef(({className:e,...t},n)=>a.jsx(gw,{ref:n,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Jh,{className:"h-4 w-4"})}));Sw.displayName=gw.displayName;const _w=oe.forwardRef(({className:e,...t},n)=>a.jsx(hw,{ref:n,className:ve("text-sm font-semibold",e),...t}));_w.displayName=hw.displayName;const Cw=oe.forwardRef(({className:e,...t},n)=>a.jsx(pw,{ref:n,className:ve("text-sm opacity-90",e),...t}));Cw.displayName=pw.displayName;const wP=1;let Nu=0;function jP(){return Nu=(Nu+1)%Number.MAX_VALUE,Nu.toString()}const ht={state:{toasts:[]},listeners:[],getState:()=>ht.state,setState:e=>{typeof e=="function"?ht.state=e(ht.state):ht.state={...ht.state,...e},ht.listeners.forEach(t=>t(ht.state))},subscribe:e=>(ht.listeners.push(e),()=>{ht.listeners=ht.listeners.filter(t=>t!==e)})},bP=({...e})=>{const t=jP(),n=s=>ht.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...s}:i)})),r=()=>ht.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==t)}));return ht.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,wP)})),{id:t,dismiss:r,update:n}};function Tt(){const[e,t]=m.useState(ht.getState());return m.useEffect(()=>ht.subscribe(r=>{t(r)}),[]),m.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:bP,toasts:e.toasts}}function SP(){const{toasts:e}=Tt();return a.jsxs(vP,{children:[e.map(({id:t,title:n,description:r,action:s,dismiss:o,...i})=>a.jsxs(bw,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(_w,{children:n}),r&&a.jsx(Cw,{children:r})]}),s,a.jsx(Sw,{})]},t)),a.jsx(jw,{})]})}const Ew=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Pc=m.createContext({}),Tc=m.createContext(null),Ac=typeof document<"u",Xh=Ac?m.useLayoutEffect:m.useEffect,kw=m.createContext({strict:!1}),Qh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),_P="framerAppearId",Nw="data-"+Qh(_P);function CP(e,t,n,r){const{visualElement:s}=m.useContext(Pc),o=m.useContext(kw),i=m.useContext(Tc),l=m.useContext(Ew).reducedMotion,c=m.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;m.useInsertionEffect(()=>{u&&u.update(n,i)});const d=m.useRef(!!(n[Nw]&&!window.HandoffComplete));return Xh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Zs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function EP(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Zs(n)&&(n.current=r))},[t])}function Gi(e){return typeof e=="string"||Array.isArray(e)}function Rc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Zh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ep=["initial",...Zh];function Oc(e){return Rc(e.animate)||ep.some(t=>Gi(e[t]))}function Pw(e){return!!(Oc(e)||e.variants)}function kP(e,t){if(Oc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Gi(n)?n:void 0,animate:Gi(r)?r:void 0}}return e.inherit!==!1?t:{}}function NP(e){const{initial:t,animate:n}=kP(e,m.useContext(Pc));return m.useMemo(()=>({initial:t,animate:n}),[_g(t),_g(n)])}function _g(e){return Array.isArray(e)?e.join(" "):e}const Cg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ki={};for(const e in Cg)Ki[e]={isEnabled:t=>Cg[e].some(n=>!!t[n])};function PP(e){for(const t in e)Ki[t]={...Ki[t],...e[t]}}const tp=m.createContext({}),Tw=m.createContext({}),TP=Symbol.for("motionComponentSymbol");function AP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&PP(e);function o(l,c){let u;const d={...m.useContext(Ew),...l,layoutId:RP(l)},{isStatic:f}=d,h=NP(l),p=r(l,f);if(!f&&Ac){h.visualElement=CP(s,p,d,t);const w=m.useContext(Tw),x=m.useContext(kw).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,x,e,w))}return m.createElement(Pc.Provider,{value:h},u&&h.visualElement?m.createElement(u,{visualElement:h.visualElement,...d}):null,n(s,l,EP(p,h.visualElement,c),p,f,h.visualElement))}const i=m.forwardRef(o);return i[TP]=s,i}function RP({layoutId:e}){const t=m.useContext(tp).id;return t&&e!==void 0?t+"-"+e:e}function OP(e){function t(r,s={}){return AP(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const IP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function np(e){return typeof e!="string"||e.includes("-")?!1:!!(IP.indexOf(e)>-1||/[A-Z]/.test(e))}const zl={};function LP(e){Object.assign(zl,e)}const oa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ns=new Set(oa);function Aw(e,{layout:t,layoutId:n}){return Ns.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!zl[e]||e==="opacity")}const Pt=e=>!!(e&&e.getVelocity),MP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DP=oa.length;function $P(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<DP;i++){const l=oa[i];if(e[l]!==void 0){const c=MP[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const Rw=e=>t=>typeof t=="string"&&t.startsWith(e),Ow=Rw("--"),cf=Rw("var(--"),FP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,VP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ir=(e,t,n)=>Math.min(Math.max(n,e),t),Ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},mi={...Ps,transform:e=>Ir(0,1,e)},La={...Ps,default:1},gi=e=>Math.round(e*1e5)/1e5,Ic=/(-)?([\d]*\.?[\d])+/g,Iw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,UP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ia(e){return typeof e=="string"}const aa=e=>({test:t=>ia(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),or=aa("deg"),An=aa("%"),te=aa("px"),BP=aa("vh"),zP=aa("vw"),Eg={...An,parse:e=>An.parse(e)/100,transform:e=>An.transform(e*100)},kg={...Ps,transform:Math.round},Lw={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:La,scaleX:La,scaleY:La,scaleZ:La,skew:or,skewX:or,skewY:or,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:mi,originX:Eg,originY:Eg,originZ:te,zIndex:kg,fillOpacity:mi,strokeOpacity:mi,numOctaves:kg};function rp(e,t,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(Ow(f)){o[f]=h;continue}const p=Lw[f],w=VP(h,p);if(Ns.has(f)){if(c=!0,i[f]=w,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=w):s[f]=w}if(t.transform||(c||r?s.transform=$P(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const sp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mw(e,t,n){for(const r in t)!Pt(t[r])&&!Aw(r,n)&&(e[r]=t[r])}function WP({transformTemplate:e},t,n){return m.useMemo(()=>{const r=sp();return rp(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function HP(e,t,n){const r=e.style||{},s={};return Mw(s,r,e),Object.assign(s,WP(e,t,n)),e.transformValues?e.transformValues(s):s}function qP(e,t,n){const r={},s=HP(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const GP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||GP.has(e)}let Dw=e=>!Wl(e);function KP(e){e&&(Dw=t=>t.startsWith("on")?!Wl(t):e(t))}try{KP(require("@emotion/is-prop-valid").default)}catch{}function YP(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Dw(s)||n===!0&&Wl(s)||!t&&!Wl(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Ng(e,t,n){return typeof e=="string"?e:te.transform(t+n*e)}function JP(e,t,n){const r=Ng(t,e.x,e.width),s=Ng(n,e.y,e.height);return`${r} ${s}`}const XP={offset:"stroke-dashoffset",array:"stroke-dasharray"},QP={offset:"strokeDashoffset",array:"strokeDasharray"};function ZP(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?XP:QP;e[o.offset]=te.transform(-r);const i=te.transform(t),l=te.transform(n);e[o.array]=`${i} ${l}`}function op(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(rp(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w,dimensions:x}=e;p.transform&&(x&&(w.transform=p.transform),delete p.transform),x&&(s!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=JP(x,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&ZP(p,i,l,c,!1)}const $w=()=>({...sp(),attrs:{}}),ip=e=>typeof e=="string"&&e.toLowerCase()==="svg";function eT(e,t,n,r){const s=m.useMemo(()=>{const o=$w();return op(o,t,{enableHardwareAcceleration:!1},ip(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Mw(o,e.style,e),s.style={...o,...s.style}}return s}function tT(e=!1){return(n,r,s,{latestValues:o},i)=>{const c=(np(n)?eT:qP)(r,o,i,n),d={...YP(r,typeof n=="string",e),...c,ref:s},{children:f}=r,h=m.useMemo(()=>Pt(f)?f.get():f,[f]);return m.createElement(n,{...d,children:h})}}function Fw(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const Vw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uw(e,t,n,r){Fw(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Vw.has(s)?s:Qh(s),t.attrs[s])}function ap(e,t){const{style:n}=e,r={};for(const s in n)(Pt(n[s])||t.style&&Pt(t.style[s])||Aw(s,e))&&(r[s]=n[s]);return r}function Bw(e,t){const n=ap(e,t);for(const r in e)if(Pt(e[r])||Pt(t[r])){const s=oa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function lp(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function zw(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Hl=e=>Array.isArray(e),nT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),rT=e=>Hl(e)?e[e.length-1]||0:e;function ul(e){const t=Pt(e)?e.get():e;return nT(t)?t.toValue():t}function sT({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const i={latestValues:oT(r,s,o,e),renderState:t()};return n&&(i.mount=l=>n(r,l,i)),i}const Ww=e=>(t,n)=>{const r=m.useContext(Pc),s=m.useContext(Tc),o=()=>sT(e,t,r,s);return n?o():zw(o)};function oT(e,t,n,r){const s={},o=r(e,{});for(const h in o)s[h]=ul(o[h]);let{initial:i,animate:l}=e;const c=Oc(e),u=Pw(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!Rc(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const w=lp(e,p);if(!w)return;const{transitionEnd:x,transition:j,...y}=w;for(const v in y){let g=y[v];if(Array.isArray(g)){const b=d?g.length-1:0;g=g[b]}g!==null&&(s[v]=g)}for(const v in x)s[v]=x[v]}),s}const We=e=>e;class Pg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function iT(e){let t=new Pg,n=new Pg,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:n;return u&&i.add(c),h.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),i.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const Ma=["prepare","read","update","preRender","render","postRender"],aT=40;function lT(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Ma.reduce((f,h)=>(f[h]=iT(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,aT),1),s.timestamp=f,s.isProcessing=!0,Ma.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:Ma.reduce((f,h)=>{const p=o[h];return f[h]=(w,x=!1,j=!1)=>(n||c(),p.schedule(w,x,j)),f},{}),cancel:f=>Ma.forEach(h=>o[h].cancel(f)),state:s,steps:o}}const{schedule:Ae,cancel:Qn,state:ut,steps:Pu}=lT(typeof requestAnimationFrame<"u"?requestAnimationFrame:We,!0),cT={useVisualState:Ww({scrapeMotionValuesFromProps:Bw,createRenderState:$w,onMount:(e,t,{renderState:n,latestValues:r})=>{Ae.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ae.render(()=>{op(n,r,{enableHardwareAcceleration:!1},ip(t.tagName),e.transformTemplate),Uw(t,n)})}})},uT={useVisualState:Ww({scrapeMotionValuesFromProps:ap,createRenderState:sp})};function dT(e,{forwardMotionProps:t=!1},n,r){return{...np(e)?cT:uT,preloadedFeatures:n,useRender:tT(t),createVisualElement:r,Component:e}}function Wn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Hw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Lc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const fT=e=>t=>Hw(t)&&e(t,Lc(t));function qn(e,t,n,r){return Wn(e,t,fT(n),r)}const hT=(e,t)=>n=>t(e(n)),Nr=(...e)=>e.reduce(hT);function qw(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Tg=qw("dragHorizontal"),Ag=qw("dragVertical");function Gw(e){let t=!1;if(e==="y")t=Ag();else if(e==="x")t=Tg();else{const n=Tg(),r=Ag();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Kw(){const e=Gw(!0);return e?(e(),!1):!0}class zr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Rg(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||Kw())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Ae.update(()=>l[r](o,i))};return qn(e.current,n,s,{passive:!e.getProps()[r]})}class pT extends zr{mount(){this.unmount=Nr(Rg(this.node,!0),Rg(this.node,!1))}unmount(){}}class mT extends zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nr(Wn(this.node.current,"focus",()=>this.onFocus()),Wn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Yw=(e,t)=>t?e===t?!0:Yw(e,t.parentElement):!1;function Tu(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Lc(n))}class gT extends zr{constructor(){super(...arguments),this.removeStartListeners=We,this.removeEndListeners=We,this.removeAccessibleListeners=We,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=qn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Ae.update(()=>{!f&&!Yw(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=qn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Nr(o,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Tu("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Ae.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Wn(this.node.current,"keyup",i),Tu("down",(l,c)=>{this.startPress(l,c)})},n=Wn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Tu("cancel",(o,i)=>this.cancelPress(o,i))},s=Wn(this.node.current,"blur",r);this.removeAccessibleListeners=Nr(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ae.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Kw()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ae.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=qn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Wn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Nr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uf=new WeakMap,Au=new WeakMap,vT=e=>{const t=uf.get(e.target);t&&t(e)},yT=e=>{e.forEach(vT)};function xT({root:e,...t}){const n=e||document;Au.has(n)||Au.set(n,{});const r=Au.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(yT,{root:e,...t})),r[s]}function wT(e,t,n){const r=xT(t);return uf.set(e,n),r.observe(e),()=>{uf.delete(e),r.unobserve(e)}}const jT={some:0,all:1};class bT extends zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:jT[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return wT(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ST(t,n))&&this.startObserver()}unmount(){}}function ST({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _T={inView:{Feature:bT},tap:{Feature:gT},focus:{Feature:mT},hover:{Feature:pT}};function Jw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function CT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function ET(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Mc(e,t,n){const r=e.getProps();return lp(r,t,n!==void 0?n:r.custom,CT(e),ET(e))}let kT=We,cp=We;const Pr=e=>e*1e3,Gn=e=>e/1e3,NT={current:!1},Xw=e=>Array.isArray(e)&&typeof e[0]=="number";function Qw(e){return!!(!e||typeof e=="string"&&Zw[e]||Xw(e)||Array.isArray(e)&&e.every(Qw))}const ri=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Zw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ri([0,.65,.55,1]),circOut:ri([.55,0,1,.45]),backIn:ri([.31,.01,.66,-.59]),backOut:ri([.33,1.53,.69,.99])};function ej(e){if(e)return Xw(e)?ri(e):Array.isArray(e)?e.map(ej):Zw[e]}function PT(e,t,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=ej(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function TT(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const tj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,AT=1e-7,RT=12;function OT(e,t,n,r,s){let o,i,l=0;do i=t+(n-t)/2,o=tj(i,r,s)-e,o>0?n=i:t=i;while(Math.abs(o)>AT&&++l<RT);return i}function la(e,t,n,r){if(e===t&&n===r)return We;const s=o=>OT(o,0,1,e,n);return o=>o===0||o===1?o:tj(s(o),t,r)}const IT=la(.42,0,1,1),LT=la(0,0,.58,1),nj=la(.42,0,.58,1),MT=e=>Array.isArray(e)&&typeof e[0]!="number",rj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sj=e=>t=>1-e(1-t),up=e=>1-Math.sin(Math.acos(e)),oj=sj(up),DT=rj(up),ij=la(.33,1.53,.69,.99),dp=sj(ij),$T=rj(dp),FT=e=>(e*=2)<1?.5*dp(e):.5*(2-Math.pow(2,-10*(e-1))),VT={linear:We,easeIn:IT,easeInOut:nj,easeOut:LT,circIn:up,circInOut:DT,circOut:oj,backIn:dp,backInOut:$T,backOut:ij,anticipate:FT},Og=e=>{if(Array.isArray(e)){cp(e.length===4);const[t,n,r,s]=e;return la(t,n,r,s)}else if(typeof e=="string")return VT[e];return e},fp=(e,t)=>n=>!!(ia(n)&&UP.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),aj=(e,t,n)=>r=>{if(!ia(r))return r;const[s,o,i,l]=r.match(Ic);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},UT=e=>Ir(0,255,e),Ru={...Ps,transform:e=>Math.round(UT(e))},ls={test:fp("rgb","red"),parse:aj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ru.transform(e)+", "+Ru.transform(t)+", "+Ru.transform(n)+", "+gi(mi.transform(r))+")"};function BT(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const df={test:fp("#"),parse:BT,transform:ls.transform},eo={test:fp("hsl","hue"),parse:aj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+An.transform(gi(t))+", "+An.transform(gi(n))+", "+gi(mi.transform(r))+")"},pt={test:e=>ls.test(e)||df.test(e)||eo.test(e),parse:e=>ls.test(e)?ls.parse(e):eo.test(e)?eo.parse(e):df.parse(e),transform:e=>ia(e)?e:e.hasOwnProperty("red")?ls.transform(e):eo.transform(e)},Ve=(e,t,n)=>-n*e+n*t+e;function Ou(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function zT({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,i=0;if(!t)s=o=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Ou(c,l,e+1/3),o=Ou(c,l,e),i=Ou(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Iu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},WT=[df,ls,eo],HT=e=>WT.find(t=>t.test(e));function Ig(e){const t=HT(e);let n=t.parse(e);return t===eo&&(n=zT(n)),n}const lj=(e,t)=>{const n=Ig(e),r=Ig(t),s={...n};return o=>(s.red=Iu(n.red,r.red,o),s.green=Iu(n.green,r.green,o),s.blue=Iu(n.blue,r.blue,o),s.alpha=Ve(n.alpha,r.alpha,o),ls.transform(s))};function qT(e){var t,n;return isNaN(e)&&ia(e)&&(((t=e.match(Ic))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Iw))===null||n===void 0?void 0:n.length)||0)>0}const cj={regex:FP,countKey:"Vars",token:"${v}",parse:We},uj={regex:Iw,countKey:"Colors",token:"${c}",parse:pt.parse},dj={regex:Ic,countKey:"Numbers",token:"${n}",parse:Ps.parse};function Lu(e,{regex:t,countKey:n,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function ql(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Lu(n,cj),Lu(n,uj),Lu(n,dj),n}function fj(e){return ql(e).values}function hj(e){const{values:t,numColors:n,numVars:r,tokenised:s}=ql(e),o=t.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(cj.token,i[c]):c<r+n?l=l.replace(uj.token,pt.transform(i[c])):l=l.replace(dj.token,gi(i[c]));return l}}const GT=e=>typeof e=="number"?0:e;function KT(e){const t=fj(e);return hj(e)(t.map(GT))}const Lr={test:qT,parse:fj,createTransformer:hj,getAnimatableNone:KT},pj=(e,t)=>n=>`${n>0?t:e}`;function mj(e,t){return typeof e=="number"?n=>Ve(e,t,n):pt.test(e)?lj(e,t):e.startsWith("var(")?pj(e,t):vj(e,t)}const gj=(e,t)=>{const n=[...e],r=n.length,s=e.map((o,i)=>mj(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},YT=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=mj(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},vj=(e,t)=>{const n=Lr.createTransformer(t),r=ql(e),s=ql(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Nr(gj(r.values,s.values),n):pj(e,t)},Yi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Lg=(e,t)=>n=>Ve(e,t,n);function JT(e){return typeof e=="number"?Lg:typeof e=="string"?pt.test(e)?lj:vj:Array.isArray(e)?gj:typeof e=="object"?YT:Lg}function XT(e,t,n){const r=[],s=n||JT(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||We:t;l=Nr(c,l)}r.push(l)}return r}function yj(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(cp(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=XT(t,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Yi(e[d],e[d+1],u);return i[d](f)};return n?u=>c(Ir(e[0],e[o-1],u)):c}function QT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Yi(0,t,r);e.push(Ve(n,1,s))}}function ZT(e){const t=[0];return QT(t,e.length-1),t}function e2(e,t){return e.map(n=>n*t)}function t2(e,t){return e.map(()=>t||nj).splice(0,e.length-1)}function Gl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=MT(r)?r.map(Og):Og(r),o={done:!1,value:t[0]},i=e2(n&&n.length===t.length?n:ZT(t),e),l=yj(i,t,{ease:Array.isArray(s)?s:t2(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function xj(e,t){return t?e*(1e3/t):0}const n2=5;function wj(e,t,n){const r=Math.max(t-n2,0);return xj(n-e(r),t-r)}const Mu=.001,r2=.01,Mg=10,s2=.05,o2=1;function i2({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o;kT(e<=Pr(Mg));let i=1-t;i=Ir(s2,o2,i),e=Ir(r2,Mg,Gn(e)),i<1?(s=u=>{const d=u*i,f=d*e,h=d-n,p=ff(u,i),w=Math.exp(-f);return Mu-h/p*w},o=u=>{const f=u*i*e,h=f*n+n,p=Math.pow(i,2)*Math.pow(u,2)*e,w=Math.exp(-f),x=ff(Math.pow(u,2),i);return(-s(u)+Mu>0?-1:1)*((h-p)*w)/x}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Mu+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=l2(s,o,l);if(e=Pr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const a2=12;function l2(e,t,n){let r=n;for(let s=1;s<a2;s++)r=r-e(r)/t(r);return r}function ff(e,t){return e*Math.sqrt(1-t*t)}const c2=["duration","bounce"],u2=["stiffness","damping","mass"];function Dg(e,t){return t.some(n=>e[n]!==void 0)}function d2(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Dg(e,u2)&&Dg(e,c2)){const n=i2(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function jj({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=d2({...r,velocity:-Gn(r.velocity||0)}),p=f||0,w=c/(2*Math.sqrt(l*u)),x=o-s,j=Gn(Math.sqrt(l/u)),y=Math.abs(x)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let v;if(w<1){const g=ff(j,w);v=b=>{const S=Math.exp(-w*j*b);return o-S*((p+w*j*x)/g*Math.sin(g*b)+x*Math.cos(g*b))}}else if(w===1)v=g=>o-Math.exp(-j*g)*(x+(p+j*x)*g);else{const g=j*Math.sqrt(w*w-1);v=b=>{const S=Math.exp(-w*j*b),k=Math.min(g*b,300);return o-S*((p+w*j*x)*Math.sinh(k)+g*x*Math.cosh(k))/g}}return{calculatedDuration:h&&d||null,next:g=>{const b=v(g);if(h)i.done=g>=d;else{let S=p;g!==0&&(w<1?S=wj(v,g,b):S=0);const k=Math.abs(S)<=n,C=Math.abs(o-b)<=t;i.done=k&&C}return i.value=i.done?o:b,i}}}function $g({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,w=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let x=n*t;const j=f+x,y=i===void 0?j:i(j);y!==j&&(x=y-f);const v=_=>-x*Math.exp(-_/r),g=_=>y+v(_),b=_=>{const E=v(_),R=g(_);h.done=Math.abs(E)<=u,h.value=h.done?y:R};let S,k;const C=_=>{p(h.value)&&(S=_,k=jj({keyframes:[h.value,w(h.value)],velocity:wj(g,_,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:_=>{let E=!1;return!k&&S===void 0&&(E=!0,b(_),C(_)),S!==void 0&&_>S?k.next(_-S):(!E&&b(_),h)}}}const f2=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ae.update(t,!0),stop:()=>Qn(t),now:()=>ut.isProcessing?ut.timestamp:performance.now()}},Fg=2e4;function Vg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Fg;)t+=n,r=e.next(t);return t>=Fg?1/0:t}const h2={decay:$g,inertia:$g,tween:Gl,keyframes:Gl,spring:jj};function Kl({autoplay:e=!0,delay:t=0,driver:n=f2,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,w=!1,x,j;const y=()=>{j=new Promise(A=>{x=A})};y();let v;const g=h2[s]||Gl;let b;g!==Gl&&typeof r[0]!="number"&&(b=yj([0,100],r,{clamp:!1}),r=[0,100]);const S=g({...h,keyframes:r});let k;l==="mirror"&&(k=g({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let C="idle",_=null,E=null,R=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=Vg(S));const{calculatedDuration:L}=S;let I=1/0,V=1/0;L!==null&&(I=L+i,V=I*(o+1)-i);let O=0;const F=A=>{if(E===null)return;p>0&&(E=Math.min(E,A)),p<0&&(E=Math.min(A-V/p,E)),_!==null?O=_:O=Math.round(A-E)*p;const $=O-t*(p>=0?1:-1),X=p>=0?$<0:$>V;O=Math.max($,0),C==="finished"&&_===null&&(O=V);let ie=O,ye=S;if(o){const Oe=Math.min(O,V)/I;let ue=Math.floor(Oe),ae=Oe%1;!ae&&Oe>=1&&(ae=1),ae===1&&ue--,ue=Math.min(ue,o+1),!!(ue%2)&&(l==="reverse"?(ae=1-ae,i&&(ae-=i/I)):l==="mirror"&&(ye=k)),ie=Ir(0,1,ae)*I}const xe=X?{done:!1,value:r[0]}:ye.next(ie);b&&(xe.value=b(xe.value));let{done:J}=xe;!X&&L!==null&&(J=p>=0?O>=V:O<=0);const we=_===null&&(C==="finished"||C==="running"&&J);return f&&f(xe.value),we&&T(),xe},M=()=>{v&&v.stop(),v=void 0},N=()=>{C="idle",M(),x(),y(),E=R=null},T=()=>{C="finished",d&&d(),M(),x()},P=()=>{if(w)return;v||(v=n(F));const A=v.now();c&&c(),_!==null?E=A-_:(!E||C==="finished")&&(E=A),C==="finished"&&y(),R=E,_=null,C="running",v.start()};e&&P();const D={then(A,$){return j.then(A,$)},get time(){return Gn(O)},set time(A){A=Pr(A),O=A,_!==null||!v||p===0?_=A:E=v.now()-A/p},get duration(){const A=S.calculatedDuration===null?Vg(S):S.calculatedDuration;return Gn(A)},get speed(){return p},set speed(A){A===p||!v||(p=A,D.time=Gn(O))},get state(){return C},play:P,pause:()=>{C="paused",_=O},stop:()=>{w=!0,C!=="idle"&&(C="idle",u&&u(),N())},cancel:()=>{R!==null&&F(R),N()},complete:()=>{C="finished"},sample:A=>(E=0,F(A))};return D}function p2(e){let t;return()=>(t===void 0&&(t=e()),t)}const m2=p2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),g2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Da=10,v2=2e4,y2=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Qw(t.ease);function x2(e,t,{onUpdate:n,onComplete:r,...s}){if(!(m2()&&g2.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(g=>{l=g})};d();let{keyframes:f,duration:h=300,ease:p,times:w}=s;if(y2(t,s)){const g=Kl({...s,repeat:0,delay:0});let b={done:!1,value:f[0]};const S=[];let k=0;for(;!b.done&&k<v2;)b=g.sample(k),S.push(b.value),k+=Da;w=void 0,f=S,h=k-Da,p="linear"}const x=PT(e.owner.current,t,f,{...s,duration:h,ease:p,times:w}),j=()=>{u=!1,x.cancel()},y=()=>{u=!0,Ae.update(j),l(),d()};return x.onfinish=()=>{u||(e.set(TT(f,s)),r&&r(),y())},{then(g,b){return c.then(g,b)},attachTimeline(g){return x.timeline=g,x.onfinish=null,We},get time(){return Gn(x.currentTime||0)},set time(g){x.currentTime=Pr(g)},get speed(){return x.playbackRate},set speed(g){x.playbackRate=g},get duration(){return Gn(h)},play:()=>{i||(x.play(),Qn(j))},pause:()=>x.pause(),stop:()=>{if(i=!0,x.playState==="idle")return;const{currentTime:g}=x;if(g){const b=Kl({...s,autoplay:!1});e.setWithVelocity(b.sample(g-Da).value,b.sample(g).value,Da)}y()},complete:()=>{u||x.finish()},cancel:y}}function w2({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:We,pause:We,stop:We,then:o=>(o(),Promise.resolve()),cancel:We,complete:We});return t?Kl({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const j2={type:"spring",stiffness:500,damping:25,restSpeed:10},b2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S2={type:"keyframes",duration:.8},_2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},C2=(e,{keyframes:t})=>t.length>2?S2:Ns.has(e)?e.startsWith("scale")?b2(t[1]):j2:_2,hf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lr.test(t)||t==="0")&&!t.startsWith("url(")),E2=new Set(["brightness","contrast","saturate","opacity"]);function k2(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ic)||[];if(!r)return e;const s=n.replace(r,"");let o=E2.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const N2=/([a-z-]*)\(.*?\)/g,pf={...Lr,getAnimatableNone:e=>{const t=e.match(N2);return t?t.map(k2).join(" "):e}},P2={...Lw,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:pf,WebkitFilter:pf},hp=e=>P2[e];function bj(e,t){let n=hp(e);return n!==pf&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Sj=e=>/^0[^.\s]+$/.test(e);function T2(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Sj(e)}function A2(e,t,n,r){const s=hf(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),T2(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=bj(t,l)}return o}function R2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function pp(e,t){return e[t]||e.default||e}const O2={skipAnimations:!1},mp=(e,t,n,r={})=>s=>{const o=pp(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Pr(i);const c=A2(t,e,n,o),u=c[0],d=c[c.length-1],f=hf(e,u),h=hf(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:w=>{t.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(R2(o)||(p={...p,...C2(e,p)}),p.duration&&(p.duration=Pr(p.duration)),p.repeatDelay&&(p.repeatDelay=Pr(p.repeatDelay)),!f||!h||NT.current||o.type===!1||O2.skipAnimations)return w2(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=x2(t,e,p);if(w)return w}return Kl(p)};function Yl(e){return!!(Pt(e)&&e.add)}const _j=e=>/^\-?\d*\.?\d+$/.test(e);function gp(e,t){e.indexOf(t)===-1&&e.push(t)}function vp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class yp{constructor(){this.subscriptions=[]}add(t){return gp(this.subscriptions,t),()=>vp(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const I2=e=>!isNaN(parseFloat(e));class L2{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=ut;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,Ae.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ae.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=I2(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yp);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?xj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jo(e,t){return new L2(e,t)}const Cj=e=>t=>t.test(e),M2={test:e=>e==="auto",parse:e=>e},Ej=[Ps,te,An,or,zP,BP,M2],Jo=e=>Ej.find(Cj(e)),D2=[...Ej,pt,Lr],$2=e=>D2.find(Cj(e));function F2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,jo(n))}function V2(e,t){const n=Mc(e,t);let{transitionEnd:r={},transition:s={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=rT(o[i]);F2(e,i,l)}}function U2(e,t,n){var r,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(_j(d)||Sj(d))?d=parseFloat(d):!$2(d)&&Lr.test(u)&&(d=bj(c,u)),e.addValue(c,jo(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function B2(e,t){return t?(t[e]||t.default||t).from:void 0}function z2(e,t,n){const r={};for(const s in e){const o=B2(s,t);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function W2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function H2(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function kj(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&W2(d,f))continue;const w={delay:n,elapsed:0,...pp(o||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[Nw];if(y){const v=window.HandoffAppearAnimations(y,f,h,Ae);v!==null&&(w.elapsed=v,w.isHandoff=!0)}}let x=!w.isHandoff&&!H2(h,p);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(x=!1),h.animation&&(x=!1),x)continue;h.start(mp(f,h,p,e.shouldReduceMotion&&Ns.has(f)?{type:!1}:w));const j=h.animation;Yl(c)&&(c.add(f),j.then(()=>c.remove(f))),u.push(j)}return i&&Promise.all(u).then(()=>{i&&V2(e,i)}),u}function mf(e,t,n={}){const r=Mc(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(kj(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return q2(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function q2(e,t,n=0,r=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(G2).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(mf(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function G2(e,t){return e.sortNodePosition(t)}function K2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>mf(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=mf(e,t,n);else{const s=typeof t=="function"?Mc(e,t,n.custom):t;r=Promise.all(kj(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Y2=[...Zh].reverse(),J2=Zh.length;function X2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>K2(e,n,r)))}function Q2(e){let t=X2(e);const n=eA();let r=!0;const s=(c,u)=>{const d=Mc(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function o(c){t=c(e)}function i(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let w={},x=1/0;for(let y=0;y<J2;y++){const v=Y2[y],g=n[v],b=d[v]!==void 0?d[v]:f[v],S=Gi(b),k=v===u?g.isActive:null;k===!1&&(x=y);let C=b===f[v]&&b!==d[v]&&S;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),g.protectedKeys={...w},!g.isActive&&k===null||!b&&!g.prevProp||Rc(b)||typeof b=="boolean")continue;let E=Z2(g.prevProp,b)||v===u&&g.isActive&&!C&&S||y>x&&S,R=!1;const L=Array.isArray(b)?b:[b];let I=L.reduce(s,{});k===!1&&(I={});const{prevResolvedValues:V={}}=g,O={...V,...I},F=M=>{E=!0,p.has(M)&&(R=!0,p.delete(M)),g.needsAnimating[M]=!0};for(const M in O){const N=I[M],T=V[M];if(w.hasOwnProperty(M))continue;let P=!1;Hl(N)&&Hl(T)?P=!Jw(N,T):P=N!==T,P?N!==void 0?F(M):p.add(M):N!==void 0&&p.has(M)?F(M):g.protectedKeys[M]=!0}g.prevProp=b,g.prevResolvedValues=I,g.isActive&&(w={...w,...I}),r&&e.blockInitialAnimation&&(E=!1),E&&(!C||R)&&h.push(...L.map(M=>({animation:M,options:{type:v,...c}})))}if(p.size){const y={};p.forEach(v=>{const g=e.getBaseTarget(v);g!==void 0&&(y[v]=g)}),h.push({animation:y})}let j=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const h=i(d,c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function Z2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Jw(t,e):!1}function Yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eA(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class tA extends zr{constructor(t){super(t),t.animationState||(t.animationState=Q2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Rc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let nA=0;class rA extends zr{constructor(){super(...arguments),this.id=nA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const sA={animation:{Feature:tA},exit:{Feature:rA}},Ug=(e,t)=>Math.abs(e-t);function oA(e,t){const n=Ug(e.x,t.x),r=Ug(e.y,t.y);return Math.sqrt(n**2+r**2)}class Nj{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$u(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=oA(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:w}=f,{timestamp:x}=ut;this.history.push({...w,timestamp:x});const{onStart:j,onMove:y}=this.handlers;h||(j&&j(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Du(h,this.transformPagePoint),Ae.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=$u(f.type==="pointercancel"?this.lastMoveEventInfo:Du(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,j),w&&w(f,j)},!Hw(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=Lc(t),l=Du(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=ut;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,$u(l,this.history)),this.removeListeners=Nr(qn(this.contextWindow,"pointermove",this.handlePointerMove),qn(this.contextWindow,"pointerup",this.handlePointerUp),qn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qn(this.updatePoint)}}function Du(e,t){return t?{point:t(e.point)}:e}function Bg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $u({point:e},t){return{point:e,delta:Bg(e,Pj(t)),offset:Bg(e,iA(t)),velocity:aA(t,.1)}}function iA(e){return e[0]}function Pj(e){return e[e.length-1]}function aA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Pj(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Pr(t)));)n--;if(!r)return{x:0,y:0};const o=Gn(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Dt(e){return e.max-e.min}function gf(e,t=0,n=.01){return Math.abs(e-t)<=n}function zg(e,t,n,r=.5){e.origin=r,e.originPoint=Ve(t.min,t.max,e.origin),e.scale=Dt(n)/Dt(t),(gf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ve(n.min,n.max,e.origin)-e.originPoint,(gf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vi(e,t,n,r){zg(e.x,t.x,n.x,r?r.originX:void 0),zg(e.y,t.y,n.y,r?r.originY:void 0)}function Wg(e,t,n){e.min=n.min+t.min,e.max=e.min+Dt(t)}function lA(e,t,n){Wg(e.x,t.x,n.x),Wg(e.y,t.y,n.y)}function Hg(e,t,n){e.min=t.min-n.min,e.max=e.min+Dt(t)}function yi(e,t,n){Hg(e.x,t.x,n.x),Hg(e.y,t.y,n.y)}function cA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ve(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ve(n,e,r.max):Math.min(e,n)),e}function qg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function uA(e,{top:t,left:n,bottom:r,right:s}){return{x:qg(e.x,n,s),y:qg(e.y,t,r)}}function Gg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function dA(e,t){return{x:Gg(e.x,t.x),y:Gg(e.y,t.y)}}function fA(e,t){let n=.5;const r=Dt(e),s=Dt(t);return s>r?n=Yi(t.min,t.max-r,e.min):r>s&&(n=Yi(e.min,e.max-s,t.min)),Ir(0,1,n)}function hA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const vf=.35;function pA(e=vf){return e===!1?e=0:e===!0&&(e=vf),{x:Kg(e,"left","right"),y:Kg(e,"top","bottom")}}function Kg(e,t,n){return{min:Yg(e,t),max:Yg(e,n)}}function Yg(e,t){return typeof e=="number"?e:e[t]||0}const Jg=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:Jg(),y:Jg()}),Xg=()=>({min:0,max:0}),Ge=()=>({x:Xg(),y:Xg()});function Bt(e){return[e("x"),e("y")]}function Tj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function mA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fu(e){return e===void 0||e===1}function yf({scale:e,scaleX:t,scaleY:n}){return!Fu(e)||!Fu(t)||!Fu(n)}function Zr(e){return yf(e)||Aj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Aj(e){return Qg(e.x)||Qg(e.y)}function Qg(e){return e&&e!=="0%"}function Jl(e,t,n){const r=e-n,s=t*r;return n+s}function Zg(e,t,n,r,s){return s!==void 0&&(e=Jl(e,s,r)),Jl(e,n,r)+t}function xf(e,t=0,n=1,r,s){e.min=Zg(e.min,t,n,r,s),e.max=Zg(e.max,t,n,r,s)}function Rj(e,{x:t,y:n}){xf(e.x,t.translate,t.scale,t.originPoint),xf(e.y,n.translate,n.scale,n.originPoint)}function vA(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&no(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Rj(e,i)),r&&Zr(o.latestValues)&&no(e,o.latestValues))}t.x=ev(t.x),t.y=ev(t.y)}function ev(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ur(e,t){e.min=e.min+t,e.max=e.max+t}function tv(e,t,[n,r,s]){const o=t[s]!==void 0?t[s]:.5,i=Ve(e.min,e.max,o);xf(e,t[n],t[r],i,t.scale)}const yA=["x","scaleX","originX"],xA=["y","scaleY","originY"];function no(e,t){tv(e.x,t,yA),tv(e.y,t,xA)}function Oj(e,t){return Tj(gA(e.getBoundingClientRect(),t))}function wA(e,t,n){const r=Oj(e,n),{scroll:s}=t;return s&&(ur(r.x,s.offset.x),ur(r.y,s.offset.y)),r}const Ij=({current:e})=>e?e.ownerDocument.defaultView:null,jA=new WeakMap;class bA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lc(d,"page").point)},o=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:w}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Gw(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bt(j=>{let y=this.getAxisMotionValue(j).get()||0;if(An.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const g=v.layout.layoutBox[j];g&&(y=Dt(g)*(parseFloat(y)/100))}}this.originPoint[j]=y}),w&&Ae.update(()=>w(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:w,onDrag:x}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:j}=f;if(p&&this.currentDirection===null){this.currentDirection=SA(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,j),this.updateAxis("y",f.point,j),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Bt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Nj(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Ij(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ae.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!$a(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=cA(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Zs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=uA(s.layoutBox,n):this.constraints=!1,this.elastic=pA(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Bt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=hA(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Zs(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=wA(r,s.root,this.visualElement.getTransformPagePoint());let i=dA(s.layout.layoutBox,o);if(n){const l=n(mA(i));this.hasMutatedConstraints=!!l,l&&(i=Tj(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Bt(d=>{if(!$a(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(mp(t,r,0,n))}stopAnimation(){Bt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Bt(n=>{const{drag:r}=this.getProps();if(!$a(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(t[n]-Ve(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zs(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Bt(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=fA({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bt(i=>{if(!$a(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Ve(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;jA.set(this.visualElement,this);const t=this.visualElement.current,n=qn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Zs(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=Wn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Bt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=vf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function $a(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function SA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class _A extends zr{constructor(t){super(t),this.removeGroupControls=We,this.removeListeners=We,this.controls=new bA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||We}unmount(){this.removeGroupControls(),this.removeListeners()}}const nv=e=>(t,n)=>{e&&Ae.update(()=>e(t,n))};class CA extends zr{constructor(){super(...arguments),this.removePointerDownListener=We}onPointerDown(t){this.session=new Nj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ij(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:nv(t),onStart:nv(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&Ae.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=qn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function EA(){const e=m.useContext(Tc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=m.useId();return m.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const dl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const n=rv(e,t.target.x),r=rv(e,t.target.y);return`${n}% ${r}%`}},kA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Lr.parse(e);if(s.length>5)return r;const o=Lr.createTransformer(e),i=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=Ve(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class NA extends oe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;LP(PA),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),dl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Ae.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lj(e){const[t,n]=EA(),r=m.useContext(tp);return oe.createElement(NA,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(Tw),isPresent:t,safeToRemove:n})}const PA={borderRadius:{...Xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xo,borderTopRightRadius:Xo,borderBottomLeftRadius:Xo,borderBottomRightRadius:Xo,boxShadow:kA},Mj=["TopLeft","TopRight","BottomLeft","BottomRight"],TA=Mj.length,sv=e=>typeof e=="string"?parseFloat(e):e,ov=e=>typeof e=="number"||te.test(e);function AA(e,t,n,r,s,o){s?(e.opacity=Ve(0,n.opacity!==void 0?n.opacity:1,RA(r)),e.opacityExit=Ve(t.opacity!==void 0?t.opacity:1,0,OA(r))):o&&(e.opacity=Ve(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<TA;i++){const l=`border${Mj[i]}Radius`;let c=iv(t,l),u=iv(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ov(c)===ov(u)?(e[l]=Math.max(Ve(sv(c),sv(u),r),0),(An.test(u)||An.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ve(t.rotate||0,n.rotate||0,r))}function iv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RA=Dj(0,.5,oj),OA=Dj(.5,.95,We);function Dj(e,t,n){return r=>r<e?0:r>t?1:n(Yi(e,t,r))}function av(e,t){e.min=t.min,e.max=t.max}function Ut(e,t){av(e.x,t.x),av(e.y,t.y)}function lv(e,t,n,r,s){return e-=t,e=Jl(e,1/n,r),s!==void 0&&(e=Jl(e,1/s,r)),e}function IA(e,t=0,n=1,r=.5,s,o=e,i=e){if(An.test(t)&&(t=parseFloat(t),t=Ve(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Ve(o.min,o.max,r);e===o&&(l-=t),e.min=lv(e.min,t,n,l,s),e.max=lv(e.max,t,n,l,s)}function cv(e,t,[n,r,s],o,i){IA(e,t[n],t[r],t[s],t.scale,o,i)}const LA=["x","scaleX","originX"],MA=["y","scaleY","originY"];function uv(e,t,n,r){cv(e.x,t,LA,n?n.x:void 0,r?r.x:void 0),cv(e.y,t,MA,n?n.y:void 0,r?r.y:void 0)}function dv(e){return e.translate===0&&e.scale===1}function $j(e){return dv(e.x)&&dv(e.y)}function DA(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Fj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function fv(e){return Dt(e.x)/Dt(e.y)}class $A{constructor(){this.members=[]}add(t){gp(this.members,t),t.scheduleRender()}remove(t){if(vp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hv(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const FA=(e,t)=>e.depth-t.depth;class VA{constructor(){this.children=[],this.isDirty=!1}add(t){gp(this.children,t),this.isDirty=!0}remove(t){vp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(FA),this.isDirty=!1,this.children.forEach(t)}}function UA(e,t){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(Qn(r),e(o-t))};return Ae.read(r,!0),()=>Qn(r)}function BA(e){window.MotionDebug&&window.MotionDebug.record(e)}function zA(e){return e instanceof SVGElement&&e.tagName!=="svg"}function WA(e,t,n){const r=Pt(e)?e:jo(e);return r.start(mp("",r,t,n)),r.animation}const pv=["","X","Y","Z"],HA={visibility:"hidden"},mv=1e3;let qA=0;const es={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Vj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=qA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,es.totalNodes=es.resolvedTargetDeltas=es.recalculatedProjection=0,this.nodes.forEach(YA),this.nodes.forEach(eR),this.nodes.forEach(tR),this.nodes.forEach(JA),BA(es)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new VA)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new yp),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zA(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=UA(h,250),dl.hasAnimatedSinceResize&&(dl.hasAnimatedSinceResize=!1,this.nodes.forEach(vv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||iR,{onLayoutAnimationStart:j,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!Fj(this.targetLayout,w)||p,g=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const b={...pp(x,"layout"),onPlay:j,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||vv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nR),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gv);return}this.isUpdating||this.nodes.forEach(QA),this.isUpdating=!1,this.nodes.forEach(ZA),this.nodes.forEach(GA),this.nodes.forEach(KA),this.clearAllSnapshots();const l=performance.now();ut.delta=Ir(0,1e3/60,l-ut.timestamp),ut.timestamp=l,ut.isProcessing=!0,Pu.update.process(ut),Pu.preRender.process(ut),Pu.render.process(ut),ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(XA),this.sharedNodes.forEach(rR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!$j(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||Zr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),aR(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Ge();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(ur(l.x,c.offset.x),ur(l.y,c.offset.y)),l}removeElementScroll(i){const l=Ge();Ut(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ut(l,i);const{scroll:h}=this.root;h&&(ur(l.x,-h.offset.x),ur(l.y,-h.offset.y))}ur(l.x,d.offset.x),ur(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=Ge();Ut(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&no(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zr(d.latestValues)&&no(c,d.latestValues)}return Zr(this.latestValues)&&no(c,this.latestValues),c}removeTransform(i){const l=Ge();Ut(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Zr(u.latestValues))continue;yf(u.latestValues)&&u.updateSnapshot();const d=Ge(),f=u.measurePageBox();Ut(d,f),uv(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Zr(this.latestValues)&&uv(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ut.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),yi(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ut(this.target,this.layout.layoutBox),Rj(this.target,this.targetDelta)):Ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),yi(this.relativeTargetOrigin,this.target,p.target),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}es.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yf(this.parent.latestValues)||Aj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ut.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ut(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;vA(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=to(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=to(),this.projectionDeltaWithTransform=to());const x=this.projectionTransform;vi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=hv(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),es.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=to();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ge(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,x=p!==w,j=this.getStack(),y=!j||j.members.length<=1,v=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(oR));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const S=b/1e3;yv(f.x,i.x,S),yv(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sR(this.relativeTarget,this.relativeTargetOrigin,h,S),g&&DA(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Ge()),Ut(g,this.relativeTarget)),x&&(this.animationValues=d,AA(d,u,this.latestValues,S,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ae.update(()=>{dl.hasAnimatedSinceResize=!0,this.currentAnimation=WA(0,mv,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&Uj(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ge();const f=Dt(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=Dt(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Ut(l,c),no(l,d),vi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new $A),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<pv.length;d++){const f="rotate"+pv[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return HA;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ul(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=ul(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=hv(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:w}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in zl){if(h[x]===void 0)continue;const{correct:j,applyTo:y}=zl[x],v=u.transform==="none"?h[x]:j(h[x],f);if(y){const g=y.length;for(let b=0;b<g;b++)u[y[b]]=v}else u[x]=v}return this.options.layoutId&&(u.pointerEvents=f===this?ul(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(gv),this.root.sharedNodes.clear()}}}function GA(e){e.updateLayout()}function KA(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;o==="size"?Bt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],p=Dt(h);h.min=r[f].min,h.max=h.min+p}):Uj(o,n.layoutBox,r)&&Bt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],p=Dt(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=to();vi(l,r,n.layoutBox);const c=to();i?vi(c,e.applyTransform(s,!0),n.measuredBox):vi(c,r,n.layoutBox);const u=!$j(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const w=Ge();yi(w,n.layoutBox,h.layoutBox);const x=Ge();yi(x,r,p.layoutBox),Fj(w,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function YA(e){es.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function JA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function XA(e){e.clearSnapshot()}function gv(e){e.clearMeasurements()}function QA(e){e.isLayoutDirty=!1}function ZA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eR(e){e.resolveTargetDelta()}function tR(e){e.calcProjection()}function nR(e){e.resetRotation()}function rR(e){e.removeLeadSnapshot()}function yv(e,t,n){e.translate=Ve(t.translate,0,n),e.scale=Ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xv(e,t,n,r){e.min=Ve(t.min,n.min,r),e.max=Ve(t.max,n.max,r)}function sR(e,t,n,r){xv(e.x,t.x,n.x,r),xv(e.y,t.y,n.y,r)}function oR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iR={duration:.45,ease:[.4,0,.1,1]},wv=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),jv=wv("applewebkit/")&&!wv("chrome/")?Math.round:We;function bv(e){e.min=jv(e.min),e.max=jv(e.max)}function aR(e){bv(e.x),bv(e.y)}function Uj(e,t,n){return e==="position"||e==="preserve-aspect"&&!gf(fv(t),fv(n),.2)}const lR=Vj({attachResizeListener:(e,t)=>Wn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vu={current:void 0},Bj=Vj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vu.current){const e=new lR({});e.mount(window),e.setOptions({layoutScroll:!0}),Vu.current=e}return Vu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cR={pan:{Feature:CA},drag:{Feature:_A,ProjectionNode:Bj,MeasureLayout:Lj}},uR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function dR(e){const t=uR.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function wf(e,t,n=1){const[r,s]=dR(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return _j(i)?parseFloat(i):i}else return cf(s)?wf(s,t,n+1):s}function fR(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const o=s.get();if(!cf(o))return;const i=wf(o,r);i&&s.set(i)});for(const s in t){const o=t[s];if(!cf(o))continue;const i=wf(o,r);i&&(t[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:t,transitionEnd:n}}const hR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zj=e=>hR.has(e),pR=e=>Object.keys(e).some(zj),Sv=e=>e===Ps||e===te,_v=(e,t)=>parseFloat(e.split(", ")[t]),Cv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return _v(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?_v(o[1],e):0}},mR=new Set(["x","y","z"]),gR=oa.filter(e=>!mR.has(e));function vR(e){const t=[];return gR.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const bo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Cv(4,13),y:Cv(5,14)};bo.translateX=bo.x;bo.translateY=bo.y;const yR=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=bo[u](r,o)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=bo[u](c,o)}),e},xR=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(zj);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=Jo(d);const h=t[c];let p;if(Hl(h)){const w=h.length,x=h[0]===null?1:0;d=h[x],f=Jo(d);for(let j=x;j<w&&h[j]!==null;j++)p?cp(Jo(h[j])===p):p=Jo(h[j])}else p=Jo(h);if(f!==p)if(Sv(f)&&Sv(p)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===te&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(i||(o=vR(e),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=yR(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Ac&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function wR(e,t,n,r){return pR(t)?xR(e,t,n,r):{target:t,transitionEnd:r}}const jR=(e,t,n,r)=>{const s=fR(e,t,r);return t=s.target,r=s.transitionEnd,wR(e,t,n,r)},jf={current:null},Wj={current:!1};function bR(){if(Wj.current=!0,!!Ac)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jf.current=e.matches;e.addListener(t),t()}else jf.current=!1}function SR(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],i=n[s];if(Pt(o))e.addValue(s,o),Yl(r)&&r.add(s);else if(Pt(i))e.addValue(s,jo(o,{owner:e})),Yl(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,jo(l!==void 0?l:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Ev=new WeakMap,Hj=Object.keys(Ki),_R=Hj.length,kv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],CR=ep.length;class ER{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ae.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Oc(n),this.isVariantNode=Pw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&Pt(h)&&(h.set(l[f],!1),Yl(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Ev.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Wj.current||bR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ev.delete(this.current),this.projection&&this.projection.unmount(),Qn(this.notifyUpdate),Qn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ns.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Ae.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let i,l;for(let c=0;c<_R;c++){const u=Hj[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=Ki[u];h&&(i=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Zs(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<kv.length;r++){const s=kv[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=SR(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<CR;r++){const s=ep[r],o=this.props[s];(Gi(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=jo(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=lp(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Pt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class qj extends ER{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},o){let i=z2(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){U2(this,r,i);const l=jR(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function kR(e){return window.getComputedStyle(e)}class NR extends qj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ns.has(n)){const r=hp(n);return r&&r.default||0}else{const r=kR(t),s=(Ow(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Oj(t,n)}build(t,n,r,s){rp(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return ap(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){Fw(t,n,r,s)}}class PR extends qj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ns.has(n)){const r=hp(n);return r&&r.default||0}return n=Vw.has(n)?n:Qh(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ge()}scrapeMotionValuesFromProps(t,n){return Bw(t,n)}build(t,n,r,s){op(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){Uw(t,n,r,s)}mount(t){this.isSVGTag=ip(t.tagName),super.mount(t)}}const TR=(e,t)=>np(e)?new PR(t,{enableHardwareAcceleration:!1}):new NR(t,{enableHardwareAcceleration:!0}),AR={layout:{ProjectionNode:Bj,MeasureLayout:Lj}},RR={...sA,..._T,...cR,...AR},Wr=OP((e,t)=>dT(e,t,RR,TR));function Gj(){const e=m.useRef(!1);return Xh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function OR(){const e=Gj(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>Ae.postRender(r),[r]),t]}class IR extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function LR({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),m.createElement(IR,{isPresent:t,childRef:r,sizeRef:s},m.cloneElement(e,{ref:r}))}const Uu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=zw(MR),c=m.useId(),u=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return m.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(e=m.createElement(LR,{isPresent:n},e)),m.createElement(Tc.Provider,{value:u},e)};function MR(){return new Map}function DR(e){return m.useEffect(()=>()=>e(),[])}const ts=e=>e.key||"";function $R(e,t){e.forEach(n=>{const r=ts(n);t.set(r,n)})}function FR(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const VR=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=m.useContext(tp).forceRender||OR()[0],c=Gj(),u=FR(e);let d=u;const f=m.useRef(new Map).current,h=m.useRef(d),p=m.useRef(new Map).current,w=m.useRef(!0);if(Xh(()=>{w.current=!1,$R(u,p),h.current=d}),DR(()=>{w.current=!0,p.clear(),f.clear()}),w.current)return m.createElement(m.Fragment,null,d.map(v=>m.createElement(Uu,{key:ts(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},v)));d=[...d];const x=h.current.map(ts),j=u.map(ts),y=x.length;for(let v=0;v<y;v++){const g=x[v];j.indexOf(g)===-1&&!f.has(g)&&f.set(g,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((v,g)=>{if(j.indexOf(g)!==-1)return;const b=p.get(g);if(!b)return;const S=x.indexOf(g);let k=v;if(!k){const C=()=>{f.delete(g);const _=Array.from(p.keys()).filter(E=>!j.includes(E));if(_.forEach(E=>p.delete(E)),h.current=u.filter(E=>{const R=ts(E);return R===g||_.includes(R)}),!f.size){if(c.current===!1)return;l(),r&&r()}};k=m.createElement(Uu,{key:ts(b),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:o,mode:i},b),f.set(g,k)}d.splice(S,0,k)}),d=d.map(v=>{const g=v.key;return f.has(g)?v:m.createElement(Uu,{key:ts(v),isPresent:!0,presenceAffectsLayout:o,mode:i},v)}),m.createElement(m.Fragment,null,f.size?d:d.map(v=>m.cloneElement(v)))},UR=kc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=oe.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?tN:"button";return a.jsx(i,{className:ve(UR({variant:t,size:n,className:e})),ref:o,...s})});B.displayName="Button";const q=oe.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));q.displayName="Input";var BR="Label",Kj=m.forwardRef((e,t)=>a.jsx(ce.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Kj.displayName=BR;var Yj=Kj;const zR=kc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=oe.forwardRef(({className:e,...t},n)=>a.jsx(Yj,{ref:n,className:ve(zR(),e),...t}));H.displayName=Yj.displayName;const ne=oe.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const _e=oe.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));_e.displayName="CardHeader";const Ce=oe.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ce.displayName="CardTitle";const Jj=oe.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));Jj.displayName="CardDescription";const re=oe.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ve("p-6 pt-0",e),...t}));re.displayName="CardContent";const WR=oe.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ve("flex items-center p-6 pt-0",e),...t}));WR.displayName="CardFooter";const HR="modulepreload",qR=function(e){return"/"+e},Nv={},ca=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=qR(o),o in Nv)return;Nv[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":HR,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},GR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ca(()=>Promise.resolve().then(()=>Io),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class xp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class KR extends xp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pv extends xp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tv extends xp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bf||(bf={}));var YR=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class JR{constructor(t,{headers:n={},customFetch:r,region:s=bf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=GR(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return YR(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new KR(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Pv(f);if(!f.ok)throw new Tv(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield f.json():p==="application/octet-stream"?w=yield f.blob():p==="text/event-stream"?w=f:p==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Tv||s instanceof Pv?s.context:void 0}}})}}var _t={},wp={},Dc={},ua={},$c={},Fc={},XR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},So=XR();const QR=So.fetch,Xj=So.fetch.bind(So),Qj=So.Headers,ZR=So.Request,eO=So.Response,Io=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qj,Request:ZR,Response:eO,default:Xj,fetch:QR},Symbol.toStringTag,{value:"Module"})),tO=KS(Io);var Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});let nO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Vc.default=nO;var Zj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fc,"__esModule",{value:!0});const rO=Zj(tO),sO=Zj(Vc);let oO=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=rO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,u;let d=null,f=null,h=null,p=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const j=await o.text();try{d=JSON.parse(j),Array.isArray(d)&&o.status===404&&(f=[],d=null,p=200,w="OK")}catch{o.status===404&&j===""?(p=204,w="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,w="OK"),d&&this.shouldThrowOnError)throw new sO.default(d)}return{error:d,data:f,count:h,status:p,statusText:w}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Fc.default=oO;var iO=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});const aO=iO(Fc);let lO=class extends aO.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};$c.default=lO;var cO=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ua,"__esModule",{value:!0});const uO=cO($c);let dO=class extends uO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ua.default=dO;var fO=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dc,"__esModule",{value:!0});const Qo=fO(ua);let hO=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new Qo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Qo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Qo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Dc.default=hO;var eb=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wp,"__esModule",{value:!0});const pO=eb(Dc),mO=eb(ua);let gO=class tb{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new pO.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new mO.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};wp.default=gO;var Lo=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_t,"__esModule",{value:!0});_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const nb=Lo(wp);_t.PostgrestClient=nb.default;const rb=Lo(Dc);_t.PostgrestQueryBuilder=rb.default;const sb=Lo(ua);_t.PostgrestFilterBuilder=sb.default;const ob=Lo($c);_t.PostgrestTransformBuilder=ob.default;const ib=Lo(Fc);_t.PostgrestBuilder=ib.default;const ab=Lo(Vc);_t.PostgrestError=ab.default;var vO=_t.default={PostgrestClient:nb.default,PostgrestQueryBuilder:rb.default,PostgrestFilterBuilder:sb.default,PostgrestTransformBuilder:ob.default,PostgrestBuilder:ib.default,PostgrestError:ab.default};const{PostgrestClient:yO,PostgrestQueryBuilder:q4,PostgrestFilterBuilder:G4,PostgrestTransformBuilder:K4,PostgrestBuilder:Y4,PostgrestError:J4}=vO;function xO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const wO=xO(),jO="2.12.2",bO=`realtime-js/${jO}`,SO="1.0.0",lb=1e4,_O=1e3;var xi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xi||(xi={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var dn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dn||(dn={}));var Sf;(function(e){e.websocket="websocket"})(Sf||(Sf={}));var rs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rs||(rs={}));class CO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class cb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pe||(Pe={}));const Av=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=EO(i,e,t,s),o),{})},EO=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?ub(o,i):_f(i)},ub=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return TO(t,n)}switch(e){case Pe.bool:return kO(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return NO(t);case Pe.json:case Pe.jsonb:return PO(t);case Pe.timestamp:return AO(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return _f(t);default:return _f(t)}},_f=e=>e,kO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},TO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>ub(t,l))}return e},AO=e=>typeof e=="string"?e.replace(" ","T"):e,db=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Bu{constructor(t,n,r={},s=lb){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rv||(Rv={}));class wi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=wi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wi.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(j=>j.presence_ref),p=f.map(j=>j.presence_ref),w=d.filter(j=>p.indexOf(j.presence_ref)<0),x=f.filter(j=>h.indexOf(j.presence_ref)<0);w.length>0&&(l[u]=w),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ov;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ov||(Ov={}));var Xl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Xl||(Xl={}));var Fn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fn||(Fn={}));class jp{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,dn.join,this.params,this.timeout),this.rejoinTimer=new cb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new wi(this),this.broadcastEndpointURL=db(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Xl.PRESENCE],d={},f={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Fn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Fn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(Fn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,j=[];for(let y=0;y<x;y++){const v=w[y],{filter:{event:g,schema:b,table:S,filter:k}}=v,C=h&&h[y];if(C&&C.event===g&&C.schema===b&&C.table===S&&C.filter===k)j.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Fn.SUBSCRIBED);return}}).receive("error",h=>{this.state=rt.errored,t==null||t(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===rt.joined&&t===Xl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Bu(this,dn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bu(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=dn;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,x,j;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(x=p.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===i}).map(p=>p.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var w,x,j,y,v,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const b=p.id,S=(w=p.filter)===null||w===void 0?void 0:w.event;return b&&((x=n.ids)===null||x===void 0?void 0:x.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:x,table:j,commit_timestamp:y,type:v,errors:g}=w;h=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:y,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(w))}p.callback(h,r)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&jp.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dn.close,{},t)}_onError(t){this._on(dn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Av(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Av(t.columns,t.old_record)),n}}const Iv=()=>{},RO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OO{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iv,this.ref=0,this.logger=Iv,this.conn=null,this.sendBuffer=[],this.serializer=new CO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>ca(()=>Promise.resolve().then(()=>Io),void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Sf.websocket}`,this.httpEndpoint=db(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(setTimeout(()=>{this.setAuth().catch(t=>{this.log("error","error setting auth",t)})},0),!this.conn){if(this.transport||(this.transport=wO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:SO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xi.connecting:return rs.Connecting;case xi.open:return rs.Open;case xi.closing:return rs.Closing;default:return rs.Closed}}isConnected(){return this.connectionState()===rs.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new jp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:bO};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(dn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(_O,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(dn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([RO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class bp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IO extends bp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cf extends bp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var LO=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const fb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ca(()=>Promise.resolve().then(()=>Io),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},MO=()=>LO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ca(()=>Promise.resolve().then(()=>Io),void 0)).Response:Response}),Ef=e=>{if(Array.isArray(e))return e.map(n=>Ef(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Ef(r)}),t},DO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ts=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const zu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$O=(e,t,n)=>Ts(void 0,void 0,void 0,function*(){const r=yield MO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new IO(zu(s),o,i))}).catch(s=>{t(new Cf(zu(s),s))}):t(new Cf(zu(e),e))}),FO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(DO(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function da(e,t,n,r,s,o){return Ts(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,FO(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>$O(c,l,r))})})}function Ql(e,t,n,r){return Ts(this,void 0,void 0,function*(){return da(e,"GET",t,n,r)})}function Vn(e,t,n,r,s){return Ts(this,void 0,void 0,function*(){return da(e,"POST",t,r,s,n)})}function kf(e,t,n,r,s){return Ts(this,void 0,void 0,function*(){return da(e,"PUT",t,r,s,n)})}function VO(e,t,n,r){return Ts(this,void 0,void 0,function*(){return da(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hb(e,t,n,r,s){return Ts(this,void 0,void 0,function*(){return da(e,"DELETE",t,r,s,n)})}var jt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const UO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BO{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=fb(s)}uploadOrUpdate(t,n,r,s){return jt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Lv),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?kf:Vn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}upload(t,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return jt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Lv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield kf(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Vn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new bp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}update(t,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return jt(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}copy(t,n,r){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield Vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return jt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Vn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return jt(this,void 0,void 0,function*(){try{const s=yield Vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}download(t,n){return jt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ql(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}info(t){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ql(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ef(r),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}exists(t){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield VO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ze(r)&&r instanceof Cf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return jt(this,void 0,void 0,function*(){try{return{data:yield hb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}list(t,n,r){return jt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},UO),n),{prefix:t||""});return{data:yield Vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const zO="2.10.2",WO={"X-Client-Info":`storage-js/${zO}`};var Rs=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class HO{constructor(t,n={},r,s){const o=new URL(t);if(s!=null&&s.useNewHostname){const i=/supabase\.(co|in|red)$/.test(o.hostname),l="/storage";i&&!o.hostname.includes("storage.supabase.")&&o.pathname.startsWith(l)&&(o.pathname=o.pathname.substring(l.length),o.hostname=o.hostname.replace("supabase.","storage.supabase."))}this.url=o.href,this.headers=Object.assign(Object.assign({},WO),n),this.fetch=fb(r)}listBuckets(){return Rs(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ze(t))return{data:null,error:t};throw t}})}getBucket(t){return Rs(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Rs(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Rs(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Rs(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Rs(this,void 0,void 0,function*(){try{return{data:yield hb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}}class qO extends HO{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new BO(this.url,this.headers,t,this.fetch)}}const GO="2.39.0";let si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";const KO={"X-Client-Info":`supabase-js-${si}/${GO}`};var YO=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const JO=e=>{let t;return e?t=e:typeof fetch>"u"?t=Xj:t=fetch,(...n)=>t(...n)},XO=()=>typeof Headers>"u"?Qj:Headers,QO=(e,t,n)=>{const r=JO(n),s=XO();return(o,i)=>YO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};function ZO(e){return e.replace(/\/$/,"")}function eI(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o)}}const pb="2.70.0",Vs=30*1e3,Nf=3,Wu=Nf*Vs,tI="http://localhost:9999",nI="supabase.auth.token",rI={"X-Client-Info":`gotrue-js/${pb}`},Pf="X-Supabase-Api-Version",mb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oI=6e5;class Sp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iI extends Sp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function aI(e){return le(e)&&e.name==="AuthApiError"}class gb extends Sp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hr extends Sp{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class ir extends Hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lI(e){return le(e)&&e.name==="AuthSessionMissingError"}class Fa extends Hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Va extends Hr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ua extends Hr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cI(e){return le(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mv extends Hr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tf extends Hr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Hu(e){return le(e)&&e.name==="AuthRetryableFetchError"}class Dv extends Hr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ji extends Hr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$v=` 	
\r=`.split(""),uI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$v.length;t+=1)e[$v[t].charCodeAt(0)]=-2;for(let t=0;t<Zl.length;t+=1)e[Zl[t].charCodeAt(0)]=t;return e})();function Fv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zl[r]),t.queuedBits-=6}}function vb(e,t,n){const r=uI[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vv(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{hI(i,r,n)};for(let i=0;i<e.length;i+=1)vb(e.charCodeAt(i),s,o);return t.join("")}function dI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}dI(r,t)}}function hI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function pI(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)vb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function mI(e){const t=[];return fI(e,n=>t.push(n)),new Uint8Array(t)}function gI(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Fv(s,n,r)),Fv(null,n,r),t.join("")}function vI(e){return Math.round(Date.now()/1e3)+e}function yI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const on=()=>typeof window<"u"&&typeof document<"u",Jr={tested:!1,writable:!1},bi=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jr.tested)return Jr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jr.tested=!0,Jr.writable=!0}catch{Jr.tested=!0,Jr.writable=!1}return Jr.writable};function xI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const yb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ca(()=>Promise.resolve().then(()=>Io),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xb=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ba=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},za=async(e,t)=>{await e.removeItem(t)};class Uc{constructor(){this.promise=new Uc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Uc.promiseConstructor=Promise;function qu(e){const t=e.split(".");if(t.length!==3)throw new ji("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!sI.test(t[r]))throw new ji("JWT not in base64url format");return{header:JSON.parse(Vv(t[0])),payload:JSON.parse(Vv(t[1])),signature:pI(t[2]),raw:{header:t[0],payload:t[1]}}}async function jI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bI(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function SI(e){return("0"+e.toString(16)).substr(-2)}function _I(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,SI).join("")}async function CI(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function EI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await CI(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Os(e,t,n=!1){const r=_I();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await xb(e,`${t}-code-verifier`,s);const o=await EI(r);return[o,r===o?"plain":"s256"]}const kI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NI(e){const t=e.headers.get(Pf);if(!t||!t.match(kI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function TI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(e){if(!AI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var RI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ns=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OI=[502,503,504];async function Uv(e){var t;if(!wI(e))throw new Tf(ns(e),0);if(OI.includes(e.status))throw new Tf(ns(e),e.status);let n;try{n=await e.json()}catch(o){throw new gb(ns(o),o)}let r;const s=NI(e);if(s&&s.getTime()>=mb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Dv(ns(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ir}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Dv(ns(n),e.status,n.weak_password.reasons);throw new iI(ns(n),e.status||500,r)}const II=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function de(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Pf]||(o[Pf]=mb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await LI(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function LI(e,t,n,r,s,o){const i=II(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Tf(ns(c),0)}if(l.ok||await Uv(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Uv(c)}}function Dn(e){var t;let n=null;FI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vI(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Bv(e){const t=Dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function MI(e){return{data:e,error:null}}function DI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=RI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function $I(e){return e}function FI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gu=["global","local","others"];var VI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class UI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=yb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Gu[0]){if(Gu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gu.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hr})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=VI(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:DI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:$I});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(le(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Is(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Is(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hr})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Is(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hr})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Is(t.userId);try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Is(t.userId),Is(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}}const BI={getItem:e=>bi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{bi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{bi()&&globalThis.localStorage.removeItem(e)}};function zv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function zI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ls={debug:!!(globalThis&&bi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class WI extends wb{}async function HI(e,t,n){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new WI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ls.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}zI();const qI={url:tI,storageKey:nI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wv(e,t,n){return await n()}class Ji{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ji.nextInstanceID,Ji.nextInstanceID+=1,this.instanceID>0&&on()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qI),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new UI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=yb(s.fetch),this.lock=s.lock||Wv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:on()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=HI:this.lock=Wv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:bi()?this.storage=BI:(this.memoryStorage={},this.storage=zv(this.memoryStorage)):(this.memoryStorage={},this.storage=zv(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=xI(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),on()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),cI(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return le(n)?{error:n}:{error:new gb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dn}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(le(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Os(this.storage,this.storageKey)),o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:Dn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Dn})}else throw new Va("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(le(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bv})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bv})}else throw new Va("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,l,c,u,d,f,h,p;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:j,wallet:y,statement:v,options:g}=t;let b;if(on())if(typeof y=="object")b=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const S=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:j,error:y}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:gI(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Dn});if(y)throw y;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Fa}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:y})}catch(j){if(le(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await Ba(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Dn});if(await za(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Fa}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(le(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Fa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Os(this.storage,this.storageKey));const{error:f}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Va("You must provide either an email or phone number.")}catch(l){if(le(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Dn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Os(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:MI})}catch(o){if(le(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ir;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Va("You must provide either an email or phone number and a type")}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Wu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ir}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:hr})})}catch(n){if(le(n))return lI(n)&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new ir;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Os(this.storage,this.storageKey));const{data:u,error:d}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:hr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ir;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=qu(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ir;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!on())throw new Ua("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ua(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ua("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mv("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new Ua("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:x,error:j}=await this._getUser(o);if(j)throw j;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(le(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ba(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(aI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=yI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Os(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(le(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return on()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(le(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await bI(async s=>(s>0&&await jI(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Hu(o)&&Date.now()+i-r<Vs})}catch(r){if(this._debug(n,"error",r),le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),on()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ba(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Wu;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Wu}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Hu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ir;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Uc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new ir;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),le(o)){const i={session:null,error:o};return Hu(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await za(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&on()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vs}ms, refresh threshold is ${Nf} ticks`),s<=Nf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Os(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(le(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=qu(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+oI>Date.now()))return r;const{data:s,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ji("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new ji("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};r=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=qu(r);if(PI(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=TI(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,mI(`${l}.${c}`)))throw new ji("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}}Ji.nextInstanceID=0;class GI extends Ji{constructor(t){super(t)}}var KI=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const YI={headers:KO},JI={schema:"public"},XI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QI={};class ZI{constructor(t,n,r){var s,o,i,l,c,u,d,f;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=ZO(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:JI,realtime:QI,auth:Object.assign(Object.assign({},XI),{storageKey:p}),global:YI},x=eI(r??{},w);this.storageKey=(o=(s=x.auth)===null||s===void 0?void 0:s.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=(i=x.global)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=x.auth)!==null&&c!==void 0?c:{},this.headers,(u=x.global)===null||u===void 0?void 0:u.fetch),this.fetch=QO(n,this._getAccessToken.bind(this),(d=x.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new yO(`${h}/rest/v1`,{headers:this.headers,schema:(f=x.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new JR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qO(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return KI(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GI({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,debug:l,fetch:u})}_initRealtimeClient(t){return new OO(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eL=(e,t,n)=>new ZI(e,t,n),tL="https://ovpfcyqudltassvckvxk.supabase.co",nL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im92cGZjeXF1ZGx0YXNzdmNrdnhrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNzc0NTMsImV4cCI6MjA2NTg1MzQ1M30.0VVPA3XWy0nk5BQFa9e2KlFxqoMhU7MVkbBXq_q8XrM",ee=eL(tL,nL),Ne={ADMIN:"admin",MANAGER:"manager",CASHIER:"cashier",STOCK:"stock",SALESPERSON:"salesperson",NONE:"none"},Q={MANAGE_USERS:"manage_users",MANAGE_PRODUCTS:"manage_products",MANAGE_STOCK:"manage_stock",MANAGE_CATEGORIES:"manage_categories",APPLY_DISCOUNTS:"apply_discounts",CANCEL_SALES:"cancel_sales",VIEW_REPORTS:"view_reports",PROCESS_SALES:"process_sales",VIEW_ALL_STORES_DATA:"view_all_stores_data",SHARE_STOCK:"share_stock",CASH_REGISTER_MANAGEMENT:"cash_register_management"},fl={[Ne.ADMIN]:[Q.MANAGE_USERS,Q.MANAGE_PRODUCTS,Q.MANAGE_STOCK,Q.MANAGE_CATEGORIES,Q.APPLY_DISCOUNTS,Q.CANCEL_SALES,Q.VIEW_REPORTS,Q.PROCESS_SALES,Q.VIEW_ALL_STORES_DATA,Q.SHARE_STOCK,Q.CASH_REGISTER_MANAGEMENT],[Ne.MANAGER]:[Q.MANAGE_PRODUCTS,Q.MANAGE_STOCK,Q.MANAGE_CATEGORIES,Q.APPLY_DISCOUNTS,Q.CANCEL_SALES,Q.VIEW_REPORTS,Q.PROCESS_SALES,Q.SHARE_STOCK,Q.CASH_REGISTER_MANAGEMENT],[Ne.CASHIER]:[Q.PROCESS_SALES],[Ne.STOCK]:[Q.MANAGE_STOCK,Q.MANAGE_PRODUCTS,Q.MANAGE_CATEGORIES,Q.SHARE_STOCK],[Ne.SALESPERSON]:[Q.PROCESS_SALES],[Ne.NONE]:[]},$t=(e,t)=>{var n;return((n=fl[e])==null?void 0:n.includes(t))||!1},Xe=()=>{const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null},Hv=e=>{localStorage.setItem("currentUser",JSON.stringify(e))},Af=()=>{localStorage.removeItem("currentUser")},jb=async()=>{try{console.log("🔄 Buscando usuários...");const e=await fetch("/api/usuarios",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Erro ao buscar usuários");const t=await e.json();console.log("👥 Usuários do backend:",t.users.length);const{data:n,error:r}=await ee.from("user_roles").select("*");if(r)return console.error("Erro ao buscar roles:",r),[];console.log("🏪 Roles encontradas:",n.length),console.log("🏪 Detalhes das roles:",n);const{data:s,error:o}=await ee.from("stores").select("*");if(o)return console.error("Erro ao buscar stores:",o),[];console.log("🏪 Stores encontradas:",s.length);const i={};return s.forEach(c=>{i[c.id]=c}),t.users.map(c=>{var h,p,w;console.log("🔍 Processando usuário:",c.id,"Nome:",((h=c.user_metadata)==null?void 0:h.name)||c.email.split("@")[0]);const u=n.find(x=>x.user_id===c.id);console.log("🔍 Role encontrada para usuário:",c.id,":",u);const d=u!=null&&u.store_id?i[u.store_id]:null;console.log("🔍 Store encontrada para usuário:",c.id,"store_id:",u==null?void 0:u.store_id,"store:",d);const f={id:c.id,username:c.email,name:((p=c.user_metadata)==null?void 0:p.name)||c.email.split("@")[0],role:u?u.role:"none",store_id:u?u.store_id:null,active:u?u.active:!0,created_at:c.created_at,stores:d};return console.log("👤 Usuário processado:",f.name,"Role:",f.role,"Loja:",((w=f.stores)==null?void 0:w.name)||"Não definida","Ativo:",f.active),f})}catch(e){return console.error("Erro ao buscar usuários:",e),[]}},rL=async(e,t)=>{var n;try{const{data:r,error:s}=await ee.auth.signInWithPassword({email:e,password:t});if(s||!(r!=null&&r.user))return console.error("[AUTH] Erro ao autenticar:",s),null;let o="none";return r.user.email==="admin@server.com"&&(o="admin"),{id:r.user.id,email:r.user.email,name:((n=r.user.user_metadata)==null?void 0:n.name)||e.split("@")[0],role:o,store_id:null,active:!0,created_at:r.user.created_at,stores:null}}catch(r){return console.error("[AUTH] Erro inesperado:",r),null}},sL=async(e,t)=>{try{const n=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,role:t.role,store_id:t.store_id,password:t.password||void 0})});if(!n.ok){const s=await n.json();throw console.error("❌ Erro do backend (update):",s),new Error(s.error||"Erro ao atualizar usuário")}return await n.json()}catch(n){throw console.error("❌ Erro na comunicação (update):",n),new Error(`Erro na comunicação com o backend: ${n.message}`)}},oL=async e=>{try{const t=await fetch(`/api/usuarios/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const n=await t.json();throw new Error(n.error||"Erro ao deletar usuário")}return await t.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},qr=async(e=!1)=>{let t=ee.from("stores").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_online_store",!1));const{data:n,error:r}=await t;return r?[]:n},iL=async(e,t)=>{try{const n=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:t})});if(!n.ok){const s=await n.json();throw console.error("❌ Erro do backend:",s),new Error(s.error||"Erro ao alterar status do usuário")}return await n.json()}catch(n){throw console.error("❌ Erro na comunicação:",n),new Error(`Erro na comunicação com o backend: ${n.message}`)}},aL=({onLogin:e})=>{const[t,n]=m.useState(""),[r,s]=m.useState(""),[o,i]=m.useState(!1),{toast:l}=Tt(),c=async u=>{u.preventDefault(),console.log("[LOGIN] handleSubmit chamado"),i(!0);try{console.log("[LOGIN] Antes do authenticateUser");const d=await rL(t,r);console.log("[LOGIN] Resultado do login:",d),d?d.role==="none"?(l({title:"Acesso restrito",description:"Seu usuário ainda não possui permissão de acesso. Solicite a um administrador para atribuir uma função (role).",variant:"destructive"}),console.warn("[LOGIN] Usuário sem role, acesso bloqueado:",d)):(l({title:"Login realizado com sucesso!",description:`Bem-vindo, ${d.email}!`}),e(d)):(l({title:"Erro no login",description:"Usuário ou senha incorretos, ou usuário sem permissão ativa.",variant:"destructive"}),console.error("[LOGIN] Falha no login: usuário não encontrado ou sem permissão."))}catch(d){console.error("[LOGIN] Erro inesperado:",d),l({title:"Erro no sistema",description:"Ocorreu um problema ao tentar fazer login. Tente novamente.",variant:"destructive"})}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg-fdg p-4",children:a.jsx(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:a.jsxs(ne,{className:"glass-effect neon-glow",children:[a.jsxs(_e,{className:"text-center",children:[a.jsx("img",{src:"/images/logobranca fdg.png",alt:"Fio de Gala",className:"mx-auto mb-4 w-32 h-32 object-contain"}),a.jsx(Ce,{className:"text-2xl font-bold text-white",children:"FDG System"}),a.jsx(Jj,{className:"text-gray-300",children:"Faça login para acessar o sistema"})]}),a.jsxs(re,{children:[a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",className:"text-white",children:"E-mail"}),a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(q,{id:"email",type:"email",placeholder:"Digite seu e-mail",value:t,onChange:u=>n(u.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password",className:"text-white",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(af,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(q,{id:"password",type:"password",placeholder:"Digite sua senha",value:r,onChange:u=>s(u.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),a.jsx(B,{type:"submit",className:"w-full bg-[#3B657B] hover:bg-[#33566a] text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105",disabled:o,children:o?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"loading-spinner w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Entrando..."]}):"Entrar"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-background/20 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Use o e-mail cadastrado no Supabase Authentication:"}),a.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[a.jsx("div",{children:"Exemplo: admin@admin.com / sua senha"}),a.jsx("div",{children:"Exemplo: gerente@empresa.com / sua senha"})]})]})]})]})})})},lL=({onLogout:e})=>{var p;const[t,n]=m.useState(!1),r=Xe(),s=Bh(),o=Ao(),l=[{id:"pos",label:"Frente de Caixa",icon:Wi,path:"/pos",permission:Q.PROCESS_SALES},{id:"products",label:"Produtos",icon:Or,path:"/products",permission:Q.MANAGE_PRODUCTS},{id:"categories",label:"Categorias",icon:lf,path:"/categories",permission:Q.MANAGE_CATEGORIES},{id:"stock",label:"Estoque",icon:gP,path:"/stock",permission:Q.MANAGE_STOCK},{id:"customers",label:"Clientes",icon:fs,path:"/customers",permission:Q.MANAGE_PRODUCTS},{id:"reports",label:"Relatórios",icon:vw,path:"/reports",permission:Q.VIEW_REPORTS},{id:"users",label:"Usuários",icon:dP,path:"/users",permission:Q.MANAGE_USERS},{id:"cash-register",label:"Controle de Caixa",icon:xs,path:"/cash-register",permission:Q.CASH_REGISTER_MANAGEMENT}].filter(w=>$t(r==null?void 0:r.role,w.permission)),c=()=>{Af(),e(),s("/login")},u=()=>{const w=o.pathname==="/"?"/pos":o.pathname,x=l.find(j=>j.path===w);return(x==null?void 0:x.label)||"Dashboard"};m.useEffect(()=>{const w=()=>{window.innerWidth>=1024?n(!0):n(!1)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const d={open:{x:0},closed:{x:"-100%"}},f={type:"spring",stiffness:300,damping:30},h=((p=r==null?void 0:r.stores)==null?void 0:p.name)||($t(r==null?void 0:r.role,Q.VIEW_ALL_STORES_DATA)?"Todas as Lojas":"Loja não definida");return a.jsxs("div",{className:"min-h-screen bg-background flex",children:[a.jsx(VR,{children:t&&a.jsx(Wr.div,{variants:d,initial:"closed",animate:"open",exit:"closed",transition:f,className:"fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border shadow-lg lg:static lg:translate-x-0",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs(Bi,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("img",{src:"/images/logobranca fdg.png",alt:"FDG System",className:"w-8 h-8 object-contain"}),a.jsx("span",{className:"font-bold text-lg",children:"FDG System"})]}),a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>n(!1),className:"lg:hidden",children:a.jsx(Jh,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Logado como:"}),a.jsx("p",{className:"font-semibold",children:r==null?void 0:r.name}),a.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:r==null?void 0:r.role}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[a.jsx(Hi,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:h})]})]}),a.jsx("nav",{className:"space-y-2",children:l.map(w=>{const x=w.icon,j=o.pathname===w.path||o.pathname==="/"&&w.path==="/pos";return a.jsx(B,{variant:j?"default":"ghost",className:`w-full justify-start ${j?"bg-primary text-primary-foreground":""}`,asChild:!0,onClick:()=>{window.innerWidth<1024&&n(!1)},children:a.jsxs(Bi,{to:w.path,children:[a.jsx(x,{className:"w-5 h-5 mr-3"}),w.label]})},w.id)})})]}),a.jsx("div",{className:"p-4 border-t border-border",children:a.jsxs(B,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:c,children:[a.jsx(rP,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})},"sidebar")}),t&&window.innerWidth<1024&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>n(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[a.jsx("header",{className:"bg-card border-b border-border p-4 flex items-center justify-between sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>n(!0),className:"lg:hidden",children:a.jsx(oP,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-xl font-semibold",children:u()}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(Hi,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:h})]})]})]})}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(fk,{})})]})]})},cL=async()=>{var s;const e=Xe();let t=ee.from("stock_movements").select(`
      *,
      products (name, barcode),
      stores (name, is_online_store),
      product_store_stock (id)
    `).order("created_at",{ascending:!1});e&&e.store_id&&!((s=e.stores)!=null&&s.is_online_store)&&!$t(e.role,Q.VIEW_ALL_STORES_DATA)&&(t=t.or(`store_id.eq.${e.store_id},stock_type.eq.online`));const{data:n,error:r}=await t;return r?(console.error("Error fetching stock movements:",r),[]):n.map(o=>{var i,l;return{...o,productName:((i=o.products)==null?void 0:i.name)||"Produto Desconhecido",userName:"Usuário do Sistema",storeName:((l=o.stores)==null?void 0:l.name)||(o.stock_type==="online"?"Estoque Online":"Loja Desconhecida")}})},bb=async e=>{const t=Xe();let n={...e};if(n.user_id=n.user_id||(t==null?void 0:t.id),!n.store_id&&n.stock_type!=="online")n.store_id=t==null?void 0:t.store_id;else if(n.stock_type==="online"){const i=(await qr()).find(l=>l.is_online_store);i&&(n.store_id=i.id)}if(!n.store_id&&n.stock_type==="physical_store"&&!$t(t==null?void 0:t.role,Q.VIEW_ALL_STORES_DATA))throw console.error("Error: store_id is required for this user to add stock movement for a physical store."),new Error("store_id é obrigatório para movimentação em loja física.");const{data:r,error:s}=await ee.from("stock_movements").insert([n]).select().single();if(s)throw console.error("Error adding stock movement:",s),s;return r},Sb=async(e=!1)=>{Xe();let t=ee.from("products").select("*, stores(name, is_online_store)").eq("active",!0).order("name",{ascending:!0});const{data:n,error:r}=await t;if(r)return console.error("Error fetching products:",r),[];if(e&&n){for(let s of n)if(s.product_type==="variable"){const{data:o,error:i}=await ee.from("product_variations").select("*").eq("product_id",s.id);i&&console.error(`Error fetching variations for product ${s.id}:`,i),s.variations=o||[]}}return n},uL=async(e=!1)=>{console.log("🔍 getAllProducts iniciado, includeVariations:",e);let t=ee.from("products").select("*, stores(name, is_online_store)").order("name",{ascending:!0});const{data:n,error:r}=await t;if(r)return console.error("❌ Erro ao buscar todos os produtos:",r),[];if(console.log("📋 Produtos encontrados:",(n==null?void 0:n.length)||0),e&&n){for(let s of n)if(s.product_type==="variable"){const{data:o,error:i}=await ee.from("product_variations").select("*").eq("product_id",s.id);i&&console.error(`❌ Erro ao buscar variações do produto ${s.id}:`,i),s.variations=o||[]}}return console.log("✅ getAllProducts concluído"),n},dL=async e=>{console.log("🔄 addProduct iniciado com dados:",e);const t=Xe();console.log("👤 Usuário atual:",t);const{variations:n,...r}=e;let s={...r};if(console.log("📦 Dados principais para inserção:",s),!s.store_id){console.log("🏪 Buscando loja online...");const l=await qr();console.log("🏪 Lojas disponíveis:",l);const c=l.find(u=>u.is_online_store);if(c)s.store_id=c.id,console.log("✅ Loja online associada:",c.id);else throw console.error("❌ Loja online principal não encontrada para associar o produto."),new Error("Loja online principal não encontrada.")}console.log("📝 Inserindo produto no Supabase...");const{data:o,error:i}=await ee.from("products").insert([s]).select("*, stores(name, is_online_store)").single();if(i)throw console.error("❌ Erro ao inserir produto:",i),i;if(console.log("✅ Produto inserido com sucesso:",o),o&&o.product_type==="variable"&&n&&n.length>0){console.log("🔄 Inserindo variações...");const l=n.map(u=>({...u,product_id:o.id}));console.log("📦 Variações para inserir:",l);const{error:c}=await ee.from("product_variations").insert(l);if(c)throw console.error("❌ Erro ao inserir variações:",c),await ee.from("products").delete().eq("id",o.id),c;console.log("✅ Variações inseridas com sucesso")}return console.log("🎉 Produto criado completamente:",o),o},_b=async(e,t)=>{const{variations:n,...r}=t,{data:s,error:o}=await ee.from("products").update(r).eq("id",e).select("*, stores(name, is_online_store)").single();if(o)throw console.error("Error updating product:",o),o;if(s&&s.product_type==="variable"){if(await ee.from("product_variations").delete().eq("product_id",e),n&&n.length>0){const i=n.map(c=>{const{id:u,...d}=c;return{...d,product_id:e}}),{error:l}=await ee.from("product_variations").insert(i);if(l)throw console.error("Error updating product variations:",l),l}}else s&&s.product_type==="simple"&&await ee.from("product_variations").delete().eq("product_id",e);return s},fL=async e=>{const{data:t,error:n}=await ee.from("products").select("*, stores(name, is_online_store)").eq("id",e).single();if(n||!t)return console.error("Erro ao buscar produto por ID:",n),null;if(t.product_type==="variable"){const{data:r,error:s}=await ee.from("product_variations").select("*").eq("product_id",e);s&&console.error("Erro ao buscar variações:",s),t.variations=r||[]}else t.variations=[];if(ee.from("product_images")){const{data:r,error:s}=await ee.from("product_images").select("*").eq("product_id",e);s||(t.images=r)}return t},_o=async(e,t=null,n=null)=>{let r=ee.from("product_store_stock").select("*, stores(name, is_online_store), product_variations(id, attributes)").eq("product_id",e);t&&(r=r.eq("store_id",t)),n&&(r=r.eq("variation_id",n));const{data:s,error:o}=await r;return o?(console.error("Error fetching product store stock:",o),t&&n?null:[]):t&&n?s[0]||null:s},hL=async(e,t,n,r=null)=>{const s=await _o(e,t,r);let o,i=s==null?void 0:s.id;if(s){o=s.quantity+n;const{error:l}=await ee.from("product_store_stock").update({quantity:o}).eq("id",s.id);if(l)throw l}else{o=n;const{data:l,error:c}=await ee.from("product_store_stock").insert({product_id:e,store_id:t,variation_id:r,quantity:o}).select("id").single();if(c)throw c;i=l==null?void 0:l.id}return await Cb(e),await bb({product_id:e,variation_id:r,store_id:t,type:"transfer_in",quantity:n,previous_stock:s?s.quantity:0,new_stock:o,reason:"Compartilhamento de estoque para loja física.",stock_type:"physical_store",product_store_stock_id:i}),{success:!0}},Cb=async e=>{const{data:t,error:n}=await ee.from("products").select("product_type, stock").eq("id",e).single();if(n||!t){console.error("Error fetching product for stock recalculation:",n);return}let r=0;if(t.product_type==="variable"){const{data:s,error:o}=await ee.from("product_variations").select("stock").eq("product_id",e);if(o){console.error("Error fetching variations for stock recalculation:",o);return}r=s.reduce((i,l)=>i+l.stock,0)}else{const{data:s,error:o}=await ee.from("product_store_stock").select("quantity").eq("product_id",e).is("variation_id",null);if(o){console.error("Error fetching physical stocks for simple product:",o);return}r=s.reduce((i,l)=>i+l.quantity,0)}if(t.stock!==r){const{error:s}=await ee.from("products").update({stock:r}).eq("id",e);s&&console.error("Error updating online/general stock:",s)}},pL=async e=>{await ee.from("products").delete().eq("id",e),await ee.from("product_variations").delete().eq("product_id",e),ee.from("product_images")&&await ee.from("product_images").delete().eq("product_id",e)},mL=(e,t=null,n={specificStoreId:null})=>{var o;const r=Xe(),s=t?`${t}.`:"";return n.specificStoreId?e.eq(`${s}store_id`,n.specificStoreId):r&&r.store_id&&!((o=r.stores)!=null&&o.is_online_store)&&!$t(r.role,Q.VIEW_ALL_STORES_DATA)?e.eq(`${s}store_id`,r.store_id):e},Eb=async()=>{let e=ee.from("sales").select("*, customers(name), stores(name, is_online_store)").order("created_at",{ascending:!1});e=mL(e,"sales");const{data:t,error:n}=await e;return n?(console.error("Error fetching sales:",n),[]):t},gL=async()=>{const{data:e,error:t}=await ee.from("customers").select("*").order("name",{ascending:!0});return t?(console.error("Error fetching customers:",t),[]):e},vL=async e=>{const{data:t,error:n}=await ee.from("customers").insert([e]).select();return n?(console.error("Error adding customer:",n),null):t?t[0]:null},yL=async(e,t)=>{const{data:n,error:r}=await ee.from("customers").update(t).eq("id",e).select();return r?(console.error("Error updating customer:",r),null):n?n[0]:null},xL=async e=>{const{error:t}=await ee.from("customers").delete().eq("id",e);return t?(console.error("Error deleting customer:",t),!1):!0},wL=async()=>{var i,l;const e=Xe();let t=ee.from("cash_register_logs").select("*, stores(name, is_online_store)").order("created_at",{ascending:!1}),n=null;if(e&&e.store_id&&!((i=e.stores)!=null&&i.is_online_store)&&!$t(e.role,Q.VIEW_ALL_STORES_DATA))n=e.store_id;else if(e&&((l=e.stores)!=null&&l.is_online_store))n=e.store_id;else if(e&&e.role===Ne.ADMIN&&!e.store_id){const u=(await qr()).find(d=>d.is_online_store);u&&(n=u.id)}if(n)t=t.eq("store_id",n);else if(!$t(e==null?void 0:e.role,Q.VIEW_ALL_STORES_DATA))return console.warn("Usuário sem loja definida e sem permissão para ver todos os caixas. Retornando caixa fechado."),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};const{data:r,error:s}=await t.limit(1).maybeSingle();if(s)return console.error("Error fetching current cash register state:",s),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};if(!r)return{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:n,store:e==null?void 0:e.stores};const o=r.type!=="close";return{id:r.id,isOpen:o,openingAmount:r.type==="open"||o?r.initial_amount:0,currentAmount:r.current_amount,openedBy:o&&r.type==="open"||o?r.user_id:null,openedAt:o&&r.type==="open"||o?r.created_at:null,closedAt:r.type==="close"?r.created_at:null,store_id:r.store_id,store:r.stores}},kb="http://localhost:4000/api",Rf=async(e,t=null,n="varejo")=>{try{const r=new URLSearchParams;r.append("code",e),t&&r.append("store_id",t),n&&r.append("modalidade",n);const s=await fetch(`${kb}/sales/products/barcode/${e}?${r}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){const o=await s.json();throw new Error(o.error||"Erro ao buscar produto")}return await s.json()}catch(r){throw new Error(`Erro na comunicação com o backend: ${r.message}`)}},jL=async e=>{try{const t=await fetch(`${kb}/sales`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.error||"Erro ao criar venda")}return await t.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},bL=({onProductFound:e})=>{const[t,n]=m.useState(""),{toast:r}=Tt(),s=async i=>{if(i.preventDefault(),!!t.trim())try{const l=await Rf(t);l&&l.product?(e(l.product),n("")):r({title:"Produto não encontrado",description:`Código de barras: ${t}`,variant:"destructive"})}catch(l){r({title:"Erro ao buscar produto",description:l.message,variant:"destructive"})}},o=async i=>{try{const l=await Rf(i);l&&l.product?e(l.product):r({title:"Produto de teste não encontrado",description:`Código: ${i}`,variant:"destructive"})}catch(l){r({title:"Erro ao buscar produto de teste",description:l.message,variant:"destructive"})}};return a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(uP,{className:"w-5 h-5"}),a.jsx("span",{children:"Leitor de Código de Barras"})]})}),a.jsxs(re,{children:[a.jsxs("form",{onSubmit:s,className:"flex space-x-2",children:[a.jsx(q,{placeholder:"Escaneie ou digite o código de barras",value:t,onChange:i=>n(i.target.value),className:"flex-1 barcode-scanner",autoFocus:!0}),a.jsx(B,{type:"submit",children:a.jsx(Xt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-2",children:[a.jsx(B,{variant:"outline",onClick:()=>o("7891234567890"),className:"text-sm",children:"Camiseta Básica"}),a.jsx(B,{variant:"outline",onClick:()=>o("7891234567891"),className:"text-sm",children:"Calça Jeans"}),a.jsx(B,{variant:"outline",onClick:()=>o("7891234567892"),className:"text-sm",children:"Vestido Floral"})]})]})]})},SL=({cart:e,onUpdateQuantity:t,onRemoveFromCart:n,onClearCart:r})=>a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wi,{className:"w-5 h-5"}),a.jsxs("span",{children:["Carrinho (",e.length," itens)"]})]}),e.length>0&&a.jsx(B,{variant:"outline",size:"sm",onClick:r,children:"Limpar"})]})}),a.jsx(re,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Wi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Carrinho vazio"}),a.jsx("p",{className:"text-sm",children:"Escaneie um produto para começar"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(s=>a.jsxs(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:s.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",s.price.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(s.id,s.quantity-1),children:a.jsx(zi,{className:"w-3 h-3"})}),a.jsx("span",{className:"w-8 text-center",children:s.quantity}),a.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(s.id,s.quantity+1),children:a.jsx(Xt,{className:"w-3 h-3"})}),a.jsxs("span",{className:"w-20 text-right font-medium",children:["R$ ",s.subtotal.toFixed(2)]}),a.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>n(s.id),children:a.jsx(Oo,{className:"w-3 h-3"})})]})]},s.id))})})]}),_L=({subtotal:e,discountAmount:t,total:n,onApplyDiscount:r})=>{const s=Xe();return a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(qN,{className:"w-5 h-5"}),a.jsx("span",{children:"Totais"})]})}),a.jsxs(re,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["R$ ",e.toFixed(2)]})]}),t>0&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Desconto:"}),a.jsxs("span",{children:["- R$ ",t.toFixed(2)]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["R$ ",n.toFixed(2)]})]})}),$t(s==null?void 0:s.role,Q.APPLY_DISCOUNTS)&&a.jsx("div",{className:"pt-2 border-t",children:a.jsxs(B,{variant:"outline",size:"sm",className:"w-full",onClick:r,children:[a.jsx(aP,{className:"w-4 h-4 mr-2"}),"Aplicar Desconto"]})})]})]})},Wa={CASH:"cash",DEBIT:"debit",CREDIT:"credit",PIX:"pix"},ec={[Wa.CASH]:"Dinheiro",[Wa.DEBIT]:"Cartão Débito",[Wa.CREDIT]:"Cartão Crédito",[Wa.PIX]:"PIX"},CL=({cartLength:e,payments:t,totalPaid:n,remainingAmount:r,onAddPayment:s,onFinalizeSale:o,canFinalize:i})=>e===0?null:a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(JN,{className:"w-5 h-5"}),a.jsx("span",{children:"Pagamento"})]})}),a.jsxs(re,{className:"space-y-4",children:[t.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Pagamentos:"}),t.map(l=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:ec[l.method]}),a.jsxs("span",{children:["R$ ",l.amount.toFixed(2)]})]},l.id)),a.jsxs("div",{className:"border-t pt-2",children:[a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"Total Pago:"}),a.jsxs("span",{children:["R$ ",n.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"Restante:"}),a.jsxs("span",{children:["R$ ",r.toFixed(2)]})]})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(ec).map(([l,c])=>a.jsx(B,{variant:"outline",size:"sm",onClick:()=>{r>0&&s(l,r)},disabled:r<=0,children:c},l))}),a.jsxs(B,{className:"w-full",size:"lg",onClick:o,disabled:!i,children:[a.jsx(cP,{className:"w-4 h-4 mr-2"}),"Finalizar Venda"]})]})]});function qv(e,[t,n]){return Math.min(n,Math.max(t,e))}var EL=m.createContext(void 0);function _p(e){const t=m.useContext(EL);return e||t||"ltr"}var Ku=0;function Nb(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Gv()),document.body.insertAdjacentElement("beforeend",e[1]??Gv()),Ku++,()=>{Ku===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ku--}},[])}function Gv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yu="focusScope.autoFocusOnMount",Ju="focusScope.autoFocusOnUnmount",Kv={bubbles:!1,cancelable:!0},kL="FocusScope",Cp=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=Jt(s),d=Jt(o),f=m.useRef(null),h=Re(t,x=>c(x)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(g){if(p.paused||!l)return;const b=g.target;l.contains(b)?f.current=b:ar(f.current,{select:!0})},j=function(g){if(p.paused||!l)return;const b=g.relatedTarget;b!==null&&(l.contains(b)||ar(f.current,{select:!0}))},y=function(g){if(document.activeElement===document.body)for(const S of g)S.removedNodes.length>0&&ar(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",j);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",j),v.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){Jv.add(p);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(Yu,Kv);l.addEventListener(Yu,u),l.dispatchEvent(y),y.defaultPrevented||(NL(OL(Pb(l)),{select:!0}),document.activeElement===x&&ar(l))}return()=>{l.removeEventListener(Yu,u),setTimeout(()=>{const y=new CustomEvent(Ju,Kv);l.addEventListener(Ju,d),l.dispatchEvent(y),y.defaultPrevented||ar(x??document.body,{select:!0}),l.removeEventListener(Ju,d),Jv.remove(p)},0)}}},[l,u,d,p]);const w=m.useCallback(x=>{if(!n&&!r||p.paused)return;const j=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(j&&y){const v=x.currentTarget,[g,b]=PL(v);g&&b?!x.shiftKey&&y===b?(x.preventDefault(),n&&ar(g,{select:!0})):x.shiftKey&&y===g&&(x.preventDefault(),n&&ar(b,{select:!0})):y===v&&x.preventDefault()}},[n,r,p.paused]);return a.jsx(ce.div,{tabIndex:-1,...i,ref:h,onKeyDown:w})});Cp.displayName=kL;function NL(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ar(r,{select:t}),document.activeElement!==n)return}function PL(e){const t=Pb(e),n=Yv(t,e),r=Yv(t.reverse(),e);return[n,r]}function Pb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yv(e,t){for(const n of e)if(!TL(n,{upTo:t}))return n}function TL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AL(e){return e instanceof HTMLInputElement&&"select"in e}function ar(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&AL(e)&&t&&e.select()}}var Jv=RL();function RL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xv(e,t),e.unshift(t)},remove(t){var n;e=Xv(e,t),(n=e[0])==null||n.resume()}}}function Xv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function OL(e){return e.filter(t=>t.tagName!=="A")}var IL=Gf[" useId ".trim().toString()]||(()=>{}),LL=0;function Tr(e){const[t,n]=m.useState(IL());return at(()=>{e||n(r=>r??String(LL++))},[e]),e||(t?`radix-${t}`:"")}const ML=["top","right","bottom","left"],Mr=Math.min,Rt=Math.max,tc=Math.round,Ha=Math.floor,Rn=e=>({x:e,y:e}),DL={left:"right",right:"left",bottom:"top",top:"bottom"},$L={start:"end",end:"start"};function Of(e,t,n){return Rt(e,Mr(t,n))}function Zn(e,t){return typeof e=="function"?e(t):e}function er(e){return e.split("-")[0]}function Mo(e){return e.split("-")[1]}function Ep(e){return e==="x"?"y":"x"}function kp(e){return e==="y"?"height":"width"}const FL=new Set(["top","bottom"]);function Nn(e){return FL.has(er(e))?"y":"x"}function Np(e){return Ep(Nn(e))}function VL(e,t,n){n===void 0&&(n=!1);const r=Mo(e),s=Np(e),o=kp(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=nc(i)),[i,nc(i)]}function UL(e){const t=nc(e);return[If(e),t,If(t)]}function If(e){return e.replace(/start|end/g,t=>$L[t])}const Qv=["left","right"],Zv=["right","left"],BL=["top","bottom"],zL=["bottom","top"];function WL(e,t,n){switch(e){case"top":case"bottom":return n?t?Zv:Qv:t?Qv:Zv;case"left":case"right":return t?BL:zL;default:return[]}}function HL(e,t,n,r){const s=Mo(e);let o=WL(er(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(If)))),o}function nc(e){return e.replace(/left|right|bottom|top/g,t=>DL[t])}function qL(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tb(e){return typeof e!="number"?qL(e):{top:e,right:e,bottom:e,left:e}}function rc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ey(e,t,n){let{reference:r,floating:s}=e;const o=Nn(t),i=Np(t),l=kp(i),c=er(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Mo(t)){case"start":p[i]-=h*(n&&u?-1:1);break;case"end":p[i]+=h*(n&&u?-1:1);break}return p}const GL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=ey(u,r,c),h=r,p={},w=0;for(let x=0;x<l.length;x++){const{name:j,fn:y}=l[x],{x:v,y:g,data:b,reset:S}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,f=g??f,p={...p,[j]:{...p[j],...b}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=ey(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Xi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Zn(t,e),w=Tb(p),j=l[h?f==="floating"?"reference":"floating":f],y=rc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(j)))==null||n?j:j.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),b=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},S=rc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:g,strategy:c}):v);return{top:(y.top-S.top+w.top)/b.y,bottom:(S.bottom-y.bottom+w.bottom)/b.y,left:(y.left-S.left+w.left)/b.x,right:(S.right-y.right+w.right)/b.x}}const KL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Zn(e,t)||{};if(u==null)return{};const f=Tb(d),h={x:n,y:r},p=Np(s),w=kp(p),x=await i.getDimensions(u),j=p==="y",y=j?"top":"left",v=j?"bottom":"right",g=j?"clientHeight":"clientWidth",b=o.reference[w]+o.reference[p]-h[p]-o.floating[w],S=h[p]-o.reference[p],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=k?k[g]:0;(!C||!await(i.isElement==null?void 0:i.isElement(k)))&&(C=l.floating[g]||o.floating[w]);const _=b/2-S/2,E=C/2-x[w]/2-1,R=Mr(f[y],E),L=Mr(f[v],E),I=R,V=C-x[w]-L,O=C/2-x[w]/2+_,F=Of(I,O,V),M=!c.arrow&&Mo(s)!=null&&O!==F&&o.reference[w]/2-(O<I?R:L)-x[w]/2<0,N=M?O<I?O-I:O-V:0;return{[p]:h[p]+N,data:{[p]:F,centerOffset:O-F-N,...M&&{alignmentOffset:N}},reset:M}}}),YL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...j}=Zn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=er(s),v=Nn(l),g=er(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(g||!x?[nc(l)]:UL(l)),k=w!=="none";!h&&k&&S.push(...HL(l,x,w,b));const C=[l,...S],_=await Xi(t,j),E=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&E.push(_[y]),f){const O=VL(s,i,b);E.push(_[O[0]],_[O[1]])}if(R=[...R,{placement:s,overflows:E}],!E.every(O=>O<=0)){var L,I;const O=(((L=o.flip)==null?void 0:L.index)||0)+1,F=C[O];if(F&&(!(f==="alignment"?v!==Nn(F):!1)||R.every(T=>T.overflows[0]>0&&Nn(T.placement)===v)))return{data:{index:O,overflows:R},reset:{placement:F}};let M=(I=R.filter(N=>N.overflows[0]<=0).sort((N,T)=>N.overflows[1]-T.overflows[1])[0])==null?void 0:I.placement;if(!M)switch(p){case"bestFit":{var V;const N=(V=R.filter(T=>{if(k){const P=Nn(T.placement);return P===v||P==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(P=>P>0).reduce((P,D)=>P+D,0)]).sort((T,P)=>T[1]-P[1])[0])==null?void 0:V[0];N&&(M=N);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function ty(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ny(e){return ML.some(t=>e[t]>=0)}const JL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Zn(e,t);switch(r){case"referenceHidden":{const o=await Xi(t,{...s,elementContext:"reference"}),i=ty(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ny(i)}}}case"escaped":{const o=await Xi(t,{...s,altBoundary:!0}),i=ty(o,n.floating);return{data:{escapedOffsets:i,escaped:ny(i)}}}default:return{}}}}},Ab=new Set(["left","top"]);async function XL(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=er(n),l=Mo(n),c=Nn(n)==="y",u=Ab.has(i)?-1:1,d=o&&c?-1:1,f=Zn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const QL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await XL(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},ZL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:j=>{let{x:y,y:v}=j;return{x:y,y:v}}},...c}=Zn(e,t),u={x:n,y:r},d=await Xi(t,c),f=Nn(er(s)),h=Ep(f);let p=u[h],w=u[f];if(o){const j=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=p+d[j],g=p-d[y];p=Of(v,p,g)}if(i){const j=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=w+d[j],g=w-d[y];w=Of(v,w,g)}const x=l.fn({...t,[h]:p,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:o,[f]:i}}}}}},eM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zn(e,t),d={x:n,y:r},f=Nn(s),h=Ep(f);let p=d[h],w=d[f];const x=Zn(l,t),j=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const g=h==="y"?"height":"width",b=o.reference[h]-o.floating[g]+j.mainAxis,S=o.reference[h]+o.reference[g]-j.mainAxis;p<b?p=b:p>S&&(p=S)}if(u){var y,v;const g=h==="y"?"width":"height",b=Ab.has(er(s)),S=o.reference[f]-o.floating[g]+(b&&((y=i.offset)==null?void 0:y[f])||0)+(b?0:j.crossAxis),k=o.reference[f]+o.reference[g]+(b?0:((v=i.offset)==null?void 0:v[f])||0)-(b?j.crossAxis:0);w<S?w=S:w>k&&(w=k)}return{[h]:p,[f]:w}}}},tM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Zn(e,t),d=await Xi(t,u),f=er(s),h=Mo(s),p=Nn(s)==="y",{width:w,height:x}=o.floating;let j,y;f==="top"||f==="bottom"?(j=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,j=h==="end"?"top":"bottom");const v=x-d.top-d.bottom,g=w-d.left-d.right,b=Mr(x-d[j],v),S=Mr(w-d[y],g),k=!t.middlewareData.shift;let C=b,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),k&&!h){const R=Rt(d.left,0),L=Rt(d.right,0),I=Rt(d.top,0),V=Rt(d.bottom,0);p?_=w-2*(R!==0||L!==0?R+L:Rt(d.left,d.right)):C=x-2*(I!==0||V!==0?I+V:Rt(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:C});const E=await i.getDimensions(l.floating);return w!==E.width||x!==E.height?{reset:{rects:!0}}:{}}}};function Bc(){return typeof window<"u"}function Do(e){return Rb(e)?(e.nodeName||"").toLowerCase():"#document"}function Lt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mn(e){var t;return(t=(Rb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Rb(e){return Bc()?e instanceof Node||e instanceof Lt(e).Node:!1}function xn(e){return Bc()?e instanceof Element||e instanceof Lt(e).Element:!1}function In(e){return Bc()?e instanceof HTMLElement||e instanceof Lt(e).HTMLElement:!1}function ry(e){return!Bc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lt(e).ShadowRoot}const nM=new Set(["inline","contents"]);function fa(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=wn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!nM.has(s)}const rM=new Set(["table","td","th"]);function sM(e){return rM.has(Do(e))}const oM=[":popover-open",":modal"];function zc(e){return oM.some(t=>{try{return e.matches(t)}catch{return!1}})}const iM=["transform","translate","scale","rotate","perspective"],aM=["transform","translate","scale","rotate","perspective","filter"],lM=["paint","layout","strict","content"];function Pp(e){const t=Tp(),n=xn(e)?wn(e):e;return iM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||aM.some(r=>(n.willChange||"").includes(r))||lM.some(r=>(n.contain||"").includes(r))}function cM(e){let t=Dr(e);for(;In(t)&&!Co(t);){if(Pp(t))return t;if(zc(t))return null;t=Dr(t)}return null}function Tp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uM=new Set(["html","body","#document"]);function Co(e){return uM.has(Do(e))}function wn(e){return Lt(e).getComputedStyle(e)}function Wc(e){return xn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dr(e){if(Do(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ry(e)&&e.host||Mn(e);return ry(t)?t.host:t}function Ob(e){const t=Dr(e);return Co(t)?e.ownerDocument?e.ownerDocument.body:e.body:In(t)&&fa(t)?t:Ob(t)}function Qi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ob(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Lt(s);if(o){const l=Lf(i);return t.concat(i,i.visualViewport||[],fa(s)?s:[],l&&n?Qi(l):[])}return t.concat(s,Qi(s,[],n))}function Lf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ib(e){const t=wn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=In(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=tc(n)!==o||tc(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Ap(e){return xn(e)?e:e.contextElement}function co(e){const t=Ap(e);if(!In(t))return Rn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Ib(t);let i=(o?tc(n.width):n.width)/r,l=(o?tc(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const dM=Rn(0);function Lb(e){const t=Lt(e);return!Tp()||!t.visualViewport?dM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Lt(e)?!1:t}function ws(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Ap(e);let i=Rn(1);t&&(r?xn(r)&&(i=co(r)):i=co(e));const l=fM(o,n,r)?Lb(o):Rn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=Lt(o),p=r&&xn(r)?Lt(r):r;let w=h,x=Lf(w);for(;x&&r&&p!==w;){const j=co(x),y=x.getBoundingClientRect(),v=wn(x),g=y.left+(x.clientLeft+parseFloat(v.paddingLeft))*j.x,b=y.top+(x.clientTop+parseFloat(v.paddingTop))*j.y;c*=j.x,u*=j.y,d*=j.x,f*=j.y,c+=g,u+=b,w=Lt(x),x=Lf(w)}}return rc({width:d,height:f,x:c,y:u})}function Rp(e,t){const n=Wc(e).scrollLeft;return t?t.left+n:ws(Mn(e)).left+n}function Mb(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Rp(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function hM(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Mn(r),l=t?zc(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Rn(1);const d=Rn(0),f=In(r);if((f||!f&&!o)&&((Do(r)!=="body"||fa(i))&&(c=Wc(r)),In(r))){const p=ws(r);u=co(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=i&&!f&&!o?Mb(i,c,!0):Rn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function pM(e){return Array.from(e.getClientRects())}function mM(e){const t=Mn(e),n=Wc(e),r=e.ownerDocument.body,s=Rt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Rt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Rp(e);const l=-n.scrollTop;return wn(r).direction==="rtl"&&(i+=Rt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function gM(e,t){const n=Lt(e),r=Mn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Tp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const vM=new Set(["absolute","fixed"]);function yM(e,t){const n=ws(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=In(e)?co(e):Rn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function sy(e,t,n){let r;if(t==="viewport")r=gM(e,n);else if(t==="document")r=mM(Mn(e));else if(xn(t))r=yM(t,n);else{const s=Lb(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return rc(r)}function Db(e,t){const n=Dr(e);return n===t||!xn(n)||Co(n)?!1:wn(n).position==="fixed"||Db(n,t)}function xM(e,t){const n=t.get(e);if(n)return n;let r=Qi(e,[],!1).filter(l=>xn(l)&&Do(l)!=="body"),s=null;const o=wn(e).position==="fixed";let i=o?Dr(e):e;for(;xn(i)&&!Co(i);){const l=wn(i),c=Pp(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&vM.has(s.position)||fa(i)&&!c&&Db(e,i))?r=r.filter(d=>d!==i):s=l,i=Dr(i)}return t.set(e,r),r}function wM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?zc(t)?[]:xM(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=sy(t,d,s);return u.top=Rt(f.top,u.top),u.right=Mr(f.right,u.right),u.bottom=Mr(f.bottom,u.bottom),u.left=Rt(f.left,u.left),u},sy(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function jM(e){const{width:t,height:n}=Ib(e);return{width:t,height:n}}function bM(e,t,n){const r=In(t),s=Mn(t),o=n==="fixed",i=ws(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Rn(0);function u(){c.x=Rp(s)}if(r||!r&&!o)if((Do(t)!=="body"||fa(s))&&(l=Wc(t)),r){const p=ws(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Mb(s,l):Rn(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Xu(e){return wn(e).position==="static"}function oy(e,t){if(!In(e)||wn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Mn(e)===n&&(n=n.ownerDocument.body),n}function $b(e,t){const n=Lt(e);if(zc(e))return n;if(!In(e)){let s=Dr(e);for(;s&&!Co(s);){if(xn(s)&&!Xu(s))return s;s=Dr(s)}return n}let r=oy(e,t);for(;r&&sM(r)&&Xu(r);)r=oy(r,t);return r&&Co(r)&&Xu(r)&&!Pp(r)?n:r||cM(e)||n}const SM=async function(e){const t=this.getOffsetParent||$b,n=this.getDimensions,r=await n(e.floating);return{reference:bM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _M(e){return wn(e).direction==="rtl"}const CM={convertOffsetParentRelativeRectToViewportRelativeRect:hM,getDocumentElement:Mn,getClippingRect:wM,getOffsetParent:$b,getElementRects:SM,getClientRects:pM,getDimensions:jM,getScale:co,isElement:xn,isRTL:_M};function Fb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function EM(e,t){let n=null,r;const s=Mn(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const w=Ha(f),x=Ha(s.clientWidth-(d+h)),j=Ha(s.clientHeight-(f+p)),y=Ha(d),g={rootMargin:-w+"px "+-x+"px "+-j+"px "+-y+"px",threshold:Rt(0,Mr(1,c))||1};let b=!0;function S(k){const C=k[0].intersectionRatio;if(C!==c){if(!b)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!Fb(u,e.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(S,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,g)}n.observe(e)}return i(!0),o}function kM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ap(e),d=s||o?[...u?Qi(u):[],...Qi(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&l?EM(u,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=p)==null||g.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,x=c?ws(e):null;c&&j();function j(){const y=ws(e);x&&!Fb(x,y)&&n(),x=y,w=requestAnimationFrame(j)}return n(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const NM=QL,PM=ZL,TM=YL,AM=tM,RM=JL,iy=KL,OM=eM,IM=(e,t,n)=>{const r=new Map,s={platform:CM,...n},o={...s.platform,_c:r};return GL(e,t,{...s,platform:o})};var LM=typeof document<"u",MM=function(){},hl=LM?m.useLayoutEffect:MM;function sc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!sc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!sc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Vb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ay(e,t){const n=Vb(e);return Math.round(t*n)/n}function Qu(e){const t=m.useRef(e);return hl(()=>{t.current=e}),t}function DM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);sc(h,r)||p(r);const[w,x]=m.useState(null),[j,y]=m.useState(null),v=m.useCallback(T=>{T!==k.current&&(k.current=T,x(T))},[]),g=m.useCallback(T=>{T!==C.current&&(C.current=T,y(T))},[]),b=o||w,S=i||j,k=m.useRef(null),C=m.useRef(null),_=m.useRef(d),E=c!=null,R=Qu(c),L=Qu(s),I=Qu(u),V=m.useCallback(()=>{if(!k.current||!C.current)return;const T={placement:t,strategy:n,middleware:h};L.current&&(T.platform=L.current),IM(k.current,C.current,T).then(P=>{const D={...P,isPositioned:I.current!==!1};O.current&&!sc(_.current,D)&&(_.current=D,Es.flushSync(()=>{f(D)}))})},[h,t,n,L,I]);hl(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const O=m.useRef(!1);hl(()=>(O.current=!0,()=>{O.current=!1}),[]),hl(()=>{if(b&&(k.current=b),S&&(C.current=S),b&&S){if(R.current)return R.current(b,S,V);V()}},[b,S,V,R,E]);const F=m.useMemo(()=>({reference:k,floating:C,setReference:v,setFloating:g}),[v,g]),M=m.useMemo(()=>({reference:b,floating:S}),[b,S]),N=m.useMemo(()=>{const T={position:n,left:0,top:0};if(!M.floating)return T;const P=ay(M.floating,d.x),D=ay(M.floating,d.y);return l?{...T,transform:"translate("+P+"px, "+D+"px)",...Vb(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:D}},[n,l,M.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:V,refs:F,elements:M,floatingStyles:N}),[d,V,F,M,N])}const $M=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?iy({element:r.current,padding:s}).fn(n):{}:r?iy({element:r,padding:s}).fn(n):{}}}},FM=(e,t)=>({...NM(e),options:[e,t]}),VM=(e,t)=>({...PM(e),options:[e,t]}),UM=(e,t)=>({...OM(e),options:[e,t]}),BM=(e,t)=>({...TM(e),options:[e,t]}),zM=(e,t)=>({...AM(e),options:[e,t]}),WM=(e,t)=>({...RM(e),options:[e,t]}),HM=(e,t)=>({...$M(e),options:[e,t]});var qM="Arrow",Ub=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(ce.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ub.displayName=qM;var GM=Ub;function Bb(e){const[t,n]=m.useState(void 0);return at(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Op="Popper",[zb,Wb]=Br(Op),[KM,Hb]=zb(Op),qb=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return a.jsx(KM,{scope:t,anchor:r,onAnchorChange:s,children:n})};qb.displayName=Op;var Gb="PopperAnchor",Kb=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Hb(Gb,n),i=m.useRef(null),l=Re(t,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(ce.div,{...s,ref:l})});Kb.displayName=Gb;var Ip="PopperContent",[YM,JM]=zb(Ip),Yb=m.forwardRef((e,t)=>{var J,we,Oe,ue,ae,je;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,j=Hb(Ip,n),[y,v]=m.useState(null),g=Re(t,nt=>v(nt)),[b,S]=m.useState(null),k=Bb(b),C=(k==null?void 0:k.width)??0,_=(k==null?void 0:k.height)??0,E=r+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],I=L.length>0,V={padding:R,boundary:L.filter(QM),altBoundary:I},{refs:O,floatingStyles:F,placement:M,isPositioned:N,middlewareData:T}=DM({strategy:"fixed",placement:E,whileElementsMounted:(...nt)=>kM(...nt,{animationFrame:p==="always"}),elements:{reference:j.anchor},middleware:[FM({mainAxis:s+_,alignmentAxis:i}),c&&VM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?UM():void 0,...V}),c&&BM({...V}),zM({...V,apply:({elements:nt,rects:wt,availableWidth:z,availableHeight:G})=>{const{width:Se,height:he}=wt.reference,Qe=nt.floating.style;Qe.setProperty("--radix-popper-available-width",`${z}px`),Qe.setProperty("--radix-popper-available-height",`${G}px`),Qe.setProperty("--radix-popper-anchor-width",`${Se}px`),Qe.setProperty("--radix-popper-anchor-height",`${he}px`)}}),b&&HM({element:b,padding:l}),ZM({arrowWidth:C,arrowHeight:_}),h&&WM({strategy:"referenceHidden",...V})]}),[P,D]=Qb(M),A=Jt(w);at(()=>{N&&(A==null||A())},[N,A]);const $=(J=T.arrow)==null?void 0:J.x,X=(we=T.arrow)==null?void 0:we.y,ie=((Oe=T.arrow)==null?void 0:Oe.centerOffset)!==0,[ye,xe]=m.useState();return at(()=>{y&&xe(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:N?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(ue=T.transformOrigin)==null?void 0:ue.x,(ae=T.transformOrigin)==null?void 0:ae.y].join(" "),...((je=T.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(YM,{scope:n,placedSide:P,onArrowChange:S,arrowX:$,arrowY:X,shouldHideArrow:ie,children:a.jsx(ce.div,{"data-side":P,"data-align":D,...x,ref:g,style:{...x.style,animation:N?void 0:"none"}})})})});Yb.displayName=Ip;var Jb="PopperArrow",XM={top:"bottom",right:"left",bottom:"top",left:"right"},Xb=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=JM(Jb,r),i=XM[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(GM,{...s,ref:n,style:{...s.style,display:"block"}})})});Xb.displayName=Jb;function QM(e){return e!==null}var ZM=e=>({name:"transformOrigin",options:e,fn(t){var j,y,v;const{placement:n,rects:r,middlewareData:s}=t,i=((j=s.arrow)==null?void 0:j.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Qb(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?f:`${h}px`,x=`${-c}px`):u==="top"?(w=i?f:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?f:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?f:`${p}px`),{data:{x:w,y:x}}}});function Qb(e){const[t,n="center"]=e.split("-");return[t,n]}var eD=qb,tD=Kb,nD=Yb,rD=Xb;function Zb(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var sD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ms=new WeakMap,qa=new WeakMap,Ga={},Zu=0,e1=function(e){return e&&(e.host||e1(e.parentNode))},oD=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=e1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},iD=function(e,t,n,r){var s=oD(t,Array.isArray(e)?e:[e]);Ga[n]||(Ga[n]=new WeakMap);var o=Ga[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(r),w=p!==null&&p!=="false",x=(Ms.get(h)||0)+1,j=(o.get(h)||0)+1;Ms.set(h,x),o.set(h,j),i.push(h),x===1&&w&&qa.set(h,!0),j===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Zu++,function(){i.forEach(function(f){var h=Ms.get(f)-1,p=o.get(f)-1;Ms.set(f,h),o.set(f,p),h||(qa.has(f)||f.removeAttribute(r),qa.delete(f)),p||f.removeAttribute(n)}),Zu--,Zu||(Ms=new WeakMap,Ms=new WeakMap,qa=new WeakMap,Ga={})}},t1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||sD(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),iD(r,s,n,"aria-hidden")):function(){return null}},kn=function(){return kn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},kn.apply(this,arguments)};function n1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function aD(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var pl="right-scroll-bar-position",ml="width-before-scroll-bar",lD="with-scroll-bars-hidden",cD="--removed-body-scroll-bar-size";function ed(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uD(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var dD=typeof window<"u"?m.useLayoutEffect:m.useEffect,ly=new WeakMap;function fD(e,t){var n=uD(t||null,function(r){return e.forEach(function(s){return ed(s,r)})});return dD(function(){var r=ly.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||ed(l,null)}),o.forEach(function(l){s.has(l)||ed(l,i)})}ly.set(n,e)},[e]),n}function hD(e){return e}function pD(e,t){t===void 0&&(t=hD);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function mD(e){e===void 0&&(e={});var t=pD(null);return t.options=kn({async:!0,ssr:!1},e),t}var r1=function(e){var t=e.sideCar,n=n1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,kn({},n))};r1.isSideCarExport=!0;function gD(e,t){return e.useMedium(t),r1}var s1=mD(),td=function(){},Hc=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:td,onWheelCapture:td,onTouchMoveCapture:td}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,w=e.noIsolation,x=e.inert,j=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,g=e.gapMode,b=n1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=fD([n,t]),C=kn(kn({},b),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:s1,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:x,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:g}),i?m.cloneElement(m.Children.only(l),kn(kn({},C),{ref:k})):m.createElement(v,kn({},C,{className:c,ref:k}),l))});Hc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hc.classNames={fullWidth:ml,zeroRight:pl};var cy,vD=function(){if(cy)return cy;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vD();return t&&e.setAttribute("nonce",t),e}function xD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=yD())&&(xD(t,n),wD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bD=function(){var e=jD();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},o1=function(){var e=bD(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},SD={left:0,top:0,right:0,gap:0},nd=function(e){return parseInt(e||"",10)||0},_D=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[nd(n),nd(r),nd(s)]},CD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SD;var t=_D(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ED=o1(),uo="data-scroll-locked",kD=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(lD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(uo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ml,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(pl," .").concat(pl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ml," .").concat(ml,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uo,`] {
    `).concat(cD,": ").concat(l,`px;
  }
`)},uy=function(){var e=parseInt(document.body.getAttribute(uo)||"0",10);return isFinite(e)?e:0},ND=function(){m.useEffect(function(){return document.body.setAttribute(uo,(uy()+1).toString()),function(){var e=uy()-1;e<=0?document.body.removeAttribute(uo):document.body.setAttribute(uo,e.toString())}},[])},PD=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;ND();var o=m.useMemo(function(){return CD(s)},[s]);return m.createElement(ED,{styles:kD(o,!t,s,n?"":"!important")})},Mf=!1;if(typeof window<"u")try{var Ka=Object.defineProperty({},"passive",{get:function(){return Mf=!0,!0}});window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Mf=!1}var Ds=Mf?{passive:!1}:!1,TD=function(e){return e.tagName==="TEXTAREA"},i1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!TD(e)&&n[t]==="visible")},AD=function(e){return i1(e,"overflowY")},RD=function(e){return i1(e,"overflowX")},dy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=a1(e,r);if(s){var o=l1(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},OD=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ID=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},a1=function(e,t){return e==="v"?AD(t):RD(t)},l1=function(e,t){return e==="v"?OD(t):ID(t)},LD=function(e,t){return e==="h"&&t==="rtl"?-1:1},MD=function(e,t,n,r,s){var o=LD(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var p=l1(e,l),w=p[0],x=p[1],j=p[2],y=x-j-o*w;(w||y)&&a1(e,l)&&(f+=y,h+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(h)<1||!s&&-i>h))&&(u=!0),u},Ya=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fy=function(e){return[e.deltaX,e.deltaY]},hy=function(e){return e&&"current"in e?e.current:e},DD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$D=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FD=0,$s=[];function VD(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(FD++)[0],o=m.useState(o1)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=aD([e.lockRef.current],(e.shards||[]).map(hy),!0).filter(Boolean);return x.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,j){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var y=Ya(x),v=n.current,g="deltaX"in x?x.deltaX:v[0]-y[0],b="deltaY"in x?x.deltaY:v[1]-y[1],S,k=x.target,C=Math.abs(g)>Math.abs(b)?"h":"v";if("touches"in x&&C==="h"&&k.type==="range")return!1;var _=dy(C,k);if(!_)return!0;if(_?S=C:(S=C==="v"?"h":"v",_=dy(C,k)),!_)return!1;if(!r.current&&"changedTouches"in x&&(g||b)&&(r.current=S),!S)return!0;var E=r.current||S;return MD(E,j,x,E==="h"?g:b,!0)},[]),c=m.useCallback(function(x){var j=x;if(!(!$s.length||$s[$s.length-1]!==o)){var y="deltaY"in j?fy(j):Ya(j),v=t.current.filter(function(S){return S.name===j.type&&(S.target===j.target||j.target===S.shadowParent)&&DD(S.delta,y)})[0];if(v&&v.should){j.cancelable&&j.preventDefault();return}if(!v){var g=(i.current.shards||[]).map(hy).filter(Boolean).filter(function(S){return S.contains(j.target)}),b=g.length>0?l(j,g[0]):!i.current.noIsolation;b&&j.cancelable&&j.preventDefault()}}},[]),u=m.useCallback(function(x,j,y,v){var g={name:x,delta:j,target:y,should:v,shadowParent:UD(y)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(b){return b!==g})},1)},[]),d=m.useCallback(function(x){n.current=Ya(x),r.current=void 0},[]),f=m.useCallback(function(x){u(x.type,fy(x),x.target,l(x,e.lockRef.current))},[]),h=m.useCallback(function(x){u(x.type,Ya(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return $s.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ds),document.addEventListener("touchmove",c,Ds),document.addEventListener("touchstart",d,Ds),function(){$s=$s.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Ds),document.removeEventListener("touchmove",c,Ds),document.removeEventListener("touchstart",d,Ds)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:$D(s)}):null,p?m.createElement(PD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function UD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BD=gD(s1,VD);var c1=m.forwardRef(function(e,t){return m.createElement(Hc,kn({},e,{ref:t,sideCar:BD}))});c1.classNames=Hc.classNames;const u1=c1;var zD=[" ","Enter","ArrowUp","ArrowDown"],WD=[" ","Enter"],js="Select",[qc,Gc,HD]=Wh(js),[$o,X4]=Br(js,[HD,Wb]),Kc=Wb(),[qD,Gr]=$o(js),[GD,KD]=$o(js),d1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:w}=e,x=Kc(t),[j,y]=m.useState(null),[v,g]=m.useState(null),[b,S]=m.useState(!1),k=_p(u),[C,_]=ys({prop:r,defaultProp:s??!1,onChange:o,caller:js}),[E,R]=ys({prop:i,defaultProp:l,onChange:c,caller:js}),L=m.useRef(null),I=j?w||!!j.closest("form"):!0,[V,O]=m.useState(new Set),F=Array.from(V).map(M=>M.props.value).join(";");return a.jsx(eD,{...x,children:a.jsxs(qD,{required:p,scope:t,trigger:j,onTriggerChange:y,valueNode:v,onValueNodeChange:g,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:Tr(),value:E,onValueChange:R,open:C,onOpenChange:_,dir:k,triggerPointerDownPosRef:L,disabled:h,children:[a.jsx(qc.Provider,{scope:t,children:a.jsx(GD,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(M=>{O(N=>new Set(N).add(M))},[]),onNativeOptionRemove:m.useCallback(M=>{O(N=>{const T=new Set(N);return T.delete(M),T})},[]),children:n})}),I?a.jsxs(L1,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:M=>R(M.target.value),disabled:h,form:w,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(V)]},F):null]})})};d1.displayName=js;var f1="SelectTrigger",h1=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Kc(n),i=Gr(f1,n),l=i.disabled||r,c=Re(t,i.onTriggerChange),u=Gc(n),d=m.useRef("touch"),[f,h,p]=D1(x=>{const j=u().filter(g=>!g.disabled),y=j.find(g=>g.value===i.value),v=$1(j,x,y);v!==void 0&&i.onValueChange(v.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(tD,{asChild:!0,...o,children:a.jsx(ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":M1(i.value)?"":void 0,...s,ref:c,onClick:se(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&w(x)}),onPointerDown:se(s.onPointerDown,x=>{d.current=x.pointerType;const j=x.target;j.hasPointerCapture(x.pointerId)&&j.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:se(s.onKeyDown,x=>{const j=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(j&&x.key===" ")&&zD.includes(x.key)&&(w(),x.preventDefault())})})})});h1.displayName=f1;var p1="SelectValue",m1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=Gr(p1,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Re(t,c.onValueNodeChange);return at(()=>{u(d)},[u,d]),a.jsx(ce.span,{...l,ref:f,style:{pointerEvents:"none"},children:M1(c.value)?a.jsx(a.Fragment,{children:i}):o})});m1.displayName=p1;var YD="SelectIcon",g1=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(ce.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});g1.displayName=YD;var JD="SelectPortal",v1=e=>a.jsx(Cc,{asChild:!0,...e});v1.displayName=JD;var bs="SelectContent",y1=m.forwardRef((e,t)=>{const n=Gr(bs,e.__scopeSelect),[r,s]=m.useState();if(at(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Es.createPortal(a.jsx(x1,{scope:e.__scopeSelect,children:a.jsx(qc.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(w1,{...e,ref:t})});y1.displayName=bs;var an=10,[x1,Kr]=$o(bs),XD="SelectContentImpl",QD=wo("SelectContent.RemoveScroll"),w1=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:j,...y}=e,v=Gr(bs,n),[g,b]=m.useState(null),[S,k]=m.useState(null),C=Re(t,J=>b(J)),[_,E]=m.useState(null),[R,L]=m.useState(null),I=Gc(n),[V,O]=m.useState(!1),F=m.useRef(!1);m.useEffect(()=>{if(g)return t1(g)},[g]),Nb();const M=m.useCallback(J=>{const[we,...Oe]=I().map(je=>je.ref.current),[ue]=Oe.slice(-1),ae=document.activeElement;for(const je of J)if(je===ae||(je==null||je.scrollIntoView({block:"nearest"}),je===we&&S&&(S.scrollTop=0),je===ue&&S&&(S.scrollTop=S.scrollHeight),je==null||je.focus(),document.activeElement!==ae))return},[I,S]),N=m.useCallback(()=>M([_,g]),[M,_,g]);m.useEffect(()=>{V&&N()},[V,N]);const{onOpenChange:T,triggerPointerDownPosRef:P}=v;m.useEffect(()=>{if(g){let J={x:0,y:0};const we=ue=>{var ae,je;J={x:Math.abs(Math.round(ue.pageX)-(((ae=P.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((je=P.current)==null?void 0:je.y)??0))}},Oe=ue=>{J.x<=10&&J.y<=10?ue.preventDefault():g.contains(ue.target)||T(!1),document.removeEventListener("pointermove",we),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[g,T,P]),m.useEffect(()=>{const J=()=>T(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[T]);const[D,A]=D1(J=>{const we=I().filter(ae=>!ae.disabled),Oe=we.find(ae=>ae.ref.current===document.activeElement),ue=$1(we,J,Oe);ue&&setTimeout(()=>ue.ref.current.focus())}),$=m.useCallback((J,we,Oe)=>{const ue=!F.current&&!Oe;(v.value!==void 0&&v.value===we||ue)&&(E(J),ue&&(F.current=!0))},[v.value]),X=m.useCallback(()=>g==null?void 0:g.focus(),[g]),ie=m.useCallback((J,we,Oe)=>{const ue=!F.current&&!Oe;(v.value!==void 0&&v.value===we||ue)&&L(J)},[v.value]),ye=r==="popper"?Df:j1,xe=ye===Df?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:j}:{};return a.jsx(x1,{scope:n,content:g,viewport:S,onViewportChange:k,itemRefCallback:$,selectedItem:_,onItemLeave:X,itemTextRefCallback:ie,focusSelectedItem:N,selectedItemText:R,position:r,isPositioned:V,searchRef:D,children:a.jsx(u1,{as:QD,allowPinchZoom:!0,children:a.jsx(Cp,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:se(s,J=>{var we;(we=v.trigger)==null||we.focus({preventScroll:!0}),J.preventDefault()}),children:a.jsx(_c,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(ye,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...y,...xe,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:se(y.onKeyDown,J=>{const we=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!we&&J.key.length===1&&A(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ue=I().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ae=J.target,je=ue.indexOf(ae);ue=ue.slice(je+1)}setTimeout(()=>M(ue)),J.preventDefault()}})})})})})})});w1.displayName=XD;var ZD="SelectItemAlignedPosition",j1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Gr(bs,n),i=Kr(bs,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Re(t,C=>d(C)),h=Gc(n),p=m.useRef(!1),w=m.useRef(!0),{viewport:x,selectedItem:j,selectedItemText:y,focusSelectedItem:v}=i,g=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&j&&y){const C=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(o.dir!=="rtl"){const ae=R.left-_.left,je=E.left-ae,nt=C.left-je,wt=C.width+nt,z=Math.max(wt,_.width),G=window.innerWidth-an,Se=qv(je,[an,Math.max(an,G-z)]);l.style.minWidth=wt+"px",l.style.left=Se+"px"}else{const ae=_.right-R.right,je=window.innerWidth-E.right-ae,nt=window.innerWidth-C.right-je,wt=C.width+nt,z=Math.max(wt,_.width),G=window.innerWidth-an,Se=qv(je,[an,Math.max(an,G-z)]);l.style.minWidth=wt+"px",l.style.right=Se+"px"}const L=h(),I=window.innerHeight-an*2,V=x.scrollHeight,O=window.getComputedStyle(u),F=parseInt(O.borderTopWidth,10),M=parseInt(O.paddingTop,10),N=parseInt(O.borderBottomWidth,10),T=parseInt(O.paddingBottom,10),P=F+M+V+T+N,D=Math.min(j.offsetHeight*5,P),A=window.getComputedStyle(x),$=parseInt(A.paddingTop,10),X=parseInt(A.paddingBottom,10),ie=C.top+C.height/2-an,ye=I-ie,xe=j.offsetHeight/2,J=j.offsetTop+xe,we=F+M+J,Oe=P-we;if(we<=ie){const ae=L.length>0&&j===L[L.length-1].ref.current;l.style.bottom="0px";const je=u.clientHeight-x.offsetTop-x.offsetHeight,nt=Math.max(ye,xe+(ae?X:0)+je+N),wt=we+nt;l.style.height=wt+"px"}else{const ae=L.length>0&&j===L[0].ref.current;l.style.top="0px";const nt=Math.max(ie,F+x.offsetTop+(ae?$:0)+xe)+Oe;l.style.height=nt+"px",x.scrollTop=we-ie+x.offsetTop}l.style.margin=`${an}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,l,u,x,j,y,o.dir,r]);at(()=>g(),[g]);const[b,S]=m.useState();at(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=m.useCallback(C=>{C&&w.current===!0&&(g(),v==null||v(),w.current=!1)},[g,v]);return a.jsx(t$,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:a.jsx(ce.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});j1.displayName=ZD;var e$="SelectPopperPosition",Df=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=an,...o}=e,i=Kc(n);return a.jsx(nD,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Df.displayName=e$;var[t$,Lp]=$o(bs,{}),$f="SelectViewport",b1=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Kr($f,n),i=Lp($f,n),l=Re(t,o.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(qc.Slot,{scope:n,children:a.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-an*2,x=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),y=Math.max(x,j);if(y<w){const v=y+p,g=Math.min(w,v),b=v-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});b1.displayName=$f;var S1="SelectGroup",[n$,r$]=$o(S1),s$=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Tr();return a.jsx(n$,{scope:n,id:s,children:a.jsx(ce.div,{role:"group","aria-labelledby":s,...r,ref:t})})});s$.displayName=S1;var _1="SelectLabel",C1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=r$(_1,n);return a.jsx(ce.div,{id:s.id,...r,ref:t})});C1.displayName=_1;var oc="SelectItem",[o$,E1]=$o(oc),k1=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=Gr(oc,n),c=Kr(oc,n),u=l.value===r,[d,f]=m.useState(o??""),[h,p]=m.useState(!1),w=Re(t,v=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,v,r,s)}),x=Tr(),j=m.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(o$,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:m.useCallback(v=>{f(g=>g||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(qc.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(ce.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:se(i.onFocus,()=>p(!0)),onBlur:se(i.onBlur,()=>p(!1)),onClick:se(i.onClick,()=>{j.current!=="mouse"&&y()}),onPointerUp:se(i.onPointerUp,()=>{j.current==="mouse"&&y()}),onPointerDown:se(i.onPointerDown,v=>{j.current=v.pointerType}),onPointerMove:se(i.onPointerMove,v=>{var g;j.current=v.pointerType,s?(g=c.onItemLeave)==null||g.call(c):j.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(i.onPointerLeave,v=>{var g;v.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:se(i.onKeyDown,v=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&v.key===" "||(WD.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});k1.displayName=oc;var oi="SelectItemText",N1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Gr(oi,n),l=Kr(oi,n),c=E1(oi,n),u=KD(oi,n),[d,f]=m.useState(null),h=Re(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:j}=u;return at(()=>(x(w),()=>j(w)),[x,j,w]),a.jsxs(a.Fragment,{children:[a.jsx(ce.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Es.createPortal(o.children,i.valueNode):null]})});N1.displayName=oi;var P1="SelectItemIndicator",T1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return E1(P1,n).isSelected?a.jsx(ce.span,{"aria-hidden":!0,...r,ref:t}):null});T1.displayName=P1;var Ff="SelectScrollUpButton",A1=m.forwardRef((e,t)=>{const n=Kr(Ff,e.__scopeSelect),r=Lp(Ff,e.__scopeSelect),[s,o]=m.useState(!1),i=Re(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(O1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});A1.displayName=Ff;var Vf="SelectScrollDownButton",R1=m.forwardRef((e,t)=>{const n=Kr(Vf,e.__scopeSelect),r=Lp(Vf,e.__scopeSelect),[s,o]=m.useState(!1),i=Re(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(O1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});R1.displayName=Vf;var O1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Kr("SelectScrollButton",n),i=m.useRef(null),l=Gc(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),at(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ce.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{c()})})}),i$="SelectSeparator",I1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(ce.div,{"aria-hidden":!0,...r,ref:t})});I1.displayName=i$;var Uf="SelectArrow",a$=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Kc(n),o=Gr(Uf,n),i=Kr(Uf,n);return o.open&&i.position==="popper"?a.jsx(rD,{...s,...r,ref:t}):null});a$.displayName=Uf;var l$="SelectBubbleInput",L1=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=m.useRef(null),o=Re(r,s),i=Zb(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(ce.select,{...n,style:{...X0,...n.style},ref:o,defaultValue:t})});L1.displayName=l$;function M1(e){return e===""||e===void 0}function D1(e){const t=Jt(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function $1(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=c$(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function c$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var u$=d1,F1=h1,d$=m1,f$=g1,h$=v1,V1=y1,p$=b1,U1=C1,B1=k1,m$=N1,g$=T1,z1=A1,W1=R1,H1=I1;const jn=u$,bn=d$,Qt=oe.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(F1,{ref:r,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(f$,{asChild:!0,children:a.jsx(yw,{className:"h-4 w-4 opacity-50"})})]}));Qt.displayName=F1.displayName;const q1=oe.forwardRef(({className:e,...t},n)=>a.jsx(z1,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(YN,{className:"h-4 w-4"})}));q1.displayName=z1.displayName;const G1=oe.forwardRef(({className:e,...t},n)=>a.jsx(W1,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(yw,{className:"h-4 w-4"})}));G1.displayName=W1.displayName;const Zt=oe.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(h$,{children:a.jsxs(V1,{ref:s,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(q1,{}),a.jsx(p$,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(G1,{})]})}));Zt.displayName=V1.displayName;const v$=oe.forwardRef(({className:e,...t},n)=>a.jsx(U1,{ref:n,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));v$.displayName=U1.displayName;const vt=oe.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(B1,{ref:r,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(g$,{children:a.jsx(KN,{className:"h-4 w-4"})})}),a.jsx(m$,{children:t})]}));vt.displayName=B1.displayName;const y$=oe.forwardRef(({className:e,...t},n)=>a.jsx(H1,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));y$.displayName=H1.displayName;const py=[{value:"varejo",label:"Varejo"},{value:"atacado",label:"Atacado"},{value:"atacarejo",label:"Atacarejo"}],x$=Array.from({length:10},(e,t)=>t+1),my=()=>{const[e,t]=m.useState([]),[n,r]=m.useState({type:"percentage",value:0}),[s,o]=m.useState([]),[i,l]=m.useState({isOpen:!1,currentAmount:0,openingAmount:0,id:null,store_id:null}),[c,u]=m.useState(null),{toast:d}=Tt(),f=Xe(),h=!!(f!=null&&f.store_id)&&!$t(f.role,Q.VIEW_ALL_STORES_DATA),[p,w]=m.useState(0),[x,j]=m.useState(""),[y,v]=m.useState(null),[g,b]=m.useState([]),[S,k]=m.useState(!1),[C,_]=m.useState(1),[E,R]=m.useState([{method:"",amount:"",parcelas:1},{method:"",amount:"",parcelas:1}]),[L,I]=m.useState(!1),[V,O]=m.useState(!1),F=()=>{var z;return a.jsxs("div",{className:"space-y-6 max-w-2xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumo da Venda"}),a.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Modalidade:"})," ",(z=py.find(G=>G.value===x))==null?void 0:z.label]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Vendedor:"})," ",y==null?void 0:y.name]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Tipo de venda:"})," ",L?"Troca":"Normal"]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Itens:"}),a.jsx("ul",{className:"ml-4 list-disc",children:e.map(G=>a.jsxs("li",{children:[G.name," - ",G.quantity," x R$ ",G.price.toFixed(2)," = R$ ",(G.price*G.quantity).toFixed(2)]},G.id))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Total:"})," R$ ",ye().toFixed(2)]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Pagamentos:"}),a.jsx("ul",{className:"ml-4 list-disc",children:E.slice(0,C).map((G,Se)=>a.jsxs("li",{children:[ec[G.method]," - R$ ",parseFloat(G.amount).toFixed(2),G.method==="credit"?` (${G.parcelas}x)`:""]},Se))})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("input",{type:"checkbox",id:"troca",checked:L,onChange:G=>I(G.target.checked)}),a.jsxs("label",{htmlFor:"troca",className:"text-sm",children:["Esta venda é uma ",a.jsx("b",{children:"troca"})]})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(B,{onClick:async()=>{O(!0);try{const G={items:e.map(he=>({productId:he.productId,name:he.name,price:he.price,barcode:he.barcode,quantity:he.quantity,subtotal:he.subtotal})),subtotal:X(),discount:ie(),total:ye(),payments:E.slice(0,C).map(he=>({method:he.method,amount:parseFloat(he.amount),parcelas:he.method==="credit"?he.parcelas:void 0})),cashier:f==null?void 0:f.name,cashierId:f==null?void 0:f.id,store_id:(c==null?void 0:c.id)||(f==null?void 0:f.store_id)||null,modalidade:x,vendedor_id:y==null?void 0:y.id,tipo_venda:L?"troca":"normal"},Se=await jL(G);$(),I(!1),w(0),v(null),R([{method:"",amount:"",parcelas:1},{method:"",amount:"",parcelas:1}]),_(1),d({title:"Venda finalizada com sucesso!",description:`Venda #${Se.sale.id} criada.`,variant:"default"})}catch(G){d({title:"Erro ao finalizar venda",description:G.message||"Tente novamente.",variant:"destructive"})}finally{O(!1)}},disabled:V,children:V?"Finalizando...":"Finalizar Venda"}),a.jsx(B,{variant:"ghost",onClick:()=>w(3),disabled:V,children:"Voltar"})]})]})};m.useEffect(()=>{p===1&&g.length===0&&(k(!0),jb().then(z=>{const G=z.filter(Se=>["manager","cashier","admin"].includes(Se.role));b(G)}).finally(()=>k(!1)))},[p,g.length]);const M=m.useCallback(async()=>{const z=await wL();l(z),h&&(f!=null&&f.store_id)?u({id:f.store_id,name:f.store_name||"Loja Física"}):u({id:null,name:"Loja Online"})},[h,f==null?void 0:f.store_id,f==null?void 0:f.store_name]);m.useEffect(()=>{M()},[M]);const N=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(bL,{onProductFound:P,getProductByBarcode:Rf}),a.jsx(SL,{cart:e,onUpdateQuantity:D,onRemoveFromCart:A,onClearCart:$}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(B,{onClick:()=>e.length>0&&w(3),disabled:e.length===0,children:"Avançar"}),a.jsx(B,{variant:"ghost",onClick:()=>w(1),children:"Voltar"})]})]}),T=z=>x==="varejo"&&z.price_varejo!=null?z.price_varejo:x==="atacado"&&z.price_atacado!=null?z.price_atacado:x==="atacarejo"&&z.price_atacarejo!=null?z.price_atacarejo:z.price,P=async z=>{var he,Qe;if(h&&z.is_physical_store_stock&&(!z.stock||z.stock<=0)){d({title:"Sem estoque na sua loja",description:`O produto ${z.name} não tem estoque disponível na sua loja.`,variant:"warning"});return}if(!h&&(!z.stock||z.stock<=0)){d({title:"Sem estoque online",description:`O produto ${z.name} não tem estoque online disponível.`,variant:"warning"});return}const G=T(z),Se=e.find(en=>en.productId===z.id);if(Se)D(Se.id,Se.quantity+1,z.stock);else{const en={id:`${z.id}-${Date.now()}`,productId:z.id,name:z.name,price:G,barcode:z.barcode,quantity:1,size:((he=z.sizes)==null?void 0:he[0])||null,color:((Qe=z.colors)==null?void 0:Qe[0])||null,subtotal:G,product_main_store_id:z.store_id,max_available_stock:z.stock};t(nr=>[...nr,en])}d({title:"Produto adicionado",description:`${z.name} adicionado ao carrinho. Estoque disponível: ${z.stock}`})},D=(z,G,Se)=>{const he=e.find(en=>en.id===z);if(!he)return;const Qe=Se!==void 0?Se:he.max_available_stock;if(G>Qe&&(d({title:"Quantidade excede estoque",description:`Máximo de ${Qe} unidades disponíveis.`,variant:"warning"}),G=Qe),G<=0){A(z);return}t(en=>en.map(nr=>nr.id===z?{...nr,quantity:G,subtotal:nr.price*G}:nr))},A=z=>{t(G=>G.filter(Se=>Se.id!==z))},$=()=>{t([]),o([]),r({type:"percentage",value:0})},X=()=>e.reduce((z,G)=>z+G.subtotal,0),ie=()=>{const z=X();return n.type==="percentage"?z*n.value/100:Math.min(n.value,z)},ye=()=>X()-ie(),xe=()=>{if(!$t(f==null?void 0:f.role,Q.APPLY_DISCOUNTS)){d({title:"Sem permissão",description:"Você não tem permissão para aplicar descontos",variant:"destructive"});return}const z=prompt("Digite a porcentagem de desconto (ex: 10 para 10%):"),G=parseFloat(z);!isNaN(G)&&G>=0&&G<=100?(r({type:"percentage",value:G}),d({title:"Desconto aplicado",description:`${G}% de desconto.`})):z!==null&&d({title:"Valor inválido",description:"Por favor, insira um valor entre 0 e 100.",variant:"destructive"})},J=(z,G)=>{o(Se=>[...Se,{method:z,amount:parseFloat(G.toFixed(2)),id:Date.now()}])},we=()=>s.reduce((z,G)=>z+G.amount,0),Oe=()=>ye()-we(),ue=()=>e.length>0&&Oe()<=.001,ae=(z,G,Se)=>{R(he=>he.map((Qe,en)=>en===z?{...Qe,[G]:Se}:Qe))},je=()=>a.jsxs("div",{className:"space-y-6 max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Formas de Pagamento"}),a.jsxs("div",{className:"flex gap-4 mb-2",children:[a.jsx(B,{variant:C===1?"default":"outline",onClick:()=>_(1),children:"1 Forma"}),a.jsx(B,{variant:C===2?"default":"outline",onClick:()=>_(2),children:"2 Formas"})]}),[...Array(C)].map((z,G)=>{var Se;return a.jsxs("div",{className:"border rounded-lg p-4 mb-2 bg-card",children:[a.jsxs("div",{className:"mb-2 font-medium",children:["Pagamento ",G+1]}),a.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[a.jsxs(jn,{value:E[G].method,onValueChange:he=>ae(G,"method",he),children:[a.jsx(Qt,{className:"w-40",children:a.jsx(bn,{placeholder:"Forma de Pagamento"})}),a.jsx(Zt,{children:Object.entries(ec).map(([he,Qe])=>a.jsx(vt,{value:he,children:Qe},he))})]}),a.jsx(q,{type:"number",min:"0",step:"0.01",placeholder:"Valor",className:"w-32",value:E[G].amount,onChange:he=>ae(G,"amount",he.target.value)}),E[G].method==="credit"&&a.jsxs(jn,{value:((Se=E[G].parcelas)==null?void 0:Se.toString())||"1",onValueChange:he=>ae(G,"parcelas",parseInt(he)),children:[a.jsx(Qt,{className:"w-28",children:a.jsx(bn,{placeholder:"Parcelas"})}),a.jsx(Zt,{children:x$.map(he=>a.jsxs(vt,{value:he.toString(),children:[he,"x"]},he))})]})]})]},G)}),a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-medium",children:"Total da venda:"})," R$ ",ye().toFixed(2),a.jsx("br",{}),a.jsx("span",{className:"font-medium",children:"Total informado:"})," R$ ",we().toFixed(2)]}),!ue&&a.jsx("div",{className:"text-destructive text-sm mb-2",children:"Preencha todas as formas de pagamento corretamente e o valor total deve bater com o total da venda."}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(B,{onClick:()=>ue&&w(4),disabled:!ue,children:"Avançar"}),a.jsx(B,{variant:"ghost",onClick:()=>w(2),children:"Voltar"})]})]}),nt=()=>a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione a modalidade da venda"}),a.jsx("div",{className:"flex gap-4 mb-4",children:py.map(z=>a.jsx(B,{variant:x===z.value?"default":"outline",onClick:()=>j(z.value),className:"min-w-[120px]",children:z.label},z.value))}),a.jsx(B,{onClick:()=>x&&w(1),disabled:!x,className:"mt-2",children:"Avançar"})]}),wt=()=>a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione o vendedor responsável"}),S?a.jsx("div",{children:"Carregando vendedores..."}):a.jsx("div",{className:"flex flex-col gap-2 mb-4 max-w-md",children:g.map(z=>a.jsxs(B,{variant:(y==null?void 0:y.id)===z.id?"default":"outline",onClick:()=>v(z),className:"justify-start",children:[z.name," ",a.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",z.role,")"]})]},z.id))}),a.jsx(B,{onClick:()=>y&&w(2),disabled:!y,className:"mt-2",children:"Avançar"}),a.jsx(B,{variant:"ghost",className:"mt-2 ml-2",onClick:()=>w(0),children:"Voltar"})]});return ye(),E.slice(0,C).reduce((z,G)=>z+(parseFloat(G.amount)||0),0),E.slice(0,C).every(z=>z.method&&z.amount&&!isNaN(parseFloat(z.amount))&&(z.method!=="credit"||z.parcelas)),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p===0&&nt(),p===1&&wt(),p===2&&N(),p===3&&je(),p===4&&F()]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(_L,{subtotal:X(),discountAmount:ie(),total:ye(),onApplyDiscount:xe}),a.jsx(CL,{cartLength:e.length,payments:s,totalPaid:we(),remainingAmount:Oe(),onAddPayment:J}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(xs,{className:"w-5 h-5"}),a.jsx("span",{children:"Status do Caixa"})]})}),a.jsxs(re,{className:"space-y-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx("p",{className:`font-bold ${i.isOpen?"text-green-600":"text-red-600"}`,children:i.isOpen?"ABERTO":"FECHADO"}),i.isOpen&&a.jsxs("p",{className:"text-lg font-bold",children:["R$ ",i.currentAmount.toFixed(2)]})]}),a.jsx("div",{className:"text-center",children:a.jsx(B,{variant:"outline",size:"sm",onClick:()=>window.location.href="/cash-register",className:"w-full",children:"Gerenciar Caixa"})})]})]})]})]})},w$=({products:e,onEdit:t,onDelete:n,stores:r,currentUser:s})=>{if(e.length===0)return a.jsx(ne,{children:a.jsxs(re,{className:"text-center py-12",children:[a.jsx(Or,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum produto encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro produto."})]})});const o=i=>{var l;return((l=r.find(c=>c.id===i))==null?void 0:l.name)||"Loja Desconhecida"};return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>{var u,d,f;let l=i.stock,c="Est. Online/Geral";if(s&&s.store_id&&!((u=s.stores)!=null&&u.is_online_store)){const h=(d=i.physicalStocks)==null?void 0:d.find(p=>p.store_id===s.store_id);h?(l=h.quantity,c=`Est. ${s.stores.name}`):(l=0,c=`Est. ${s.stores.name}`)}return a.jsx(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:a.jsxs(ne,{className:"glass-effect flex flex-col h-full",children:[a.jsxs(_e,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[i.image_url?a.jsx("img",{src:i.image_url,alt:i.name,className:"w-10 h-10 object-cover rounded-md border",onError:h=>{console.log("❌ Erro ao carregar imagem:",i.image_url,"para produto:",i.name),h.target.style.display="none",h.target.nextSibling.style.display="block"},onLoad:()=>{console.log("✅ Imagem carregada com sucesso:",i.image_url,"para produto:",i.name)}}):null,a.jsx(Or,{className:`w-5 h-5 text-primary ${i.image_url?"hidden":"block"}`}),a.jsx(Ce,{className:"text-lg",children:i.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Bi,{to:`/products/${i.id}`,children:a.jsx(B,{variant:"ghost",size:"icon",children:a.jsx(ww,{className:"w-4 h-4"})})}),a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>t(i),children:a.jsx(Nc,{className:"w-4 h-4"})}),a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>n(i.id),className:"text-destructive hover:text-destructive",children:a.jsx(Oo,{className:"w-4 h-4"})})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground pt-1",children:["Cód: ",i.barcode]}),a.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:["Tipo: ",i.product_type==="variable"?"Variável":"Simples"]}),i.store_id&&a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(Hi,{className:"w-3 h-3 mr-1"}),a.jsxs("span",{children:["Cadastrado em: ",o(i.store_id)]})]})]}),a.jsxs(re,{className:"space-y-3 flex-grow flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Categoria:"}),a.jsx("p",{children:i.category||"-"})]})}),s&&(((f=s.stores)==null?void 0:f.is_online_store)||s.role==="admin")&&i.physicalStocks&&i.physicalStocks.length>0&&a.jsxs("div",{className:"mt-3 pt-2 border-t border-dashed",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Estoque nas Lojas Físicas:"}),a.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto text-xs",children:i.physicalStocks.map(h=>{var p;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xw,{className:"w-3 h-3 mr-1 text-muted-foreground"}),a.jsxs("span",{children:[((p=h.stores)==null?void 0:p.name)||o(h.store_id),":"]})]}),a.jsxs("span",{children:[h.quantity," un."]})]},h.id)})})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t mt-3",children:[a.jsxs("span",{className:"text-xl font-bold text-primary",children:["R$ ",i.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-sm font-medium ${l<=i.min_stock?"text-orange-600":"text-green-600"}`,children:[c,": ",l]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Alerta Mín: ",i.min_stock]})]})]})]})]})},i.id)})})};var Yc="Dialog",[K1,Q4]=Br(Yc),[j$,Sn]=K1(Yc),Y1=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=ys({prop:r,defaultProp:s??!1,onChange:o,caller:Yc});return a.jsx(j$,{scope:t,triggerRef:l,contentRef:c,contentId:Tr(),titleId:Tr(),descriptionId:Tr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};Y1.displayName=Yc;var J1="DialogTrigger",X1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(J1,n),o=Re(t,s.triggerRef);return a.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$p(s.open),...r,ref:o,onClick:se(e.onClick,s.onOpenToggle)})});X1.displayName=J1;var Mp="DialogPortal",[b$,Q1]=K1(Mp,{forceMount:void 0}),Z1=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Sn(Mp,t);return a.jsx(b$,{scope:t,forceMount:n,children:m.Children.map(r,i=>a.jsx(Ro,{present:n||o.open,children:a.jsx(Cc,{asChild:!0,container:s,children:i})}))})};Z1.displayName=Mp;var ic="DialogOverlay",eS=m.forwardRef((e,t)=>{const n=Q1(ic,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Sn(ic,e.__scopeDialog);return o.modal?a.jsx(Ro,{present:r||o.open,children:a.jsx(_$,{...s,ref:t})}):null});eS.displayName=ic;var S$=wo("DialogOverlay.RemoveScroll"),_$=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(ic,n);return a.jsx(u1,{as:S$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ce.div,{"data-state":$p(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",tS=m.forwardRef((e,t)=>{const n=Q1(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Sn(Ss,e.__scopeDialog);return a.jsx(Ro,{present:r||o.open,children:o.modal?a.jsx(C$,{...s,ref:t}):a.jsx(E$,{...s,ref:t})})});tS.displayName=Ss;var C$=m.forwardRef((e,t)=>{const n=Sn(Ss,e.__scopeDialog),r=m.useRef(null),s=Re(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return t1(o)},[]),a.jsx(nS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:se(e.onFocusOutside,o=>o.preventDefault())})}),E$=m.forwardRef((e,t)=>{const n=Sn(Ss,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return a.jsx(nS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),nS=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Sn(Ss,n),c=m.useRef(null),u=Re(t,c);return Nb(),a.jsxs(a.Fragment,{children:[a.jsx(Cp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(_c,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$p(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(k$,{titleId:l.titleId}),a.jsx(P$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Dp="DialogTitle",rS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(Dp,n);return a.jsx(ce.h2,{id:s.titleId,...r,ref:t})});rS.displayName=Dp;var sS="DialogDescription",oS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(sS,n);return a.jsx(ce.p,{id:s.descriptionId,...r,ref:t})});oS.displayName=sS;var iS="DialogClose",aS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(iS,n);return a.jsx(ce.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>s.onOpenChange(!1))})});aS.displayName=iS;function $p(e){return e?"open":"closed"}var lS="DialogTitleWarning",[Z4,cS]=Zk(lS,{contentName:Ss,titleName:Dp,docsSlug:"dialog"}),k$=({titleId:e})=>{const t=cS(lS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},N$="DialogDescriptionWarning",P$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cS(N$).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},T$=Y1,A$=X1,R$=Z1,uS=eS,dS=tS,fS=rS,hS=oS,O$=aS;const On=T$,fo=A$,I$=R$,pS=oe.forwardRef(({className:e,...t},n)=>a.jsx(uS,{ref:n,className:ve("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pS.displayName=uS.displayName;const mn=oe.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(I$,{children:[a.jsx(pS,{}),a.jsxs(dS,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(O$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Jh,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mn.displayName=dS.displayName;const gn=({className:e,...t})=>a.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});gn.displayName="DialogHeader";const vn=oe.forwardRef(({className:e,...t},n)=>a.jsx(fS,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));vn.displayName=fS.displayName;const mS=oe.forwardRef(({className:e,...t},n)=>a.jsx(hS,{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));mS.displayName=hS.displayName;const L$=async()=>{try{const e=Xe();let t=ee.from("categories").select("*").order("name");(e==null?void 0:e.role)!=="admin"&&(e!=null&&e.store_id)?t=t.eq("store_id",e.store_id):(e==null?void 0:e.role)!=="admin"&&(t=t.is("store_id",null));const{data:n,error:r}=await t;if(r)throw console.error("Erro ao buscar categorias:",r),new Error("Erro ao buscar categorias");return n||[]}catch(e){throw console.error("Erro em getCategories:",e),e}},M$=async e=>{try{const t=Xe(),n={...e,store_id:(t==null?void 0:t.store_id)||null},{data:r,error:s}=await ee.from("categories").insert([n]).select().single();if(s)throw console.error("Erro ao adicionar categoria:",s),new Error("Erro ao adicionar categoria");return r}catch(t){throw console.error("Erro em addCategory:",t),t}},D$=async(e,t)=>{try{const{data:n,error:r}=await ee.from("categories").update(t).eq("id",e).select().single();if(r)throw console.error("Erro ao atualizar categoria:",r),new Error("Erro ao atualizar categoria");return n}catch(n){throw console.error("Erro em updateCategory:",n),n}},$$=async e=>{try{const{error:t}=await ee.from("categories").delete().eq("id",e);if(t)throw console.error("Erro ao deletar categoria:",t),new Error("Erro ao deletar categoria");return!0}catch(t){throw console.error("Erro em deleteCategory:",t),t}},F$=async()=>{try{const e=Xe();let t=ee.from("categories").select("*").eq("active",!0).order("name");(e==null?void 0:e.role)!=="admin"&&(e!=null&&e.store_id)?t=t.eq("store_id",e.store_id):(e==null?void 0:e.role)!=="admin"&&(t=t.is("store_id",null));const{data:n,error:r}=await t;if(r)throw console.error("Erro ao buscar categorias ativas:",r),new Error("Erro ao buscar categorias ativas");return n||[]}catch(e){throw console.error("Erro em getActiveCategories:",e),e}},V$=async e=>{try{const{data:t,error:n}=await ee.from("products").select("id, name").eq("category",e).limit(1);if(n)throw console.error("Erro ao verificar uso da categoria:",n),new Error("Erro ao verificar uso da categoria");return t.length>0}catch(t){throw console.error("Erro em checkCategoryUsage:",t),t}},cn={SIMPLE:"simple",VARIABLE:"variable"},U$=({formData:e,handleInputChange:t,handleProductTypeChange:n,categories:r=[]})=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"name",children:"Nome do Produto *"}),a.jsx(q,{id:"name",name:"name",value:e.name,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"category",children:"Categoria"}),a.jsxs(jn,{name:"category",value:e.category,onValueChange:s=>t({target:{name:"category",value:s}}),children:[a.jsx(Qt,{children:a.jsx(bn,{placeholder:"Selecione a categoria"})}),a.jsx(Zt,{children:r.map(s=>a.jsx(vt,{value:s.name,children:s.name},s.id))})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"barcode",children:"Código de Barras Principal *"}),a.jsx(q,{id:"barcode",name:"barcode",value:e.barcode,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"price",children:"Preço Principal *"}),a.jsx(q,{id:"price",name:"price",type:"number",step:"0.01",value:e.price,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"price_varejo",children:"Preço de Varejo"}),a.jsx(q,{id:"price_varejo",name:"price_varejo",type:"number",step:"0.01",value:e.price_varejo||"",onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"price_atacado",children:"Preço de Atacado"}),a.jsx(q,{id:"price_atacado",name:"price_atacado",type:"number",step:"0.01",value:e.price_atacado||"",onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"price_atacarejo",children:"Cliente Exclusivo"}),a.jsx(q,{id:"price_atacarejo",name:"price_atacarejo",type:"number",step:"0.01",value:e.price_atacarejo||"",onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"product_type",children:"Tipo de Produto *"}),a.jsxs(jn,{name:"product_type",value:e.product_type,onValueChange:n,children:[a.jsx(Qt,{children:a.jsx(bn,{placeholder:"Selecione o tipo"})}),a.jsxs(Zt,{children:[a.jsx(vt,{value:cn.SIMPLE,children:"Produto Simples"}),a.jsx(vt,{value:cn.VARIABLE,children:"Produto Variável"})]})]})]}),e.product_type===cn.SIMPLE&&a.jsxs("div",{children:[a.jsx(H,{htmlFor:"stock",children:"Estoque (Simples) *"}),a.jsx(q,{id:"stock",name:"stock",type:"number",value:e.stock,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"referencia",children:"Referência *"}),a.jsx(q,{id:"referencia",name:"referencia",value:e.referencia||"",onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"min_stock",children:"Estoque Mínimo Global (Alerta)"}),a.jsx(q,{id:"min_stock",name:"min_stock",type:"number",value:e.min_stock,onChange:t})]})]}),a.jsxs("div",{className:"pt-4 border-t mt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dimensões e Peso (para frete)"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"weight",children:"Peso (kg)"}),a.jsx(q,{id:"weight",name:"weight",type:"number",step:"0.01",value:e.weight,onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"length",children:"Comprimento (cm)"}),a.jsx(q,{id:"length",name:"length",type:"number",step:"0.1",value:e.length,onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"height",children:"Altura (cm)"}),a.jsx(q,{id:"height",name:"height",type:"number",step:"0.1",value:e.height,onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"width",children:"Largura (cm)"}),a.jsx(q,{id:"width",name:"width",type:"number",step:"0.1",value:e.width,onChange:t})]})]})]})]}),gS=({title:e,imageUrlPreview:t,handleImageChange:n,imageInputRef:r,idPrefix:s="main"})=>a.jsxs("div",{className:"pt-4 border-t mt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:e}),a.jsx(q,{type:"file",accept:"image/*",onChange:n,ref:r,className:"mb-2",id:`${s}_image_upload`}),t&&a.jsx("img",{src:t,alt:`Preview ${e}`,className:"w-32 h-32 object-cover rounded-md border"})]}),B$=({variations:e,handleVariationChange:t,handleVariationAttributeChange:n,removeVariation:r,addVariation:s,handleVariationImageChange:o,variationImageUrlPreviews:i})=>!e||e.length===0?a.jsx("div",{className:"pt-4 border-t mt-6",children:a.jsxs(B,{type:"button",variant:"outline",onClick:s,children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Adicionar Primeira Variação"]})}):a.jsxs("div",{className:"pt-4 border-t mt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Variações do Produto"}),e.map((l,c)=>a.jsxs("div",{className:"p-4 border rounded-md mb-4 space-y-3 bg-muted/20 relative",children:[a.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-destructive",onClick:()=>r(c),children:a.jsx(Oo,{className:"w-4 h-4"})}),a.jsxs("p",{className:"font-semibold text-md",children:["Variação ",c+1]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(l.attributes||[{name:"",value:""}]).map((u,d)=>a.jsxs(oe.Fragment,{children:[a.jsxs("div",{children:[a.jsxs(H,{htmlFor:`variation_${c}_attribute_name_${d}`,children:["Nome do Atributo ",d+1," (Ex: Cor, Tamanho)"]}),a.jsx(q,{id:`variation_${c}_attribute_name_${d}`,value:u.name,onChange:f=>n(c,d,"name",f.target.value)})]}),a.jsxs("div",{children:[a.jsxs(H,{htmlFor:`variation_${c}_attribute_value_${d}`,children:["Valor do Atributo ",d+1," (Ex: Azul, M)"]}),a.jsx(q,{id:`variation_${c}_attribute_value_${d}`,value:u.value,onChange:f=>n(c,d,"value",f.target.value)})]})]},d))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_sku_${c}`,children:"SKU da Variação"}),a.jsx(q,{id:`variation_sku_${c}`,value:l.sku||"",onChange:u=>t(c,"sku",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_barcode_${c}`,children:"Cód. Barras Variação"}),a.jsx(q,{id:`variation_barcode_${c}`,value:l.barcode||"",onChange:u=>t(c,"barcode",u.target.value),onKeyDown:u=>{var d;if(u.key==="Enter"){u.preventDefault(),u.stopPropagation();const f=(d=u.target.closest("form"))==null?void 0:d.querySelector(`#variation_referencia_${c}`);f&&f.focus()}}})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_referencia_${c}`,children:"Referência"}),a.jsx(q,{id:`variation_referencia_${c}`,value:l.referencia||"",onChange:u=>t(c,"referencia",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_price_${c}`,children:"Preço Variação (opcional)"}),a.jsx(q,{id:`variation_price_${c}`,type:"number",step:"0.01",value:l.price||"",onChange:u=>t(c,"price",u.target.value),placeholder:"Usar preço principal"})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_price_varejo_${c}`,children:"Preço Varejo"}),a.jsx(q,{id:`variation_price_varejo_${c}`,type:"number",step:"0.01",value:l.price_varejo||"",onChange:u=>t(c,"price_varejo",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_price_atacado_${c}`,children:"Preço Atacado"}),a.jsx(q,{id:`variation_price_atacado_${c}`,type:"number",step:"0.01",value:l.price_atacado||"",onChange:u=>t(c,"price_atacado",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_price_atacarejo_${c}`,children:"Cliente Exclusivo"}),a.jsx(q,{id:`variation_price_atacarejo_${c}`,type:"number",step:"0.01",value:l.price_atacarejo||"",onChange:u=>t(c,"price_atacarejo",u.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_stock_${c}`,children:"Estoque da Variação *"}),a.jsx(q,{id:`variation_stock_${c}`,type:"number",value:l.stock||"0",onChange:u=>t(c,"stock",u.target.value),required:!0})]}),a.jsx(gS,{title:"Imagem da Variação (opcional)",imageUrlPreview:i[c],handleImageChange:u=>o(c,u),idPrefix:`variation_${c}`})]},c)),a.jsxs(B,{type:"button",variant:"outline",onClick:s,children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Adicionar Variação"]})]}),z$=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingProduct:o,resetForm:i,onStockShared:l})=>{const[c,u]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState(!1),[w,x]=m.useState(""),[j,y]=m.useState(""),[v,g]=m.useState([]),[b,S]=m.useState([]),[k,C]=m.useState(null),[_,E]=m.useState(""),[R,L]=m.useState({}),[I,V]=m.useState({}),[O,F]=m.useState([]),[M,N]=m.useState([]),[T,P]=m.useState(!1),[D,A]=m.useState(n.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""});m.useRef(null);const{toast:$}=Tt(),X=Xe(),ie={name:"",category:"",barcode:"",price:"",price_varejo:"",price_atacado:"",price_atacarejo:"",referencia:"",stock:"0",min_stock:"0",active:!0,weight:"",length:"",height:"",width:"",product_type:cn.SIMPLE,image_url:""};m.useEffect(()=>{var W,Y,pe,Ie,Ee,tn,Fo,Qc,Bp,zp;if(o){r({name:o.name||"",category:o.category||"",barcode:o.barcode||"",price:((W=o.price)==null?void 0:W.toString())||"",price_varejo:((Y=o.price_varejo)==null?void 0:Y.toString())||"",price_atacado:((pe=o.price_atacado)==null?void 0:pe.toString())||"",price_atacarejo:((Ie=o.price_atacarejo)==null?void 0:Ie.toString())||"",referencia:o.referencia||"",stock:o.product_type===cn.SIMPLE&&((Ee=o.stock)==null?void 0:Ee.toString())||"0",min_stock:((tn=o.min_stock)==null?void 0:tn.toString())||"0",active:o.active!==void 0?o.active:!0,weight:((Fo=o.weight)==null?void 0:Fo.toString())||"",length:((Qc=o.length)==null?void 0:Qc.toString())||"",height:((Bp=o.height)==null?void 0:Bp.toString())||"",width:((zp=o.width)==null?void 0:zp.toString())||"",product_type:o.product_type||cn.SIMPLE,image_url:o.image_url||""}),S(o.variations||[]),E(o.image_url||"");const Wp={};(o.variations||[]).forEach((Hp,qS)=>{Hp.image_url&&(Wp[qS]=Hp.image_url)}),V(Wp)}else r(ie),S([]),E(""),V({})},[o,e,r]),m.useEffect(()=>{A(n.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""})},[n.medidas]);const ye=()=>{const W=n.category,Y=["Camiseta","Gola Média","Camisa","Blazer","Jaqueta","Súeter"],pe=["Calças","Bermudas"];return Y.includes(W)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"busto",label:"Busto"},{name:"cintura",label:"Cintura"},{name:"ombro",label:"Ombro"},{name:"manga",label:"Manga"}]:pe.includes(W)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"cintura",label:"Cintura"},{name:"tornozelo",label:"Tornozelo"}]:[]};m.useEffect(()=>{(async()=>{const Y=await qr(!0);u(Y||[])})()},[]),m.useEffect(()=>{(async()=>{try{const Y=await F$();f(Y||[])}catch(Y){console.error("Erro ao buscar categorias:",Y)}})()},[]),m.useEffect(()=>{e&&o&&(async()=>{if(o&&o.id){const Y=await _o(o.id);g(Y||[])}else g([])})()},[e,o]);const xe=W=>{const{name:Y,value:pe}=W.target;r(Ie=>({...Ie,[Y]:pe}))},J=W=>{const{name:Y,value:pe}=W.target;A(Ie=>({...Ie,[Y]:pe}))},we=()=>{r(W=>({...W,medidas:D})),P(!1)},Oe=W=>{r(Y=>({...Y,product_type:W,stock:W===cn.SIMPLE?Y.stock:"0"})),W===cn.SIMPLE?S([]):b.length===0&&ue()},ue=()=>{S(W=>[...W,{attributes:[{name:"Cor",value:""},{name:"Tamanho",value:""}],sku:"",barcode:"",price:"",stock:"0",image_url:""}])},ae=(W,Y,pe)=>{const Ie=[...b];Ie[W][Y]=pe,S(Ie)},je=(W,Y,pe,Ie)=>{const Ee=[...b];Ee[W].attributes||(Ee[W].attributes=[]),Ee[W].attributes[Y]||(Ee[W].attributes[Y]={name:"",value:""}),Ee[W].attributes[Y][pe]=Ie,S(Ee)},nt=W=>{S(Y=>Y.filter((pe,Ie)=>Ie!==W)),L(Y=>{const pe={...Y};return delete pe[W],pe}),V(Y=>{const pe={...Y};return delete pe[W],pe})},wt=W=>{const Y=W.target.files[0];Y&&(C(Y),E(URL.createObjectURL(Y)))},z=(W,Y)=>{const pe=Y.target.files[0];pe&&(L(Ie=>({...Ie,[W]:pe})),V(Ie=>({...Ie,[W]:URL.createObjectURL(pe)})))},G=W=>{const Y=Array.from(W.target.files);F(Y),N(Y.map(pe=>URL.createObjectURL(pe)))},Se=async(W,Y="img-products")=>{if(!W)return null;const pe=`${Date.now()}_${W.name.replace(/\s/g,"_")}`,{data:Ie,error:Ee}=await ee.storage.from(Y).upload(pe,W);if(Ee)throw $({title:"Erro no Upload da Imagem",description:Ee.message,variant:"destructive"}),Ee;const{data:{publicUrl:tn}}=ee.storage.from(Y).getPublicUrl(pe);return tn},he=async W=>{W.preventDefault(),await Qe()},Qe=async()=>{let W=n.image_url;if(k)try{W=await Se(k)}catch{return}let Y=[];O.length>0&&(Y=await Promise.all(O.map(async Ee=>{try{return await Se(Ee)}catch{return null}})),Y=Y.filter(Boolean));const pe=await Promise.all(b.map(async(Ee,tn)=>{let Fo=Ee.image_url;if(R[tn])try{Fo=await Se(R[tn])}catch{throw new Error(`Erro ao fazer upload da imagem para variação ${tn+1}.`)}return{...Ee,image_url:Fo,price:parseFloat(Ee.price)||null,stock:parseInt(Ee.stock)||0}})).catch(Ee=>($({title:"Erro no processamento de variações",description:Ee.message,variant:"destructive"}),null));if(!pe&&b.length>0)return;const Ie={...n,referencia:n.referencia,image_url:W,variations:n.product_type===cn.VARIABLE?pe:[],weight:parseFloat(n.weight)||null,length:parseFloat(n.length)||null,height:parseFloat(n.height)||null,width:parseFloat(n.width)||null};Ie.product_type===cn.VARIABLE?Ie.stock=(pe||[]).reduce((Ee,tn)=>Ee+(parseInt(tn.stock)||0),0):Ie.stock=parseInt(n.stock)||0,s(Ie,Y)},en=async()=>{if(!o||!w||!j){$({title:"Erro",description:"Selecione produto, loja e quantidade para compartilhar.",variant:"destructive"});return}const W=parseInt(j);if(isNaN(W)||W<=0){$({title:"Erro",description:"Quantidade inválida.",variant:"destructive"});return}try{await hL(o.id,w,W,null),$({title:"Estoque Compartilhado!",description:`${W} unidades compartilhadas com sucesso.`}),x(""),y(""),p(!1);const Y=await _o(o.id);g(Y||[]),l&&l()}catch(Y){$({title:"Erro ao compartilhar",description:Y.message,variant:"destructive"})}},nr=X&&$t(X.role,Q.SHARE_STOCK),Up=()=>{t(!1),i(),p(!1),x(""),y(""),g([]),S([]),C(null),E(""),L({}),V({})};return a.jsxs(On,{open:e,onOpenChange:W=>{W?t(!0):Up()},children:[a.jsx(fo,{asChild:!0,children:a.jsxs(B,{children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Novo Produto"]})}),a.jsxs(mn,{className:"max-w-4xl",children:[a.jsx(gn,{children:a.jsx(vn,{children:o?"Editar Produto":"Novo Produto"})}),a.jsxs("form",{onSubmit:he,className:"space-y-6 max-h-[80vh] overflow-y-auto p-2",children:[a.jsx(U$,{formData:n,handleInputChange:xe,handleProductTypeChange:Oe,categories:d}),a.jsx(gS,{title:"Imagem Principal (opcional)",imageUrlPreview:_,handleImageChange:wt,idPrefix:"main"}),a.jsxs("div",{className:"mt-4",children:[a.jsx(H,{children:"Imagens do Produto (várias)"}),a.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[M.map((W,Y)=>a.jsxs("div",{className:`relative group rounded-lg shadow-md border bg-background ${Y===0?"ring-2 ring-primary":""}`,children:[a.jsx("img",{src:W,alt:`Imagem ${Y+1}`,className:"w-24 h-24 object-cover rounded-lg transition-transform group-hover:scale-105"}),Y===0&&a.jsx("span",{className:"absolute top-1 left-1 bg-primary text-xs text-white px-2 py-0.5 rounded shadow",children:"Destaque"}),a.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-destructive text-white rounded-full p-1 opacity-80 hover:opacity-100",onClick:()=>{F(pe=>pe.filter((Ie,Ee)=>Ee!==Y)),N(pe=>pe.filter((Ie,Ee)=>Ee!==Y))},title:"Remover imagem",children:"×"})]},Y)),a.jsxs("label",{className:"flex flex-col items-center justify-center w-24 h-24 border-2 border-dashed border-muted-foreground rounded-lg cursor-pointer hover:bg-muted transition",children:[a.jsx("span",{className:"text-3xl text-muted-foreground",children:"+"}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:G})]})]}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"A primeira imagem será a de destaque."})]}),n.product_type===cn.VARIABLE&&a.jsx(B$,{variations:b,handleVariationChange:ae,handleVariationAttributeChange:je,removeVariation:nt,addVariation:ue,handleVariationImageChange:z,variationImageUrlPreviews:I}),o&&nr&&a.jsxs("div",{className:"pt-4 border-t mt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Compartilhar Estoque com Lojas Físicas"}),a.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>p(!h),children:[a.jsx(fP,{className:"w-4 h-4 mr-2"}),h?"Fechar":"Abrir"," Compartilhamento"]})]}),h&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-md bg-muted/30",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"shareStoreId",children:"Loja Física"}),a.jsxs(jn,{value:w,onValueChange:x,children:[a.jsx(Qt,{children:a.jsx(bn,{placeholder:"Selecione a loja"})}),a.jsx(Zt,{children:c.map(W=>a.jsx(vt,{value:W.id,children:W.name},W.id))})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"shareQuantity",children:"Qtd. a Compartilhar"}),a.jsx("input",{id:"shareQuantity",type:"number",min:"1",value:j,onChange:W=>y(W.target.value),className:"input w-full border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 rounded-md"})]}),a.jsx("div",{className:"md:self-end",children:a.jsx(B,{type:"button",onClick:en,className:"w-full",children:"Compartilhar"})})]}),v.length>0&&a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Estoque Compartilhado:"}),v.map(W=>{var Y;return a.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-background rounded-md",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xw,{className:"w-4 h-4 mr-2 text-muted-foreground"}),a.jsx("span",{children:((Y=W.stores)==null?void 0:Y.name)||"Loja desconhecida"})]}),a.jsxs("span",{children:[W.quantity," unidades"]})]},W.id)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-6 border-t",children:[a.jsx(B,{type:"button",variant:"outline",onClick:Up,children:"Cancelar"}),a.jsxs(B,{type:"submit",children:[o?"Atualizar":"Criar"," Produto"]})]})]}),a.jsx(B,{type:"button",variant:"outline",className:"mt-2",onClick:()=>P(!0),children:"Adicionar Medidas"}),a.jsx(On,{open:T,onOpenChange:P,children:a.jsxs(mn,{children:[a.jsx(gn,{children:a.jsx(vn,{children:"Medidas da Peça"})}),n.category?a.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:ye().map(W=>a.jsxs("div",{children:[a.jsx(H,{children:W.label}),a.jsx(q,{name:W.name,value:D[W.name]||"",onChange:J})]},W.name))}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Selecione uma categoria primeiro para ver os campos de medidas disponíveis."}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx(B,{type:"button",variant:"ghost",onClick:()=>P(!1),children:"Cancelar"}),a.jsx(B,{type:"button",onClick:we,children:"Salvar"})]})]})})]})]})},W$=({products:e})=>e.length===0?null:a.jsxs(ne,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2 text-orange-700 dark:text-orange-300",children:[a.jsx(HN,{className:"w-5 h-5"}),a.jsx("span",{children:"Produtos com Estoque Baixo"})]})}),a.jsx(re,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.map(t=>a.jsxs("div",{className:"text-sm p-2 bg-orange-100 dark:bg-orange-900/50 rounded",children:[a.jsx("span",{className:"font-medium",children:t.name}),a.jsxs("span",{className:"text-orange-600 dark:text-orange-400 ml-2",children:["(Estoque: ",t.stock," / Mín: ",t.min_stock,")"]})]},t.id))})})]}),H$=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(""),[s,o]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!0),[d,f]=m.useState([]),{toast:h}=Tt(),p=Xe(),[w,x]=m.useState({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),[j,y]=m.useState({barcode:"",sku:"",referencia:"",name:""}),v=L=>{const{name:I,value:V}=L.target;y(O=>({...O,[I]:V}))},g=e.filter(L=>{var I,V,O,F;return(!j.barcode||((I=L.barcode)==null?void 0:I.toLowerCase().includes(j.barcode.toLowerCase())))&&(!j.sku||((V=L.sku)==null?void 0:V.toLowerCase().includes(j.sku.toLowerCase()))||L.variations&&L.variations.some(M=>{var N;return(N=M.sku)==null?void 0:N.toLowerCase().includes(j.sku.toLowerCase())}))&&(!j.referencia||((O=L.referencia)==null?void 0:O.toLowerCase().includes(j.referencia.toLowerCase()))||L.variations&&L.variations.some(M=>{var N;return(N=M.referencia)==null?void 0:N.toLowerCase().includes(j.referencia.toLowerCase())}))&&(!j.name||((F=L.name)==null?void 0:F.toLowerCase().includes(j.name.toLowerCase())))}),b=m.useCallback(async()=>{u(!0);try{const[L,I]=await Promise.all([Sb(),qr()]),V=await Promise.all((L||[]).map(async O=>{const F=await _o(O.id);return{...O,physicalStocks:F||[]}}));t(V),f(I||[])}catch(L){h({title:"Erro ao carregar produtos ou lojas",description:L.message,variant:"destructive"})}finally{u(!1)}},[h,p==null?void 0:p.store_id,p==null?void 0:p.role]);m.useEffect(()=>{b()},[b]);const S=()=>{x({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),o(null)},k=async L=>{var V,O;console.log("🚀 Iniciando criação de produto..."),console.log("📋 Dados recebidos:",L);const I={...L,price:parseFloat(L.price)||0,stock:parseInt(L.stock)||0,min_stock:parseInt(L.min_stock)||0,sizes:L.sizes?L.sizes.split(",").map(F=>F.trim()).filter(F=>F):[],colors:L.colors?L.colors.split(",").map(F=>F.trim()).filter(F=>F):[]};if(console.log("📦 Dados processados:",I),!I.name||!I.barcode||!I.price||isNaN(I.stock)){console.log("❌ Erro de validação:",{name:I.name,barcode:I.barcode,price:I.price,stock:I.stock}),h({title:"Erro de Validação",description:"Nome, Código de Barras, Preço e Estoque Online são obrigatórios.",variant:"destructive"});return}u(!0);try{if(console.log("🏪 Verificando loja..."),!s&&!((V=p==null?void 0:p.stores)!=null&&V.is_online_store)){const F=d.find(M=>M.is_online_store);if(console.log("🏪 Loja online encontrada:",F),F)I.store_id=F.id;else{console.log("❌ Loja online não encontrada"),h({title:"Erro",description:"Loja online principal não encontrada para cadastro.",variant:"destructive"}),u(!1);return}}else s?I.store_id=s.store_id:(O=p==null?void 0:p.stores)!=null&&O.is_online_store&&(I.store_id=p.store_id);if(console.log("📦 Dados finais antes de salvar:",I),s)console.log("✏️ Atualizando produto..."),await _b(s.id,I),h({title:"Produto atualizado!",description:`${I.name} foi atualizado.`});else{console.log("🔍 Verificando código de barras duplicado...");const F=await uL();if(console.log("📋 Produtos existentes:",F.length),F.some(N=>N.barcode===I.barcode)){console.log("❌ Código de barras já existe:",I.barcode),h({title:"Erro de Validação",description:"Código de barras já existe.",variant:"destructive"}),u(!1);return}console.log("✅ Criando produto...");const M=await dL(I);console.log("✅ Produto criado com sucesso:",M),h({title:"Produto criado!",description:`${I.name} foi criado.`})}b(),l(!1),S()}catch(F){console.error("❌ Erro ao salvar produto:",F),h({title:"Erro ao salvar produto",description:F.message,variant:"destructive"})}finally{u(!1)}},C=async L=>{var I,V;u(!0);try{const O=await fL(L.id);o(O),x({name:O.name,category:O.category||"",brand:O.brand||"",barcode:O.barcode,sizes:((I=O.sizes)==null?void 0:I.join(", "))||"",colors:((V=O.colors)==null?void 0:V.join(", "))||"",price:O.price.toString(),stock:O.stock.toString(),min_stock:O.min_stock.toString(),active:O.active}),l(!0)}catch(O){h({title:"Erro ao buscar produto para edição",description:O.message,variant:"destructive"})}finally{u(!1)}},_=async L=>{if(window.confirm("Deseja realmente excluir este produto? Esta ação é irreversível!")){u(!0);try{await pL(L),h({title:"Produto excluído!",description:"O produto foi removido do sistema."}),b()}catch(I){h({title:"Erro ao excluir produto",description:I.message,variant:"destructive"})}finally{u(!1)}}},E=()=>e.filter(L=>L.active&&L.stock<=L.min_stock),R=()=>{b()};return c&&e.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx(q,{placeholder:"Buscar por Código de Barras",name:"barcode",value:j.barcode,onChange:v,className:"w-44"}),a.jsx(q,{placeholder:"Buscar por SKU",name:"sku",value:j.sku,onChange:v,className:"w-36"}),a.jsx(q,{placeholder:"Buscar por Referência",name:"referencia",value:j.referencia,onChange:v,className:"w-32"}),a.jsx(q,{placeholder:"Buscar por Nome",name:"name",value:j.name,onChange:v,className:"w-44"})]}),a.jsx(z$,{open:i,onOpenChange:l,formData:w,setFormData:x,onSubmit:k,editingProduct:s,resetForm:S,onStockShared:R})]}),a.jsx(W$,{products:E()}),a.jsx(ne,{children:a.jsx(re,{className:"pt-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Yh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(q,{placeholder:"Buscar produtos por nome, categoria, marca ou código...",value:n,onChange:L=>r(L.target.value),className:"pl-10"})]})})}),e.length>0?a.jsx(w$,{products:g,onEdit:C,onDelete:_,stores:d,currentUser:p}):a.jsx(ne,{className:"mt-6",children:a.jsxs(re,{className:"text-center py-12",children:[a.jsx(iP,{className:"w-16 h-16 mx-auto mb-6 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum produto encontrado"}),a.jsxs("p",{className:"text-muted-foreground mb-6",children:[n?"Tente ajustar sua busca ou ":"",'Clique em "Novo Produto" para começar a cadastrar.']})]})})]})},q$=()=>{var C;const{id:e}=XE(),[t,n]=m.useState(null),[r,s]=m.useState([]),[o,i]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!0),[f,h]=m.useState([]),[p,w]=m.useState(null),[x,j]=m.useState(!1),{toast:y}=Tt(),v=m.useCallback(async()=>{d(!0);try{const{data:_,error:E}=await ee.from("products").select("*").eq("id",e).single();if(E)throw E;n(_);const R=[];if(_.image_url&&R.push({id:"main",image_url:_.image_url,is_featured:!0}),h(R),console.log("🖼️ Imagens encontradas:",R),_.product_type==="variable"){const{data:V,error:O}=await ee.from("product_variations").select("*").eq("product_id",e);if(O)throw O;s(V||[]),console.log("🔄 Variações encontradas:",V)}const L=await _o(e);i(L||[]);const I=await qr();c(I||[])}catch(_){y({title:"Erro ao buscar detalhes do produto",description:_.message,variant:"destructive"}),n(null)}finally{d(!1)}},[e,y]);m.useEffect(()=>{v()},[v]);const g=_=>{var E;return((E=l.find(R=>R.id===_))==null?void 0:E.name)||"Loja Desconhecida"},b=_=>{w(_),j(!0)},S=()=>{j(!1),w(null)};if(u)return a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"loading-spinner"})});if(!t)return a.jsxs("div",{className:"container mx-auto p-6 text-center",children:[a.jsx(Or,{className:"w-24 h-24 mx-auto text-muted-foreground mb-4"}),a.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Produto não encontrado"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"O produto que você está procurando não existe ou foi removido."}),a.jsx(B,{asChild:!0,variant:"outline",children:a.jsxs(Bi,{to:"/products",children:[a.jsx(xg,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})})]});const k=t.product_type==="variable"?r.reduce((_,E)=>_+E.stock,0):t.stock;return a.jsxs("div",{className:"container mx-auto p-4 md:p-8 space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(B,{asChild:!0,variant:"outline",size:"sm",children:a.jsxs(Bi,{to:"/products",children:[a.jsx(xg,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})}),a.jsx("h1",{className:"text-3xl font-bold text-center flex-grow",children:t.name}),a.jsx("div",{className:"w-24"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center",children:[a.jsx(eP,{className:"mr-2 text-primary"})," Imagens do Produto"]})}),a.jsx(re,{children:f.length>0?a.jsxs("div",{children:[a.jsx("img",{src:f[0].image_url,alt:"Destaque",className:"w-full h-64 object-cover rounded-lg border mb-2 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b(f[0]),onError:_=>{console.log("❌ Erro ao carregar imagem principal:",f[0].image_url),_.target.style.display="none",_.target.nextSibling.style.display="flex"},onLoad:()=>{console.log("✅ Imagem principal carregada:",f[0].image_url)}}),a.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center hidden",children:a.jsx(ku,{className:"w-16 h-16 text-muted-foreground"})}),a.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:f.map((_,E)=>a.jsx("img",{src:_.image_url,alt:`Imagem ${E+1}`,className:`w-16 h-16 object-cover rounded border cursor-pointer hover:opacity-90 transition-opacity ${E===0?"ring-2 ring-primary":""}`,title:_.is_featured?"Destaque":"",onClick:()=>b(_),onError:R=>{console.log("❌ Erro ao carregar miniatura:",_.image_url),R.target.style.display="none"},onLoad:()=>{console.log("✅ Miniatura carregada:",_.image_url)}},_.id))})]}):a.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center",children:a.jsx(ku,{className:"w-16 h-16 text-muted-foreground"})})})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center",children:[a.jsx(tP,{className:"mr-2 text-primary"})," Dados Principais"]})}),a.jsxs(re,{className:"space-y-3 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Nome:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Referência:"})," ",t.referencia||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Categoria:"})," ",t.category||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Código de Barras:"})," ",t.barcode]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Tipo:"})," ",a.jsx("span",{className:"capitalize",children:t.product_type==="variable"?"Produto Variável":"Produto Simples"})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",t.active?"Ativo":"Inativo"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Data de Cadastro:"})," ",t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"]})]})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center",children:[a.jsx(xs,{className:"mr-2 text-primary"})," Preços"]})}),a.jsxs(re,{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Principal:"})," R$ ",(C=t.price)==null?void 0:C.toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Varejo:"})," ",t.price_varejo?`R$ ${t.price_varejo.toFixed(2)}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Atacado:"})," ",t.price_atacado?`R$ ${t.price_atacado.toFixed(2)}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Atacarejo:"})," ",t.price_atacarejo?`R$ ${t.price_atacarejo.toFixed(2)}`:"N/A"]})]})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center",children:[a.jsx(jg,{className:"mr-2 text-primary"})," Dimensões e Peso"]})}),a.jsxs(re,{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Peso:"})," ",t.weight?`${t.weight} kg`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Comprimento:"})," ",t.length?`${t.length} cm`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Altura:"})," ",t.height?`${t.height} cm`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Largura:"})," ",t.width?`${t.width} cm`:"N/A"]})]})]}),t.medidas&&a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center",children:[a.jsx(jg,{className:"mr-2 text-primary"})," Medidas da Peça"]})}),a.jsx(re,{className:"space-y-2 text-sm",children:Object.entries(t.medidas).map(([_,E])=>a.jsxs("p",{children:[a.jsxs("strong",{children:[_.charAt(0).toUpperCase()+_.slice(1),":"]})," ",E||"N/A"]},_))})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center",children:[a.jsx(hP,{className:"mr-2 text-primary"})," Estoque"]})}),a.jsxs(re,{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Estoque Mínimo Global:"})," ",t.min_stock," unidades"]}),a.jsxs("p",{className:`font-semibold ${k<=t.min_stock?"text-orange-500":"text-green-500"}`,children:["Estoque Online/Geral Total: ",k," unidades"]})]})]}),o.length>0&&a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center",children:[a.jsx(Hi,{className:"mr-2 text-primary"})," Estoque nas Lojas Físicas"]})}),a.jsx(re,{className:"space-y-2",children:o.map(_=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-background/30 rounded-md text-sm",children:[a.jsx("p",{children:a.jsxs("strong",{children:[g(_.store_id),":"]})}),a.jsxs("p",{children:[_.quantity," unidades ",_.variation_id?`(Variação ID: ${_.variation_id.substring(0,8)}...)`:"(Produto Simples/Agregado)"]})]},_.id))})]}),o.length===0&&a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6 text-center text-muted-foreground",children:"Este produto (ou suas variações) ainda não teve estoque compartilhado com lojas físicas."})}),t.product_type==="variable"&&r.length>0&&a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center",children:[a.jsx(nP,{className:"mr-2 text-primary"})," Variações do Produto (",r.length,")"]})}),a.jsx(re,{className:"space-y-4",children:r.map((_,E)=>{var R;return a.jsx(ne,{className:"bg-background/30 p-4 rounded-md",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[a.jsxs("div",{className:"md:col-span-1",children:[_.image_url?a.jsx("img",{src:_.image_url,alt:`Variação ${E+1}`,className:"w-full h-auto object-cover rounded border aspect-square cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b({image_url:_.image_url,id:_.id}),onError:L=>{console.log("❌ Erro ao carregar imagem da variação:",_.image_url),L.target.style.display="none",L.target.nextSibling.style.display="flex"},onLoad:()=>{console.log("✅ Imagem da variação carregada:",_.image_url)}}):null,a.jsx("div",{className:"w-full h-32 bg-muted rounded flex items-center justify-center",style:{display:_.image_url?"none":"flex"},children:a.jsx(ku,{className:"w-10 h-10 text-muted-foreground"})})]}),a.jsxs("div",{className:"md:col-span-2 space-y-2 text-sm",children:[a.jsx("p",{className:"font-semibold text-base",children:((R=_.attributes)==null?void 0:R.map(L=>`${L.name}: ${L.value}`).join(" / "))||`Variação ${E+1}`}),_.sku&&a.jsxs("p",{children:[a.jsx("strong",{children:"SKU:"})," ",_.sku]}),_.barcode&&a.jsxs("p",{children:[a.jsx("strong",{children:"Cód. Barras:"})," ",_.barcode]}),_.referencia&&a.jsxs("p",{children:[a.jsx("strong",{children:"Referência:"})," ",_.referencia]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Específico:"})," ",_.price?`R$ ${_.price.toFixed(2)}`:"Usar preço principal"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Varejo:"})," ",_.price_varejo?`R$ ${_.price_varejo}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Atacado:"})," ",_.price_atacado?`R$ ${_.price_atacado}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Atacarejo:"})," ",_.price_atacarejo?`R$ ${_.price_atacarejo}`:"N/A"]}),a.jsxs("p",{className:"font-medium",children:[a.jsx("strong",{children:"Estoque da Variação:"})," ",_.stock," unidades"]}),_.medidas&&a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"font-semibold",children:"Medidas:"}),a.jsx("ul",{className:"ml-4 list-disc",children:Object.entries(_.medidas).map(([L,I])=>a.jsxs("li",{children:[a.jsxs("strong",{children:[L.charAt(0).toUpperCase()+L.slice(1),":"]})," ",I||"N/A"]},L))})]})]})]})},_.id||E)})})]}),t.product_type==="variable"&&r.length===0&&a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6 text-center text-muted-foreground",children:"Nenhuma variação cadastrada para este produto."})})]})]}),x&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:S,children:a.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[a.jsx("button",{onClick:S,className:"absolute top-4 right-4 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full p-2 transition-all z-10",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("img",{src:p.image_url,alt:"Visualização",className:"max-w-full max-h-full object-contain rounded-lg",onClick:_=>_.stopPropagation()})]})})]})},ge={IN:"in",OUT:"out",ADJUSTMENT:"adjustment",SALE_ONLINE:"sale_online_physical_debit",SALE_PHYSICAL:"sale_physical_store",TRANSFER_IN:"transfer_in",TRANSFER_OUT:"transfer_out"},Ja={[ge.IN]:"Entrada Manual",[ge.OUT]:"Saída Manual",[ge.ADJUSTMENT]:"Ajuste Manual",[ge.SALE_ONLINE]:"Venda Online (Débito Físico)",[ge.SALE_PHYSICAL]:"Venda Loja Física",[ge.TRANSFER_IN]:"Transferência (Entrada Loja)",[ge.TRANSFER_OUT]:"Transferência (Saída Online)"},G$=()=>{var O,F,M;const[e,t]=m.useState([]),[n,r]=m.useState([]),[s,o]=m.useState(""),[i,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState([]),[w,x]=m.useState(!0),{toast:j}=Tt(),y=Xe(),[v,g]=m.useState({type:"",quantity:"",reason:"",target_store_id:""}),b=m.useCallback(async()=>{x(!0);try{const[N,T,P]=await Promise.all([Sb(),cL(),qr()]),D=await Promise.all((N||[]).map(async A=>{const $=await _o(A.id);return{...A,physicalStocks:$||[]}}));t(D),r(T||[]),p(P||[])}catch(N){j({title:"Erro ao carregar dados de estoque",description:N.message,variant:"destructive"})}finally{x(!1)}},[j,y==null?void 0:y.store_id]);m.useEffect(()=>{b()},[b]);const S=e.filter(N=>{var T,P,D;return N.active&&(((T=N.name)==null?void 0:T.toLowerCase().includes(s.toLowerCase()))||((P=N.category)==null?void 0:P.toLowerCase().includes(s.toLowerCase()))||((D=N.barcode)==null?void 0:D.includes(s)))}),k=async N=>{var P;if(N.preventDefault(),!c||!v.type||!v.quantity){j({title:"Erro",description:"Produto, tipo e quantidade são obrigatórios.",variant:"destructive"});return}const T=parseInt(v.quantity);if(isNaN(T)||T<=0){j({title:"Erro",description:"Quantidade deve ser um número positivo.",variant:"destructive"});return}x(!0);try{let D,A,$=v.target_store_id||c.store_id,X="online",ie=null;if(v.target_store_id){X="physical_store";const ye=c.physicalStocks.find(xe=>xe.store_id===v.target_store_id);if(D=ye?ye.quantity:0,ie=ye?ye.id:null,v.type===ge.IN?A=D+T:v.type===ge.OUT?A=D-T:v.type===ge.ADJUSTMENT&&(A=T),A<0&&v.type!==ge.ADJUSTMENT){j({title:"Erro",description:"Estoque da loja física não pode ficar negativo.",variant:"destructive"}),x(!1);return}if(v.type===ge.ADJUSTMENT&&A<0&&(A=0),ye)await ee.from("product_store_stock").update({quantity:A}).eq("id",ye.id);else{const{data:xe}=await ee.from("product_store_stock").insert({product_id:c.id,store_id:v.target_store_id,quantity:A}).select("id").single();ie=xe==null?void 0:xe.id}await Cb(c.id)}else{if(!((P=y==null?void 0:y.stores)!=null&&P.is_online_store)&&(y==null?void 0:y.role)!==Ne.ADMIN){j({title:"Ação não permitida",description:"Selecione uma loja física para esta movimentação ou realize no estoque Online (se admin/online).",variant:"destructive"}),x(!1);return}if($=c.store_id,D=c.stock,v.type===ge.IN?A=D+T:v.type===ge.OUT?A=D-T:v.type===ge.ADJUSTMENT&&(A=T),A<0&&v.type!==ge.ADJUSTMENT){j({title:"Erro",description:"Estoque online/geral não pode ficar negativo.",variant:"destructive"}),x(!1);return}v.type===ge.ADJUSTMENT&&A<0&&(A=0),await _b(c.id,{stock:A})}await bb({product_id:c.id,type:v.type,quantity:T,previous_stock:D,new_stock:A,reason:v.reason,user_id:y==null?void 0:y.id,store_id:$,stock_type:X,product_store_stock_id:X==="physical_store"?ie:null}),j({title:"Movimentação registrada!",description:`${Ja[v.type]} de ${T} unidades para ${c.name}.`}),b(),l(!1),g({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null)}catch(D){j({title:"Erro ao registrar movimentação",description:D.message,variant:"destructive"})}finally{x(!1)}},C=(N,T,P=null)=>{var D;u(N),f(P),g({...v,type:T,target_store_id:P?P.id:(D=y==null?void 0:y.stores)!=null&&D.is_online_store||(y==null?void 0:y.role)===Ne.ADMIN?"":y==null?void 0:y.store_id}),l(!0)},_=N=>{var T;return((T=h.find(P=>P.id===N))==null?void 0:T.name)||"N/A"},E=()=>e.filter(N=>N.active&&N.stock<=N.min_stock).length,R=()=>e.filter(N=>N.active).length,L=()=>e.filter(N=>N.active).reduce((N,T)=>N+T.stock,0),I=N=>e.reduce((T,P)=>{var A;const D=(A=P.physicalStocks)==null?void 0:A.find($=>$.store_id===N);return T+(D?D.quantity:0)},0),V=h.filter(N=>!N.is_online_store);return w&&e.length===0&&n.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"mb-8",children:a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Visão Geral do Estoque"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-purple-900/60 to-background/80 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(Or,{className:"w-7 h-7 text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:R()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Produtos Ativos"})]})]}),a.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-red-900/60 to-background/80 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(qi,{className:"w-7 h-7 text-red-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:L()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Online"})]})]}),V.map(N=>a.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-background/80 to-purple-900/60 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(qi,{className:"w-7 h-7 text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:I(N.id)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:N.name})]})]},N.id)),a.jsxs("div",{className:"rounded-xl bg-background/60 border border-red-700/30 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(mP,{className:"w-7 h-7 text-orange-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-orange-300",children:E()}),a.jsx("p",{className:"text-xs text-orange-200",children:"Estoque Baixo"})]})]}),a.jsxs("div",{className:"rounded-xl bg-background/60 border border-purple-700/30 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(cl,{className:"w-7 h-7 text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:n.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Movimentações"})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"relative max-w-md mx-auto",children:[a.jsx(Yh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(q,{placeholder:"Buscar produtos...",value:s,onChange:N=>o(N.target.value),className:"pl-10 bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"})]})}),a.jsx("div",{className:"space-y-4 mt-8",children:S.map(N=>{var T,P,D;return a.jsxs(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"",children:[a.jsxs("div",{className:"rounded-xl bg-background/70 border border-white/5 p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 shadow-sm hover:shadow-lg transition",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-lg font-bold text-white",children:N.name}),N.stock<=N.min_stock&&a.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-red-900/60 text-red-200",children:"Baixo estoque"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.category," • ",N.brand," • Cód: ",N.barcode]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[a.jsxs("span",{className:"text-xs text-white bg-purple-900/40 rounded px-2 py-0.5",children:["Online: ",a.jsx("b",{children:N.stock})," un."]}),V.map(A=>{var X;const $=(X=N.physicalStocks)==null?void 0:X.find(ie=>ie.store_id===A.id);return a.jsxs("span",{className:"text-xs text-white bg-background/40 border border-white/10 rounded px-2 py-0.5",children:[A.name,": ",a.jsx("b",{children:$?$.quantity:0})," un."]},A.id)})]})]}),a.jsxs("div",{className:"flex flex-col md:items-end gap-1",children:[a.jsxs("span",{className:`text-base font-semibold ${N.stock<=N.min_stock?"text-orange-400":"text-green-400"}`,children:["Online: ",N.stock," un."]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Mín. Online: ",N.min_stock]})]}),(((T=y==null?void 0:y.stores)==null?void 0:T.is_online_store)||(y==null?void 0:y.role)===Ne.ADMIN)&&a.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[a.jsxs(B,{variant:"ghost",size:"sm",className:"rounded-lg border border-white/10 bg-white/5 text-white hover:bg-purple-900/40",onClick:()=>C(N,ge.IN),children:[a.jsx(Xt,{className:"w-4 h-4 mr-1"}),"Entrada"]}),a.jsxs(B,{variant:"ghost",size:"sm",className:"rounded-lg border border-white/10 bg-white/5 text-white hover:bg-red-900/40",onClick:()=>C(N,ge.OUT),children:[a.jsx(zi,{className:"w-4 h-4 mr-1"}),"Saída"]}),a.jsx(B,{variant:"ghost",size:"sm",className:"rounded-lg border border-white/10 bg-white/5 text-white hover:bg-purple-900/40",onClick:()=>C(N,ge.ADJUSTMENT),children:"Ajuste"})]})]}),N.physicalStocks&&N.physicalStocks.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.physicalStocks.map(A=>{var ie;const $=h.find(ye=>ye.id===A.store_id);if(!$)return null;const X=(y==null?void 0:y.role)===Ne.ADMIN||((ie=y==null?void 0:y.stores)==null?void 0:ie.is_online_store)||(y==null?void 0:y.store_id)===A.store_id;return a.jsxs("div",{className:"rounded-lg bg-background/60 border border-white/10 px-3 py-1 flex items-center gap-2 text-xs text-white",children:[a.jsxs("span",{className:"font-semibold",children:[$.name,":"]}),a.jsxs("span",{children:[A.quantity," un."]}),X&&a.jsxs(a.Fragment,{children:[a.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6 text-purple-400",onClick:()=>C(N,ge.IN,$),children:a.jsx(Xt,{className:"w-3 h-3"})}),a.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-400",onClick:()=>C(N,ge.OUT,$),children:a.jsx(zi,{className:"w-3 h-3"})}),a.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6 text-purple-400",onClick:()=>C(N,ge.ADJUSTMENT,$),children:a.jsx(pP,{className:"w-3 h-3"})})]})]},A.id)})}),((P=N.physicalStocks)==null?void 0:P.length)===0&&(((D=y==null?void 0:y.stores)==null?void 0:D.is_online_store)||(y==null?void 0:y.role)===Ne.ADMIN)&&a.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"Este produto ainda não foi compartilhado com lojas físicas."})]},N.id)})}),a.jsxs("div",{className:"mt-10",children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx(cl,{className:"w-5 h-5 text-purple-400"}),"Histórico de Movimentações"]}),a.jsx("div",{className:"rounded-xl bg-background/70 border border-white/5 p-4 max-h-96 overflow-y-auto",children:n.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(cl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma movimentação registrada"})]}):a.jsx("div",{className:"space-y-3",children:n.slice(0,20).map(N=>{var T,P;return a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-white/5 transition text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold text-white",children:[N.productName||((T=N.products)==null?void 0:T.name)," (",(P=N.products)==null?void 0:P.barcode,")"]}),a.jsxs("p",{className:"text-muted-foreground",children:[Ja[N.type]||N.type," • ",N.storeName," ",N.stock_type==="physical_store"&&N.stores&&!N.stores.is_online_store?"(Loja Física)":N.stock_type==="online"?"(Estoque Online)":""]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.userName," • ",new Date(N.created_at).toLocaleString()," • ",N.reason]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium ${N.type===ge.IN||N.type===ge.TRANSFER_IN?"text-green-400":N.type===ge.OUT||N.type===ge.TRANSFER_OUT||N.type===ge.SALE_ONLINE||N.type===ge.SALE_PHYSICAL?"text-red-400":"text-purple-400"}`,children:[N.type===ge.IN||N.type===ge.TRANSFER_IN?"+":N.type===ge.OUT||N.type===ge.TRANSFER_OUT||N.type===ge.SALE_ONLINE||N.type===ge.SALE_PHYSICAL?"-":"=",N.quantity]}),a.jsxs("p",{className:"text-muted-foreground",children:[N.previous_stock," → ",N.new_stock]})]})]},N.id)})})})]}),a.jsx(On,{open:i,onOpenChange:N=>{l(N),N||(g({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null))},children:a.jsxs(mn,{children:[a.jsx(gn,{children:a.jsx(vn,{children:v.type&&`${Ja[v.type]||v.type} de Estoque`})}),c&&a.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Produto"}),a.jsx(q,{value:c.name,disabled:!0})]}),(((O=y==null?void 0:y.stores)==null?void 0:O.is_online_store)||(y==null?void 0:y.role)===Ne.ADMIN||d)&&a.jsxs("div",{children:[a.jsx(H,{htmlFor:"target_store_id",children:"Loja Alvo da Movimentação"}),a.jsxs(jn,{value:v.target_store_id,onValueChange:N=>g({...v,target_store_id:N}),disabled:!!d,children:[a.jsx(Qt,{children:a.jsx(bn,{placeholder:"Selecione loja (ou deixe para Online)"})}),a.jsxs(Zt,{children:[a.jsx(vt,{value:"",children:"Estoque Online/Geral"}),V.map(N=>a.jsx(vt,{value:N.id,children:N.name},N.id))]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d?`Movimentando estoque de: ${d.name}`:v.target_store_id?`Movimentando estoque de: ${_(v.target_store_id)}`:"Movimentando Estoque Online/Geral."})]}),!d&&!((F=y==null?void 0:y.stores)!=null&&F.is_online_store)&&(y==null?void 0:y.role)!==Ne.ADMIN&&a.jsx(q,{value:`Loja Atual: ${y==null?void 0:y.stores.name}`,disabled:!0}),a.jsxs("div",{children:[a.jsxs(H,{children:["Estoque Atual (",v.target_store_id?_(v.target_store_id):"Online",")"]}),a.jsx(q,{value:`${v.target_store_id?((M=c.physicalStocks.find(N=>N.store_id===v.target_store_id))==null?void 0:M.quantity)||0:c.stock} unidades`,disabled:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"quantity",children:v.type===ge.ADJUSTMENT?"Novo Estoque":"Quantidade da Movimentação"}),a.jsx(q,{id:"quantity",type:"number",min:"1",value:v.quantity,onChange:N=>g({...v,quantity:N.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"reason",children:"Motivo/Observação"}),a.jsx(q,{id:"reason",placeholder:"Descreva o motivo da movimentação",value:v.reason,onChange:N=>g({...v,reason:N.target.value}),required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(B,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),a.jsx(B,{type:"submit",disabled:w,children:w?"Salvando...":`Confirmar ${Ja[v.type]||v.type}`})]})]})]})})]})},K$=kc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),vS=oe.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,className:ve(K$({variant:t}),e),...n}));vS.displayName="Badge";const Y$=({categories:e,onEdit:t,onDelete:n,loading:r})=>r?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(lf,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Nenhuma categoria encontrada"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Crie sua primeira categoria para organizar seus produtos"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((s,o)=>a.jsxs(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-card border border-border rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color||"#3B82F6"}}),a.jsx("h3",{className:"font-semibold text-lg",children:s.name})]}),a.jsx(vS,{variant:s.active?"default":"secondary",children:s.active?"Ativa":"Inativa"})]}),s.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:s.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[a.jsx(lf,{className:"w-3 h-3"}),a.jsxs("span",{children:["Criada em ",new Date(s.created_at).toLocaleDateString("pt-BR")]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(B,{variant:"ghost",size:"sm",onClick:()=>t(s),className:"h-8 w-8 p-0",children:a.jsx(Nc,{className:"w-4 h-4"})}),a.jsx(B,{variant:"ghost",size:"sm",onClick:()=>n(s),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:a.jsx(Oo,{className:"w-4 h-4"})})]})]})]},s.id))}),yS=oe.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));yS.displayName="Textarea";var Jc="Switch",[J$,eF]=Br(Jc),[X$,Q$]=J$(Jc),xS=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),w=Re(t,g=>p(g)),x=m.useRef(!1),j=h?d||!!h.closest("form"):!0,[y,v]=ys({prop:s,defaultProp:o??!1,onChange:u,caller:Jc});return a.jsxs(X$,{scope:n,checked:y,disabled:l,children:[a.jsx(ce.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":SS(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:se(e.onClick,g=>{v(b=>!b),j&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),j&&a.jsx(bS,{control:h,bubbles:!x.current,name:r,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});xS.displayName=Jc;var wS="SwitchThumb",jS=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=Q$(wS,n);return a.jsx(ce.span,{"data-state":SS(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});jS.displayName=wS;var Z$="SwitchBubbleInput",bS=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=m.useRef(null),l=Re(i,o),c=Zb(n),u=Bb(t);return m.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(w)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bS.displayName=Z$;function SS(e){return e?"checked":"unchecked"}var _S=xS,e4=jS;const CS=oe.forwardRef(({className:e,...t},n)=>a.jsx(_S,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(e4,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));CS.displayName=_S.displayName;const t4=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingCategory:o})=>{const i=(u,d)=>{r(f=>({...f,[u]:d}))},l=[{value:"tag",label:"Tag"},{value:"shirt",label:"Camisa"},{value:"footprints",label:"Calçados"},{value:"watch",label:"Relógio"},{value:"dumbbell",label:"Esportes"},{value:"baby",label:"Infantil"},{value:"home",label:"Casa"},{value:"gift",label:"Presente"},{value:"heart",label:"Coração"},{value:"star",label:"Estrela"},{value:"bookmark",label:"Marcador"},{value:"package",label:"Pacote"}],c=[{value:"#3B82F6",label:"Azul"},{value:"#10B981",label:"Verde"},{value:"#F59E0B",label:"Amarelo"},{value:"#EF4444",label:"Vermelho"},{value:"#8B5CF6",label:"Roxo"},{value:"#06B6D4",label:"Ciano"},{value:"#F97316",label:"Laranja"},{value:"#EC4899",label:"Rosa"},{value:"#6B7280",label:"Cinza"},{value:"#000000",label:"Preto"}];return a.jsx(On,{open:e,onOpenChange:t,children:a.jsxs(mn,{className:"sm:max-w-[500px]",children:[a.jsx(gn,{children:a.jsx(vn,{children:o?"Editar Categoria":"Nova Categoria"})}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"name",children:"Nome da Categoria *"}),a.jsx(q,{id:"name",value:n.name,onChange:u=>i("name",u.target.value),placeholder:"Ex: Roupas, Calçados, Acessórios",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"description",children:"Descrição"}),a.jsx(yS,{id:"description",value:n.description,onChange:u=>i("description",u.target.value),placeholder:"Descreva brevemente esta categoria...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"icon",children:"Ícone"}),a.jsxs(jn,{value:n.icon,onValueChange:u=>i("icon",u),children:[a.jsx(Qt,{children:a.jsx(bn,{placeholder:"Selecione um ícone"})}),a.jsx(Zt,{children:l.map(u=>a.jsx(vt,{value:u.value,children:u.label},u.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"color",children:"Cor"}),a.jsxs(jn,{value:n.color,onValueChange:u=>i("color",u),children:[a.jsx(Qt,{children:a.jsx(bn,{placeholder:"Selecione uma cor"})}),a.jsx(Zt,{children:c.map(u=>a.jsx(vt,{value:u.value,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:u.value}}),a.jsx("span",{children:u.label})]})},u.value))})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(CS,{id:"active",checked:n.active,onCheckedChange:u=>i("active",u)}),a.jsx(H,{htmlFor:"active",children:"Categoria ativa"})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),a.jsxs(B,{type:"submit",children:[o?"Atualizar":"Criar"," Categoria"]})]})]})]})})},n4=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(""),[s,o]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!0),{toast:d}=Tt();Xe();const[f,h]=m.useState({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),p=m.useCallback(async()=>{u(!0);try{const g=await L$();t(g||[])}catch(g){d({title:"Erro ao carregar categorias",description:g.message,variant:"destructive"})}finally{u(!1)}},[d]);m.useEffect(()=>{p()},[p]);const w=e.filter(g=>{var b,S;return((b=g.name)==null?void 0:b.toLowerCase().includes(n.toLowerCase()))||((S=g.description)==null?void 0:S.toLowerCase().includes(n.toLowerCase()))}),x=async g=>{if(g.preventDefault(),!f.name.trim()){d({title:"Erro",description:"Nome da categoria é obrigatório",variant:"destructive"});return}try{s?(await D$(s.id,f),d({title:"Sucesso",description:"Categoria atualizada com sucesso!"})):(await M$(f),d({title:"Sucesso",description:"Categoria criada com sucesso!"})),l(!1),o(null),h({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),p()}catch(b){d({title:"Erro",description:b.message,variant:"destructive"})}},j=g=>{o(g),h({name:g.name,description:g.description||"",color:g.color||"#3B82F6",icon:g.icon||"tag",active:g.active}),l(!0)},y=async g=>{try{if(await V$(g.id)){d({title:"Não é possível deletar",description:"Esta categoria está sendo usada por produtos. Remova a associação primeiro.",variant:"destructive"});return}window.confirm(`Tem certeza que deseja deletar a categoria "${g.name}"?`)&&(await $$(g.id),d({title:"Sucesso",description:"Categoria deletada com sucesso!"}),p())}catch(b){d({title:"Erro",description:b.message,variant:"destructive"})}},v=()=>{o(null),h({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),l(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Categorias"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie as categorias dos seus produtos"})]}),a.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Nova Categoria"]})]}),a.jsx(ne,{children:a.jsxs(re,{className:"p-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),a.jsx(q,{placeholder:"Buscar categorias...",value:n,onChange:g=>r(g.target.value),className:"pl-10"})]})}),a.jsx(Y$,{categories:w,onEdit:j,onDelete:y,loading:c})]})}),a.jsx(t4,{open:i,onOpenChange:l,formData:f,setFormData:h,onSubmit:x,editingCategory:s})]})},r4=({customers:e,onEdit:t,onDelete:n,onViewHistory:r,getCustomerPurchases:s,getCustomerTotalSpent:o,formatCPF:i,formatPhone:l})=>e.length===0?a.jsx(ne,{children:a.jsxs(re,{className:"text-center py-12",children:[a.jsx(ds,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum cliente encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro cliente."})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>{const u=s(c.id),d=o(c.id);return a.jsx(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ds,{className:"w-5 h-5 text-primary"}),a.jsx(Ce,{className:"text-lg",children:c.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>r(c),title:"Ver Histórico",children:a.jsx(ZN,{className:"w-4 h-4"})}),a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>t(c),title:"Editar Cliente",children:a.jsx(Nc,{className:"w-4 h-4"})}),a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>n(c.id),className:"text-destructive hover:text-destructive",title:"Remover Cliente",children:a.jsx(Oo,{className:"w-4 h-4"})})]})]})}),a.jsxs(re,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-1",children:[c.cpf&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(ds,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{children:i(c.cpf)})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(lP,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{children:l(c.phone)})]}),c.email&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(sP,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{className:"truncate",children:c.email})]})]}),a.jsx("div",{className:"pt-3 border-t",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold text-primary",children:u.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Compras"})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",d.toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Gasto"})]})]})}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cliente desde: ",new Date(c.created_at||c.createdAt).toLocaleDateString()]})]})]})},c.id)})}),s4=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingCustomer:o,formatCPF:i,formatPhone:l,resetForm:c})=>{const[u,d]=m.useState(!1),f=async p=>{const w=p.target.value.replace(/\D/g,"");if(w.length===8){d(!0);try{const j=await(await fetch(`https://viacep.com.br/ws/${w}/json/`)).json();j.erro||r({...n,cep:j.cep,street:j.logradouro,bairro:j.bairro,cidade:j.localidade,estado:j.uf,complemento:j.complemento})}finally{d(!1)}}},h=n.category==="Atacado"||n.category==="Atacarejo";return a.jsxs(On,{open:e,onOpenChange:p=>{t(p),p||c()},children:[a.jsx(fo,{asChild:!0,children:a.jsxs(B,{children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),a.jsxs(mn,{className:"max-w-2xl",children:[a.jsx(gn,{children:a.jsx(vn,{children:o?"Editar Cliente":"Novo Cliente"})}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"name",children:"Nome Completo *"}),a.jsx(q,{id:"name",value:n.name,onChange:p=>r({...n,name:p.target.value})})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"cpf",children:"CPF"}),a.jsx(q,{id:"cpf",placeholder:"000.000.000-00",value:n.cpf,onChange:p=>r({...n,cpf:i(p.target.value)})})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"phone",children:"Telefone *"}),a.jsx(q,{id:"phone",placeholder:"(00) 00000-0000",value:n.phone,onChange:p=>r({...n,phone:l(p.target.value)})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"email",children:"E-mail"}),a.jsx(q,{id:"email",type:"email",value:n.email,onChange:p=>r({...n,email:p.target.value})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"category",children:"Categoria *"}),a.jsxs("select",{id:"category",value:n.category||"",onChange:p=>r({...n,category:p.target.value}),className:"bg-background/70 border-none text-white rounded-xl px-3 py-2 w-full",required:!0,children:[a.jsx("option",{value:"",children:"Selecione..."}),a.jsx("option",{value:"Varejo",children:"Varejo"}),a.jsx("option",{value:"Atacado",children:"Atacado"}),a.jsx("option",{value:"Atacarejo",children:"Atacarejo"})]})]}),h&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"cnpj",children:"CNPJ *"}),a.jsx(q,{id:"cnpj",placeholder:"00.000.000/0000-00",value:n.cnpj||"",onChange:p=>r({...n,cnpj:p.target.value}),required:h})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"razao_social",children:"Razão Social *"}),a.jsx(q,{id:"razao_social",value:n.razao_social||"",onChange:p=>r({...n,razao_social:p.target.value}),required:h})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"inscricao_estadual",children:"Inscrição Estadual *"}),a.jsx(q,{id:"inscricao_estadual",value:n.inscricao_estadual||"",onChange:p=>r({...n,inscricao_estadual:p.target.value}),required:h})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"nome_fantasia",children:"Nome Fantasia"}),a.jsx(q,{id:"nome_fantasia",value:n.nome_fantasia||"",onChange:p=>r({...n,nome_fantasia:p.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"cep",children:"CEP *"}),a.jsx(q,{id:"cep",placeholder:"00000-000",value:n.cep||"",onChange:p=>r({...n,cep:p.target.value}),onBlur:f,required:!0,disabled:u})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"street",children:"Rua *"}),a.jsx(q,{id:"street",value:n.street||"",onChange:p=>r({...n,street:p.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"bairro",children:"Bairro *"}),a.jsx(q,{id:"bairro",value:n.bairro||"",onChange:p=>r({...n,bairro:p.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"cidade",children:"Cidade *"}),a.jsx(q,{id:"cidade",value:n.cidade||"",onChange:p=>r({...n,cidade:p.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"estado",children:"Estado *"}),a.jsx(q,{id:"estado",value:n.estado||"",onChange:p=>r({...n,estado:p.target.value}),required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"complemento",children:"Complemento"}),a.jsx(q,{id:"complemento",value:n.complemento||"",onChange:p=>r({...n,complemento:p.target.value})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(B,{type:"button",variant:"outline",onClick:()=>{t(!1),c()},children:"Cancelar"}),a.jsxs(B,{type:"submit",children:[o?"Atualizar":"Criar"," Cliente"]})]})]})]})]})},o4=({open:e,onOpenChange:t,customer:n,purchases:r})=>n?a.jsx(On,{open:e,onOpenChange:t,children:a.jsxs(mn,{className:"max-w-2xl",children:[a.jsx(gn,{children:a.jsxs(vn,{children:["Histórico de Compras: ",n.name]})}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3 p-1",children:r.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma compra encontrada para este cliente."}):r.map(s=>a.jsxs(ne,{className:"bg-background/50",children:[a.jsx(_e,{className:"pb-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(Ce,{className:"text-base",children:["Venda #",s.id]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at||s.date).toLocaleString()})]})}),a.jsxs(re,{children:[a.jsx("ul",{className:"text-sm space-y-1",children:(s.items||s.sale_items||[]).map(o=>{var i;return a.jsxs("li",{className:"flex justify-between",children:[a.jsxs("span",{children:[o.quantity,"x ",o.name||((i=o.products)==null?void 0:i.name)||"Produto Indisponível"]}),a.jsxs("span",{children:["R$ ",(o.subtotal||o.quantity*o.unit_price).toFixed(2)]})]},o.id||o.product_id)})}),a.jsxs("div",{className:"border-t mt-2 pt-2 flex justify-between font-semibold",children:[a.jsx("span",{children:"Total da Venda:"}),a.jsxs("span",{children:["R$ ",(s.total_amount||s.total).toFixed(2)]})]})]})]},s.id))})]})}):null,i4=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[s,o]=m.useState(""),[i,l]=m.useState(null),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(null),[w,x]=m.useState(!0),{toast:j}=Tt(),[y,v]=m.useState({name:"",cpf:"",phone:"",email:"",address:""}),g=m.useCallback(async()=>{x(!0);try{const A=await gL(),$=await Eb();t(A||[]),r($||[])}catch(A){j({title:"Erro ao carregar dados",description:A.message,variant:"destructive"})}finally{x(!1)}},[j]);m.useEffect(()=>{g()},[g]);const b=e.filter(A=>A.category==="Varejo").length,S=e.filter(A=>A.category==="Atacado").length,k=e.filter(A=>A.category==="Atacarejo").length,[C,_]=m.useState(""),[E,R]=m.useState(""),L=e.filter(A=>{var ye,xe,J;const $=(ye=A.name)==null?void 0:ye.toLowerCase().includes(s.toLowerCase()),X=C?A.category===C:!0,ie=E?((xe=A.cpf)==null?void 0:xe.includes(E))||((J=A.cnpj)==null?void 0:J.includes(E)):!0;return $&&X&&ie}),I=()=>{v({name:"",cpf:"",phone:"",email:"",address:""}),l(null)},V=A=>{if(!A)return"";const $=A.replace(/\D/g,"");return $.length>11&&$.slice(0,11),$.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")},O=A=>{if(!A)return"";const $=A.replace(/\D/g,"");return $.length>11&&$.slice(0,11),$.length===11?$.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):$.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3")},F=async A=>{A.preventDefault();const $={...y,cpf:y.cpf.replace(/\D/g,""),phone:y.phone.replace(/\D/g,"")};if(!$.name||!$.phone){j({title:"Erro de Validação",description:"Nome e Telefone são obrigatórios.",variant:"destructive"});return}if($.cpf&&$.cpf.length!==11){j({title:"Erro de Validação",description:"CPF inválido.",variant:"destructive"});return}x(!0);try{i?(await yL(i.id,$),j({title:"Cliente atualizado!",description:`${$.name} foi atualizado.`})):(await vL($),j({title:"Cliente criado!",description:`${$.name} foi criado.`})),g(),u(!1),I()}catch(X){j({title:"Erro ao salvar cliente",description:X.message,variant:"destructive"})}finally{x(!1)}},M=A=>{l(A),v({name:A.name,cpf:V(A.cpf),phone:O(A.phone),email:A.email,address:A.address||""}),u(!0)},N=async A=>{if(window.confirm("Tem certeza que deseja remover este cliente?")){x(!0);try{await xL(A),j({title:"Cliente removido!",description:"O cliente foi removido."}),g()}catch($){j({title:"Erro ao remover cliente",description:$.message,variant:"destructive"})}finally{x(!1)}}},T=m.useCallback(A=>n.filter($=>$.customer_id===A).sort(($,X)=>new Date(X.created_at||X.date)-new Date($.created_at||$.date)),[n]),P=m.useCallback(A=>T(A).reduce((X,ie)=>X+(ie.total_amount||ie.total),0),[T]),D=A=>{p(A),f(!0)};return w&&e.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Clientes"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie o cadastro de clientes e seus históricos."})]}),a.jsx(s4,{open:c,onOpenChange:u,formData:y,setFormData:v,onSubmit:F,editingCustomer:i,formatCPF:V,formatPhone:O,resetForm:I})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"w-8 h-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"})]})]})})}),a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ds,{className:"w-8 h-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:b}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Varejo"})]})]})})}),a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ds,{className:"w-8 h-8 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:S}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Atacado"})]})]})})}),a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ds,{className:"w-8 h-8 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:k}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Atacarejo"})]})]})})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[a.jsx(q,{placeholder:"Buscar por nome...",value:s,onChange:A=>o(A.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"}),a.jsxs("select",{value:C,onChange:A=>_(A.target.value),className:"bg-background/70 border-none text-white rounded-xl px-3 py-2",children:[a.jsx("option",{value:"",children:"Todas as Categorias"}),a.jsx("option",{value:"Varejo",children:"Varejo"}),a.jsx("option",{value:"Atacado",children:"Atacado"}),a.jsx("option",{value:"Atacarejo",children:"Atacarejo"})]}),a.jsx(q,{placeholder:"Buscar por CPF ou CNPJ...",value:E,onChange:A=>R(A.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"})]}),a.jsx(r4,{customers:L,onEdit:M,onDelete:N,onViewHistory:D,getCustomerPurchases:T,getCustomerTotalSpent:P,formatCPF:V,formatPhone:O}),a.jsx(o4,{open:d,onOpenChange:f,customer:h,purchases:h?T(h.id):[]})]})};var rd="rovingFocusGroup.onEntryFocus",a4={bubbles:!1,cancelable:!0},ha="RovingFocusGroup",[Bf,ES,l4]=Wh(ha),[c4,kS]=Br(ha,[l4]),[u4,d4]=c4(ha),NS=m.forwardRef((e,t)=>a.jsx(Bf.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Bf.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(f4,{...e,ref:t})})}));NS.displayName=ha;var f4=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=Re(t,h),w=_p(o),[x,j]=ys({prop:i,defaultProp:l??null,onChange:c,caller:ha}),[y,v]=m.useState(!1),g=Jt(u),b=ES(n),S=m.useRef(!1),[k,C]=m.useState(0);return m.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(rd,g),()=>_.removeEventListener(rd,g)},[g]),a.jsx(u4,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:m.useCallback(_=>j(_),[j]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:m.useCallback(()=>C(_=>_-1),[]),children:a.jsx(ce.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{S.current=!0}),onFocus:se(e.onFocus,_=>{const E=!S.current;if(_.target===_.currentTarget&&E&&!y){const R=new CustomEvent(rd,a4);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const L=b().filter(M=>M.focusable),I=L.find(M=>M.active),V=L.find(M=>M.id===x),F=[I,V,...L].filter(Boolean).map(M=>M.ref.current);AS(F,d)}}S.current=!1}),onBlur:se(e.onBlur,()=>v(!1))})})}),PS="RovingFocusGroupItem",TS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Tr(),u=o||c,d=d4(PS,n),f=d.currentTabStopId===u,h=ES(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:x}=d;return m.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),a.jsx(Bf.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(ce.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:se(e.onMouseDown,j=>{r?d.onItemFocus(u):j.preventDefault()}),onFocus:se(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:se(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){d.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const y=m4(j,d.orientation,d.dir);if(y!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let g=h().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const b=g.indexOf(j.currentTarget);g=d.loop?g4(g,b+1):g.slice(b+1)}setTimeout(()=>AS(g))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});TS.displayName=PS;var h4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function m4(e,t,n){const r=p4(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return h4[r]}function AS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function g4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var v4=NS,y4=TS,Xc="Tabs",[x4,tF]=Br(Xc,[kS]),RS=kS(),[w4,Fp]=x4(Xc),OS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=_p(l),[f,h]=ys({prop:r,onChange:s,defaultProp:o??"",caller:Xc});return a.jsx(w4,{scope:n,baseId:Tr(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:a.jsx(ce.div,{dir:d,"data-orientation":i,...u,ref:t})})});OS.displayName=Xc;var IS="TabsList",LS=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Fp(IS,n),i=RS(n);return a.jsx(v4,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(ce.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});LS.displayName=IS;var MS="TabsTrigger",DS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Fp(MS,n),l=RS(n),c=VS(i.baseId,r),u=US(i.baseId,r),d=r===i.value;return a.jsx(y4,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:se(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:se(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});DS.displayName=MS;var $S="TabsContent",FS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=Fp($S,n),c=VS(l.baseId,r),u=US(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Ro,{present:s||d,children:({present:h})=>a.jsx(ce.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});FS.displayName=$S;function VS(e,t){return`${e}-trigger-${t}`}function US(e,t){return`${e}-content-${t}`}var j4=OS,BS=LS,zS=DS,WS=FS;const HS=j4,Vp=oe.forwardRef(({className:e,...t},n)=>a.jsx(BS,{ref:n,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vp.displayName=BS.displayName;const vr=oe.forwardRef(({className:e,...t},n)=>a.jsx(zS,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));vr.displayName=zS.displayName;const yr=oe.forwardRef(({className:e,...t},n)=>a.jsx(WS,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));yr.displayName=WS.displayName;const b4=({totalRevenue:e,totalSales:t,averageTicket:n,totalItemsSold:r})=>{const s=[{icon:xs,value:`R$ ${e.toFixed(2)}`,label:"Faturamento",color:"text-green-500"},{icon:Wi,value:t,label:"Vendas",color:"text-blue-500"},{icon:qi,value:`R$ ${n.toFixed(2)}`,label:"Ticket Médio",color:"text-purple-500"},{icon:Or,value:r,label:"Itens Vendidos",color:"text-orange-500"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(o=>{const i=o.icon;return a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full bg-primary/10 ${o.color}`,children:a.jsx(i,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:o.value}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.label})]})]})})},o.label)})})},S4=({sales:e,salesByHour:t})=>a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(vw,{className:"w-5 h-5"}),a.jsx("span",{children:"Vendas Recentes"})]})}),a.jsx(re,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Wi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma venda no período selecionado"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.slice(0,10).map(n=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Venda #",n.id]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.cashier," • ",new Date(n.date).toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.items.length," itens"]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",n.total.toFixed(2)]})})]},n.id))})})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(wg,{className:"w-5 h-5"}),a.jsx("span",{children:"Vendas por Horário"})]})}),a.jsx(re,{children:Object.keys(t).length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(wg,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma venda por horário no período"})]}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Object.entries(t).sort(([n],[r])=>parseInt(n)-parseInt(r)).map(([n,r])=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-md",children:[a.jsxs("span",{className:"text-sm font-medium",children:[n.padStart(2,"0"),":00 - ",String(parseInt(n)+1).padStart(2,"0"),":00"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-xs px-2 py-0.5 bg-secondary rounded-full",children:[r.count," vendas"]}),a.jsxs("span",{className:"text-sm font-semibold text-primary",children:["R$ ",r.revenue.toFixed(2)]})]})]},n))})})]})]}),_4=({topProducts:e})=>a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(Or,{className:"w-5 h-5"}),a.jsx("span",{children:"Produtos Mais Vendidos"})]})}),a.jsx(re,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Or,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhum produto vendido no período"})]}):a.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:e.map((t,n)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-primary-foreground font-bold ${n===0?"bg-yellow-500":n===1?"bg-gray-400":n===2?"bg-yellow-700":"bg-primary"}`,children:n+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.quantity," unidades vendidas"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",t.revenue.toFixed(2)]})})]},t.name))})})]}),C4={cash:"Dinheiro",debit:"Cartão Débito",credit:"Cartão Crédito",pix:"PIX"},E4=({paymentMethodStats:e,totalRevenue:t})=>a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(xs,{className:"w-5 h-5"}),a.jsx("span",{children:"Métodos de Pagamento"})]})}),a.jsx(re,{children:Object.keys(e).length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(xs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhum pagamento registrado no período"})]}):a.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:Object.entries(e).map(([n,r])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:C4[n]||n}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.count," transações"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",r.amount.toFixed(2)]}),t>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r.amount/t*100).toFixed(1),"% do total"]})]})]},n))})})]}),k4={today:"Hoje",yesterday:"Ontem",week:"Últimos 7 dias",month:"Este mês"},N4=({salesByUser:e,dateFilter:t,totalSales:n,totalRevenue:r,averageTicket:s,totalItemsSold:o})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"w-5 h-5"}),a.jsx("span",{children:"Performance por Operador"})]})}),a.jsx(re,{children:Object.keys(e).length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(fs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma venda por operador no período"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Object.entries(e).map(([i,l])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:i||"Não identificado"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.count," vendas"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",l.revenue.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ticket Médio: R$ ",(l.revenue/l.count||0).toFixed(2)]})]})]},i))})})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(qi,{className:"w-5 h-5"}),a.jsx("span",{children:"Resumo do Período"})]})}),a.jsx(re,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-primary",children:k4[t]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Período Selecionado"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total de Vendas:"}),a.jsx("span",{className:"font-medium",children:n})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Faturamento Total:"}),a.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",r.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ticket Médio:"}),a.jsxs("span",{className:"font-medium",children:["R$ ",s.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Itens Vendidos:"}),a.jsx("span",{className:"font-medium",children:o})]})]})]})})]})]}),P4={today:"Hoje",yesterday:"Ontem",week:"Últimos 7 dias",month:"Este mês",all:"Todo o período"},T4=()=>{const[e,t]=m.useState([]),[n,r]=m.useState("today"),[s,o]=m.useState(!0),{toast:i}=Tt(),l=m.useCallback(async()=>{o(!0);try{const f=await Eb();t(f||[])}catch(f){i({title:"Erro ao carregar vendas",description:f.message,variant:"destructive"})}finally{o(!1)}},[i]);m.useEffect(()=>{l()},[l]);const c=m.useMemo(()=>{const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),p=new Date(h);p.setDate(p.getDate()-1);const w=new Date(f);w.setDate(f.getDate()-6),w.setHours(0,0,0,0);const x=new Date(f.getFullYear(),f.getMonth(),1);return e.filter(j=>{const y=new Date(j.created_at||j.date);switch(n){case"today":return y>=h&&y<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"yesterday":return y>=p&&y<h;case"week":return y>=w&&y<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"month":return y>=x&&y<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"all":default:return!0}})},[e,n]),u=m.useMemo(()=>{const f=c.reduce((g,b)=>g+(b.total_amount||b.total||0),0),h=c.length,p=h>0?f/h:0,w=c.reduce((g,b)=>{const S=b.items||b.sale_items||[];return g+S.reduce((k,C)=>k+(C.quantity||0),0)},0),x=(()=>{const g={};return c.forEach(b=>{(b.items||b.sale_items||[]).forEach(k=>{var R;const C=k.product_id||k.productId,_=((R=k.products)==null?void 0:R.name)||k.name||"Produto Desconhecido",E=k.subtotal||k.quantity*k.unit_price||0;g[C]||(g[C]={id:C,name:_,quantity:0,revenue:0}),g[C].quantity+=k.quantity||0,g[C].revenue+=E})}),Object.values(g).sort((b,S)=>S.revenue-b.revenue).slice(0,10)})(),j=(()=>{const g={};return c.forEach(b=>{(b.payment_details||b.payments||[]).forEach(k=>{g[k.method]||(g[k.method]={count:0,amount:0}),g[k.method].count+=1,g[k.method].amount+=k.amount||0})}),g})(),y=(()=>{const g={};return c.forEach(b=>{const S=new Date(b.created_at||b.date).getHours().toString();g[S]||(g[S]={count:0,revenue:0}),g[S].count+=1,g[S].revenue+=b.total_amount||b.total||0}),g})(),v=(()=>{const g={};return c.forEach(b=>{const S=b.cashier_name||b.cashier||"Desconhecido";g[S]||(g[S]={count:0,revenue:0}),g[S].count+=1,g[S].revenue+=b.total_amount||b.total||0}),g})();return{totalRevenue:f,totalSales:h,averageTicket:p,totalItemsSold:w,topProducts:x,paymentMethodStats:j,salesByHour:y,salesByUser:v}},[c]),d=()=>{i({title:"🚧 Em Desenvolvimento 🚧",description:"A funcionalidade de exportar relatórios será implementada em breve!"})};return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Relatórios"}),a.jsx("p",{className:"text-muted-foreground",children:"Análise detalhada de vendas e performance da loja."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(jn,{value:n,onValueChange:r,children:[a.jsx(Qt,{className:"w-[180px]",children:a.jsx(bn,{placeholder:"Selecione o período"})}),a.jsx(Zt,{children:Object.entries(P4).map(([f,h])=>a.jsx(vt,{value:f,children:h},f))})]}),a.jsxs(B,{variant:"outline",onClick:d,children:[a.jsx(XN,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),a.jsx(b4,{totalRevenue:u.totalRevenue,totalSales:u.totalSales,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold}),a.jsxs(HS,{defaultValue:"sales",className:"space-y-6",children:[a.jsxs(Vp,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[a.jsx(vr,{value:"sales",children:"Vendas"}),a.jsx(vr,{value:"products",children:"Produtos"}),a.jsx(vr,{value:"payments",children:"Pagamentos"}),a.jsx(vr,{value:"performance",children:"Performance"})]}),a.jsx(yr,{value:"sales",children:a.jsx(S4,{sales:c,salesByHour:u.salesByHour})}),a.jsx(yr,{value:"products",children:a.jsx(_4,{topProducts:u.topProducts})}),a.jsx(yr,{value:"payments",children:a.jsx(E4,{paymentMethodStats:u.paymentMethodStats,totalRevenue:u.totalRevenue})}),a.jsx(yr,{value:"performance",children:a.jsx(N4,{salesByUser:u.salesByUser,dateFilter:n,totalSales:u.totalSales,totalRevenue:u.totalRevenue,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold})})]})]})},gy={[Ne.ADMIN]:"Administrador",[Ne.MANAGER]:"Gerente",[Ne.CASHIER]:"Operador de Caixa",[Ne.STOCK]:"Estoquista",[Ne.SALESPERSON]:"Vendedor"},Fs="__no_store_selected__",A4=()=>{var _;const[e,t]=m.useState([]),[n,r]=m.useState([]),[s,o]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!0),{toast:h}=Tt(),[p,w]=m.useState({username:"",password:"",name:"",role:"",store_id:Fs,active:!0}),x=((_=Xe())==null?void 0:_.role)===Ne.ADMIN,j=m.useCallback(async()=>{f(!0);try{const[E,R]=await Promise.all([jb(),qr()]);t(E||[]),r(R||[])}catch(E){h({title:"Erro ao carregar dados",description:E.message,variant:"destructive"})}finally{f(!1)}},[h]);m.useEffect(()=>{j()},[j]);const y=()=>{w({username:"",password:"",name:"",role:"",store_id:Fs,active:!0}),o(null),u(!1)},v=async E=>{var O;E.preventDefault();const R=p.store_id===Fs?null:p.store_id,L=(O=n.find(F=>F.id===R))==null?void 0:O.is_online_store;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.username)){h({title:"Erro de Validação",description:"O e-mail do usuário é inválido.",variant:"destructive"});return}if(!p.role){h({title:"Erro de Validação",description:"Função é obrigatória.",variant:"destructive"});return}if(!R&&p.role!==Ne.ADMIN&&!L){h({title:"Erro de Validação",description:"Loja é obrigatória para esta função (exceto Admin global ou se a loja for a online).",variant:"destructive"});return}if(e.find(F=>F.username===p.username&&(!s||F.id!==s.id))){h({title:"Erro",description:"Nome de usuário já existe.",variant:"destructive"});return}f(!0);try{const F={...p,store_id:R};if(s&&!p.password&&delete F.password,s)if(x){const M={name:p.name,role:p.role,store_id:p.store_id===Fs?null:p.store_id,password:p.password||void 0};await sL(s.id,M),h({title:"Usuário atualizado!",description:`${p.name} foi atualizado com sucesso.`})}else h({title:"Apenas admin pode alterar usuários!",variant:"destructive"});else await g(F),h({title:"Funcionário criado!",description:`${p.name} foi criado com sucesso.`});j(),l(!1),y()}catch(F){h({title:"Erro ao salvar usuário",description:F.message,variant:"destructive"})}finally{f(!1)}},g=async E=>{try{const R=await fetch("/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.username,password:E.password,name:E.name,role:E.role,store_id:E.store_id})});if(!R.ok){const L=await R.json();throw new Error(L.error||"Erro ao criar funcionário")}return await R.json()}catch(R){throw new Error(`Erro na comunicação com o backend: ${R.message}`)}},b=E=>{o(E),w({username:E.username,password:"",name:E.name||E.username.split("@")[0],role:E.role,store_id:E.store_id||Fs,active:E.active}),l(!0)},S=async E=>{f(!0);try{await iL(E.id,!E.active),h({title:E.active?"Usuário desativado":"Usuário ativado",description:`${E.name} foi ${E.active?"desativado":"ativado"}.`}),j()}catch(R){h({title:"Erro ao alterar status do usuário",description:R.message,variant:"destructive"})}finally{f(!1)}},k=async E=>{if(window.confirm("Tem certeza que deseja remover este usuário?")){f(!0);try{await oL(E),h({title:"Usuário removido!",description:"O usuário foi removido com sucesso."}),j()}catch(R){h({title:"Erro ao remover usuário",description:R.message,variant:"destructive"})}finally{f(!1)}}},C=E=>{switch(E){case Ne.ADMIN:return"text-red-600 bg-red-100 dark:bg-red-900";case Ne.MANAGER:return"text-blue-600 bg-blue-100 dark:bg-blue-900";case Ne.CASHIER:return"text-green-600 bg-green-100 dark:bg-green-900";case Ne.STOCK:return"text-purple-600 bg-purple-100 dark:bg-purple-900";case Ne.SALESPERSON:return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900"}};return d&&e.length===0&&n.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Usuários"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie usuários, funções e suas lojas"})]}),x&&a.jsxs(On,{open:i,onOpenChange:E=>{l(E),E||y()},children:[a.jsx(fo,{asChild:!0,children:a.jsxs(B,{onClick:()=>y(),children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Novo Funcionário"]})}),a.jsxs(mn,{className:"max-w-md",children:[a.jsxs(gn,{children:[a.jsx(vn,{children:s?"Editar Usuário":"Novo Funcionário"}),a.jsx(mS,{children:s?"Edite as informações do usuário.":"Crie um novo funcionário no sistema."})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"name",children:"Nome Completo"}),a.jsx(q,{id:"name",value:p.name,onChange:E=>w({...p,name:E.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"username",children:"E-mail do Usuário"}),a.jsx(q,{id:"username",type:"email",value:p.username,onChange:E=>w({...p,username:E.target.value}),required:!0,placeholder:"usuario@exemplo.com"})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"password",children:s?"Nova Senha (deixe vazio para manter atual)":"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(q,{id:"password",type:c?"text":"password",value:p.password,onChange:E=>w({...p,password:E.target.value}),required:!s}),a.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:()=>u(!c),children:c?a.jsx(QN,{className:"w-4 h-4"}):a.jsx(ww,{className:"w-4 h-4"})})]})]}),x&&a.jsxs("div",{children:[a.jsx(H,{htmlFor:"role",children:"Função"}),a.jsxs(jn,{value:p.role,onValueChange:E=>w({...p,role:E}),children:[a.jsx(Qt,{children:a.jsx(bn,{placeholder:"Selecione uma função"})}),a.jsx(Zt,{children:Object.entries(gy).map(([E,R])=>a.jsx(vt,{value:E,children:R},E))})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"store_id",children:"Loja"}),a.jsxs(jn,{value:p.store_id,onValueChange:E=>w({...p,store_id:E}),children:[a.jsx(Qt,{children:a.jsx(bn,{placeholder:"Selecione uma loja"})}),a.jsxs(Zt,{children:[a.jsx(vt,{value:Fs,children:"Nenhuma (Global/Admin)"}),n.map(E=>a.jsxs(vt,{value:E.id,children:[E.name," ",E.is_online_store?"(Online)":""]},E.id))]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(B,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),a.jsx(B,{type:"submit",disabled:d,children:d?"Salvando...":(s?"Atualizar":"Criar")+" Usuário"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"w-8 h-8 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Usuários"})]})]})})}),a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hi,{className:"w-8 h-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:n.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Lojas"})]})]})})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(E=>{var R,L,I;return a.jsx(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:a.jsxs(ne,{className:`glass-effect ${E.active?"":"opacity-60"}`,children:[a.jsx(_e,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"w-5 h-5 text-primary"}),a.jsx(Ce,{className:"text-lg",children:E.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>b(E),children:a.jsx(Nc,{className:"w-4 h-4"})}),a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>k(E.id),className:"text-destructive hover:text-destructive",children:a.jsx(Oo,{className:"w-4 h-4"})})]})]})}),a.jsxs(re,{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usuário: ",E.username]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nome: ",E.name||E.username.split("@")[0]]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Loja: ",(R=E.stores)!=null&&R.name?`${E.stores.name}${E.stores.is_online_store?" (Online)":""}`:E.role===Ne.ADMIN?"Todas (Admin)":"Não definida"]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(E.role)}`,children:gy[E.role]}),x&&a.jsx(B,{size:"xs",variant:"outline",onClick:()=>b(E),children:"Alterar Role"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.active?"text-green-600 bg-green-100 dark:bg-green-900":"text-red-600 bg-red-100 dark:bg-red-900"}`,children:E.active?"Ativo":"Inativo"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Permissões:"}),a.jsxs("div",{className:"space-y-1",children:[(L=fl[E.role])==null?void 0:L.slice(0,3).map(V=>a.jsxs("div",{className:"text-xs text-muted-foreground",children:["• ",V.replace(/_/g," ").toLowerCase()]},V)),((I=fl[E.role])==null?void 0:I.length)>3&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["• +",fl[E.role].length-3," mais..."]})]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsx(B,{variant:"outline",size:"sm",className:"w-full",onClick:()=>S(E),disabled:d,children:d?"Aguarde...":(E.active?"Desativar":"Ativar")+" Usuário"})})]})]})},E.id)})}),e.length===0&&!d&&a.jsx(ne,{children:a.jsxs(re,{className:"text-center py-12",children:[a.jsx(fs,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum usuário encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:"Comece criando seu primeiro usuário"})]})})]})},pa="http://localhost:4000/api",R4=async(e=null)=>{try{const t=new URLSearchParams;e&&t.append("store_id",e);const n=await fetch(`${pa}/cash-register/state?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json();throw new Error(r.error||"Erro ao buscar estado do caixa")}return await n.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},O4=async(e,t,n)=>{try{const r=await fetch(`${pa}/cash-register/open`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initial_amount:e,store_id:t,user_id:n})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Erro ao abrir caixa")}return await r.json()}catch(r){throw new Error(`Erro na comunicação com o backend: ${r.message}`)}},I4=async(e,t,n,r=null)=>{try{const s=await fetch(`${pa}/cash-register/close`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({final_amount:e,store_id:t,user_id:n,notes:r})});if(!s.ok){const o=await s.json();throw new Error(o.error||"Erro ao fechar caixa")}return await s.json()}catch(s){throw new Error(`Erro na comunicação com o backend: ${s.message}`)}},L4=async(e={})=>{try{const t=new URLSearchParams;e.store_id&&t.append("store_id",e.store_id),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.date_from&&t.append("date_from",e.date_from),e.date_to&&t.append("date_to",e.date_to);const n=await fetch(`${pa}/cash-register/logs?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json();throw new Error(r.error||"Erro ao buscar logs do caixa")}return await n.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},M4=async(e,t,n,r,s=null)=>{try{const o=await fetch(`${pa}/cash-register/logs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,amount:t,store_id:n,user_id:r,notes:s})});if(!o.ok){const i=await o.json();throw new Error(i.error||"Erro ao adicionar log do caixa")}return await o.json()}catch(o){throw new Error(`Erro na comunicação com o backend: ${o.message}`)}},D4=()=>{var T;const[e,t]=m.useState({isOpen:!1,currentAmount:0,openingAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null}),[n,r]=m.useState([]),[s,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(""),[w,x]=m.useState(""),[j,y]=m.useState(""),[v,g]=m.useState("add"),[b,S]=m.useState(""),[k,C]=m.useState("status"),{toast:_}=Tt(),E=Xe(),R=$t(E==null?void 0:E.role,Q.CASH_REGISTER_MANAGEMENT),L=async()=>{try{o(!0);const P=(E==null?void 0:E.store_id)||"1fa90f00-cf02-4a42-8167-c599537c22bb",D=await R4(P);t(D)}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}finally{o(!1)}},I=async()=>{try{const P=await L4({limit:100});r(P.logs||[])}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}};m.useEffect(()=>{L(),I()},[]);const V=async()=>{if(!h||parseFloat(h)<0){_({title:"Erro",description:"Valor inicial é obrigatório e deve ser maior ou igual a zero.",variant:"destructive"});return}try{o(!0);const P=await O4(parseFloat(h),e.store_id,E==null?void 0:E.id);t(P.cashRegister),l(!1),p(""),_({title:"Sucesso",description:P.message}),I()}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}finally{o(!1)}},O=async()=>{try{o(!0);const P=await I4(parseFloat(w)||e.currentAmount,e.store_id,E==null?void 0:E.id,b);t(P.cashRegister),u(!1),x(""),S(""),_({title:"Sucesso",description:P.message}),I()}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}finally{o(!1)}},F=async()=>{if(!j||parseFloat(j)<=0){_({title:"Erro",description:"Valor é obrigatório e deve ser maior que zero.",variant:"destructive"});return}try{o(!0);const P=parseFloat(j),D=v==="add"?P:-P;await M4(v,P,e.store_id,E==null?void 0:E.id,b),f(!1),y(""),g("add"),S(""),_({title:"Sucesso",description:"Movimentação registrada com sucesso!"}),L(),I()}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}finally{o(!1)}},M=P=>new Date(P).toLocaleString("pt-BR"),N=P=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P);return R?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(xs,{className:"w-8 h-8"}),"Controle de Caixa"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:((T=e.store)==null?void 0:T.name)||"Loja Online"}),a.jsx(B,{variant:"outline",size:"sm",onClick:async()=>{if(confirm("Tem certeza que deseja resetar o caixa? Isso apagará todo o histórico."))try{(await fetch(`http://31.97.86.88:4000/api/cash-register/reset/${e.store_id}`,{method:"DELETE"})).ok&&(_({title:"Sucesso",description:"Caixa resetado com sucesso!"}),L(),I())}catch{_({title:"Erro",description:"Erro ao resetar caixa",variant:"destructive"})}},children:"Resetar Caixa"})]})]}),a.jsxs(HS,{value:k,onValueChange:C,children:[a.jsxs(Vp,{className:"grid w-full grid-cols-3",children:[a.jsx(vr,{value:"status",children:"Status"}),a.jsx(vr,{value:"operations",children:"Operações"}),a.jsx(vr,{value:"history",children:"Histórico"})]}),a.jsx(yr,{value:"status",className:"space-y-6",children:a.jsxs(ne,{children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center gap-2",children:[e.isOpen?a.jsx(GN,{className:"w-6 h-6 text-green-500"}):a.jsx(Sg,{className:"w-6 h-6 text-red-500"}),"Status do Caixa"]})}),a.jsxs(re,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx("p",{className:`text-lg font-bold ${e.isOpen?"text-green-600":"text-red-600"}`,children:e.isOpen?"ABERTO":"FECHADO"})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Atual"}),a.jsx("p",{className:"text-2xl font-bold",children:N(e.currentAmount)})]})]}),e.isOpen&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Inicial"}),a.jsx("p",{className:"font-bold",children:N(e.openingAmount)})]}),a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto por"}),a.jsx("p",{className:"font-bold",children:e.openedBy||"N/A"})]}),a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto em"}),a.jsx("p",{className:"font-bold",children:e.openedAt?M(e.openedAt):"N/A"})]})]}),!e.isOpen&&e.closedAt&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fechado em"}),a.jsx("p",{className:"font-bold",children:M(e.closedAt)})]}),a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Final"}),a.jsx("p",{className:"font-bold",children:N(e.currentAmount)})]})]})]})]})}),a.jsx(yr,{value:"operations",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(ne,{children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center gap-2",children:[a.jsx(bg,{className:"w-5 h-5"}),"Abrir Caixa"]})}),a.jsx(re,{children:a.jsxs(On,{open:i,onOpenChange:l,children:[a.jsx(fo,{asChild:!0,children:a.jsx(B,{className:"w-full",disabled:e.isOpen||s,children:"Abrir Caixa"})}),a.jsxs(mn,{children:[a.jsx(gn,{children:a.jsx(vn,{children:"Abrir Caixa"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"initialAmount",children:"Valor Inicial (R$)"}),a.jsx(q,{id:"initialAmount",type:"number",step:"0.01",min:"0",value:h,onChange:P=>p(P.target.value),placeholder:"0,00"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(B,{variant:"outline",onClick:()=>l(!1),disabled:s,children:"Cancelar"}),a.jsx(B,{onClick:V,disabled:s,children:s?"Abrindo...":"Abrir Caixa"})]})]})]})]})})]}),a.jsxs(ne,{children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center gap-2",children:[a.jsx(af,{className:"w-5 h-5"}),"Fechar Caixa"]})}),a.jsx(re,{children:a.jsxs(On,{open:c,onOpenChange:u,children:[a.jsx(fo,{asChild:!0,children:a.jsx(B,{variant:"outline",className:"w-full",disabled:!e.isOpen||s,children:"Fechar Caixa"})}),a.jsxs(mn,{children:[a.jsx(gn,{children:a.jsx(vn,{children:"Fechar Caixa"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"finalAmount",children:"Valor Final (R$)"}),a.jsx(q,{id:"finalAmount",type:"number",step:"0.01",min:"0",value:w,onChange:P=>x(P.target.value),placeholder:e.currentAmount.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"closeNotes",children:"Observações (opcional)"}),a.jsx(q,{id:"closeNotes",value:b,onChange:P=>S(P.target.value),placeholder:"Observações sobre o fechamento..."})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(B,{variant:"outline",onClick:()=>u(!1),disabled:s,children:"Cancelar"}),a.jsx(B,{onClick:O,disabled:s,children:s?"Fechando...":"Fechar Caixa"})]})]})]})]})})]}),a.jsxs(ne,{children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center gap-2",children:[a.jsx(qi,{className:"w-5 h-5"}),"Movimentações"]})}),a.jsx(re,{children:a.jsxs(On,{open:d,onOpenChange:f,children:[a.jsx(fo,{asChild:!0,children:a.jsx(B,{variant:"outline",className:"w-full",disabled:!e.isOpen||s,children:"Adicionar/Remover"})}),a.jsxs(mn,{children:[a.jsx(gn,{children:a.jsx(vn,{children:"Movimentação de Caixa"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Tipo de Operação"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs(B,{variant:v==="add"?"default":"outline",onClick:()=>g("add"),className:"flex-1",children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),a.jsxs(B,{variant:v==="remove"?"default":"outline",onClick:()=>g("remove"),className:"flex-1",children:[a.jsx(zi,{className:"w-4 h-4 mr-2"}),"Remover"]})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"movementAmount",children:"Valor (R$)"}),a.jsx(q,{id:"movementAmount",type:"number",step:"0.01",min:"0",value:j,onChange:P=>y(P.target.value),placeholder:"0,00"})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"movementNotes",children:"Observações (opcional)"}),a.jsx(q,{id:"movementNotes",value:b,onChange:P=>S(P.target.value),placeholder:"Motivo da movimentação..."})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(B,{variant:"outline",onClick:()=>f(!1),disabled:s,children:"Cancelar"}),a.jsx(B,{onClick:F,disabled:s,children:s?"Registrando...":"Registrar Movimentação"})]})]})]})]})})]})]})}),a.jsx(yr,{value:"history",className:"space-y-6",children:a.jsxs(ne,{children:[a.jsx(_e,{children:a.jsxs(Ce,{className:"flex items-center gap-2",children:[a.jsx(cl,{className:"w-5 h-5"}),"Histórico de Operações"]})}),a.jsx(re,{children:a.jsxs("div",{className:"space-y-4",children:[n.map(P=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[P.type==="open"&&a.jsx(bg,{className:"w-5 h-5 text-green-500"}),P.type==="close"&&a.jsx(af,{className:"w-5 h-5 text-red-500"}),P.type==="add"&&a.jsx(Xt,{className:"w-5 h-5 text-blue-500"}),P.type==="remove"&&a.jsx(zi,{className:"w-5 h-5 text-orange-500"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[P.type==="open"&&"Abertura de Caixa",P.type==="close"&&"Fechamento de Caixa",P.type==="add"&&"Adição de Dinheiro",P.type==="remove"&&"Remoção de Dinheiro"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:P.notes})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold",children:N(P.current_amount)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:M(P.created_at)})]})]},P.id)),n.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma operação registrada."})]})})]})})]})]}):a.jsx("div",{className:"container mx-auto p-6",children:a.jsx(ne,{className:"max-w-md mx-auto",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx(Sg,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Acesso Negado"}),a.jsx("p",{className:"text-muted-foreground",children:"Você não tem permissão para acessar o controle de caixa."})]})})})},sn=({element:e,requiredPermission:t,user:n})=>!n||n.role==="none"?a.jsx(Bl,{to:"/login"}):t&&!$t(n.role,t)?a.jsx(Bl,{to:"/"}):e,$4=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0),{toast:s}=Tt();m.useEffect(()=>{const l=d=>{s(d.detail)};window.addEventListener("show-toast",l),(async()=>{const d=Xe();d&&t(d),r(!1)})();const{data:u}=ee.auth.onAuthStateChange(async(d,f)=>{var h;if(f!=null&&f.user){let p="none";f.user.email==="admin@server.com"&&(p="admin");const w={id:f.user.id,email:f.user.email,name:((h=f.user.user_metadata)==null?void 0:h.name)||f.user.email.split("@")[0],role:p,store_id:null,active:!0,created_at:f.user.created_at,stores:null};t(w),Hv(w)}else t(null),Af();r(!1)});return()=>{var d;(d=u==null?void 0:u.subscription)==null||d.unsubscribe(),window.removeEventListener("show-toast",l)}},[s]);const o=l=>{t(l),Hv(l)},i=()=>{t(null),Af()};return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg",children:a.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-white border-t-transparent rounded-full"})}):a.jsxs(jk,{children:[a.jsxs(pk,{children:[a.jsx(bt,{path:"/login",element:e?a.jsx(Bl,{to:"/"}):a.jsx(aL,{onLogin:o})}),a.jsxs(bt,{path:"/",element:a.jsx(sn,{user:e,element:a.jsx(lL,{onLogout:i})}),children:[a.jsx(bt,{index:!0,element:a.jsx(sn,{user:e,element:a.jsx(my,{}),requiredPermission:Q.PROCESS_SALES})}),a.jsx(bt,{path:"pos",element:a.jsx(sn,{user:e,element:a.jsx(my,{}),requiredPermission:Q.PROCESS_SALES})}),a.jsx(bt,{path:"products",element:a.jsx(sn,{user:e,element:a.jsx(H$,{}),requiredPermission:Q.MANAGE_PRODUCTS})}),a.jsx(bt,{path:"products/:id",element:a.jsx(sn,{user:e,element:a.jsx(q$,{}),requiredPermission:Q.MANAGE_PRODUCTS})}),a.jsx(bt,{path:"categories",element:a.jsx(sn,{user:e,element:a.jsx(n4,{}),requiredPermission:Q.MANAGE_CATEGORIES})}),a.jsx(bt,{path:"stock",element:a.jsx(sn,{user:e,element:a.jsx(G$,{}),requiredPermission:Q.MANAGE_STOCK})}),a.jsx(bt,{path:"customers",element:a.jsx(sn,{user:e,element:a.jsx(i4,{}),requiredPermission:Q.MANAGE_PRODUCTS})}),a.jsx(bt,{path:"reports",element:a.jsx(sn,{user:e,element:a.jsx(T4,{}),requiredPermission:Q.VIEW_REPORTS})}),a.jsx(bt,{path:"users",element:a.jsx(sn,{user:e,element:a.jsx(A4,{}),requiredPermission:Q.MANAGE_USERS})}),a.jsx(bt,{path:"cash-register",element:a.jsx(sn,{user:e,element:a.jsx(D4,{}),requiredPermission:Q.CASH_REGISTER_MANAGEMENT})}),a.jsx(bt,{path:"*",element:a.jsx(Bl,{to:e?"/":"/login"})})]})]}),a.jsx(SP,{})]})};sd.createRoot(document.getElementById("root")).render(a.jsx(oe.StrictMode,{children:a.jsx($4,{})}));
