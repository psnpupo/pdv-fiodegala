function e(e,t){for(var r=0;r<t.length;r++){const n=t[r];if("string"!=typeof n&&!Array.isArray(n))for(const t in n)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}var a={exports:{}},s={},o={exports:{}},i={},l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function k(e,t,r){this.props=e,this.context=t,this.refs=j,this.updater=r||b}function _(){}function N(e,t,r){this.props=e,this.context=t,this.refs=j,this.updater=r||b}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=k.prototype;var S=N.prototype=new _;S.constructor=N,w(S,k.prototype),S.isPureReactComponent=!0;var C=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,r){var n,a={},s=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,n)&&!T.hasOwnProperty(n)&&(a[n]=t[n]);var i=arguments.length-2;if(1===i)a.children=r;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===a[n]&&(a[n]=i[n]);return{$$typeof:l,type:e,key:s,ref:o,props:a,_owner:P.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var O=/\/+/g;function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function L(e,t,r,n,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o=!1;if(null===e)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case l:case c:o=!0}}if(o)return a=a(o=e),e=""===n?"."+D(o,0):n,C(a)?(r="",null!=e&&(r=e.replace(O,"$&/")+"/"),L(a,t,r,"",function(e){return e})):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=""===n?".":n+":",C(e))for(var i=0;i<e.length;i++){var d=n+D(s=e[i],i);o+=L(s,t,r,d,a)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),i=0;!(s=e.next()).done;)o+=L(s=s.value,t,r,d=n+D(s,i++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function M(e,t,r){if(null==e)return e;var n=[],a=0;return L(e,n,"","",function(e){return t.call(r,e,a++)}),n}function F(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},$={transition:null},z={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:$,ReactCurrentOwner:P};function V(){throw Error("act(...) is not supported in production builds of React.")}i.Children={map:M,forEach:function(e,t,r){M(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i.Component=k,i.Fragment=d,i.Profiler=h,i.PureComponent=N,i.StrictMode=u,i.Suspense=g,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,i.act=V,i.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=w({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=P.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)E.call(t,c)&&!T.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==i?i[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];n.children=i}return{$$typeof:l,type:e.type,key:a,ref:s,props:n,_owner:o}},i.createContext=function(e){return(e={$$typeof:m,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:p,_context:e},e.Consumer=e},i.createElement=R,i.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},i.createRef=function(){return{current:null}},i.forwardRef=function(e){return{$$typeof:f,render:e}},i.isValidElement=A,i.lazy=function(e){return{$$typeof:x,_payload:{_status:-1,_result:e},_init:F}},i.memo=function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},i.startTransition=function(e){var t=$.transition;$.transition={};try{e()}finally{$.transition=t}},i.unstable_act=V,i.useCallback=function(e,t){return I.current.useCallback(e,t)},i.useContext=function(e){return I.current.useContext(e)},i.useDebugValue=function(){},i.useDeferredValue=function(e){return I.current.useDeferredValue(e)},i.useEffect=function(e,t){return I.current.useEffect(e,t)},i.useId=function(){return I.current.useId()},i.useImperativeHandle=function(e,t,r){return I.current.useImperativeHandle(e,t,r)},i.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},i.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},i.useMemo=function(e,t){return I.current.useMemo(e,t)},i.useReducer=function(e,t,r){return I.current.useReducer(e,t,r)},i.useRef=function(e){return I.current.useRef(e)},i.useState=function(e){return I.current.useState(e)},i.useSyncExternalStore=function(e,t,r){return I.current.useSyncExternalStore(e,t,r)},i.useTransition=function(){return I.current.useTransition()},i.version="18.3.1",o.exports=i;var U=o.exports;const B=r(U),q=e({__proto__:null,default:B},[U]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var W=U,H=Symbol.for("react.element"),G=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,J=W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y={key:!0,ref:!0,__self:!0,__source:!0};function Q(e,t,r){var n,a={},s=null,o=null;for(n in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)K.call(t,n)&&!Y.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:H,type:e,key:s,ref:o,props:a,_owner:J.current}}s.Fragment=G,s.jsx=Q,s.jsxs=Q,a.exports=s;var X=a.exports,Z={},ee={exports:{}},te={},re={exports:{}},ne={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(!(0<a(s,t)))break e;e[n]=t,e[r]=s,r=n}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,o=s>>>1;n<o;){var i=2*(n+1)-1,l=e[i],c=i+1,d=e[c];if(0>a(l,r))c<s&&0>a(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<s&&0>a(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var l=[],c=[],d=1,u=null,h=3,p=!1,m=!1,f=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var a=r(c);null!==a;){if(null===a.callback)n(c);else{if(!(a.startTime<=e))break;n(c),a.sortIndex=a.expirationTime,t(l,a)}a=r(c)}}function b(e){if(f=!1,y(e),!m)if(null!==r(l))m=!0,A(w);else{var t=r(c);null!==t&&O(b,t.startTime-e)}}function w(t,a){m=!1,f&&(f=!1,v(N),N=-1),p=!0;var s=h;try{for(y(a),u=r(l);null!==u&&(!(u.expirationTime>a)||t&&!E());){var o=u.callback;if("function"==typeof o){u.callback=null,h=u.priorityLevel;var i=o(u.expirationTime<=a);a=e.unstable_now(),"function"==typeof i?u.callback=i:u===r(l)&&n(l),y(a)}else n(l);u=r(l)}if(null!==u)var d=!0;else{var g=r(c);null!==g&&O(b,g.startTime-a),d=!1}return d}finally{u=null,h=s,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,_=null,N=-1,S=5,C=-1;function E(){return!(e.unstable_now()-C<S)}function P(){if(null!==_){var t=e.unstable_now();C=t;var r=!0;try{r=_(!0,t)}finally{r?j():(k=!1,_=null)}}else k=!1}if("function"==typeof x)j=function(){x(P)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=P,j=function(){R.postMessage(null)}}else j=function(){g(P,0)};function A(e){_=e,k||(k=!0,j())}function O(t,r){N=g(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,A(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},e.unstable_scheduleCallback=function(n,a,s){var o=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?o+s:o:s=o,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return n={id:d++,callback:a,priorityLevel:n,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(n.sortIndex=s,t(c,n),null===r(l)&&n===r(c)&&(f?(v(N),N=-1):f=!0,O(b,s-o))):(n.sortIndex=i,t(l,n),m||p||(m=!0,A(w))),n},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}}(ne),re.exports=ne;var ae=re.exports,se=U,oe=ae;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var le=new Set,ce={};function de(e,t){ue(e,t),ue(e+"Capture",t)}function ue(e,t){for(ce[e]=t,e=0;e<t.length;e++)le.add(t[e])}var he=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),pe=Object.prototype.hasOwnProperty,me=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe={},ge={};function ve(e,t,r,n,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new ve(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new ve(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new ve(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new ve(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){xe[e]=new ve(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){xe[e]=new ve(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){xe[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var ye=/[\-:]([a-z])/g;function be(e){return e[1].toUpperCase()}function we(e,t,r,n){var a=xe.hasOwnProperty(t)?xe[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!pe.call(ge,e)||!pe.call(fe,e)&&(me.test(e)?ge[e]=!0:(fe[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ye,be);xe[t]=new ve(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ye,be);xe[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ye,be);xe[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)}),xe.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){xe[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});var je=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),_e=Symbol.for("react.portal"),Ne=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),Me=Symbol.iterator;function Fe(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Me&&e[Me]||e["@@iterator"])?e:null}var Ie,$e=Object.assign;function ze(e){if(void 0===Ie)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ie=t&&t[1]||""}return"\n"+Ie+e}var Ve=!1;function Ue(e,t){if(!e||Ve)return"";Ve=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"==typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{Ve=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ze(e):""}function Be(e){switch(e.tag){case 5:return ze(e.type);case 16:return ze("Lazy");case 13:return ze("Suspense");case 19:return ze("SuspenseList");case 0:case 2:case 15:return e=Ue(e.type,!1);case 11:return e=Ue(e.type.render,!1);case 1:return e=Ue(e.type,!0);default:return""}}function qe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ne:return"Fragment";case _e:return"Portal";case Ce:return"Profiler";case Se:return"StrictMode";case Re:return"Suspense";case Ae:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Pe:return(e.displayName||"Context")+".Consumer";case Ee:return(e._context.displayName||"Context")+".Provider";case Te:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Oe:return null!==(t=e.displayName||null)?t:qe(e.type)||"Memo";case De:t=e._payload,e=e._init;try{return qe(e(t))}catch(r){}}return null}function We(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(t);case 8:return t===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function He(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Ge(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ke(e){e._valueTracker||(e._valueTracker=function(e){var t=Ge(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Je(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ge(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Ye(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Qe(e,t){var r=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Xe(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=He(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ze(e,t){null!=(t=t.checked)&&we(e,"checked",t,!1)}function et(e,t){Ze(e,t);var r=He(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?rt(e,t.type,r):t.hasOwnProperty("defaultValue")&&rt(e,t.type,He(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function tt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function rt(e,t,r){"number"===t&&Ye(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nt=Array.isArray;function at(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+He(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function st(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ie(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ot(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(ie(92));if(nt(r)){if(1<r.length)throw Error(ie(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:He(r)}}function it(e,t){var r=He(t.value),n=He(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function lt(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ct(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ct(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ut,ht,pt=(ht=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ut.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return ht(e,t)})}:ht);function mt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function vt(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||ft.hasOwnProperty(e)&&ft[e]?(""+t).trim():t+"px"}function xt(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=vt(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(ft).forEach(function(e){gt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ft[t]=ft[e]})});var yt=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(e,t){if(t){if(yt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ie(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ie(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ie(62))}}function wt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=null;function kt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _t=null,Nt=null,St=null;function Ct(e){if(e=ws(e)){if("function"!=typeof _t)throw Error(ie(280));var t=e.stateNode;t&&(t=ks(t),_t(e.stateNode,e.type,t))}}function Et(e){Nt?St?St.push(e):St=[e]:Nt=e}function Pt(){if(Nt){var e=Nt,t=St;if(St=Nt=null,Ct(e),t)for(e=0;e<t.length;e++)Ct(t[e])}}function Tt(e,t){return e(t)}function Rt(){}var At=!1;function Ot(e,t,r){if(At)return e(t,r);At=!0;try{return Tt(e,t,r)}finally{At=!1,(null!==Nt||null!==St)&&(Rt(),Pt())}}function Dt(e,t){var r=e.stateNode;if(null===r)return null;var n=ks(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(ie(231,t,typeof r));return r}var Lt=!1;if(he)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch(ht){Lt=!1}function Ft(e,t,r,n,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var It=!1,$t=null,zt=!1,Vt=null,Ut={onError:function(e){It=!0,$t=e}};function Bt(e,t,r,n,a,s,o,i,l){It=!1,$t=null,Ft.apply(Ut,arguments)}function qt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Wt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ht(e){if(qt(e)!==e)throw Error(ie(188))}function Gt(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qt(e)))throw Error(ie(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Ht(a),e;if(s===n)return Ht(a),t;s=s.sibling}throw Error(ie(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,i=a.child;i;){if(i===r){o=!0,r=a,n=s;break}if(i===n){o=!0,n=a,r=s;break}i=i.sibling}if(!o){for(i=s.child;i;){if(i===r){o=!0,r=s,n=a;break}if(i===n){o=!0,n=s,r=a;break}i=i.sibling}if(!o)throw Error(ie(189))}}if(r.alternate!==n)throw Error(ie(190))}if(3!==r.tag)throw Error(ie(188));return r.stateNode.current===r?e:t}(e))?Kt(e):null}function Kt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Kt(e);if(null!==t)return t;e=e.sibling}return null}var Jt=oe.unstable_scheduleCallback,Yt=oe.unstable_cancelCallback,Qt=oe.unstable_shouldYield,Xt=oe.unstable_requestPaint,Zt=oe.unstable_now,er=oe.unstable_getCurrentPriorityLevel,tr=oe.unstable_ImmediatePriority,rr=oe.unstable_UserBlockingPriority,nr=oe.unstable_NormalPriority,ar=oe.unstable_LowPriority,sr=oe.unstable_IdlePriority,or=null,ir=null;var lr=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(cr(e)/dr|0)|0},cr=Math.log,dr=Math.LN2;var ur=64,hr=4194304;function pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mr(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&r;if(0!==o){var i=o&~a;0!==i?n=pr(i):0!==(s&=o)&&(n=pr(s))}else 0!==(o=r&~a)?n=pr(o):0!==s&&(n=pr(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&4194240&s))return t;if(4&n&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-lr(t)),n|=e[r],t&=~a;return n}function fr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gr(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vr(){var e=ur;return!(4194240&(ur<<=1))&&(ur=64),e}function xr(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yr(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lr(t)]=r}function br(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var wr=0;function jr(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var kr,_r,Nr,Sr,Cr,Er=!1,Pr=[],Tr=null,Rr=null,Ar=null,Or=new Map,Dr=new Map,Lr=[],Mr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fr(e,t){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(t.pointerId)}}function Ir(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ws(t))&&_r(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function $r(e){var t=bs(e.target);if(null!==t){var r=qt(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Wt(r)))return e.blockedOn=t,void Cr(e.priority,function(){Nr(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zr(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ws(r))&&_r(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);jt=n,r.target.dispatchEvent(n),jt=null,t.shift()}return!0}function Vr(e,t,r){zr(e)&&r.delete(t)}function Ur(){Er=!1,null!==Tr&&zr(Tr)&&(Tr=null),null!==Rr&&zr(Rr)&&(Rr=null),null!==Ar&&zr(Ar)&&(Ar=null),Or.forEach(Vr),Dr.forEach(Vr)}function Br(e,t){e.blockedOn===t&&(e.blockedOn=null,Er||(Er=!0,oe.unstable_scheduleCallback(oe.unstable_NormalPriority,Ur)))}function qr(e){function t(t){return Br(t,e)}if(0<Pr.length){Br(Pr[0],e);for(var r=1;r<Pr.length;r++){var n=Pr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Tr&&Br(Tr,e),null!==Rr&&Br(Rr,e),null!==Ar&&Br(Ar,e),Or.forEach(t),Dr.forEach(t),r=0;r<Lr.length;r++)(n=Lr[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Lr.length&&null===(r=Lr[0]).blockedOn;)$r(r),null===r.blockedOn&&Lr.shift()}var Wr=je.ReactCurrentBatchConfig,Hr=!0;function Gr(e,t,r,n){var a=wr,s=Wr.transition;Wr.transition=null;try{wr=1,Jr(e,t,r,n)}finally{wr=a,Wr.transition=s}}function Kr(e,t,r,n){var a=wr,s=Wr.transition;Wr.transition=null;try{wr=4,Jr(e,t,r,n)}finally{wr=a,Wr.transition=s}}function Jr(e,t,r,n){if(Hr){var a=Qr(e,t,r,n);if(null===a)Ha(e,t,n,Yr,r),Fr(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Tr=Ir(Tr,e,t,r,n,a),!0;case"dragenter":return Rr=Ir(Rr,e,t,r,n,a),!0;case"mouseover":return Ar=Ir(Ar,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Or.set(s,Ir(Or.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Dr.set(s,Ir(Dr.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Fr(e,n),4&t&&-1<Mr.indexOf(e)){for(;null!==a;){var s=ws(a);if(null!==s&&kr(s),null===(s=Qr(e,t,r,n))&&Ha(e,t,n,Yr,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Ha(e,t,n,null,r)}}var Yr=null;function Qr(e,t,r,n){if(Yr=null,null!==(e=bs(e=kt(n))))if(null===(t=qt(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Wt(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yr=e,null}function Xr(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(er()){case tr:return 1;case rr:return 4;case nr:case ar:return 16;case sr:return 536870912;default:return 16}default:return 16}}var Zr=null,en=null,tn=null;function rn(){if(tn)return tn;var e,t,r=en,n=r.length,a="value"in Zr?Zr.value:Zr.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[s-t];t++);return tn=a.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function on(e){function t(t,r,n,a,s){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?an:sn,this.isPropagationStopped=sn,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,dn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=on(un),pn=$e({},un,{view:0,detail:0}),mn=on(pn),fn=$e({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(ln=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=ln=0,dn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=on(fn),vn=on($e({},fn,{dataTransfer:0})),xn=on($e({},pn,{relatedTarget:0})),yn=on($e({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=$e({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(bn),jn=on($e({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Cn(){return Sn}var En=$e({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(En),Tn=on($e({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on($e({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=on($e({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=$e({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(On),Ln=[9,13,27,32],Mn=he&&"CompositionEvent"in window,Fn=null;he&&"documentMode"in document&&(Fn=document.documentMode);var In=he&&"TextEvent"in window&&!Fn,$n=he&&(!Mn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,r,n){Et(n),0<(t=Ka(t,"onChange")).length&&(r=new hn("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kn=null,Jn=null;function Yn(e){za(e,0)}function Qn(e){if(Je(js(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(he){var ea;if(he){var ta="oninput"in document;if(!ta){var ra=document.createElement("div");ra.setAttribute("oninput","return;"),ta="function"==typeof ra.oninput}ea=ta}else ea=!1;Zn=ea&&(!document.documentMode||9<document.documentMode)}function na(){Kn&&(Kn.detachEvent("onpropertychange",aa),Jn=Kn=null)}function aa(e){if("value"===e.propertyName&&Qn(Jn)){var t=[];Gn(t,Jn,e,kt(e)),Ot(Yn,t)}}function sa(e,t,r){"focusin"===e?(na(),Jn=r,(Kn=t).attachEvent("onpropertychange",aa)):"focusout"===e&&na()}function oa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Jn)}function ia(e,t){if("click"===e)return Qn(t)}function la(e,t){if("input"===e||"change"===e)return Qn(t)}var ca="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function da(e,t){if(ca(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!pe.call(t,a)||!ca(e[a],t[a]))return!1}return!0}function ua(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ha(e,t){var r,n=ua(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ua(n)}}function pa(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pa(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ma(){for(var e=window,t=Ye();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Ye((e=t.contentWindow).document)}return t}function fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ga(e){var t=ma(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pa(r.ownerDocument.documentElement,r)){if(null!==n&&fa(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=ha(r,s);var o=ha(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var va=he&&"documentMode"in document&&11>=document.documentMode,xa=null,ya=null,ba=null,wa=!1;function ja(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;wa||null==xa||xa!==Ye(n)||("selectionStart"in(n=xa)&&fa(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ba&&da(ba,n)||(ba=n,0<(n=Ka(ya,"onSelect")).length&&(t=new hn("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xa)))}function ka(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _a={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},Na={},Sa={};function Ca(e){if(Na[e])return Na[e];if(!_a[e])return e;var t,r=_a[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sa)return Na[e]=r[t];return e}he&&(Sa=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);var Ea=Ca("animationend"),Pa=Ca("animationiteration"),Ta=Ca("animationstart"),Ra=Ca("transitionend"),Aa=new Map,Oa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(e,t){Aa.set(e,t),de(t,[e])}for(var La=0;La<Oa.length;La++){var Ma=Oa[La];Da(Ma.toLowerCase(),"on"+(Ma[0].toUpperCase()+Ma.slice(1)))}Da(Ea,"onAnimationEnd"),Da(Pa,"onAnimationIteration"),Da(Ta,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(Ra,"onTransitionEnd"),ue("onMouseEnter",["mouseout","mouseover"]),ue("onMouseLeave",["mouseout","mouseover"]),ue("onPointerEnter",["pointerout","pointerover"]),ue("onPointerLeave",["pointerout","pointerover"]),de("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),de("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),de("onBeforeInput",["compositionend","keypress","textInput","paste"]),de("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ia=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function $a(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,s,o,i,l){if(Bt.apply(this,arguments),It){if(!It)throw Error(ie(198));var c=$t;It=!1,$t=null,zt||(zt=!0,Vt=c)}}(n,t,void 0,e),e.currentTarget=null}function za(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;$a(a,i,c),s=l}else for(o=0;o<n.length;o++){if(l=(i=n[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;$a(a,i,c),s=l}}}if(zt)throw e=Vt,zt=!1,Vt=null,e}function Va(e,t){var r=t[vs];void 0===r&&(r=t[vs]=new Set);var n=e+"__bubble";r.has(n)||(Wa(t,e,2,!1),r.add(n))}function Ua(e,t,r){var n=0;t&&(n|=4),Wa(r,e,n,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function qa(e){if(!e[Ba]){e[Ba]=!0,le.forEach(function(t){"selectionchange"!==t&&(Ia.has(t)||Ua(t,!1,e),Ua(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ba]||(t[Ba]=!0,Ua("selectionchange",!1,t))}}function Wa(e,t,r,n){switch(Xr(t)){case 1:var a=Gr;break;case 4:a=Kr;break;default:a=Jr}r=a.bind(null,t,r,e),a=void 0,!Lt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ha(e,t,r,n,a){var s=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=bs(i)))return;if(5===(l=o.tag)||6===l){n=s=o;continue e}i=i.parentNode}}n=n.return}Ot(function(){var n=s,a=kt(r),o=[];e:{var i=Aa.get(e);if(void 0!==i){var l=hn,c=e;switch(e){case"keypress":if(0===nn(r))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=xn;break;case"focusout":c="blur",l=xn;break;case"beforeblur":case"afterblur":l=xn;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Ea:case Pa:case Ta:l=yn;break;case Ra:l=An;break;case"scroll":l=mn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var d=!!(4&t),u=!d&&"scroll"===e,h=d?null!==i?i+"Capture":null:i;d=[];for(var p,m=n;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Dt(m,h))&&d.push(Ga(m,f,p)))),u)break;m=m.return}0<d.length&&(i=new l(i,c,null,r,a),o.push({event:i,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===jt||!(c=r.relatedTarget||r.fromElement)||!bs(c)&&!c[gs])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?bs(c):null)&&(c!==(u=qt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=gn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tn,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?i:js(l),p=null==c?i:js(c),(i=new d(f,m+"leave",l,r,a)).target=u,i.relatedTarget=p,f=null,bs(a)===n&&((d=new d(h,m+"enter",c,r,a)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Ja(p))m++;for(p=0,f=h;f;f=Ja(f))p++;for(;0<m-p;)d=Ja(d),m--;for(;0<p-m;)h=Ja(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ja(d),h=Ja(h)}d=null}else d=null;null!==l&&Ya(o,i,l,d,!1),null!==c&&null!==u&&Ya(o,u,c,d,!0)}if("select"===(l=(i=n?js(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Xn;else if(Hn(i))if(Zn)g=la;else{g=oa;var v=sa}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ia);switch(g&&(g=g(e,n))?Gn(o,g,r,a):(v&&v(e,i,n),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&rt(i,"number",i.value)),v=n?js(n):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(xa=v,ya=n,ba=null);break;case"focusout":ba=ya=xa=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,ja(o,r,a);break;case"selectionchange":if(va)break;case"keydown":case"keyup":ja(o,r,a)}var x;if(Mn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else qn?Un(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&($n&&"ko"!==r.locale&&(qn||"onCompositionStart"!==y?"onCompositionEnd"===y&&qn&&(x=rn()):(en="value"in(Zr=a)?Zr.value:Zr.textContent,qn=!0)),0<(v=Ka(n,y)).length&&(y=new jn(y,e,null,r,a),o.push({event:y,listeners:v}),x?y.data=x:null!==(x=Bn(r))&&(y.data=x))),(x=In?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,zn);case"textInput":return(e=t.data)===zn&&Vn?null:e;default:return null}}(e,r):function(e,t){if(qn)return"compositionend"===e||!Mn&&Un(e,t)?(e=rn(),tn=en=Zr=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Ka(n,"onBeforeInput")).length&&(a=new jn("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=x))}za(o,t)})}function Ga(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ka(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Dt(e,r))&&n.unshift(Ga(e,s,a)),null!=(s=Dt(e,t))&&n.push(Ga(e,s,a))),e=e.return}return n}function Ja(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ya(e,t,r,n,a){for(var s=t._reactName,o=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Dt(r,s))&&o.unshift(Ga(r,l,i)):a||null!=(l=Dt(r,s))&&o.push(Ga(r,l,i))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Qa=/\r\n?/g,Xa=/\u0000|\uFFFD/g;function Za(e){return("string"==typeof e?e:""+e).replace(Qa,"\n").replace(Xa,"")}function es(e,t,r){if(t=Za(t),Za(e)!==t&&r)throw Error(ie(425))}function ts(){}var rs=null,ns=null;function as(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ss="function"==typeof setTimeout?setTimeout:void 0,os="function"==typeof clearTimeout?clearTimeout:void 0,is="function"==typeof Promise?Promise:void 0,ls="function"==typeof queueMicrotask?queueMicrotask:void 0!==is?function(e){return is.resolve(null).then(e).catch(cs)}:ss;function cs(e){setTimeout(function(){throw e})}function ds(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void qr(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);qr(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),ms="__reactFiber$"+ps,fs="__reactProps$"+ps,gs="__reactContainer$"+ps,vs="__reactEvents$"+ps,xs="__reactListeners$"+ps,ys="__reactHandles$"+ps;function bs(e){var t=e[ms];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gs]||r[ms]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=hs(e);null!==e;){if(r=e[ms])return r;e=hs(e)}return t}r=(e=r).parentNode}return null}function ws(e){return!(e=e[ms]||e[gs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function js(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ie(33))}function ks(e){return e[fs]||null}var _s=[],Ns=-1;function Ss(e){return{current:e}}function Cs(e){0>Ns||(e.current=_s[Ns],_s[Ns]=null,Ns--)}function Es(e,t){Ns++,_s[Ns]=e.current,e.current=t}var Ps={},Ts=Ss(Ps),Rs=Ss(!1),As=Ps;function Os(e,t){var r=e.type.contextTypes;if(!r)return Ps;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ds(e){return null!=(e=e.childContextTypes)}function Ls(){Cs(Rs),Cs(Ts)}function Ms(e,t,r){if(Ts.current!==Ps)throw Error(ie(168));Es(Ts,t),Es(Rs,r)}function Fs(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(ie(108,We(e)||"Unknown",a));return $e({},r,n)}function Is(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ps,As=Ts.current,Es(Ts,e),Es(Rs,Rs.current),!0}function $s(e,t,r){var n=e.stateNode;if(!n)throw Error(ie(169));r?(e=Fs(e,t,As),n.__reactInternalMemoizedMergedChildContext=e,Cs(Rs),Cs(Ts),Es(Ts,e)):Cs(Rs),Es(Rs,r)}var zs=null,Vs=!1,Us=!1;function Bs(e){null===zs?zs=[e]:zs.push(e)}function qs(){if(!Us&&null!==zs){Us=!0;var e=0,t=wr;try{var r=zs;for(wr=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}zs=null,Vs=!1}catch(a){throw null!==zs&&(zs=zs.slice(e+1)),Jt(tr,qs),a}finally{wr=t,Us=!1}}return null}var Ws=[],Hs=0,Gs=null,Ks=0,Js=[],Ys=0,Qs=null,Xs=1,Zs="";function eo(e,t){Ws[Hs++]=Ks,Ws[Hs++]=Gs,Gs=e,Ks=t}function to(e,t,r){Js[Ys++]=Xs,Js[Ys++]=Zs,Js[Ys++]=Qs,Qs=e;var n=Xs;e=Zs;var a=32-lr(n)-1;n&=~(1<<a),r+=1;var s=32-lr(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Xs=1<<32-lr(t)+a|r<<a|n,Zs=s+e}else Xs=1<<s|r<<a|n,Zs=e}function ro(e){null!==e.return&&(eo(e,1),to(e,1,0))}function no(e){for(;e===Gs;)Gs=Ws[--Hs],Ws[Hs]=null,Ks=Ws[--Hs],Ws[Hs]=null;for(;e===Qs;)Qs=Js[--Ys],Js[Ys]=null,Zs=Js[--Ys],Js[Ys]=null,Xs=Js[--Ys],Js[Ys]=null}var ao=null,so=null,oo=!1,io=null;function lo(e,t){var r=Od(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function co(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ao=e,so=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ao=e,so=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Qs?{id:Xs,overflow:Zs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Od(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ao=e,so=null,!0);default:return!1}}function uo(e){return!(!(1&e.mode)||128&e.flags)}function ho(e){if(oo){var t=so;if(t){var r=t;if(!co(e,t)){if(uo(e))throw Error(ie(418));t=us(r.nextSibling);var n=ao;t&&co(e,t)?lo(n,r):(e.flags=-4097&e.flags|2,oo=!1,ao=e)}}else{if(uo(e))throw Error(ie(418));e.flags=-4097&e.flags|2,oo=!1,ao=e}}}function po(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ao=e}function mo(e){if(e!==ao)return!1;if(!oo)return po(e),oo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!as(e.type,e.memoizedProps)),t&&(t=so)){if(uo(e))throw fo(),Error(ie(418));for(;t;)lo(e,t),t=us(t.nextSibling)}if(po(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){so=us(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}so=null}}else so=ao?us(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=so;e;)e=us(e.nextSibling)}function go(){so=ao=null,oo=!1}function vo(e){null===io?io=[e]:io.push(e)}var xo=je.ReactCurrentBatchConfig;function yo(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(ie(309));var n=r.stateNode}if(!n)throw Error(ie(147,e));var a=n,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(ie(284));if(!r._owner)throw Error(ie(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function jo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ld(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function i(e,t,r,n){return null===t||6!==t.tag?((t=$d(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function l(e,t,r,n){var s=r.type;return s===Ne?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===De&&wo(s)===t.type)?((n=a(t,r.props)).ref=yo(e,t,r),n.return=e,n):((n=Md(r.type,r.key,r.props,null,e.mode,n)).ref=yo(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=zd(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,s){return null===t||7!==t.tag?((t=Fd(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function u(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=$d(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ke:return(r=Md(t.type,t.key,t.props,null,e.mode,r)).ref=yo(e,null,t),r.return=e,r;case _e:return(t=zd(t,e.mode,r)).return=e,t;case De:return u(e,(0,t._init)(t._payload),r)}if(nt(t)||Fe(t))return(t=Fd(t,e.mode,r,null)).return=e,t;bo(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==a?null:i(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ke:return r.key===a?l(e,t,r,n):null;case _e:return r.key===a?c(e,t,r,n):null;case De:return h(e,t,(a=r._init)(r._payload),n)}if(nt(r)||Fe(r))return null!==a?null:d(e,t,r,n,null);bo(e,r)}return null}function p(e,t,r,n,a){if("string"==typeof n&&""!==n||"number"==typeof n)return i(t,e=e.get(r)||null,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ke:return l(t,e=e.get(null===n.key?r:n.key)||null,n,a);case _e:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case De:return p(e,t,r,(0,n._init)(n._payload),a)}if(nt(n)||Fe(n))return d(t,e=e.get(r)||null,n,a,null);bo(t,n)}return null}return function i(l,c,d,m){if("object"==typeof d&&null!==d&&d.type===Ne&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case ke:e:{for(var f=d.key,g=c;null!==g;){if(g.key===f){if((f=d.type)===Ne){if(7===g.tag){r(l,g.sibling),(c=a(g,d.props.children)).return=l,l=c;break e}}else if(g.elementType===f||"object"==typeof f&&null!==f&&f.$$typeof===De&&wo(f)===g.type){r(l,g.sibling),(c=a(g,d.props)).ref=yo(l,g,d),c.return=l,l=c;break e}r(l,g);break}t(l,g),g=g.sibling}d.type===Ne?((c=Fd(d.props.children,l.mode,m,d.key)).return=l,l=c):((m=Md(d.type,d.key,d.props,null,l.mode,m)).ref=yo(l,c,d),m.return=l,l=m)}return o(l);case _e:e:{for(g=d.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(l,c.sibling),(c=a(c,d.children||[])).return=l,l=c;break e}r(l,c);break}t(l,c),c=c.sibling}(c=zd(d,l.mode,m)).return=l,l=c}return o(l);case De:return i(l,c,(g=d._init)(d._payload),m)}if(nt(d))return function(a,o,i,l){for(var c=null,d=null,m=o,f=o=0,g=null;null!==m&&f<i.length;f++){m.index>f?(g=m,m=null):g=m.sibling;var v=h(a,m,i[f],l);if(null===v){null===m&&(m=g);break}e&&m&&null===v.alternate&&t(a,m),o=s(v,o,f),null===d?c=v:d.sibling=v,d=v,m=g}if(f===i.length)return r(a,m),oo&&eo(a,f),c;if(null===m){for(;f<i.length;f++)null!==(m=u(a,i[f],l))&&(o=s(m,o,f),null===d?c=m:d.sibling=m,d=m);return oo&&eo(a,f),c}for(m=n(a,m);f<i.length;f++)null!==(g=p(m,a,f,i[f],l))&&(e&&null!==g.alternate&&m.delete(null===g.key?f:g.key),o=s(g,o,f),null===d?c=g:d.sibling=g,d=g);return e&&m.forEach(function(e){return t(a,e)}),oo&&eo(a,f),c}(l,c,d,m);if(Fe(d))return function(a,o,i,l){var c=Fe(i);if("function"!=typeof c)throw Error(ie(150));if(null==(i=c.call(i)))throw Error(ie(151));for(var d=c=null,m=o,f=o=0,g=null,v=i.next();null!==m&&!v.done;f++,v=i.next()){m.index>f?(g=m,m=null):g=m.sibling;var x=h(a,m,v.value,l);if(null===x){null===m&&(m=g);break}e&&m&&null===x.alternate&&t(a,m),o=s(x,o,f),null===d?c=x:d.sibling=x,d=x,m=g}if(v.done)return r(a,m),oo&&eo(a,f),c;if(null===m){for(;!v.done;f++,v=i.next())null!==(v=u(a,v.value,l))&&(o=s(v,o,f),null===d?c=v:d.sibling=v,d=v);return oo&&eo(a,f),c}for(m=n(a,m);!v.done;f++,v=i.next())null!==(v=p(m,a,f,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),o=s(v,o,f),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),oo&&eo(a,f),c}(l,c,d,m);bo(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==c&&6===c.tag?(r(l,c.sibling),(c=a(c,d)).return=l,l=c):(r(l,c),(c=$d(d,l.mode,m)).return=l,l=c),o(l)):r(l,c)}}var ko=jo(!0),_o=jo(!1),No=Ss(null),So=null,Co=null,Eo=null;function Po(){Eo=Co=So=null}function To(e){var t=No.current;Cs(No),e._currentValue=t}function Ro(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ao(e,t){So=e,Eo=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wl=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===So)throw Error(ie(308));Co=e,So.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Do=null;function Lo(e){null===Do?Do=[e]:Do.push(e)}function Mo(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Lo(t)):(r.next=a.next,a.next=r),t.interleaved=r,Fo(e,n)}function Fo(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Io=!1;function $o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&Tc){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Fo(e,r)}return null===(a=n.interleaved)?(t.next=t,Lo(n)):(t.next=a.next,a.next=t),n.interleaved=t,Fo(e,r)}function Bo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,br(e,r)}}function qo(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wo(e,t,r,n){var a=e.updateQueue;Io=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(o=0,d=c=l=null,i=s;;){var h=i.lane,p=i.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,f=i;switch(h=t,p=r,f.tag){case 1:if("function"==typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=f.payload)?m.call(p,u,h):m))break e;u=$e({},u,h);break e;case 2:Io=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else p={eventTime:p,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ic|=o,e.lanes=o,e.memoizedState=u}}function Ho(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!=typeof a)throw Error(ie(191,a));a.call(n)}}}var Go={},Ko=Ss(Go),Jo=Ss(Go),Yo=Ss(Go);function Qo(e){if(e===Go)throw Error(ie(174));return e}function Xo(e,t){switch(Es(Yo,t),Es(Jo,e),Es(Ko,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dt(null,"");break;default:t=dt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cs(Ko),Es(Ko,t)}function Zo(){Cs(Ko),Cs(Jo),Cs(Yo)}function ei(e){Qo(Yo.current);var t=Qo(Ko.current),r=dt(t,e.type);t!==r&&(Es(Jo,e),Es(Ko,r))}function ti(e){Jo.current===e&&(Cs(Ko),Cs(Jo))}var ri=Ss(0);function ni(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ai=[];function si(){for(var e=0;e<ai.length;e++)ai[e]._workInProgressVersionPrimary=null;ai.length=0}var oi=je.ReactCurrentDispatcher,ii=je.ReactCurrentBatchConfig,li=0,ci=null,di=null,ui=null,hi=!1,pi=!1,mi=0,fi=0;function gi(){throw Error(ie(321))}function vi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ca(e[r],t[r]))return!1;return!0}function xi(e,t,r,n,a,s){if(li=s,ci=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=null===e||null===e.memoizedState?tl:rl,e=r(n,a),pi){s=0;do{if(pi=!1,mi=0,25<=s)throw Error(ie(301));s+=1,ui=di=null,t.updateQueue=null,oi.current=nl,e=r(n,a)}while(pi)}if(oi.current=el,t=null!==di&&null!==di.next,li=0,ui=di=ci=null,hi=!1,t)throw Error(ie(300));return e}function yi(){var e=0!==mi;return mi=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ui?ci.memoizedState=ui=e:ui=ui.next=e,ui}function wi(){if(null===di){var e=ci.alternate;e=null!==e?e.memoizedState:null}else e=di.next;var t=null===ui?ci.memoizedState:ui.next;if(null!==t)ui=t,di=e;else{if(null===e)throw Error(ie(310));e={memoizedState:(di=e).memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},null===ui?ci.memoizedState=ui=e:ui=ui.next=e}return ui}function ji(e,t){return"function"==typeof t?t(e):t}function ki(e){var t=wi(),r=t.queue;if(null===r)throw Error(ie(311));r.lastRenderedReducer=e;var n=di,a=n.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(null!==a){s=a.next,n=n.baseState;var i=o=null,l=null,c=s;do{var d=c.lane;if((li&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(i=l=u,o=n):l=l.next=u,ci.lanes|=d,Ic|=d}c=c.next}while(null!==c&&c!==s);null===l?o=n:l.next=i,ca(n,t.memoizedState)||(wl=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{s=a.lane,ci.lanes|=s,Ic|=s,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _i(e){var t=wi(),r=t.queue;if(null===r)throw Error(ie(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);ca(s,t.memoizedState)||(wl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Ni(){}function Si(e,t){var r=ci,n=wi(),a=t(),s=!ca(n.memoizedState,a);if(s&&(n.memoizedState=a,wl=!0),n=n.queue,Ii(Pi.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==ui&&1&ui.memoizedState.tag){if(r.flags|=2048,Oi(9,Ei.bind(null,r,n,a,t),void 0,null),null===Rc)throw Error(ie(349));30&li||Ci(r,t,a)}return a}function Ci(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ci.updateQueue)?(t={lastEffect:null,stores:null},ci.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ei(e,t,r,n){t.value=r,t.getSnapshot=n,Ti(t)&&Ri(e)}function Pi(e,t,r){return r(function(){Ti(t)&&Ri(e)})}function Ti(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ca(e,r)}catch(n){return!0}}function Ri(e){var t=Fo(e,1);null!==t&&ad(t,e,1,-1)}function Ai(e){var t=bi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,ci,e),[t.memoizedState,e]}function Oi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ci.updateQueue)?(t={lastEffect:null,stores:null},ci.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Di(){return wi().memoizedState}function Li(e,t,r,n){var a=bi();ci.flags|=e,a.memoizedState=Oi(1|t,r,void 0,void 0===n?null:n)}function Mi(e,t,r,n){var a=wi();n=void 0===n?null:n;var s=void 0;if(null!==di){var o=di.memoizedState;if(s=o.destroy,null!==n&&vi(n,o.deps))return void(a.memoizedState=Oi(t,r,s,n))}ci.flags|=e,a.memoizedState=Oi(1|t,r,s,n)}function Fi(e,t){return Li(8390656,8,e,t)}function Ii(e,t){return Mi(2048,8,e,t)}function $i(e,t){return Mi(4,2,e,t)}function zi(e,t){return Mi(4,4,e,t)}function Vi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,r){return r=null!=r?r.concat([e]):null,Mi(4,4,Vi.bind(null,t,e),r)}function Bi(){}function qi(e,t){var r=wi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&vi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wi(e,t){var r=wi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&vi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hi(e,t,r){return 21&li?(ca(r,t)||(r=vr(),ci.lanes|=r,Ic|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wl=!0),e.memoizedState=r)}function Gi(e,t){var r=wr;wr=0!==r&&4>r?r:4,e(!0);var n=ii.transition;ii.transition={};try{e(!1),t()}finally{wr=r,ii.transition=n}}function Ki(){return wi().memoizedState}function Ji(e,t,r){var n=nd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qi(e))Xi(t,r);else if(null!==(r=Mo(e,t,r,n))){ad(r,e,n,rd()),Zi(r,t,n)}}function Yi(e,t,r){var n=nd(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qi(e))Xi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,r);if(a.hasEagerState=!0,a.eagerState=i,ca(i,o)){var l=t.interleaved;return null===l?(a.next=a,Lo(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Mo(e,t,a,n))&&(ad(r,e,n,a=rd()),Zi(r,t,n))}}function Qi(e){var t=e.alternate;return e===ci||null!==t&&t===ci}function Xi(e,t){pi=hi=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Zi(e,t,r){if(4194240&r){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,br(e,r)}}var el={readContext:Oo,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},tl={readContext:Oo,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Fi,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Li(4194308,4,Vi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var r=bi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ji.bind(null,ci,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:Ai,useDebugValue:Bi,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=Gi.bind(null,e[1]),bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ci,a=bi();if(oo){if(void 0===r)throw Error(ie(407));r=r()}else{if(r=t(),null===Rc)throw Error(ie(349));30&li||Ci(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Fi(Pi.bind(null,n,s,e),[e]),n.flags|=2048,Oi(9,Ei.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=bi(),t=Rc.identifierPrefix;if(oo){var r=Zs;t=":"+t+"R"+(r=(Xs&~(1<<32-lr(Xs)-1)).toString(32)+r),0<(r=mi++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=fi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rl={readContext:Oo,useCallback:qi,useContext:Oo,useEffect:Ii,useImperativeHandle:Ui,useInsertionEffect:$i,useLayoutEffect:zi,useMemo:Wi,useReducer:ki,useRef:Di,useState:function(){return ki(ji)},useDebugValue:Bi,useDeferredValue:function(e){return Hi(wi(),di.memoizedState,e)},useTransition:function(){return[ki(ji)[0],wi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:Si,useId:Ki,unstable_isNewReconciler:!1},nl={readContext:Oo,useCallback:qi,useContext:Oo,useEffect:Ii,useImperativeHandle:Ui,useInsertionEffect:$i,useLayoutEffect:zi,useMemo:Wi,useReducer:_i,useRef:Di,useState:function(){return _i(ji)},useDebugValue:Bi,useDeferredValue:function(e){var t=wi();return null===di?t.memoizedState=e:Hi(t,di.memoizedState,e)},useTransition:function(){return[_i(ji)[0],wi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:Si,useId:Ki,unstable_isNewReconciler:!1};function al(e,t){if(e&&e.defaultProps){for(var r in t=$e({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function sl(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:$e({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ol={isMounted:function(e){return!!(e=e._reactInternals)&&qt(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rd(),a=nd(e),s=Vo(n,a);s.payload=t,null!=r&&(s.callback=r),null!==(t=Uo(e,s,a))&&(ad(t,e,a,n),Bo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rd(),a=nd(e),s=Vo(n,a);s.tag=1,s.payload=t,null!=r&&(s.callback=r),null!==(t=Uo(e,s,a))&&(ad(t,e,a,n),Bo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rd(),n=nd(e),a=Vo(r,n);a.tag=2,null!=t&&(a.callback=t),null!==(t=Uo(e,a,n))&&(ad(t,e,n,r),Bo(t,e,n))}};function il(e,t,r,n,a,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!da(r,n)||!da(a,s))}function ll(e,t,r){var n=!1,a=Ps,s=t.contextType;return"object"==typeof s&&null!==s?s=Oo(s):(a=Ds(t)?As:Ts.current,s=(n=null!=(n=t.contextTypes))?Os(e,a):Ps),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function cl(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function dl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},$o(e);var s=t.contextType;"object"==typeof s&&null!==s?a.context=Oo(s):(s=Ds(t)?As:Ts.current,a.context=Os(e,s)),a.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(sl(e,t,s,r),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ol.enqueueReplaceState(a,a.state,null),Wo(e,r,a,n),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function ul(e,t){try{var r="",n=t;do{r+=Be(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function hl(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function pl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ml="function"==typeof WeakMap?WeakMap:Map;function fl(e,t,r){(r=Vo(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hc||(Hc=!0,Gc=n),pl(0,t)},r}function gl(e,t,r){(r=Vo(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){pl(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(r.callback=function(){pl(0,t),"function"!=typeof n&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function vl(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ml;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Cd.bind(null,e,t,r),t.then(e,e))}function xl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yl(e,t,r,n,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Vo(-1,1)).tag=2,Uo(r,t,1))),r.lanes|=1),e)}var bl=je.ReactCurrentOwner,wl=!1;function jl(e,t,r,n){t.child=null===e?_o(t,null,r,n):ko(t,e.child,r,n)}function kl(e,t,r,n,a){r=r.render;var s=t.ref;return Ao(t,a),n=xi(e,t,r,n,s,a),r=yi(),null===e||wl?(oo&&r&&ro(t),t.flags|=1,jl(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hl(e,t,a))}function _l(e,t,r,n,a){if(null===e){var s=r.type;return"function"!=typeof s||Dd(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Md(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Nl(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:da)(o,n)&&e.ref===t.ref)return Hl(e,t,a)}return t.flags|=1,(e=Ld(s,n)).ref=t.ref,e.return=t,t.child=e}function Nl(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(da(s,n)&&e.ref===t.ref){if(wl=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Hl(e,t,a);131072&e.flags&&(wl=!0)}}return El(e,t,r,n,a)}function Sl(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(1&t.mode){if(!(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Es(Lc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Es(Lc,Dc),Dc|=n}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Es(Lc,Dc),Dc|=r;else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Es(Lc,Dc),Dc|=n;return jl(e,t,a,r),t.child}function Cl(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,r,n,a){var s=Ds(r)?As:Ts.current;return s=Os(t,s),Ao(t,a),r=xi(e,t,r,n,s,a),n=yi(),null===e||wl?(oo&&n&&ro(t),t.flags|=1,jl(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hl(e,t,a))}function Pl(e,t,r,n,a){if(Ds(r)){var s=!0;Is(t)}else s=!1;if(Ao(t,a),null===t.stateNode)Wl(e,t),ll(t,r,n),dl(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=r.contextType;"object"==typeof c&&null!==c?c=Oo(c):c=Os(t,c=Ds(r)?As:Ts.current);var d=r.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate;u||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==n||l!==c)&&cl(t,o,n,c),Io=!1;var h=t.memoizedState;o.state=h,Wo(t,n,o,a),l=t.memoizedState,i!==n||h!==l||Rs.current||Io?("function"==typeof d&&(sl(t,r,d,n),l=t.memoizedState),(i=Io||il(t,r,i,n,h,l,c))?(u||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=i):("function"==typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,zo(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:al(t.type,i),o.props=c,u=t.pendingProps,h=o.context,"object"==typeof(l=r.contextType)&&null!==l?l=Oo(l):l=Os(t,l=Ds(r)?As:Ts.current);var p=r.getDerivedStateFromProps;(d="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==u||h!==l)&&cl(t,o,n,l),Io=!1,h=t.memoizedState,o.state=h,Wo(t,n,o,a);var m=t.memoizedState;i!==u||h!==m||Rs.current||Io?("function"==typeof p&&(sl(t,r,p,n),m=t.memoizedState),(c=Io||il(t,r,c,n,h,m,l)||!1)?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,m,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,m,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Tl(e,t,r,n,s,a)}function Tl(e,t,r,n,a,s){Cl(e,t);var o=!!(128&t.flags);if(!n&&!o)return a&&$s(t,r,!1),Hl(e,t,s);n=t.stateNode,bl.current=t;var i=o&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=ko(t,e.child,null,s),t.child=ko(t,null,i,s)):jl(e,t,i,s),t.memoizedState=n.state,a&&$s(t,r,!0),t.child}function Rl(e){var t=e.stateNode;t.pendingContext?Ms(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ms(0,t.context,!1),Xo(e,t.containerInfo)}function Al(e,t,r,n,a){return go(),vo(a),t.flags|=256,jl(e,t,r,n),t.child}var Ol,Dl,Ll,Ml,Fl={dehydrated:null,treeContext:null,retryLane:0};function Il(e){return{baseLanes:e,cachePool:null,transitions:null}}function $l(e,t,r){var n,a=t.pendingProps,s=ri.current,o=!1,i=!!(128&t.flags);if((n=i)||(n=(null===e||null!==e.memoizedState)&&!!(2&s)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Es(ri,1&s),null===e)return ho(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=a.children,e=a.fallback,o?(a=t.mode,o=t.child,i={mode:"hidden",children:i},1&a||null===o?o=Id(i,a,0,null):(o.childLanes=0,o.pendingProps=i),e=Fd(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Il(r),t.memoizedState=Fl,e):zl(t,i));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,a,s,o){if(r)return 256&t.flags?(t.flags&=-257,Vl(e,t,o,n=hl(Error(ie(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Id({mode:"visible",children:n.children},a,0,null),(s=Fd(s,a,o,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,1&t.mode&&ko(t,e.child,null,o),t.child.memoizedState=Il(o),t.memoizedState=Fl,s);if(!(1&t.mode))return Vl(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var i=n.dgst;return n=i,Vl(e,t,o,n=hl(s=Error(ie(419)),n,void 0))}if(i=0!==(o&e.childLanes),wl||i){if(null!==(n=Rc)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Fo(e,a),ad(n,e,a,-1))}return vd(),Vl(e,t,o,n=hl(Error(ie(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Pd.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,so=us(a.nextSibling),ao=t,oo=!0,io=null,null!==e&&(Js[Ys++]=Xs,Js[Ys++]=Zs,Js[Ys++]=Qs,Xs=e.id,Zs=e.overflow,Qs=t),t=zl(t,n.children),t.flags|=4096,t)}(e,t,i,a,n,s,r);if(o){o=a.fallback,i=t.mode,n=(s=e.child).sibling;var l={mode:"hidden",children:a.children};return 1&i||t.child===s?(a=Ld(s,l)).subtreeFlags=14680064&s.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null),null!==n?o=Ld(n,o):(o=Fd(o,i,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,i=null===(i=e.child.memoizedState)?Il(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Fl,a}return e=(o=e.child).sibling,a=Ld(o,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function zl(e,t){return(t=Id({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vl(e,t,r,n){return null!==n&&vo(n),ko(t,e.child,null,r),(e=zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ro(e.return,t,r)}function Bl(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function ql(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(jl(e,t,n.children,r),2&(n=ri.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,r,t);else if(19===e.tag)Ul(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Es(ri,n),1&t.mode)switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ni(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Bl(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ni(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bl(t,!0,r,null,s);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Wl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ic|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ie(153));if(null!==t.child){for(r=Ld(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ld(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Gl(e,t){if(!oo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Jl(e,t,r){var n=t.pendingProps;switch(no(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kl(t),null;case 1:case 17:return Ds(t.type)&&Ls(),Kl(t),null;case 3:return n=t.stateNode,Zo(),Cs(Rs),Cs(Ts),si(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(mo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==io&&(ld(io),io=null))),Dl(e,t),Kl(t),null;case 5:ti(t);var a=Qo(Yo.current);if(r=t.type,null!==e&&null!=t.stateNode)Ll(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(ie(166));return Kl(t),null}if(e=Qo(Ko.current),mo(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ms]=t,n[fs]=s,e=!!(1&t.mode),r){case"dialog":Va("cancel",n),Va("close",n);break;case"iframe":case"object":case"embed":Va("load",n);break;case"video":case"audio":for(a=0;a<Fa.length;a++)Va(Fa[a],n);break;case"source":Va("error",n);break;case"img":case"image":case"link":Va("error",n),Va("load",n);break;case"details":Va("toggle",n);break;case"input":Xe(n,s),Va("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Va("invalid",n);break;case"textarea":ot(n,s),Va("invalid",n)}for(var o in bt(r,s),a=null,s)if(s.hasOwnProperty(o)){var i=s[o];"children"===o?"string"==typeof i?n.textContent!==i&&(!0!==s.suppressHydrationWarning&&es(n.textContent,i,e),a=["children",i]):"number"==typeof i&&n.textContent!==""+i&&(!0!==s.suppressHydrationWarning&&es(n.textContent,i,e),a=["children",""+i]):ce.hasOwnProperty(o)&&null!=i&&"onScroll"===o&&Va("scroll",n)}switch(r){case"input":Ke(n),tt(n,s,!0);break;case"textarea":Ke(n),lt(n);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(n.onclick=ts)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ct(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),"select"===r&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ms]=t,e[fs]=n,Ol(e,t,!1,!1),t.stateNode=e;e:{switch(o=wt(r,n),r){case"dialog":Va("cancel",e),Va("close",e),a=n;break;case"iframe":case"object":case"embed":Va("load",e),a=n;break;case"video":case"audio":for(a=0;a<Fa.length;a++)Va(Fa[a],e);a=n;break;case"source":Va("error",e),a=n;break;case"img":case"image":case"link":Va("error",e),Va("load",e),a=n;break;case"details":Va("toggle",e),a=n;break;case"input":Xe(e,n),a=Qe(e,n),Va("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=$e({},n,{value:void 0}),Va("invalid",e);break;case"textarea":ot(e,n),a=st(e,n),Va("invalid",e)}for(s in bt(r,a),i=a)if(i.hasOwnProperty(s)){var l=i[s];"style"===s?xt(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&pt(e,l):"children"===s?"string"==typeof l?("textarea"!==r||""!==l)&&mt(e,l):"number"==typeof l&&mt(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(ce.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Va("scroll",e):null!=l&&we(e,s,l,o))}switch(r){case"input":Ke(e),tt(e,n,!1);break;case"textarea":Ke(e),lt(e);break;case"option":null!=n.value&&e.setAttribute("value",""+He(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?at(e,!!n.multiple,s,!1):null!=n.defaultValue&&at(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=ts)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Kl(t),null;case 6:if(e&&null!=t.stateNode)Ml(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(ie(166));if(r=Qo(Yo.current),Qo(Ko.current),mo(t)){if(n=t.stateNode,r=t.memoizedProps,n[ms]=t,(s=n.nodeValue!==r)&&null!==(e=ao))switch(e.tag){case 3:es(n.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&es(n.nodeValue,r,!!(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ms]=t,t.stateNode=n}return Kl(t),null;case 13:if(Cs(ri),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(oo&&null!==so&&1&t.mode&&!(128&t.flags))fo(),go(),t.flags|=98560,s=!1;else if(s=mo(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(ie(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(ie(317));s[ms]=t}else go(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kl(t),s=!1}else null!==io&&(ld(io),io=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ri.current?0===Mc&&(Mc=3):vd())),null!==t.updateQueue&&(t.flags|=4),Kl(t),null);case 4:return Zo(),Dl(e,t),null===e&&qa(t.stateNode.containerInfo),Kl(t),null;case 10:return To(t.type._context),Kl(t),null;case 19:if(Cs(ri),null===(s=t.memoizedState))return Kl(t),null;if(n=!!(128&t.flags),null===(o=s.rendering))if(n)Gl(s,!1);else{if(0!==Mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=ni(e))){for(t.flags|=128,Gl(s,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Es(ri,1&ri.current|2),t.child}e=e.sibling}null!==s.tail&&Zt()>qc&&(t.flags|=128,n=!0,Gl(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ni(o))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Gl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!oo)return Kl(t),null}else 2*Zt()-s.renderingStartTime>qc&&1073741824!==r&&(t.flags|=128,n=!0,Gl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=s.last)?r.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Zt(),t.sibling=null,r=ri.current,Es(ri,n?1&r|2:1&r),t):(Kl(t),null);case 22:case 23:return pd(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&1&t.mode?!!(1073741824&Dc)&&(Kl(t),6&t.subtreeFlags&&(t.flags|=8192)):Kl(t),null;case 24:case 25:return null}throw Error(ie(156,t.tag))}function Yl(e,t){switch(no(t),t.tag){case 1:return Ds(t.type)&&Ls(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Cs(Rs),Cs(Ts),si(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ti(t),null;case 13:if(Cs(ri),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ie(340));go()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cs(ri),null;case 4:return Zo(),null;case 10:return To(t.type._context),null;case 22:case 23:return pd(),null;default:return null}}Ol=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Dl=function(){},Ll=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Qo(Ko.current);var s,o=null;switch(r){case"input":a=Qe(e,a),n=Qe(e,n),o=[];break;case"select":a=$e({},a,{value:void 0}),n=$e({},n,{value:void 0}),o=[];break;case"textarea":a=st(e,a),n=st(e,n),o=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(e.onclick=ts)}for(c in bt(r,n),r=null,a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var i=a[c];for(s in i)i.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(ce.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(i=null!=a?a[c]:void 0,n.hasOwnProperty(c)&&l!==i&&(null!=l||null!=i))if("style"===c)if(i){for(s in i)!i.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&i[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(c,r)),r=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,i=i?i.__html:void 0,null!=l&&i!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(ce.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Va("scroll",e),o||i===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ml=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ql=!1,Xl=!1,Zl="function"==typeof WeakSet?WeakSet:Set,ec=null;function tc(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(n){Sd(e,t,n)}else r.current=null}function rc(e,t,r){try{r()}catch(n){Sd(e,t,n)}}var nc=!1;function ac(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&rc(t,r,s)}a=a.next}while(a!==n)}}function sc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function oc(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ms],delete t[fs],delete t[vs],delete t[xs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function dc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=ts));else if(4!==n&&null!==(e=e.child))for(dc(e,t,r),e=e.sibling;null!==e;)dc(e,t,r),e=e.sibling}function uc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(uc(e,t,r),e=e.sibling;null!==e;)uc(e,t,r),e=e.sibling}var hc=null,pc=!1;function mc(e,t,r){for(r=r.child;null!==r;)fc(e,t,r),r=r.sibling}function fc(e,t,r){if(ir&&"function"==typeof ir.onCommitFiberUnmount)try{ir.onCommitFiberUnmount(or,r)}catch(i){}switch(r.tag){case 5:Xl||tc(r,t);case 6:var n=hc,a=pc;hc=null,mc(e,t,r),pc=a,null!==(hc=n)&&(pc?(e=hc,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):hc.removeChild(r.stateNode));break;case 18:null!==hc&&(pc?(e=hc,r=r.stateNode,8===e.nodeType?ds(e.parentNode,r):1===e.nodeType&&ds(e,r),qr(e)):ds(hc,r.stateNode));break;case 4:n=hc,a=pc,hc=r.stateNode.containerInfo,pc=!0,mc(e,t,r),hc=n,pc=a;break;case 0:case 11:case 14:case 15:if(!Xl&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(2&s||4&s)&&rc(r,t,o),a=a.next}while(a!==n)}mc(e,t,r);break;case 1:if(!Xl&&(tc(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){Sd(r,t,i)}mc(e,t,r);break;case 21:mc(e,t,r);break;case 22:1&r.mode?(Xl=(n=Xl)||null!==r.memoizedState,mc(e,t,r),Xl=n):mc(e,t,r);break;default:mc(e,t,r)}}function gc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Zl),t.forEach(function(t){var n=Td.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function vc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 5:hc=i.stateNode,pc=!1;break e;case 3:case 4:hc=i.stateNode.containerInfo,pc=!0;break e}i=i.return}if(null===hc)throw Error(ie(160));fc(s,o,a),hc=null,pc=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(c){Sd(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xc(t,e),t=t.sibling}function xc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vc(t,e),yc(e),4&n){try{ac(3,e,e.return),sc(3,e)}catch(f){Sd(e,e.return,f)}try{ac(5,e,e.return)}catch(f){Sd(e,e.return,f)}}break;case 1:vc(t,e),yc(e),512&n&&null!==r&&tc(r,r.return);break;case 5:if(vc(t,e),yc(e),512&n&&null!==r&&tc(r,r.return),32&e.flags){var a=e.stateNode;try{mt(a,"")}catch(f){Sd(e,e.return,f)}}if(4&n&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==r?r.memoizedProps:s,i=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===i&&"radio"===s.type&&null!=s.name&&Ze(a,s),wt(i,o);var c=wt(i,s);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];"style"===d?xt(a,u):"dangerouslySetInnerHTML"===d?pt(a,u):"children"===d?mt(a,u):we(a,d,u,c)}switch(i){case"input":et(a,s);break;case"textarea":it(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?at(a,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?at(a,!!s.multiple,s.defaultValue,!0):at(a,!!s.multiple,s.multiple?[]:"",!1))}a[fs]=s}catch(f){Sd(e,e.return,f)}}break;case 6:if(vc(t,e),yc(e),4&n){if(null===e.stateNode)throw Error(ie(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(f){Sd(e,e.return,f)}}break;case 3:if(vc(t,e),yc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(f){Sd(e,e.return,f)}break;case 4:default:vc(t,e),yc(e);break;case 13:vc(t,e),yc(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Bc=Zt())),4&n&&gc(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Xl=(c=Xl)||d,vc(t,e),Xl=c):vc(t,e),yc(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(ec=e,d=e.child;null!==d;){for(u=ec=d;null!==ec;){switch(p=(h=ec).child,h.tag){case 0:case 11:case 14:case 15:ac(4,h,h.return);break;case 1:tc(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(f){Sd(n,r,f)}}break;case 5:tc(h,h.return);break;case 22:if(null!==h.memoizedState){kc(u);continue}}null!==p?(p.return=h,ec=p):kc(u)}d=d.sibling}e:for(d=null,u=e;;){if(5===u.tag){if(null===d){d=u;try{a=u.stateNode,c?"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(i=u.stateNode,o=null!=(l=u.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,i.style.display=vt("display",o))}catch(f){Sd(e,e.return,f)}}}else if(6===u.tag){if(null===d)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(f){Sd(e,e.return,f)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:vc(t,e),yc(e),4&n&&gc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(lc(r)){var n=r;break e}r=r.return}throw Error(ie(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(mt(a,""),n.flags&=-33),uc(e,cc(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;dc(e,cc(e),s);break;default:throw Error(ie(161))}}catch(o){Sd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,r){ec=e,wc(e)}function wc(e,t,r){for(var n=!!(1&e.mode);null!==ec;){var a=ec,s=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||Ql;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Xl;i=Ql;var c=Xl;if(Ql=o,(Xl=l)&&!c)for(ec=a;null!==ec;)l=(o=ec).child,22===o.tag&&null!==o.memoizedState?_c(a):null!==l?(l.return=o,ec=l):_c(a);for(;null!==s;)ec=s,wc(s),s=s.sibling;ec=a,Ql=i,Xl=c}jc(e)}else 8772&a.subtreeFlags&&null!==s?(s.return=a,ec=s):jc(e)}}function jc(e){for(;null!==ec;){var t=ec;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xl||sc(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xl)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:al(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ho(t,o,r)}break;case 5:var i=t.stateNode;if(null===r&&4&t.flags){r=i;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var u=d.dehydrated;null!==u&&qr(u)}}}break;default:throw Error(ie(163))}Xl||512&t.flags&&oc(t)}catch(h){Sd(t,t.return,h)}}if(t===e){ec=null;break}if(null!==(r=t.sibling)){r.return=t.return,ec=r;break}ec=t.return}}function kc(e){for(;null!==ec;){var t=ec;if(t===e){ec=null;break}var r=t.sibling;if(null!==r){r.return=t.return,ec=r;break}ec=t.return}}function _c(e){for(;null!==ec;){var t=ec;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sc(4,t)}catch(l){Sd(t,r,l)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Sd(t,a,l)}}var s=t.return;try{oc(t)}catch(l){Sd(t,s,l)}break;case 5:var o=t.return;try{oc(t)}catch(l){Sd(t,o,l)}}}catch(l){Sd(t,t.return,l)}if(t===e){ec=null;break}var i=t.sibling;if(null!==i){i.return=t.return,ec=i;break}ec=t.return}}var Nc,Sc=Math.ceil,Cc=je.ReactCurrentDispatcher,Ec=je.ReactCurrentOwner,Pc=je.ReactCurrentBatchConfig,Tc=0,Rc=null,Ac=null,Oc=0,Dc=0,Lc=Ss(0),Mc=0,Fc=null,Ic=0,$c=0,zc=0,Vc=null,Uc=null,Bc=0,qc=1/0,Wc=null,Hc=!1,Gc=null,Kc=null,Jc=!1,Yc=null,Qc=0,Xc=0,Zc=null,ed=-1,td=0;function rd(){return 6&Tc?Zt():-1!==ed?ed:ed=Zt()}function nd(e){return 1&e.mode?2&Tc&&0!==Oc?Oc&-Oc:null!==xo.transition?(0===td&&(td=vr()),td):0!==(e=wr)?e:e=void 0===(e=window.event)?16:Xr(e.type):1}function ad(e,t,r,n){if(50<Xc)throw Xc=0,Zc=null,Error(ie(185));yr(e,r,n),2&Tc&&e===Rc||(e===Rc&&(!(2&Tc)&&($c|=r),4===Mc&&cd(e,Oc)),sd(e,n),1===r&&0===Tc&&!(1&t.mode)&&(qc=Zt()+500,Vs&&qs()))}function sd(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-lr(s),i=1<<o,l=a[o];-1===l?0!==(i&r)&&0===(i&n)||(a[o]=fr(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=mr(e,e===Rc?Oc:0);if(0===n)null!==r&&Yt(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Yt(r),1===t)0===e.tag?function(e){Vs=!0,Bs(e)}(dd.bind(null,e)):Bs(dd.bind(null,e)),ls(function(){!(6&Tc)&&qs()}),r=null;else{switch(jr(n)){case 1:r=tr;break;case 4:r=rr;break;case 16:default:r=nr;break;case 536870912:r=sr}r=Rd(r,od.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function od(e,t){if(ed=-1,td=0,6&Tc)throw Error(ie(327));var r=e.callbackNode;if(_d()&&e.callbackNode!==r)return null;var n=mr(e,e===Rc?Oc:0);if(0===n)return null;if(30&n||0!==(n&e.expiredLanes)||t)t=xd(e,n);else{t=n;var a=Tc;Tc|=2;var s=gd();for(Rc===e&&Oc===t||(Wc=null,qc=Zt()+500,md(e,t));;)try{bd();break}catch(i){fd(e,i)}Po(),Cc.current=s,Tc=a,null!==Ac?t=0:(Rc=null,Oc=0,t=Mc)}if(0!==t){if(2===t&&(0!==(a=gr(e))&&(n=a,t=id(e,a))),1===t)throw r=Fc,md(e,0),cd(e,n),sd(e,Zt()),r;if(6===t)cd(e,n);else{if(a=e.current.alternate,!(30&n||function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ca(s(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=xd(e,n),2===t&&(s=gr(e),0!==s&&(n=s,t=id(e,s))),1!==t)))throw r=Fc,md(e,0),cd(e,n),sd(e,Zt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ie(345));case 2:case 5:kd(e,Uc,Wc);break;case 3:if(cd(e,n),(130023424&n)===n&&10<(t=Bc+500-Zt())){if(0!==mr(e,0))break;if(((a=e.suspendedLanes)&n)!==n){rd(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ss(kd.bind(null,e,Uc,Wc),t);break}kd(e,Uc,Wc);break;case 4:if(cd(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-lr(n);s=1<<o,(o=t[o])>a&&(a=o),n&=~s}if(n=a,10<(n=(120>(n=Zt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sc(n/1960))-n)){e.timeoutHandle=ss(kd.bind(null,e,Uc,Wc),n);break}kd(e,Uc,Wc);break;default:throw Error(ie(329))}}}return sd(e,Zt()),e.callbackNode===r?od.bind(null,e):null}function id(e,t){var r=Vc;return e.current.memoizedState.isDehydrated&&(md(e,t).flags|=256),2!==(e=xd(e,t))&&(t=Uc,Uc=r,null!==t&&ld(t)),e}function ld(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function cd(e,t){for(t&=~zc,t&=~$c,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lr(t),n=1<<r;e[r]=-1,t&=~n}}function dd(e){if(6&Tc)throw Error(ie(327));_d();var t=mr(e,0);if(!(1&t))return sd(e,Zt()),null;var r=xd(e,t);if(0!==e.tag&&2===r){var n=gr(e);0!==n&&(t=n,r=id(e,n))}if(1===r)throw r=Fc,md(e,0),cd(e,t),sd(e,Zt()),r;if(6===r)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kd(e,Uc,Wc),sd(e,Zt()),null}function ud(e,t){var r=Tc;Tc|=1;try{return e(t)}finally{0===(Tc=r)&&(qc=Zt()+500,Vs&&qs())}}function hd(e){null!==Yc&&0===Yc.tag&&!(6&Tc)&&_d();var t=Tc;Tc|=1;var r=Pc.transition,n=wr;try{if(Pc.transition=null,wr=1,e)return e()}finally{wr=n,Pc.transition=r,!(6&(Tc=t))&&qs()}}function pd(){Dc=Lc.current,Cs(Lc)}function md(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,os(r)),null!==Ac)for(r=Ac.return;null!==r;){var n=r;switch(no(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Ls();break;case 3:Zo(),Cs(Rs),Cs(Ts),si();break;case 5:ti(n);break;case 4:Zo();break;case 13:case 19:Cs(ri);break;case 10:To(n.type._context);break;case 22:case 23:pd()}r=r.return}if(Rc=e,Ac=e=Ld(e.current,null),Oc=Dc=t,Mc=0,Fc=null,zc=$c=Ic=0,Uc=Vc=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(n=(r=Do[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=a,n.next=o}r.pending=n}Do=null}return e}function fd(e,t){for(;;){var r=Ac;try{if(Po(),oi.current=el,hi){for(var n=ci.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}hi=!1}if(li=0,ui=di=ci=null,pi=!1,mi=0,Ec.current=null,null===r||null===r.return){Mc=1,Fc=t,Ac=null;break}e:{var s=e,o=r.return,i=r,l=t;if(t=Oc,i.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,d=i,u=d.tag;if(!(1&d.mode||0!==u&&11!==u&&15!==u)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=xl(o);if(null!==p){p.flags&=-257,yl(p,o,i,0,t),1&p.mode&&vl(s,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var f=new Set;f.add(l),t.updateQueue=f}else m.add(l);break e}if(!(1&t)){vl(s,c,t),vd();break e}l=Error(ie(426))}else if(oo&&1&i.mode){var g=xl(o);if(null!==g){!(65536&g.flags)&&(g.flags|=256),yl(g,o,i,0,t),vo(ul(l,i));break e}}s=l=ul(l,i),4!==Mc&&(Mc=2),null===Vc?Vc=[s]:Vc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,qo(s,fl(0,l,t));break e;case 1:i=l;var v=s.type,x=s.stateNode;if(!(128&s.flags||"function"!=typeof v.getDerivedStateFromError&&(null===x||"function"!=typeof x.componentDidCatch||null!==Kc&&Kc.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t,qo(s,gl(s,i,t));break e}}s=s.return}while(null!==s)}jd(r)}catch(y){t=y,Ac===r&&null!==r&&(Ac=r=r.return);continue}break}}function gd(){var e=Cc.current;return Cc.current=el,null===e?el:e}function vd(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===Rc||!(268435455&Ic)&&!(268435455&$c)||cd(Rc,Oc)}function xd(e,t){var r=Tc;Tc|=2;var n=gd();for(Rc===e&&Oc===t||(Wc=null,md(e,t));;)try{yd();break}catch(a){fd(e,a)}if(Po(),Tc=r,Cc.current=n,null!==Ac)throw Error(ie(261));return Rc=null,Oc=0,Mc}function yd(){for(;null!==Ac;)wd(Ac)}function bd(){for(;null!==Ac&&!Qt();)wd(Ac)}function wd(e){var t=Nc(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?jd(e):Ac=t,Ec.current=null}function jd(e){var t=e;do{var r=t.alternate;if(e=t.return,32768&t.flags){if(null!==(r=Yl(r,t)))return r.flags&=32767,void(Ac=r);if(null===e)return Mc=6,void(Ac=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(r=Jl(r,t,Dc)))return void(Ac=r);if(null!==(t=t.sibling))return void(Ac=t);Ac=t=e}while(null!==t);0===Mc&&(Mc=5)}function kd(e,t,r){var n=wr,a=Pc.transition;try{Pc.transition=null,wr=1,function(e,t,r,n){do{_d()}while(null!==Yc);if(6&Tc)throw Error(ie(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-lr(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,s),e===Rc&&(Ac=Rc=null,Oc=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Jc||(Jc=!0,Rd(nr,function(){return _d(),null})),s=!!(15990&r.flags),!!(15990&r.subtreeFlags)||s){s=Pc.transition,Pc.transition=null;var o=wr;wr=1;var i=Tc;Tc|=4,Ec.current=null,function(e,t){if(rs=Hr,fa(e=ma())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(b){r=null;break e}var o=0,i=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var p;u!==r||0!==a&&3!==u.nodeType||(i=o+a),u!==s||0!==n&&3!==u.nodeType||(l=o+n),3===u.nodeType&&(o+=u.nodeValue.length),null!==(p=u.firstChild);)h=u,u=p;for(;;){if(u===e)break t;if(h===r&&++c===a&&(i=o),h===s&&++d===n&&(l=o),null!==(p=u.nextSibling))break;h=(u=h).parentNode}u=p}r=-1===i||-1===l?null:{start:i,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ns={focusedElem:e,selectionRange:r},Hr=!1,ec=t;null!==ec;)if(e=(t=ec).child,1028&t.subtreeFlags&&null!==e)e.return=t,ec=e;else for(;null!==ec;){t=ec;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var f=m.memoizedProps,g=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?f:al(t.type,f),g);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(ie(163))}}catch(b){Sd(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,ec=e;break}ec=t.return}m=nc,nc=!1}(e,r),xc(r,e),ga(ns),Hr=!!rs,ns=rs=null,e.current=r,bc(r),Xt(),Tc=i,wr=o,Pc.transition=s}else e.current=r;if(Jc&&(Jc=!1,Yc=e,Qc=a),s=e.pendingLanes,0===s&&(Kc=null),function(e){if(ir&&"function"==typeof ir.onCommitFiberRoot)try{ir.onCommitFiberRoot(or,e,void 0,!(128&~e.current.flags))}catch(t){}}(r.stateNode),sd(e,Zt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hc)throw Hc=!1,e=Gc,Gc=null,e;!!(1&Qc)&&0!==e.tag&&_d(),s=e.pendingLanes,1&s?e===Zc?Xc++:(Xc=0,Zc=e):Xc=0,qs()}(e,t,r,n)}finally{Pc.transition=a,wr=n}return null}function _d(){if(null!==Yc){var e=jr(Qc),t=Pc.transition,r=wr;try{if(Pc.transition=null,wr=16>e?16:e,null===Yc)var n=!1;else{if(e=Yc,Yc=null,Qc=0,6&Tc)throw Error(ie(331));var a=Tc;for(Tc|=4,ec=e.current;null!==ec;){var s=ec,o=s.child;if(16&ec.flags){var i=s.deletions;if(null!==i){for(var l=0;l<i.length;l++){var c=i[l];for(ec=c;null!==ec;){var d=ec;switch(d.tag){case 0:case 11:case 15:ac(8,d,s)}var u=d.child;if(null!==u)u.return=d,ec=u;else for(;null!==ec;){var h=(d=ec).sibling,p=d.return;if(ic(d),d===c){ec=null;break}if(null!==h){h.return=p,ec=h;break}ec=p}}}var m=s.alternate;if(null!==m){var f=m.child;if(null!==f){m.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}ec=s}}if(2064&s.subtreeFlags&&null!==o)o.return=s,ec=o;else e:for(;null!==ec;){if(2048&(s=ec).flags)switch(s.tag){case 0:case 11:case 15:ac(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,ec=v;break e}ec=s.return}}var x=e.current;for(ec=x;null!==ec;){var y=(o=ec).child;if(2064&o.subtreeFlags&&null!==y)y.return=o,ec=y;else e:for(o=x;null!==ec;){if(2048&(i=ec).flags)try{switch(i.tag){case 0:case 11:case 15:sc(9,i)}}catch(w){Sd(i,i.return,w)}if(i===o){ec=null;break e}var b=i.sibling;if(null!==b){b.return=i.return,ec=b;break e}ec=i.return}}if(Tc=a,qs(),ir&&"function"==typeof ir.onPostCommitFiberRoot)try{ir.onPostCommitFiberRoot(or,e)}catch(w){}n=!0}return n}finally{wr=r,Pc.transition=t}}return!1}function Nd(e,t,r){e=Uo(e,t=fl(0,t=ul(r,t),1),1),t=rd(),null!==e&&(yr(e,1,t),sd(e,t))}function Sd(e,t,r){if(3===e.tag)Nd(e,e,r);else for(;null!==t;){if(3===t.tag){Nd(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Kc||!Kc.has(n))){t=Uo(t,e=gl(t,e=ul(r,e),1),1),e=rd(),null!==t&&(yr(t,1,e),sd(t,e));break}}t=t.return}}function Cd(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=rd(),e.pingedLanes|=e.suspendedLanes&r,Rc===e&&(Oc&r)===r&&(4===Mc||3===Mc&&(130023424&Oc)===Oc&&500>Zt()-Bc?md(e,0):zc|=r),sd(e,t)}function Ed(e,t){0===t&&(1&e.mode?(t=hr,!(130023424&(hr<<=1))&&(hr=4194304)):t=1);var r=rd();null!==(e=Fo(e,t))&&(yr(e,t,r),sd(e,r))}function Pd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ed(e,r)}function Td(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ie(314))}null!==n&&n.delete(t),Ed(e,r)}function Rd(e,t){return Jt(e,t)}function Ad(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Od(e,t,r,n){return new Ad(e,t,r,n)}function Dd(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ld(e,t){var r=e.alternate;return null===r?((r=Od(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Md(e,t,r,n,a,s){var o=2;if(n=e,"function"==typeof e)Dd(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case Ne:return Fd(r.children,a,s,t);case Se:o=8,a|=8;break;case Ce:return(e=Od(12,r,t,2|a)).elementType=Ce,e.lanes=s,e;case Re:return(e=Od(13,r,t,a)).elementType=Re,e.lanes=s,e;case Ae:return(e=Od(19,r,t,a)).elementType=Ae,e.lanes=s,e;case Le:return Id(r,a,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ee:o=10;break e;case Pe:o=9;break e;case Te:o=11;break e;case Oe:o=14;break e;case De:o=16,n=null;break e}throw Error(ie(130,null==e?e:typeof e,""))}return(t=Od(o,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function Fd(e,t,r,n){return(e=Od(7,e,n,t)).lanes=r,e}function Id(e,t,r,n){return(e=Od(22,e,n,t)).elementType=Le,e.lanes=r,e.stateNode={isHidden:!1},e}function $d(e,t,r){return(e=Od(6,e,null,t)).lanes=r,e}function zd(e,t,r){return(t=Od(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vd(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xr(0),this.expirationTimes=xr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ud(e,t,r,n,a,s,o,i,l){return e=new Vd(e,t,r,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Od(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$o(s),e}function Bd(e){if(!e)return Ps;e:{if(qt(e=e._reactInternals)!==e||1!==e.tag)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(ie(171))}if(1===e.tag){var r=e.type;if(Ds(r))return Fs(e,r,t)}return t}function qd(e,t,r,n,a,s,o,i,l){return(e=Ud(r,n,!0,e,0,s,0,i,l)).context=Bd(null),r=e.current,(s=Vo(n=rd(),a=nd(r))).callback=null!=t?t:null,Uo(r,s,a),e.current.lanes=a,yr(e,a,n),sd(e,n),e}function Wd(e,t,r,n){var a=t.current,s=rd(),o=nd(a);return r=Bd(r),null===t.context?t.context=r:t.pendingContext=r,(t=Vo(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Uo(a,t,o))&&(ad(e,a,o,s),Bo(e,a,o)),o}function Hd(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Kd(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}Nc=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Rs.current)wl=!0;else{if(0===(e.lanes&r)&&!(128&t.flags))return wl=!1,function(e,t,r){switch(t.tag){case 3:Rl(t),go();break;case 5:ei(t);break;case 1:Ds(t.type)&&Is(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Es(No,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Es(ri,1&ri.current),t.flags|=128,null):0!==(r&t.child.childLanes)?$l(e,t,r):(Es(ri,1&ri.current),null!==(e=Hl(e,t,r))?e.sibling:null);Es(ri,1&ri.current);break;case 19:if(n=0!==(r&t.childLanes),128&e.flags){if(n)return ql(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Es(ri,ri.current),n)break;return null;case 22:case 23:return t.lanes=0,Sl(e,t,r)}return Hl(e,t,r)}(e,t,r);wl=!!(131072&e.flags)}else wl=!1,oo&&1048576&t.flags&&to(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wl(e,t),e=t.pendingProps;var a=Os(t,Ts.current);Ao(t,r),a=xi(null,t,n,e,a,r);var s=yi();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ds(n)?(s=!0,Is(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,$o(t),a.updater=ol,t.stateNode=a,a._reactInternals=t,dl(t,n,e,r),t=Tl(null,t,n,!0,s,r)):(t.tag=0,oo&&s&&ro(t),jl(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"==typeof e)return Dd(e)?1:0;if(null!=e){if((e=e.$$typeof)===Te)return 11;if(e===Oe)return 14}return 2}(n),e=al(n,e),a){case 0:t=El(null,t,n,e,r);break e;case 1:t=Pl(null,t,n,e,r);break e;case 11:t=kl(null,t,n,e,r);break e;case 14:t=_l(null,t,n,al(n.type,e),r);break e}throw Error(ie(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,El(e,t,n,a=t.elementType===n?a:al(n,a),r);case 1:return n=t.type,a=t.pendingProps,Pl(e,t,n,a=t.elementType===n?a:al(n,a),r);case 3:e:{if(Rl(t),null===e)throw Error(ie(387));n=t.pendingProps,a=(s=t.memoizedState).element,zo(e,t),Wo(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Al(e,t,n,r,a=ul(Error(ie(423)),t));break e}if(n!==a){t=Al(e,t,n,r,a=ul(Error(ie(424)),t));break e}for(so=us(t.stateNode.containerInfo.firstChild),ao=t,oo=!0,io=null,r=_o(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(go(),n===a){t=Hl(e,t,r);break e}jl(e,t,n,r)}t=t.child}return t;case 5:return ei(t),null===e&&ho(t),n=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,as(n,a)?o=null:null!==s&&as(n,s)&&(t.flags|=32),Cl(e,t),jl(e,t,o,r),t.child;case 6:return null===e&&ho(t),null;case 13:return $l(e,t,r);case 4:return Xo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ko(t,null,n,r):jl(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,kl(e,t,n,a=t.elementType===n?a:al(n,a),r);case 7:return jl(e,t,t.pendingProps,r),t.child;case 8:case 12:return jl(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Es(No,n._currentValue),n._currentValue=o,null!==s)if(ca(s.value,o)){if(s.children===a.children&&!Rs.current){t=Hl(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var i=s.dependencies;if(null!==i){o=s.child;for(var l=i.firstContext;null!==l;){if(l.context===n){if(1===s.tag){(l=Vo(-1,r&-r)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Ro(s.return,r,t),i.lanes|=r;break}l=l.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(ie(341));o.lanes|=r,null!==(i=o.alternate)&&(i.lanes|=r),Ro(o,r,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}jl(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ao(t,r),n=n(a=Oo(a)),t.flags|=1,jl(e,t,n,r),t.child;case 14:return a=al(n=t.type,t.pendingProps),_l(e,t,n,a=al(n.type,a),r);case 15:return Nl(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:al(n,a),Wl(e,t),t.tag=1,Ds(n)?(e=!0,Is(t)):e=!1,Ao(t,r),ll(t,n,a),dl(t,n,a,r),Tl(null,t,n,!0,e,r);case 19:return ql(e,t,r);case 22:return Sl(e,t,r)}throw Error(ie(156,t.tag))};var Jd="function"==typeof reportError?reportError:function(e){console.error(e)};function Yd(e){this._internalRoot=e}function Qd(e){this._internalRoot=e}function Xd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if("function"==typeof a){var i=a;a=function(){var e=Hd(o);i.call(e)}}Wd(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"==typeof n){var s=n;n=function(){var e=Hd(o);s.call(e)}}var o=qd(t,n,e,0,null,!1,0,"",eu);return e._reactRootContainer=o,e[gs]=o.current,qa(8===e.nodeType?e.parentNode:e),hd(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof n){var i=n;n=function(){var e=Hd(l);i.call(e)}}var l=Ud(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[gs]=l.current,qa(8===e.nodeType?e.parentNode:e),hd(function(){Wd(t,l,r,n)}),l}(r,t,e,a,n);return Hd(o)}Qd.prototype.render=Yd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ie(409));Wd(e,t,null,null)},Qd.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hd(function(){Wd(null,e,null,null)}),t[gs]=null}},Qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sr();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lr.length&&0!==t&&t<Lr[r].priority;r++);Lr.splice(r,0,e),0===r&&$r(e)}},kr=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=pr(t.pendingLanes);0!==r&&(br(t,1|r),sd(t,Zt()),!(6&Tc)&&(qc=Zt()+500,qs()))}break;case 13:hd(function(){var t=Fo(e,1);if(null!==t){var r=rd();ad(t,e,1,r)}}),Kd(e,1)}},_r=function(e){if(13===e.tag){var t=Fo(e,134217728);if(null!==t)ad(t,e,134217728,rd());Kd(e,134217728)}},Nr=function(e){if(13===e.tag){var t=nd(e),r=Fo(e,t);if(null!==r)ad(r,e,t,rd());Kd(e,t)}},Sr=function(){return wr},Cr=function(e,t){var r=wr;try{return wr=e,t()}finally{wr=r}},_t=function(e,t,r){switch(t){case"input":if(et(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ks(n);if(!a)throw Error(ie(90));Je(n),et(n,a)}}}break;case"textarea":it(e,r);break;case"select":null!=(t=r.value)&&at(e,!!r.multiple,t,!1)}},Tt=ud,Rt=hd;var ru={usingClientEntryPoint:!1,Events:[ws,js,ks,Et,Pt,ud]},nu={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},au={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:je.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Gt(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{or=su.inject(au),ir=su}catch(ht){}}te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ru,te.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xd(t))throw Error(ie(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_e,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},te.createRoot=function(e,t){if(!Xd(e))throw Error(ie(299));var r=!1,n="",a=Jd;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Ud(e,1,!1,null,0,r,0,n,a),e[gs]=t.current,qa(8===e.nodeType?e.parentNode:e),new Yd(t)},te.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(ie(188));throw e=Object.keys(e).join(","),Error(ie(268,e))}return e=null===(e=Gt(t))?null:e.stateNode},te.flushSync=function(e){return hd(e)},te.hydrate=function(e,t,r){if(!Zd(t))throw Error(ie(200));return tu(null,e,t,!0,r)},te.hydrateRoot=function(e,t,r){if(!Xd(e))throw Error(ie(405));var n=null!=r&&r.hydratedSources||null,a=!1,s="",o=Jd;if(null!=r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=qd(t,null,e,1,null!=r?r:null,a,0,s,o),e[gs]=t.current,qa(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Qd(t)},te.render=function(e,t,r){if(!Zd(t))throw Error(ie(200));return tu(null,e,t,!1,r)},te.unmountComponentAtNode=function(e){if(!Zd(e))throw Error(ie(40));return!!e._reactRootContainer&&(hd(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[gs]=null})}),!0)},te.unstable_batchedUpdates=ud,te.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zd(r))throw Error(ie(200));if(null==e||void 0===e._reactInternals)throw Error(ie(38));return tu(e,t,r,!1,n)},te.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),ee.exports=te;var ou=ee.exports;const iu=r(ou);var lu,cu,du=ou;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(this,arguments)}Z.createRoot=du.createRoot,Z.hydrateRoot=du.hydrateRoot,(cu=lu||(lu={})).Pop="POP",cu.Push="PUSH",cu.Replace="REPLACE";const hu="popstate";function pu(e){return void 0===e&&(e={}),function(e,t,r,n){void 0===n&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,i=lu.Pop,l=null,c=d();null==c&&(c=0,o.replaceState(uu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function u(){i=lu.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:i,location:f.location,delta:t})}function h(e,t){i=lu.Push;let n=vu(f.location,e,t);r&&r(n,e),c=d()+1;let u=gu(n,c),h=f.createHref(n);try{o.pushState(u,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(h)}s&&l&&l({action:i,location:f.location,delta:1})}function p(e,t){i=lu.Replace;let n=vu(f.location,e,t);r&&r(n,e),c=d();let a=gu(n,c),u=f.createHref(n);o.replaceState(a,"",u),s&&l&&l({action:i,location:f.location,delta:0})}function m(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"==typeof e?e:xu(e);return r=r.replace(/ $/,"%20"),mu(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}let f={get action(){return i},get location(){return e(a,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(hu,u),l=e,()=>{a.removeEventListener(hu,u),l=null}},createHref:e=>t(a,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>o.go(e)};return f}(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return vu("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:xu(t)},null,e)}function mu(e,t){if(!1===e||null==e)throw new Error(t)}function fu(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function gu(e,t){return{usr:e.state,key:e.key,idx:t}}function vu(e,t,r,n){return void 0===r&&(r=null),uu({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?yu(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function xu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function yu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var bu,wu;function ju(e,t,r){return void 0===r&&(r="/"),function(e,t,r,n){let a="string"==typeof t?yu(t):t,s=Mu(a.pathname||"/",r);if(null==s)return null;let o=ku(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let l=0;null==i&&l<o.length;++l){let e=Lu(s);i=Ou(o[l],e,n)}return i}(e,t,r,!1)}function ku(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(mu(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let i=zu([n,o.relativePath]),l=r.concat(o);e.children&&e.children.length>0&&(mu(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),ku(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:Au(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of _u(e.path))a(e,t,n);else a(e,t)}),t}function _u(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let o=_u(n.join("/")),i=[];return i.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&i.push(...o),i.map(t=>e.startsWith("/")&&""===t?"/":t)}(wu=bu||(bu={})).data="data",wu.deferred="deferred",wu.redirect="redirect",wu.error="error";const Nu=/^:[\w-]+$/,Su=3,Cu=2,Eu=1,Pu=10,Tu=-2,Ru=e=>"*"===e;function Au(e,t){let r=e.split("/"),n=r.length;return r.some(Ru)&&(n+=Tu),t&&(n+=Cu),r.filter(e=>!Ru(e)).reduce((e,t)=>e+(Nu.test(t)?Su:""===t?Eu:Pu),n)}function Ou(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",o=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=Du({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=Du({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:zu([s,d.pathname]),pathnameBase:Vu(zu([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=zu([s,d.pathnameBase]))}return o}function Du(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);fu("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=i[r]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function Lu(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return fu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Mu(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function Fu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Iu(e,t){let r=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function $u(e,t,r,n){let a;void 0===n&&(n=!1),"string"==typeof e?a=yu(e):(a=uu({},e),mu(!a.pathname||!a.pathname.includes("?"),Fu("?","pathname","search",a)),mu(!a.pathname||!a.pathname.includes("#"),Fu("#","pathname","hash",a)),mu(!a.search||!a.search.includes("#"),Fu("#","search","hash",a)));let s,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(null==i)s=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"==typeof e?yu(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:Uu(n),hash:Bu(a)}}(a,s),c=i&&"/"!==i&&i.endsWith("/"),d=(o||"."===i)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const zu=e=>e.join("/").replace(/\/\/+/g,"/"),Vu=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Uu=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Bu=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const qu=["post","put","patch","delete"];new Set(qu);const Wu=["get",...qu];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hu.apply(this,arguments)}new Set(Wu);const Gu=U.createContext(null),Ku=U.createContext(null),Ju=U.createContext(null),Yu=U.createContext(null),Qu=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Xu=U.createContext(null);function Zu(){return null!=U.useContext(Yu)}function eh(){return Zu()||mu(!1),U.useContext(Yu).location}function th(e){U.useContext(Ju).static||U.useLayoutEffect(e)}function rh(){let{isDataRoute:e}=U.useContext(Qu);return e?function(){let{router:e}=function(){let e=U.useContext(Gu);return e||mu(!1),e}(dh.UseNavigateStable),t=hh(uh.UseNavigateStable),r=U.useRef(!1);th(()=>{r.current=!0});let n=U.useCallback(function(n,a){void 0===a&&(a={}),r.current&&("number"==typeof n?e.navigate(n):e.navigate(n,Hu({fromRouteId:t},a)))},[e,t]);return n}():function(){Zu()||mu(!1);let e=U.useContext(Gu),{basename:t,future:r,navigator:n}=U.useContext(Ju),{matches:a}=U.useContext(Qu),{pathname:s}=eh(),o=JSON.stringify(Iu(a,r.v7_relativeSplatPath)),i=U.useRef(!1);th(()=>{i.current=!0});let l=U.useCallback(function(r,a){if(void 0===a&&(a={}),!i.current)return;if("number"==typeof r)return void n.go(r);let l=$u(r,JSON.parse(o),s,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:zu([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[t,n,o,s,e]);return l}()}const nh=U.createContext(null);function ah(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=U.useContext(Ju),{matches:a}=U.useContext(Qu),{pathname:s}=eh(),o=JSON.stringify(Iu(a,n.v7_relativeSplatPath));return U.useMemo(()=>$u(e,JSON.parse(o),s,"path"===r),[e,o,s,r])}function sh(e,t){return function(e,t,r,n){Zu()||mu(!1);let{navigator:a}=U.useContext(Ju),{matches:s}=U.useContext(Qu),o=s[s.length-1],i=o?o.params:{};!o||o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c,d=eh();if(t){var u;let e="string"==typeof t?yu(t):t;"/"===l||(null==(u=e.pathname)?void 0:u.startsWith(l))||mu(!1),c=e}else c=d;let h=c.pathname||"/",p=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=ju(e,{pathname:p}),f=function(e,t,r,n){var a;void 0===t&&(t=[]);void 0===r&&(r=null);void 0===n&&(n=null);if(null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=n)&&s.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,i=null==(a=r)?void 0:a.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));e>=0||mu(!1),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let e=o[d];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=d),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){l=!0,o=c>=0?o.slice(0,c+1):[o[0]];break}}}return o.reduceRight((e,n,a)=>{let s,d=!1,u=null,h=null;var p;r&&(s=i&&n.route.id?i[n.route.id]:void 0,u=n.route.errorElement||ih,l&&(c<0&&0===a?(p="route-fallback",!1||ph[p]||(ph[p]=!0),d=!0,h=null):c===a&&(d=!0,h=n.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),f=()=>{let t;return t=s?u:d?h:n.route.Component?U.createElement(n.route.Component,null):n.route.element?n.route.element:e,U.createElement(ch,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?U.createElement(lh,{location:r.location,revalidation:r.revalidation,component:u,error:s,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},i,e.params),pathname:zu([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:zu([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,r,n);if(t&&f)return U.createElement(Yu.Provider,{value:{location:Hu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:lu.Pop}},f);return f}(e,t)}function oh(){let e=function(){var e;let t=U.useContext(Xu),r=function(){let e=U.useContext(Ku);return e||mu(!1),e}(uh.UseRouteError),n=hh(uh.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),r?U.createElement("pre",{style:n},r):null,null)}const ih=U.createElement(oh,null);class lh extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?U.createElement(Qu.Provider,{value:this.props.routeContext},U.createElement(Xu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ch(e){let{routeContext:t,match:r,children:n}=e,a=U.useContext(Gu);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),U.createElement(Qu.Provider,{value:t},n)}var dh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dh||{}),uh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uh||{});function hh(e){let t=function(){let e=U.useContext(Qu);return e||mu(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||mu(!1),r.route.id}const ph={};function mh(e){let{to:t,replace:r,state:n,relative:a}=e;Zu()||mu(!1);let{future:s,static:o}=U.useContext(Ju),{matches:i}=U.useContext(Qu),{pathname:l}=eh(),c=rh(),d=$u(t,Iu(i,s.v7_relativeSplatPath),l,"path"===a),u=JSON.stringify(d);return U.useEffect(()=>c(JSON.parse(u),{replace:r,state:n,relative:a}),[c,u,a,r,n]),null}function fh(e){return function(e){let t=U.useContext(Qu).outlet;return t?U.createElement(nh.Provider,{value:e},t):t}(e.context)}function gh(e){mu(!1)}function vh(e){let{basename:t="/",children:r=null,location:n,navigationType:a=lu.Pop,navigator:s,static:o=!1,future:i}=e;Zu()&&mu(!1);let l=t.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:s,static:o,future:Hu({v7_relativeSplatPath:!1},i)}),[l,i,s,o]);"string"==typeof n&&(n=yu(n));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:m="default"}=n,f=U.useMemo(()=>{let e=Mu(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:p,key:m},navigationType:a}},[l,d,u,h,p,m,a]);return null==f?null:U.createElement(Ju.Provider,{value:c},U.createElement(Yu.Provider,{children:r,value:f}))}function xh(e){let{children:t,location:r}=e;return sh(yh(t),r)}function yh(e,t){void 0===t&&(t=[]);let r=[];return U.Children.forEach(e,(e,n)=>{if(!U.isValidElement(e))return;let a=[...t,n];if(e.type===U.Fragment)return void r.push.apply(r,yh(e.props.children,a));e.type!==gh&&mu(!1),e.props.index&&e.props.children&&mu(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=yh(e.props.children,a)),r.push(s)}),r}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(this,arguments)}new Promise(()=>{});const wh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(QL){}const jh=q.startTransition;function kh(e){let{basename:t,children:r,future:n,window:a}=e,s=U.useRef();null==s.current&&(s.current=pu({window:a,v5Compat:!0}));let o=s.current,[i,l]=U.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=U.useCallback(e=>{c&&jh?jh(()=>l(e)):l(e)},[l,c]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.useEffect(()=>{return null==(e=n)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[n]),U.createElement(vh,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:o,future:n})}const _h="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Nh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sh=U.forwardRef(function(e,t){let r,{onClick:n,relative:a,reloadDocument:s,replace:o,state:i,target:l,to:c,preventScrollReset:d,viewTransition:u}=e,h=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,wh),{basename:p}=U.useContext(Ju),m=!1;if("string"==typeof c&&Nh.test(c)&&(r=c,_h))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),r=Mu(t.pathname,p);t.origin===e.origin&&null!=r?c=r+t.search+t.hash:m=!0}catch(QL){}let f=function(e,t){let{relative:r}=void 0===t?{}:t;Zu()||mu(!1);let{basename:n,navigator:a}=U.useContext(Ju),{hash:s,pathname:o,search:i}=ah(e,{relative:r}),l=o;return"/"!==n&&(l="/"===o?n:zu([n,o])),a.createHref({pathname:l,search:i,hash:s})}(c,{relative:a}),g=function(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:i}=void 0===t?{}:t,l=rh(),c=eh(),d=ah(e,{relative:o});return U.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,r)){t.preventDefault();let r=void 0!==n?n:xu(c)===xu(d);l(e,{replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:i})}},[c,l,d,n,a,r,e,s,o,i])}(c,{replace:o,state:i,target:l,preventScrollReset:d,relative:a,viewTransition:u});return U.createElement("a",bh({},h,{href:r||f,onClick:m||s?n:function(e){n&&n(e),e.defaultPrevented||g(e)},ref:t,target:l}))});var Ch,Eh,Ph,Th;function Rh(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Rh(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ah(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Rh(e))&&(n&&(n+=" "),n+=t);return n}function Oh(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Dh(e))&&(n&&(n+=" "),n+=t);return n}function Dh(e){if("string"==typeof e)return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=Dh(e[n]))&&(r&&(r+=" "),r+=t);return r}(Eh=Ch||(Ch={})).UseScrollRestoration="useScrollRestoration",Eh.UseSubmit="useSubmit",Eh.UseSubmitFetcher="useSubmitFetcher",Eh.UseFetcher="useFetcher",Eh.useViewTransitionState="useViewTransitionState",(Th=Ph||(Ph={})).UseFetcher="useFetcher",Th.UseFetchers="useFetchers",Th.UseScrollRestoration="useScrollRestoration";function Lh(e){var t=function(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},a=function(e,t){if(!t)return e;return e.map(function(e){return[e[0],e[1].map(function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){var r=e[0],n=e[1];return[t+r,n]})):e})]})}(Object.entries(e.classGroups),r);return a.forEach(function(e){var r=e[0];Ih(e[1],n,r,t)}),n}(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,a=void 0===n?{}:n;return{getClassGroupId:function(e){var r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),Mh(r,t)||function(e){if(Fh.test(e)){var t=Fh.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}(e)},getConflictingClassGroupIds:function(e,t){var n=r[e]||[];return t&&a[e]?[].concat(n,a[e]):n}}}function Mh(e,t){var r;if(0===e.length)return t.classGroupId;var n=e[0],a=t.nextPart.get(n),s=a?Mh(e.slice(1),a):void 0;if(s)return s;if(0!==t.validators.length){var o=e.join("-");return null==(r=t.validators.find(function(e){return(0,e.validator)(o)}))?void 0:r.classGroupId}}var Fh=/^\[(.+)\]$/;function Ih(e,t,r,n){e.forEach(function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void Ih(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(function(e){var a=e[0];Ih(e[1],$h(t,a),r,n)})}else{(""===e?t:$h(t,e)).classGroupId=r}})}function $h(e,t){var r=e;return t.split("-").forEach(function(e){r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r}function zh(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function a(a,s){r.set(a,s),++t>e&&(t=0,n=r,r=new Map)}return{get:function(e){var t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(a(e,t),t):void 0},set:function(e,t){r.has(e)?r.set(e,t):a(e,t)}}}function Vh(e){var t=e.separator||":",r=1===t.length,n=t[0],a=t.length;return function(e){for(var s,o=[],i=0,l=0,c=0;c<e.length;c++){var d=e[c];if(0===i){if(d===n&&(r||e.slice(c,c+a)===t)){o.push(e.slice(l,c)),l=c+a;continue}if("/"===d){s=c;continue}}"["===d?i++:"]"===d&&i--}var u=0===o.length?e:e.substring(l),h=u.startsWith("!");return{modifiers:o,hasImportantModifier:h,baseClassName:h?u.substring(1):u,maybePostfixModifierPosition:s&&s>l?s-l:void 0}}}var Uh=/\s+/;function Bh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a,s,o=function(e){var r=t[0],l=t.slice(1).reduce(function(e,t){return t(e)},r());return n=function(e){return{cache:zh(e.cacheSize),splitModifiers:Vh(e),...Lh(e)}}(l),a=n.cache.get,s=n.cache.set,o=i,i(e)};function i(e){var t=a(e);if(t)return t;var r=function(e,t){var r=t.splitModifiers,n=t.getClassGroupId,a=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(Uh).map(function(e){var t=r(e),a=t.modifiers,s=t.hasImportantModifier,o=t.baseClassName,i=t.maybePostfixModifierPosition,l=n(i?o.substring(0,i):o),c=Boolean(i);if(!l){if(!i)return{isTailwindClass:!1,originalClassName:e};if(!(l=n(o)))return{isTailwindClass:!1,originalClassName:e};c=!1}var d=function(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(e){"["===e[0]?(t.push.apply(t,r.sort().concat([e])),r=[]):r.push(e)}),t.push.apply(t,r.sort()),t}(a).join(":");return{isTailwindClass:!0,modifierId:s?d+"!":d,classGroupId:l,originalClassName:e,hasPostfixModifier:c}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,r=e.classGroupId,n=e.hasPostfixModifier,o=t+r;return!s.has(o)&&(s.add(o),a(r,n).forEach(function(e){return s.add(t+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" ")}(e,n);return s(e,r),r}return function(){return o(Oh.apply(null,arguments))}}function qh(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var Wh=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hh=/^\d+\/\d+$/,Gh=new Set(["px","full","screen"]),Kh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yh=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Qh(e){return np(e)||Gh.has(e)||Hh.test(e)||Xh(e)}function Xh(e){return dp(e,"length",up)}function Zh(e){return dp(e,"size",hp)}function ep(e){return dp(e,"position",hp)}function tp(e){return dp(e,"url",pp)}function rp(e){return dp(e,"number",np)}function np(e){return!Number.isNaN(Number(e))}function ap(e){return e.endsWith("%")&&np(e.slice(0,-1))}function sp(e){return mp(e)||dp(e,"number",mp)}function op(e){return Wh.test(e)}function ip(){return!0}function lp(e){return Kh.test(e)}function cp(e){return dp(e,"",fp)}function dp(e,t,r){var n=Wh.exec(e);return!!n&&(n[1]?n[1]===t:r(n[2]))}function up(e){return Jh.test(e)}function hp(){return!1}function pp(e){return e.startsWith("url(")}function mp(e){return Number.isInteger(Number(e))}function fp(e){return Yh.test(e)}function gp(){var e=qh("colors"),t=qh("spacing"),r=qh("blur"),n=qh("brightness"),a=qh("borderColor"),s=qh("borderRadius"),o=qh("borderSpacing"),i=qh("borderWidth"),l=qh("contrast"),c=qh("grayscale"),d=qh("hueRotate"),u=qh("invert"),h=qh("gap"),p=qh("gradientColorStops"),m=qh("gradientColorStopPositions"),f=qh("inset"),g=qh("margin"),v=qh("opacity"),x=qh("padding"),y=qh("saturate"),b=qh("scale"),w=qh("sepia"),j=qh("skew"),k=qh("space"),_=qh("translate"),N=function(){return["auto",op,t]},S=function(){return[op,t]},C=function(){return["",Qh]},E=function(){return["auto",np,op]},P=function(){return["","0",op]},T=function(){return[np,rp]},R=function(){return[np,op]};return{cacheSize:500,theme:{colors:[ip],spacing:[Qh],blur:["none","",lp,op],brightness:T(),borderColor:[e],borderRadius:["none","","full",lp,op],borderSpacing:S(),borderWidth:C(),contrast:T(),grayscale:P(),hueRotate:R(),invert:P(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[ap,Xh],inset:N(),margin:N(),opacity:T(),padding:S(),saturate:T(),scale:T(),sepia:P(),skew:R(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",op]}],container:["container"],columns:[{columns:[lp]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[op])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sp]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",op]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",sp]}],"grid-cols":[{"grid-cols":[ip]}],"col-start-end":[{col:["auto",{span:["full",sp]},op]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[ip]}],"row-start-end":[{row:["auto",{span:[sp]},op]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",op]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",op]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",op,t]}],"min-w":[{"min-w":["min","max","fit",op,Qh]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[lp]},lp,op]}],h:[{h:[op,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",op,Qh]}],"max-h":[{"max-h":[op,t,"min","max","fit"]}],"font-size":[{text:["base",lp,Xh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rp]}],"font-family":[{font:[ip]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",op]}],"line-clamp":[{"line-clamp":["none",np,rp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",op,Qh]}],"list-image":[{"list-image":["none",op]}],"list-style-type":[{list:["none","disc","decimal",op]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Qh]}],"underline-offset":[{"underline-offset":["auto",op,Qh]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",op]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",op]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[ep])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zh]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tp]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[op,Qh]}],"outline-w":[{outline:[Qh]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Qh]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lp,cp]}],"shadow-color":[{shadow:[ip]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",lp,op]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",op]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",op]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",op]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[sp,op]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",op]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",op]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",op]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qh,rp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var vp=Bh(gp);function xp(...e){return vp(Ah(e))}function yp(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function bp(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function wp(...e){return t=>{let r=!1;const n=e.map(e=>{const n=bp(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():bp(e[t],null)}}}}function jp(...e){return U.useCallback(wp(...e),e)}function kp(e,t=[]){let r=[];const n=()=>{const t=r.map(e=>U.createContext(e));return function(r){const n=(null==r?void 0:r[e])||t;return U.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){const a=U.createContext(n),s=r.length;r=[...r,n];const o=t=>{var r;const{scope:n,children:o,...i}=t,l=(null==(r=null==n?void 0:n[e])?void 0:r[s])||a,c=U.useMemo(()=>i,Object.values(i));return X.jsx(l.Provider,{value:c,children:o})};return o.displayName=t+"Provider",[o,function(r,o){var i;const l=(null==(i=null==o?void 0:o[e])?void 0:i[s])||a,c=U.useContext(l);if(c)return c;if(void 0!==n)return n;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},_p(n,...t)]}function _p(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const n=r.reduce((t,{useScope:r,scopeName:n})=>({...t,...r(e)[`__scope${n}`]}),{});return U.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}function Np(e){const t=Cp(e),r=U.forwardRef((e,r)=>{const{children:n,...a}=e,s=U.Children.toArray(n),o=s.find(Pp);if(o){const e=o.props.children,n=s.map(t=>t===o?U.Children.count(e)>1?U.Children.only(null):U.isValidElement(e)?e.props.children:null:t);return X.jsx(t,{...a,ref:r,children:U.isValidElement(e)?U.cloneElement(e,void 0,n):null})}return X.jsx(t,{...a,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var Sp=Np("Slot");function Cp(e){const t=U.forwardRef((e,t)=>{const{children:r,...n}=e;if(U.isValidElement(r)){const e=function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),a=function(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...e)=>{const t=s(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...s}:"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==U.Fragment&&(a.ref=t?wp(t,e):e),U.cloneElement(r,a)}return U.Children.count(r)>1?U.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ep=Symbol("radix.slottable");function Pp(e){return U.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ep}function Tp(e){const t=e+"CollectionProvider",[r,n]=kp(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:r}=e,n=B.useRef(null),s=B.useRef(new Map).current;return X.jsx(a,{scope:t,itemMap:s,collectionRef:n,children:r})};o.displayName=t;const i=e+"CollectionSlot",l=Np(i),c=B.forwardRef((e,t)=>{const{scope:r,children:n}=e,a=jp(t,s(i,r).collectionRef);return X.jsx(l,{ref:a,children:n})});c.displayName=i;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=Np(d),p=B.forwardRef((e,t)=>{const{scope:r,children:n,...a}=e,o=B.useRef(null),i=jp(t,o),l=s(d,r);return B.useEffect(()=>(l.itemMap.set(o,{ref:o,...a}),()=>{l.itemMap.delete(o)})),X.jsx(h,{[u]:"",ref:i,children:n})});return p.displayName=d,[{Provider:o,Slot:c,ItemSlot:p},function(t){const r=s(e+"CollectionConsumer",t),n=B.useCallback(()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${u}]`)),n=Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current));return n},[r.collectionRef,r.itemMap]);return n},n]}var Rp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const r=Np(`Primitive.${t}`),n=U.forwardRef((e,n)=>{const{asChild:a,...s}=e,o=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),X.jsx(o,{...s,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ap(e,t){e&&ou.flushSync(()=>e.dispatchEvent(t))}function Op(e){const t=U.useRef(e);return U.useEffect(()=>{t.current=e}),U.useMemo(()=>(...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[])}var Dp,Lp="dismissableLayer.update",Mp="dismissableLayer.pointerDownOutside",Fp="dismissableLayer.focusOutside",Ip=U.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$p=U.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:i,...l}=e,c=U.useContext(Ip),[d,u]=U.useState(null),h=(null==d?void 0:d.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,p]=U.useState({}),m=jp(t,e=>u(e)),f=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=f.indexOf(g),x=d?f.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=v,w=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=Op(e),n=U.useRef(!1),a=U.useRef(()=>{});return U.useEffect(()=>{const e=e=>{if(e.target&&!n.current){let n=function(){Up(Mp,r,s,{discrete:!0})};const s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=n,t.addEventListener("click",a.current,{once:!0})):n()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{const t=e.target,r=[...c.branches].some(e=>e.contains(t));b&&!r&&(null==a||a(e),null==o||o(e),e.defaultPrevented||null==i||i())},h),j=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=Op(e),n=U.useRef(!1);return U.useEffect(()=>{const e=e=>{if(e.target&&!n.current){Up(Fp,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{const t=e.target;[...c.branches].some(e=>e.contains(t))||(null==s||s(e),null==o||o(e),e.defaultPrevented||null==i||i())},h);return function(e,t=(null==globalThis?void 0:globalThis.document)){const r=Op(e);U.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{x===c.layers.size-1&&(null==n||n(e),!e.defaultPrevented&&i&&(e.preventDefault(),i()))},h),U.useEffect(()=>{if(d)return r&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(Dp=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Vp(),()=>{r&&1===c.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=Dp)}},[d,h,r,c]),U.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Vp())},[d,c]),U.useEffect(()=>{const e=()=>p({});return document.addEventListener(Lp,e),()=>document.removeEventListener(Lp,e)},[]),X.jsx(Rp.div,{...l,ref:m,style:{pointerEvents:y?b?"auto":"none":void 0,...e.style},onFocusCapture:yp(e.onFocusCapture,j.onFocusCapture),onBlurCapture:yp(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:yp(e.onPointerDownCapture,w.onPointerDownCapture)})});$p.displayName="DismissableLayer";var zp=U.forwardRef((e,t)=>{const r=U.useContext(Ip),n=U.useRef(null),a=jp(t,n);return U.useEffect(()=>{const e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),X.jsx(Rp.div,{...e,ref:a})});function Vp(){const e=new CustomEvent(Lp);document.dispatchEvent(e)}function Up(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ap(a,s):a.dispatchEvent(s)}zp.displayName="DismissableLayerBranch";var Bp=$p,qp=zp,Wp=(null==globalThis?void 0:globalThis.document)?U.useLayoutEffect:()=>{},Hp=U.forwardRef((e,t)=>{var r;const{container:n,...a}=e,[s,o]=U.useState(!1);Wp(()=>o(!0),[]);const i=n||s&&(null==(r=null==globalThis?void 0:globalThis.document)?void 0:r.body);return i?iu.createPortal(X.jsx(Rp.div,{...a,ref:t}),i):null});Hp.displayName="Portal";var Gp=e=>{const{present:t,children:r}=e,n=function(e){const[t,r]=U.useState(),n=U.useRef(null),a=U.useRef(e),s=U.useRef("none"),o=e?"mounted":"unmounted",[i,l]=function(e,t){return U.useReducer((e,r)=>t[e][r]??e,e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return U.useEffect(()=>{const e=Kp(n.current);s.current="mounted"===i?e:"none"},[i]),Wp(()=>{const t=n.current,r=a.current;if(r!==e){const n=s.current,o=Kp(t);if(e)l("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(r&&n!==o?"ANIMATION_OUT":"UNMOUNT")}a.current=e}},[e,l]),Wp(()=>{if(t){let e;const r=t.ownerDocument.defaultView??window,o=s=>{const o=Kp(n.current).includes(s.animationName);if(s.target===t&&o&&(l("ANIMATION_END"),!a.current)){const n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=r.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)})}},i=e=>{e.target===t&&(s.current=Kp(n.current))};return t.addEventListener("animationstart",i),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{r.clearTimeout(e),t.removeEventListener("animationstart",i),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:U.useCallback(e=>{n.current=e?getComputedStyle(e):null,r(e)},[])}}(t),a="function"==typeof r?r({present:n.isPresent}):U.Children.only(r),s=jp(n.ref,function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(a));return"function"==typeof r||n.isPresent?U.cloneElement(a,{ref:s}):null};function Kp(e){return(null==e?void 0:e.animationName)||"none"}Gp.displayName="Presence";var Jp=q[" useInsertionEffect ".trim().toString()]||Wp;function Yp({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=function({defaultProp:e,onChange:t}){const[r,n]=U.useState(e),a=U.useRef(r),s=U.useRef(t);return Jp(()=>{s.current=t},[t]),U.useEffect(()=>{var e;a.current!==r&&(null==(e=s.current)||e.call(s,r),a.current=r)},[r,a]),[r,n,s]}({defaultProp:t,onChange:r}),i=void 0!==e,l=i?e:a;{const t=U.useRef(void 0!==e);U.useEffect(()=>{const e=t.current;if(e!==i){const t=e?"controlled":"uncontrolled",r=i?"controlled":"uncontrolled";console.warn(`${n} is changing from ${t} to ${r}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=i},[i,n])}const c=U.useCallback(t=>{var r;if(i){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&(null==(r=o.current)||r.call(o,n))}else s(t)},[i,e,s,o]);return[l,c]}var Qp=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Xp=U.forwardRef((e,t)=>X.jsx(Rp.span,{...e,ref:t,style:{...Qp,...e.style}}));Xp.displayName="VisuallyHidden";var Zp="ToastProvider",[em,tm,rm]=Tp("Toast"),[nm,am]=kp("Toast",[rm]),[sm,om]=nm(Zp),im=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=e,[i,l]=U.useState(null),[c,d]=U.useState(0),u=U.useRef(!1),h=U.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Zp}\`. Expected non-empty \`string\`.`),X.jsx(em.Provider,{scope:t,children:X.jsx(sm,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:c,viewport:i,onViewportChange:l,onToastAdd:U.useCallback(()=>d(e=>e+1),[]),onToastRemove:U.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:o})})};im.displayName=Zp;var lm="ToastViewport",cm=["F8"],dm="toast.viewportPause",um="toast.viewportResume",hm=U.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=cm,label:a="Notifications ({hotkey})",...s}=e,o=om(lm,r),i=tm(r),l=U.useRef(null),c=U.useRef(null),d=U.useRef(null),u=U.useRef(null),h=jp(t,u,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;U.useEffect(()=>{const e=e=>{var t;0!==n.length&&n.every(t=>e[t]||e.code===t)&&(null==(t=u.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),U.useEffect(()=>{const e=l.current,t=u.current;if(m&&e&&t){const r=()=>{if(!o.isClosePausedRef.current){const e=new CustomEvent(dm);t.dispatchEvent(e),o.isClosePausedRef.current=!0}},n=()=>{if(o.isClosePausedRef.current){const e=new CustomEvent(um);t.dispatchEvent(e),o.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&n()},s=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",a),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",s),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[m,o.isClosePausedRef]);const f=U.useCallback(({tabbingDirection:e})=>{const t=i().map(t=>{const r=t.ref.current,n=[r,...Rm(r)];return"forwards"===e?n:n.reverse()});return("forwards"===e?t.reverse():t).flat()},[i]);return U.useEffect(()=>{const e=u.current;if(e){const t=t=>{var r,n,a;const s=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!s){const s=document.activeElement,o=t.shiftKey;if(t.target===e&&o)return void(null==(r=c.current)||r.focus());const i=f({tabbingDirection:o?"backwards":"forwards"}),l=i.findIndex(e=>e===s);Am(i.slice(l+1))?t.preventDefault():o?null==(n=c.current)||n.focus():null==(a=d.current)||a.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[i,f]),X.jsxs(qp,{ref:l,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&X.jsx(mm,{ref:c,onFocusFromOutsideViewport:()=>{Am(f({tabbingDirection:"forwards"}))}}),X.jsx(em.Slot,{scope:r,children:X.jsx(Rp.ol,{tabIndex:-1,...s,ref:h})}),m&&X.jsx(mm,{ref:d,onFocusFromOutsideViewport:()=>{Am(f({tabbingDirection:"backwards"}))}})]})});hm.displayName=lm;var pm="ToastFocusProxy",mm=U.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=om(pm,r);return X.jsx(Xp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null==(t=s.viewport)?void 0:t.contains(r))&&n()}})});mm.displayName=pm;var fm="Toast",gm=U.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=e,[i,l]=Yp({prop:n,defaultProp:a??!0,onChange:s,caller:fm});return X.jsx(Gp,{present:r||i,children:X.jsx(ym,{open:i,...o,ref:t,onClose:()=>l(!1),onPause:Op(e.onPause),onResume:Op(e.onResume),onSwipeStart:yp(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:yp(e.onSwipeMove,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:yp(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:yp(e.onSwipeEnd,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),l(!1)})})})});gm.displayName=fm;var[vm,xm]=nm(fm,{onClose(){}}),ym=U.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:i,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:p,...m}=e,f=om(fm,r),[g,v]=U.useState(null),x=jp(t,e=>v(e)),y=U.useRef(null),b=U.useRef(null),w=a||f.duration,j=U.useRef(0),k=U.useRef(w),_=U.useRef(0),{onToastAdd:N,onToastRemove:S}=f,C=Op(()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=f.viewport)||e.focus()),o()}),E=U.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(_.current),j.current=(new Date).getTime(),_.current=window.setTimeout(C,e))},[C]);U.useEffect(()=>{const e=f.viewport;if(e){const t=()=>{E(k.current),null==c||c()},r=()=>{const e=(new Date).getTime()-j.current;k.current=k.current-e,window.clearTimeout(_.current),null==l||l()};return e.addEventListener(dm,r),e.addEventListener(um,t),()=>{e.removeEventListener(dm,r),e.removeEventListener(um,t)}}},[f.viewport,w,l,c,E]),U.useEffect(()=>{s&&!f.isClosePausedRef.current&&E(w)},[s,w,f.isClosePausedRef,E]),U.useEffect(()=>(N(),()=>S()),[N,S]);const P=U.useMemo(()=>g?Em(g):null,[g]);return f.viewport?X.jsxs(X.Fragment,{children:[P&&X.jsx(bm,{__scopeToast:r,role:"status","aria-live":"foreground"===n?"assertive":"polite","aria-atomic":!0,children:P}),X.jsx(vm,{scope:r,onClose:C,children:ou.createPortal(X.jsx(em.ItemSlot,{scope:r,children:X.jsx(Bp,{asChild:!0,onEscapeKeyDown:yp(i,()=>{f.isFocusedToastEscapeKeyDownRef.current||C(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:X.jsx(Rp.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":f.swipeDirection,...m,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:yp(e.onKeyDown,e=>{"Escape"===e.key&&(null==i||i(e.nativeEvent),e.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:yp(e.onPointerDown,e=>{0===e.button&&(y.current={x:e.clientX,y:e.clientY})}),onPointerMove:yp(e.onPointerMove,e=>{if(!y.current)return;const t=e.clientX-y.current.x,r=e.clientY-y.current.y,n=Boolean(b.current),a=["left","right"].includes(f.swipeDirection),s=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,o=a?s(0,t):0,i=a?0:s(0,r),l="touch"===e.pointerType?10:2,c={x:o,y:i},h={originalEvent:e,delta:c};n?(b.current=c,Pm("toast.swipeMove",u,h,{discrete:!1})):Tm(c,f.swipeDirection,l)?(b.current=c,Pm("toast.swipeStart",d,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(y.current=null)}),onPointerUp:yp(e.onPointerUp,e=>{const t=b.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),b.current=null,y.current=null,t){const r=e.currentTarget,n={originalEvent:e,delta:t};Tm(t,f.swipeDirection,f.swipeThreshold)?Pm("toast.swipeEnd",p,n,{discrete:!0}):Pm("toast.swipeCancel",h,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),bm=e=>{const{__scopeToast:t,children:r,...n}=e,a=om(fm,t),[s,o]=U.useState(!1),[i,l]=U.useState(!1);return function(e=()=>{}){const t=Op(e);Wp(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>o(!0)),U.useEffect(()=>{const e=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(e)},[]),i?null:X.jsx(Hp,{asChild:!0,children:X.jsx(Xp,{...n,children:s&&X.jsxs(X.Fragment,{children:[a.label," ",r]})})})},wm=U.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return X.jsx(Rp.div,{...n,ref:t})});wm.displayName="ToastTitle";var jm=U.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return X.jsx(Rp.div,{...n,ref:t})});jm.displayName="ToastDescription";var km="ToastAction",_m=U.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?X.jsx(Cm,{altText:r,asChild:!0,children:X.jsx(Sm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${km}\`. Expected non-empty \`string\`.`),null)});_m.displayName=km;var Nm="ToastClose",Sm=U.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=xm(Nm,r);return X.jsx(Cm,{asChild:!0,children:X.jsx(Rp.button,{type:"button",...n,ref:t,onClick:yp(e.onClick,a.onClose)})})});Sm.displayName=Nm;var Cm=U.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return X.jsx(Rp.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Em(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!r)if(n){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...Em(e))}}),t}function Pm(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ap(a,s):a.dispatchEvent(s)}var Tm=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return"left"===t||"right"===t?s&&n>r:!s&&a>r};function Rm(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Am(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var Om=im,Dm=hm,Lm=gm,Mm=wm,Fm=jm,Im=_m,$m=Sm;const zm=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Vm=Ah,Um=(e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return Vm(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(e=>{const t=null==r?void 0:r[e],n=null==s?void 0:s[e];if(null===t)return null;const o=zm(t)||zm(n);return a[e][o]}),i=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...i}[t]):{...s,...i}[t]===r})?[...e,r,n]:e},[]);return Vm(e,o,l,null==r?void 0:r.class,null==r?void 0:r.className)};var Bm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qm=(e,t)=>{const r=U.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...i},l)=>{return U.createElement("svg",{ref:l,...Bm,width:n,height:n,stroke:r,strokeWidth:s?24*Number(a)/Number(n):a,className:`lucide lucide-${c=e,c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...i},[...t.map(([e,t])=>U.createElement(e,t)),...(Array.isArray(o)?o:[o])||[]]);var c});return r.displayName=`${e}`,r},Wm=qm("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Hm=qm("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Gm=qm("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Km=qm("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Jm=qm("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ym=qm("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Qm=qm("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Xm=qm("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Zm=qm("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ef=qm("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),tf=qm("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),rf=qm("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),nf=qm("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),af=qm("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),sf=qm("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]),of=qm("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),lf=qm("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),cf=qm("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),df=qm("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),uf=qm("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hf=qm("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),pf=qm("GalleryHorizontalEnd",[["path",{d:"M2 7v10",key:"a2pl2d"}],["path",{d:"M6 5v14",key:"1kq3d7"}],["rect",{width:"12",height:"18",x:"10",y:"3",rx:"2",key:"13i7bc"}]]),mf=qm("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ff=qm("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),gf=qm("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),vf=qm("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),xf=qm("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),yf=qm("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),bf=qm("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),wf=qm("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),jf=qm("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),kf=qm("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),_f=qm("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Nf=qm("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Sf=qm("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Cf=qm("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ef=qm("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Pf=qm("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Tf=qm("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Rf=qm("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),Af=qm("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Of=qm("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Df=qm("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Lf=qm("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Mf=qm("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ff=qm("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),If=qm("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),$f=qm("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),zf=qm("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Vf=qm("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Uf=qm("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Bf=qm("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),qf=qm("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Wf=qm("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Hf=qm("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Gf=qm("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Kf=qm("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Jf=qm("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Yf=qm("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),Qf=qm("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Xf=qm("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zf=Om,eg=B.forwardRef(({className:e,...t},r)=>X.jsx(Dm,{ref:r,className:xp("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));eg.displayName=Dm.displayName;const tg=Um("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rg=B.forwardRef(({className:e,variant:t,...r},n)=>X.jsx(Lm,{ref:n,className:xp(tg({variant:t}),e),...r}));rg.displayName=Lm.displayName;B.forwardRef(({className:e,...t},r)=>X.jsx(Im,{ref:r,className:xp("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=Im.displayName;const ng=B.forwardRef(({className:e,...t},r)=>X.jsx($m,{ref:r,className:xp("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:X.jsx(Xf,{className:"h-4 w-4"})}));ng.displayName=$m.displayName;const ag=B.forwardRef(({className:e,...t},r)=>X.jsx(Mm,{ref:r,className:xp("text-sm font-semibold",e),...t}));ag.displayName=Mm.displayName;const sg=B.forwardRef(({className:e,...t},r)=>X.jsx(Fm,{ref:r,className:xp("text-sm opacity-90",e),...t}));sg.displayName=Fm.displayName;let og=0;const ig={state:{toasts:[]},listeners:[],getState:()=>ig.state,setState:e=>{ig.state="function"==typeof e?e(ig.state):{...ig.state,...e},ig.listeners.forEach(e=>e(ig.state))},subscribe:e=>(ig.listeners.push(e),()=>{ig.listeners=ig.listeners.filter(t=>t!==e)})},lg=({...e})=>{const t=(og=(og+1)%Number.MAX_VALUE,og.toString()),r=()=>ig.setState(e=>({...e,toasts:e.toasts.filter(e=>e.id!==t)}));return ig.setState(n=>({...n,toasts:[{...e,id:t,dismiss:r},...n.toasts].slice(0,1)})),{id:t,dismiss:r,update:e=>ig.setState(r=>({...r,toasts:r.toasts.map(r=>r.id===t?{...r,...e}:r)}))}};function cg(){const[e,t]=U.useState(ig.getState());return U.useEffect(()=>ig.subscribe(e=>{t(e)}),[]),U.useEffect(()=>{const t=[];return e.toasts.forEach(e=>{if(e.duration===1/0)return;const r=setTimeout(()=>{e.dismiss()},e.duration||5e3);t.push(r)}),()=>{t.forEach(e=>clearTimeout(e))}},[e.toasts]),{toast:lg,toasts:e.toasts}}function dg(){const{toasts:e}=cg();return X.jsxs(Zf,{children:[e.map(({id:e,title:t,description:r,action:n,dismiss:a,...s})=>X.jsxs(rg,{...s,children:[X.jsxs("div",{className:"grid gap-1",children:[t&&X.jsx(ag,{children:t}),r&&X.jsx(sg,{children:r})]}),n,X.jsx(ng,{})]},e)),X.jsx(eg,{})]})}const ug=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),hg=U.createContext({}),pg=U.createContext(null),mg="undefined"!=typeof document,fg=mg?U.useLayoutEffect:U.useEffect,gg=U.createContext({strict:!1}),vg=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),xg="data-"+vg("framerAppearId");function yg(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function bg(e){return"string"==typeof e||Array.isArray(e)}function wg(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const jg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kg=["initial",...jg];function _g(e){return wg(e.animate)||kg.some(t=>bg(e[t]))}function Ng(e){return Boolean(_g(e)||e.variants)}function Sg(e){const{initial:t,animate:r}=function(e,t){if(_g(e)){const{initial:t,animate:r}=e;return{initial:!1===t||bg(t)?t:void 0,animate:bg(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,U.useContext(hg));return U.useMemo(()=>({initial:t,animate:r}),[Cg(t),Cg(r)])}function Cg(e){return Array.isArray(e)?e.join(" "):e}const Eg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pg={};for(const eM in Eg)Pg[eM]={isEnabled:e=>Eg[eM].some(t=>!!e[t])};const Tg=U.createContext({}),Rg=U.createContext({}),Ag=Symbol.for("motionComponentSymbol");function Og({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&function(e){for(const t in e)Pg[t]={...Pg[t],...e[t]}}(e);const s=U.forwardRef(function(s,o){let i;const l={...U.useContext(ug),...s,layoutId:Dg(s)},{isStatic:c}=l,d=Sg(s),u=n(s,c);if(!c&&mg){d.visualElement=function(e,t,r,n){const{visualElement:a}=U.useContext(hg),s=U.useContext(gg),o=U.useContext(pg),i=U.useContext(ug).reducedMotion,l=U.useRef();n=n||s.renderer,!l.current&&n&&(l.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:i}));const c=l.current;U.useInsertionEffect(()=>{c&&c.update(r,o)});const d=U.useRef(Boolean(r[xg]&&!window.HandoffComplete));return fg(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),U.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}(a,u,l,t);const r=U.useContext(Rg),n=U.useContext(gg).strict;d.visualElement&&(i=d.visualElement.loadFeatures(l,n,e,r))}return U.createElement(hg.Provider,{value:d},i&&d.visualElement?U.createElement(i,{visualElement:d.visualElement,...l}):null,r(a,s,function(e,t,r){return U.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"==typeof r?r(n):yg(r)&&(r.current=n))},[t])}(u,d.visualElement,o),u,c,d.visualElement))});return s[Ag]=a,s}function Dg({layoutId:e}){const t=U.useContext(Tg).id;return t&&void 0!==e?t+"-"+e:e}function Lg(e){function t(t,r={}){return Og(e(t,r))}if("undefined"==typeof Proxy)return t;const r=new Map;return new Proxy(t,{get:(e,n)=>(r.has(n)||r.set(n,t(n)),r.get(n))})}const Mg=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fg(e){return"string"==typeof e&&!e.includes("-")&&!!(Mg.indexOf(e)>-1||/[A-Z]/.test(e))}const Ig={};const $g=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zg=new Set($g);function Vg(e,{layout:t,layoutId:r}){return zg.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!Ig[e]||"opacity"===e)}const Ug=e=>Boolean(e&&e.getVelocity),Bg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qg=$g.length;const Wg=e=>t=>"string"==typeof t&&t.startsWith(e),Hg=Wg("--"),Gg=Wg("var(--"),Kg=(e,t)=>t&&"number"==typeof e?t.transform(e):e,Jg=(e,t,r)=>Math.min(Math.max(r,e),t),Yg={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Qg={...Yg,transform:e=>Jg(0,1,e)},Xg={...Yg,default:1},Zg=e=>Math.round(1e5*e)/1e5,ev=/(-)?([\d]*\.?[\d])+/g,tv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,rv=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function nv(e){return"string"==typeof e}const av=e=>({test:t=>nv(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),sv=av("deg"),ov=av("%"),iv=av("px"),lv=av("vh"),cv=av("vw"),dv={...ov,parse:e=>ov.parse(e)/100,transform:e=>ov.transform(100*e)},uv={...Yg,transform:Math.round},hv={borderWidth:iv,borderTopWidth:iv,borderRightWidth:iv,borderBottomWidth:iv,borderLeftWidth:iv,borderRadius:iv,radius:iv,borderTopLeftRadius:iv,borderTopRightRadius:iv,borderBottomRightRadius:iv,borderBottomLeftRadius:iv,width:iv,maxWidth:iv,height:iv,maxHeight:iv,size:iv,top:iv,right:iv,bottom:iv,left:iv,padding:iv,paddingTop:iv,paddingRight:iv,paddingBottom:iv,paddingLeft:iv,margin:iv,marginTop:iv,marginRight:iv,marginBottom:iv,marginLeft:iv,rotate:sv,rotateX:sv,rotateY:sv,rotateZ:sv,scale:Xg,scaleX:Xg,scaleY:Xg,scaleZ:Xg,skew:sv,skewX:sv,skewY:sv,distance:iv,translateX:iv,translateY:iv,translateZ:iv,x:iv,y:iv,z:iv,perspective:iv,transformPerspective:iv,opacity:Qg,originX:dv,originY:dv,originZ:iv,zIndex:uv,fillOpacity:Qg,strokeOpacity:Qg,numOctaves:uv};function pv(e,t,r,n){const{style:a,vars:s,transform:o,transformOrigin:i}=e;let l=!1,c=!1,d=!0;for(const u in t){const e=t[u];if(Hg(u)){s[u]=e;continue}const r=hv[u],n=Kg(e,r);if(zg.has(u)){if(l=!0,o[u]=n,!d)continue;e!==(r.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,i[u]=n):a[u]=n}if(t.transform||(l||n?a.transform=function(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,a){let s="";for(let o=0;o<qg;o++){const t=$g[o];void 0!==e[t]&&(s+=`${Bg[t]||t}(${e[t]}) `)}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),a?s=a(e,n?"":s):r&&n&&(s="none"),s}(e.transform,r,d,n):a.transform&&(a.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:r=0}=i;a.transformOrigin=`${e} ${t} ${r}`}}const mv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fv(e,t,r){for(const n in t)Ug(t[n])||Vg(n,r)||(e[n]=t[n])}function gv(e,t,r){const n={};return fv(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t,r){return U.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return pv(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}(e,t,r)),e.transformValues?e.transformValues(n):n}function vv(e,t,r){const n={},a=gv(e,t,r);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const xv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yv(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xv.has(e)}let bv=e=>!yv(e);try{(wv=require("@emotion/is-prop-valid").default)&&(bv=e=>e.startsWith("on")?!yv(e):wv(e))}catch(XL){}var wv;function jv(e,t,r){return"string"==typeof e?e:iv.transform(t+r*e)}const kv={offset:"stroke-dashoffset",array:"stroke-dasharray"},_v={offset:"strokeDashoffset",array:"strokeDasharray"};function Nv(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:s,pathLength:o,pathSpacing:i=1,pathOffset:l=0,...c},d,u,h){if(pv(e,c,d,h),u)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:f}=e;p.transform&&(f&&(m.transform=p.transform),delete p.transform),f&&(void 0!==a||void 0!==s||m.transform)&&(m.transformOrigin=function(e,t,r){return`${jv(t,e.x,e.width)} ${jv(r,e.y,e.height)}`}(f,void 0!==a?a:.5,void 0!==s?s:.5)),void 0!==t&&(p.x=t),void 0!==r&&(p.y=r),void 0!==n&&(p.scale=n),void 0!==o&&function(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?kv:_v;e[s.offset]=iv.transform(-n);const o=iv.transform(t),i=iv.transform(r);e[s.array]=`${o} ${i}`}(p,o,i,l,!1)}const Sv=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Cv=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Ev(e,t,r,n){const a=U.useMemo(()=>{const r={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Nv(r,t,{enableHardwareAcceleration:!1},Cv(n),e.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const t={};fv(t,e.style,e),a.style={...t,...a.style}}return a}function Pv(e=!1){return(t,r,n,{latestValues:a},s)=>{const o=(Fg(t)?Ev:vv)(r,a,s,t),i=function(e,t,r){const n={};for(const a in e)"values"===a&&"object"==typeof e.values||(bv(a)||!0===r&&yv(a)||!t&&!yv(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}(r,"string"==typeof t,e),l={...i,...o,ref:n},{children:c}=r,d=U.useMemo(()=>Ug(c)?c.get():c,[c]);return U.createElement(t,{...l,children:d})}}function Tv(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const Rv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Av(e,t,r,n){Tv(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Rv.has(a)?a:vg(a),t.attrs[a])}function Ov(e,t){const{style:r}=e,n={};for(const a in r)(Ug(r[a])||t.style&&Ug(t.style[a])||Vg(a,e))&&(n[a]=r[a]);return n}function Dv(e,t){const r=Ov(e,t);for(const n in e)if(Ug(e[n])||Ug(t[n])){r[-1!==$g.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]}return r}function Lv(e,t,r,n={},a={}){return"function"==typeof t&&(t=t(void 0!==r?r:e.custom,n,a)),"string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t&&(t=t(void 0!==r?r:e.custom,n,a)),t}function Mv(e){const t=U.useRef(null);return null===t.current&&(t.current=e()),t.current}const Fv=e=>Array.isArray(e),Iv=e=>Fv(e)?e[e.length-1]||0:e;function $v(e){const t=Ug(e)?e.get():e;return r=t,Boolean(r&&"object"==typeof r&&r.mix&&r.toValue)?t.toValue():t;var r}const zv=e=>(t,r)=>{const n=U.useContext(hg),a=U.useContext(pg),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,s){const o={latestValues:Vv(n,a,s,e),renderState:t()};return r&&(o.mount=e=>r(n,e,o)),o}(e,t,n,a);return r?s():Mv(s)};function Vv(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=$v(s[h]);let{initial:o,animate:i}=e;const l=_g(e),c=Ng(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===i&&(i=t.animate));let d=!!r&&!1===r.initial;d=d||!1===o;const u=d?i:o;if(u&&"boolean"!=typeof u&&!wg(u)){(Array.isArray(u)?u:[u]).forEach(t=>{const r=Lv(e,t);if(!r)return;const{transitionEnd:n,transition:s,...o}=r;for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[d?t.length-1:0]}null!==t&&(a[e]=t)}for(const e in n)a[e]=n[e]})}return a}const Uv=e=>e;class Bv{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const qv=["prepare","read","update","preRender","render","postRender"];const{schedule:Wv,cancel:Hv,state:Gv,steps:Kv}=function(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=qv.reduce((e,t)=>(e[t]=function(e){let t=new Bv,r=new Bv,n=0,a=!1,s=!1;const o=new WeakSet,i={schedule:(e,s=!1,i=!1)=>{const l=i&&a,c=l?t:r;return s&&o.add(e),c.add(e)&&l&&a&&(n=t.order.length),e},cancel:e=>{r.remove(e),o.delete(e)},process:l=>{if(a)s=!0;else{if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let r=0;r<n;r++){const n=t.order[r];n(l),o.has(n)&&(i.schedule(n),e())}a=!1,s&&(s=!1,i.process(l))}}};return i}(()=>r=!0),e),{}),o=e=>s[e].process(a),i=()=>{const s=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(s-a.timestamp,40),1),a.timestamp=s,a.isProcessing=!0,qv.forEach(o),a.isProcessing=!1,r&&t&&(n=!1,e(i))};return{schedule:qv.reduce((t,o)=>{const l=s[o];return t[o]=(t,s=!1,o=!1)=>(r||(r=!0,n=!0,a.isProcessing||e(i)),l.schedule(t,s,o)),t},{}),cancel:e=>qv.forEach(t=>s[t].cancel(e)),state:a,steps:s}}("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Uv,!0),Jv={useVisualState:zv({scrapeMotionValuesFromProps:Dv,createRenderState:Sv,onMount:(e,t,{renderState:r,latestValues:n})=>{Wv.read(()=>{try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(QL){r.dimensions={x:0,y:0,width:0,height:0}}}),Wv.render(()=>{Nv(r,n,{enableHardwareAcceleration:!1},Cv(t.tagName),e.transformTemplate),Av(t,r)})}})},Yv={useVisualState:zv({scrapeMotionValuesFromProps:Ov,createRenderState:mv})};function Qv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Xv=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function Zv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function ex(e,t,r,n){return Qv(e,t,(e=>t=>Xv(t)&&e(t,Zv(t)))(r),n)}const tx=(e,t)=>r=>t(e(r)),rx=(...e)=>e.reduce(tx);function nx(e){let t=null;return()=>{const r=()=>{t=null};return null===t&&(t=e,r)}}const ax=nx("dragHorizontal"),sx=nx("dragVertical");function ox(e){let t=!1;if("y"===e)t=sx();else if("x"===e)t=ax();else{const e=ax(),r=sx();e&&r?t=()=>{e(),r()}:(e&&e(),r&&r())}return t}function ix(){const e=ox(!0);return!e||(e(),!1)}class lx{constructor(e){this.isMounted=!1,this.node=e}update(){}}function cx(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End");return ex(e.current,r,(r,a)=>{if("touch"===r.pointerType||ix())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[n]&&Wv.update(()=>s[n](r,a))},{passive:!e.getProps()[n]})}const dx=(e,t)=>!!t&&(e===t||dx(e,t.parentElement));function ux(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Zv(r))}const hx=new WeakMap,px=new WeakMap,mx=e=>{const t=hx.get(e.target);t&&t(e)},fx=e=>{e.forEach(mx)};function gx(e,t,r){const n=function({root:e,...t}){const r=e||document;px.has(r)||px.set(r,{});const n=px.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(fx,{root:e,...t})),n[a]}(t);return hx.set(e,r),n.observe(e),()=>{hx.delete(e),n.unobserve(e)}}const vx={some:0,all:1};const xx={inView:{Feature:class extends lx{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:vx[n]};return gx(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),s=t?r:n;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends lx{constructor(){super(...arguments),this.removeStartListeners=Uv,this.removeEndListeners=Uv,this.removeAccessibleListeners=Uv,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),n=ex(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:r,onTapCancel:n,globalTapTarget:a}=this.node.getProps();Wv.update(()=>{a||dx(this.node.current,e.target)?r&&r(e,t):n&&n(e,t)})},{passive:!(r.onTap||r.onPointerUp)}),a=ex(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=rx(n,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Qv(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Qv(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&ux("up",(e,t)=>{const{onTap:r}=this.node.getProps();r&&Wv.update(()=>r(e,t))})}),ux("down",(e,t)=>{this.startPress(e,t)})}),t=Qv(this.node.current,"blur",()=>{this.isPressing&&ux("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=rx(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Wv.update(()=>r(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ix()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Wv.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=ex(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Qv(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=rx(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends lx{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(QL){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rx(Qv(this.node.current,"focus",()=>this.onFocus()),Qv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends lx{mount(){this.unmount=rx(cx(this.node,!0),cx(this.node,!1))}unmount(){}}}};function yx(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function bx(e,t,r){const n=e.getProps();return Lv(n,t,void 0!==r?r:n.custom,function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.getVelocity()),t}(e))}let wx=Uv,jx=Uv;const kx=e=>1e3*e,_x=e=>e/1e3,Nx=!1,Sx=e=>Array.isArray(e)&&"number"==typeof e[0];function Cx(e){return Boolean(!e||"string"==typeof e&&Px[e]||Sx(e)||Array.isArray(e)&&e.every(Cx))}const Ex=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Px={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ex([0,.65,.55,1]),circOut:Ex([.55,0,1,.45]),backIn:Ex([.31,.01,.66,-.59]),backOut:Ex([.33,1.53,.69,.99])};function Tx(e){if(e)return Sx(e)?Ex(e):Array.isArray(e)?e.map(Tx):Px[e]}const Rx=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function Ax(e,t,r,n){if(e===t&&r===n)return Uv;const a=t=>function(e,t,r,n,a){let s,o,i=0;do{o=t+(r-t)/2,s=Rx(o,n,a)-e,s>0?r=o:t=o}while(Math.abs(s)>1e-7&&++i<12);return o}(t,0,1,e,r);return e=>0===e||1===e?e:Rx(a(e),t,n)}const Ox=Ax(.42,0,1,1),Dx=Ax(0,0,.58,1),Lx=Ax(.42,0,.58,1),Mx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fx=e=>t=>1-e(1-t),Ix=e=>1-Math.sin(Math.acos(e)),$x=Fx(Ix),zx=Mx(Ix),Vx=Ax(.33,1.53,.69,.99),Ux=Fx(Vx),Bx=Mx(Ux),qx={linear:Uv,easeIn:Ox,easeInOut:Lx,easeOut:Dx,circIn:Ix,circInOut:zx,circOut:$x,backIn:Ux,backInOut:Bx,backOut:Vx,anticipate:e=>(e*=2)<1?.5*Ux(e):.5*(2-Math.pow(2,-10*(e-1)))},Wx=e=>{if(Array.isArray(e)){jx(4===e.length);const[t,r,n,a]=e;return Ax(t,r,n,a)}return"string"==typeof e?qx[e]:e},Hx=(e,t)=>r=>Boolean(nv(r)&&rv.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Gx=(e,t,r)=>n=>{if(!nv(n))return n;const[a,s,o,i]=n.match(ev);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(o),alpha:void 0!==i?parseFloat(i):1}},Kx={...Yg,transform:e=>Math.round((e=>Jg(0,255,e))(e))},Jx={test:Hx("rgb","red"),parse:Gx("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Kx.transform(e)+", "+Kx.transform(t)+", "+Kx.transform(r)+", "+Zg(Qg.transform(n))+")"};const Yx={test:Hx("#"),parse:function(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}},transform:Jx.transform},Qx={test:Hx("hsl","hue"),parse:Gx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ov.transform(Zg(t))+", "+ov.transform(Zg(r))+", "+Zg(Qg.transform(n))+")"},Xx={test:e=>Jx.test(e)||Yx.test(e)||Qx.test(e),parse:e=>Jx.test(e)?Jx.parse(e):Qx.test(e)?Qx.parse(e):Yx.parse(e),transform:e=>nv(e)?e:e.hasOwnProperty("red")?Jx.transform(e):Qx.transform(e)},Zx=(e,t,r)=>-r*e+r*t+e;function ey(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}const ty=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},ry=[Yx,Jx,Qx];function ny(e){const t=(r=e,ry.find(e=>e.test(r)));var r;let n=t.parse(e);return t===Qx&&(n=function({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,r/=100;let a=0,s=0,o=0;if(t/=100){const n=r<.5?r*(1+t):r+t-r*t,i=2*r-n;a=ey(i,n,e+1/3),s=ey(i,n,e),o=ey(i,n,e-1/3)}else a=s=o=r;return{red:Math.round(255*a),green:Math.round(255*s),blue:Math.round(255*o),alpha:n}}(n)),n}const ay=(e,t)=>{const r=ny(e),n=ny(t),a={...r};return e=>(a.red=ty(r.red,n.red,e),a.green=ty(r.green,n.green,e),a.blue=ty(r.blue,n.blue,e),a.alpha=Zx(r.alpha,n.alpha,e),Jx.transform(a))};const sy={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Uv},oy={regex:tv,countKey:"Colors",token:"${c}",parse:Xx.parse},iy={regex:ev,countKey:"Numbers",token:"${n}",parse:Yg.parse};function ly(e,{regex:t,countKey:r,token:n,parse:a}){const s=e.tokenised.match(t);s&&(e["num"+r]=s.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...s.map(a)))}function cy(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&ly(r,sy),ly(r,oy),ly(r,iy),r}function dy(e){return cy(e).values}function uy(e){const{values:t,numColors:r,numVars:n,tokenised:a}=cy(e),s=t.length;return e=>{let t=a;for(let a=0;a<s;a++)t=a<n?t.replace(sy.token,e[a]):a<n+r?t.replace(oy.token,Xx.transform(e[a])):t.replace(iy.token,Zg(e[a]));return t}}const hy=e=>"number"==typeof e?0:e;const py={test:function(e){var t,r;return isNaN(e)&&nv(e)&&((null===(t=e.match(ev))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(tv))||void 0===r?void 0:r.length)||0)>0},parse:dy,createTransformer:uy,getAnimatableNone:function(e){const t=dy(e);return uy(e)(t.map(hy))}},my=(e,t)=>r=>`${r>0?t:e}`;function fy(e,t){return"number"==typeof e?r=>Zx(e,t,r):Xx.test(e)?ay(e,t):e.startsWith("var(")?my(e,t):xy(e,t)}const gy=(e,t)=>{const r=[...e],n=r.length,a=e.map((e,r)=>fy(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=a[t](e);return r}},vy=(e,t)=>{const r={...e,...t},n={};for(const a in r)void 0!==e[a]&&void 0!==t[a]&&(n[a]=fy(e[a],t[a]));return e=>{for(const t in n)r[t]=n[t](e);return r}},xy=(e,t)=>{const r=py.createTransformer(t),n=cy(e),a=cy(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?rx(gy(n.values,a.values),r):my(e,t)},yy=(e,t,r)=>{const n=t-e;return 0===n?1:(r-e)/n},by=(e,t)=>r=>Zx(e,t,r);function wy(e,t,r){const n=[],a=r||("number"==typeof(s=e[0])?by:"string"==typeof s?Xx.test(s)?ay:xy:Array.isArray(s)?gy:"object"==typeof s?vy:by);var s;const o=e.length-1;for(let i=0;i<o;i++){let r=a(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||Uv:t;r=rx(e,r)}n.push(r)}return n}function jy(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(jx(s===t.length),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=wy(t,n,a),i=o.length,l=t=>{let r=0;if(i>1)for(;r<e.length-2&&!(t<e[r+1]);r++);const n=yy(e[r],e[r+1],t);return o[r](n)};return r?t=>l(Jg(e[0],e[s-1],t)):l}function ky(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=yy(0,t,n);e.push(Zx(r,1,a))}}(t,e.length-1),t}function _y({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=(e=>Array.isArray(e)&&"number"!=typeof e[0])(n)?n.map(Wx):Wx(n),s={done:!1,value:t[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===t.length?r:ky(t),e),i=jy(o,t,{ease:Array.isArray(a)?a:(l=t,c=a,l.map(()=>c||Lx).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(s.value=i(t),s.done=t>=e,s)}}function Ny(e,t){return t?e*(1e3/t):0}function Sy(e,t,r){const n=Math.max(t-5,0);return Ny(r-e(n),t-n)}const Cy=.001;function Ey({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let a,s;wx(e<=kx(10));let o=1-t;o=Jg(.05,1,o),e=Jg(.01,10,_x(e)),o<1?(a=t=>{const n=t*o,a=n*e,s=n-r,i=Ty(t,o),l=Math.exp(-a);return Cy-s/i*l},s=t=>{const n=t*o*e,s=n*r+r,i=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-n),c=Ty(Math.pow(t,2),o);return(-a(t)+Cy>0?-1:1)*((s-i)*l)/c}):(a=t=>Math.exp(-t*e)*((t-r)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(r-t)));const i=function(e,t,r){let n=r;for(let a=1;a<Py;a++)n-=e(n)/t(n);return n}(a,s,5/e);if(e=kx(e),isNaN(i))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(i,2)*n;return{stiffness:t,damping:2*o*Math.sqrt(n*t),duration:e}}}const Py=12;function Ty(e,t){return e*Math.sqrt(1-t*t)}const Ry=["duration","bounce"],Ay=["stiffness","damping","mass"];function Oy(e,t){return t.some(t=>void 0!==e[t])}function Dy({keyframes:e,restDelta:t,restSpeed:r,...n}){const a=e[0],s=e[e.length-1],o={done:!1,value:a},{stiffness:i,damping:l,mass:c,duration:d,velocity:u,isResolvedFromDuration:h}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Oy(e,Ay)&&Oy(e,Ry)){const r=Ey(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}({...n,velocity:-_x(n.velocity||0)}),p=u||0,m=l/(2*Math.sqrt(i*c)),f=s-a,g=_x(Math.sqrt(i/c)),v=Math.abs(f)<5;let x;if(r||(r=v?.01:2),t||(t=v?.005:.5),m<1){const e=Ty(g,m);x=t=>{const r=Math.exp(-m*g*t);return s-r*((p+m*g*f)/e*Math.sin(e*t)+f*Math.cos(e*t))}}else if(1===m)x=e=>s-Math.exp(-g*e)*(f+(p+g*f)*e);else{const e=g*Math.sqrt(m*m-1);x=t=>{const r=Math.exp(-m*g*t),n=Math.min(e*t,300);return s-r*((p+m*g*f)*Math.sinh(n)+e*f*Math.cosh(n))/e}}return{calculatedDuration:h&&d||null,next:e=>{const n=x(e);if(h)o.done=e>=d;else{let a=p;0!==e&&(a=m<1?Sy(x,e,n):0);const i=Math.abs(a)<=r,l=Math.abs(s-n)<=t;o.done=i&&l}return o.value=o.done?s:n,o}}}function Ly({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:i,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},p=e=>void 0===i?l:void 0===l||Math.abs(i-e)<Math.abs(l-e)?i:l;let m=r*t;const f=u+m,g=void 0===o?f:o(f);g!==f&&(m=g-u);const v=e=>-m*Math.exp(-e/n),x=e=>g+v(e),y=e=>{const t=v(e),r=x(e);h.done=Math.abs(t)<=c,h.value=h.done?g:r};let b,w;const j=e=>{var t;(t=h.value,void 0!==i&&t<i||void 0!==l&&t>l)&&(b=e,w=Dy({keyframes:[h.value,p(h.value)],velocity:Sy(x,e,h.value),damping:a,stiffness:s,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==b||(t=!0,y(e),j(e)),void 0!==b&&e>b?w.next(e-b):(!t&&y(e),h)}}}const My=e=>{const t=({timestamp:t})=>e(t);return{start:()=>Wv.update(t,!0),stop:()=>Hv(t),now:()=>Gv.isProcessing?Gv.timestamp:performance.now()}};function Fy(e){let t=0;let r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}const Iy={decay:Ly,inertia:Ly,tween:_y,keyframes:_y,spring:Dy};function $y({autoplay:e=!0,delay:t=0,driver:r=My,keyframes:n,type:a="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:u,...h}){let p,m,f=1,g=!1;const v=()=>{m=new Promise(e=>{p=e})};let x;v();const y=Iy[a]||_y;let b;y!==_y&&"number"!=typeof n[0]&&(b=jy([0,100],n,{clamp:!1}),n=[0,100]);const w=y({...h,keyframes:n});let j;"mirror"===i&&(j=y({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let k="idle",_=null,N=null,S=null;null===w.calculatedDuration&&s&&(w.calculatedDuration=Fy(w));const{calculatedDuration:C}=w;let E=1/0,P=1/0;null!==C&&(E=C+o,P=E*(s+1)-o);let T=0;const R=e=>{if(null===N)return;f>0&&(N=Math.min(N,e)),f<0&&(N=Math.min(e-P/f,N)),T=null!==_?_:Math.round(e-N)*f;const r=T-t*(f>=0?1:-1),a=f>=0?r<0:r>P;T=Math.max(r,0),"finished"===k&&null===_&&(T=P);let l=T,c=w;if(s){const e=Math.min(T,P)/E;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,s+1);Boolean(t%2)&&("reverse"===i?(r=1-r,o&&(r-=o/E)):"mirror"===i&&(c=j)),l=Jg(0,1,r)*E}const d=a?{done:!1,value:n[0]}:c.next(l);b&&(d.value=b(d.value));let{done:h}=d;a||null===C||(h=f>=0?T>=P:T<=0);const p=null===_&&("finished"===k||"running"===k&&h);return u&&u(d.value),p&&D(),d},A=()=>{x&&x.stop(),x=void 0},O=()=>{k="idle",A(),p(),v(),N=S=null},D=()=>{k="finished",d&&d(),A(),p()},L=()=>{if(g)return;x||(x=r(R));const e=x.now();l&&l(),null!==_?N=e-_:N&&"finished"!==k||(N=e),"finished"===k&&v(),S=N,_=null,k="running",x.start()};e&&L();const M={then:(e,t)=>m.then(e,t),get time(){return _x(T)},set time(e){e=kx(e),T=e,null===_&&x&&0!==f?N=x.now()-e/f:_=e},get duration(){const e=null===w.calculatedDuration?Fy(w):w.calculatedDuration;return _x(e)},get speed(){return f},set speed(e){e!==f&&x&&(f=e,M.time=_x(T))},get state(){return k},play:L,pause:()=>{k="paused",_=T},stop:()=>{g=!0,"idle"!==k&&(k="idle",c&&c(),O())},cancel:()=>{null!==S&&R(S),O()},complete:()=>{k="finished"},sample:e=>(N=0,R(e))};return M}const zy=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vy=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Uy(e,t,{onUpdate:r,onComplete:n,...a}){if(!(zy()&&Vy.has(t)&&!a.repeatDelay&&"mirror"!==a.repeatType&&0!==a.damping&&"inertia"!==a.type))return!1;let s,o,i=!1,l=!1;const c=()=>{o=new Promise(e=>{s=e})};c();let{keyframes:d,duration:u=300,ease:h,times:p}=a;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Cx(t.ease))(t,a)){const e=$y({...a,repeat:0,delay:0});let t={done:!1,value:d[0]};const r=[];let n=0;for(;!t.done&&n<2e4;)t=e.sample(n),r.push(t.value),n+=10;p=void 0,d=r,u=n-10,h="linear"}const m=function(e,t,r,{delay:n=0,duration:a,repeat:s=0,repeatType:o="loop",ease:i,times:l}={}){const c={[t]:r};l&&(c.offset=l);const d=Tx(i);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,d,{...a,duration:u,ease:h,times:p}),f=()=>{l=!1,m.cancel()},g=()=>{l=!0,Wv.update(f),s(),c()};m.onfinish=()=>{l||(e.set(function(e,{repeat:t,repeatType:r="loop"}){return e[t&&"loop"!==r&&t%2==1?0:e.length-1]}(d,a)),n&&n(),g())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,Uv),get time(){return _x(m.currentTime||0)},set time(e){m.currentTime=kx(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return _x(u)},play:()=>{i||(m.play(),Hv(f))},pause:()=>m.pause(),stop:()=>{if(i=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const r=$y({...a,autoplay:!1});e.setWithVelocity(r.sample(t-10).value,r.sample(t).value,10)}g()},complete:()=>{l||m.finish()},cancel:g}}const By={type:"spring",stiffness:500,damping:25,restSpeed:10},qy={type:"keyframes",duration:.8},Wy={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hy=(e,{keyframes:t})=>t.length>2?qy:zg.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:By:Wy,Gy=(e,t)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!py.test(t)&&"0"!==t||t.startsWith("url("))),Ky=new Set(["brightness","contrast","saturate","opacity"]);function Jy(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=r.match(ev)||[];if(!n)return e;const a=r.replace(n,"");let s=Ky.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const Yy=/([a-z-]*)\(.*?\)/g,Qy={...py,getAnimatableNone:e=>{const t=e.match(Yy);return t?t.map(Jy).join(" "):e}},Xy={...hv,color:Xx,backgroundColor:Xx,outlineColor:Xx,fill:Xx,stroke:Xx,borderColor:Xx,borderTopColor:Xx,borderRightColor:Xx,borderBottomColor:Xx,borderLeftColor:Xx,filter:Qy,WebkitFilter:Qy},Zy=e=>Xy[e];function eb(e,t){let r=Zy(e);return r!==Qy&&(r=py),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const tb=e=>/^0[^.\s]+$/.test(e);function rb(e){return"number"==typeof e?0===e:null!==e?"none"===e||"0"===e||tb(e):void 0}function nb(e,t){return e[t]||e.default||e}const ab=!1,sb=(e,t,r,n={})=>a=>{const s=nb(n,e)||{},o=s.delay||n.delay||0;let{elapsed:i=0}=n;i-=kx(o);const l=function(e,t,r,n){const a=Gy(t,r);let s;s=Array.isArray(r)?[...r]:[null,r];const o=void 0!==n.from?n.from:e.get();let i;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?o:s[c-1]),rb(s[c])&&l.push(c),"string"==typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(i=s[c]);if(a&&l.length&&i)for(let c=0;c<l.length;c++)s[l[c]]=eb(t,i);return s}(t,e,r,s),c=l[0],d=l[l.length-1],u=Gy(e,c),h=Gy(e,d);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-i,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{a(),s.onComplete&&s.onComplete()}};if(function({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:i,from:l,elapsed:c,...d}){return!!Object.keys(d).length}(s)||(p={...p,...Hy(e,p)}),p.duration&&(p.duration=kx(p.duration)),p.repeatDelay&&(p.repeatDelay=kx(p.repeatDelay)),!u||!h||Nx||!1===s.type||ab)return function({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const a=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Uv,pause:Uv,stop:Uv,then:e=>(e(),Promise.resolve()),cancel:Uv,complete:Uv});return t?$y({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const r=Uy(t,e,p);if(r)return r}return $y(p)};function ob(e){return Boolean(Ug(e)&&e.add)}const ib=e=>/^\-?\d*\.?\d+$/.test(e);function lb(e,t){-1===e.indexOf(t)&&e.push(t)}function cb(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class db{constructor(){this.subscriptions=[]}add(e){return lb(this.subscriptions,e),()=>cb(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let a=0;a<n;a++){const n=this.subscriptions[a];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class ub{constructor(e,t={}){var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;const{delta:r,timestamp:n}=Gv;this.lastUpdated!==n&&(this.timeDelta=r,this.lastUpdated=n,Wv.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Wv.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new db);const r=this.events[e].add(t);return"change"===e?()=>{r(),Wv.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ny(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hb(e,t){return new ub(e,t)}const pb=e=>t=>t.test(e),mb=[Yg,iv,ov,sv,cv,lv,{test:e=>"auto"===e,parse:e=>e}],fb=e=>mb.find(pb(e)),gb=[...mb,Xx,py],vb=e=>gb.find(pb(e));function xb(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,hb(r))}function yb(e,t){if(!t)return;return(t[e]||t.default||t).from}function bb({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,n}function wb(e,t){const r=e.get();if(!Array.isArray(t))return r!==t;for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}function jb(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...i}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");n&&(s=n);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in i){const t=e.getValue(u),n=i[u];if(!t||void 0===n||d&&bb(d,u))continue;const a={delay:r,elapsed:0,...nb(s||{},u)};if(window.HandoffAppearAnimations){const r=e.getProps()[xg];if(r){const e=window.HandoffAppearAnimations(r,u,t,Wv);null!==e&&(a.elapsed=e,a.isHandoff=!0)}}let o=!a.isHandoff&&!wb(t,n);if("spring"===a.type&&(t.getVelocity()||a.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(sb(u,t,n,e.shouldReduceMotion&&zg.has(u)?{type:!1}:a));const h=t.animation;ob(l)&&(l.add(u),h.then(()=>l.remove(u))),c.push(h)}return o&&Promise.all(c).then(()=>{o&&function(e,t){const r=bx(e,t);let{transitionEnd:n={},transition:a={},...s}=r?e.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s)xb(e,o,Iv(s[o]))}(e,o)}),c}function kb(e,t,r={}){const n=bx(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(jb(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(n=0)=>{const{delayChildren:s=0,staggerChildren:o,staggerDirection:i}=a;return function(e,t,r=0,n=0,a=1,s){const o=[],i=(e.variantChildren.size-1)*n,l=1===a?(e=0)=>e*n:(e=0)=>i-e*n;return Array.from(e.variantChildren).sort(_b).forEach((e,n)=>{e.notify("AnimationStart",t),o.push(kb(e,t,{...s,delay:r+l(n)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,s+n,o,i,r)}:()=>Promise.resolve(),{when:i}=a;if(i){const[e,t]="beforeChildren"===i?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(r.delay)])}function _b(e,t){return e.sortNodePosition(t)}const Nb=[...jg].reverse(),Sb=jg.length;function Cb(e){return t=>Promise.all(t.map(({animation:t,options:r})=>function(e,t,r={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map(t=>kb(e,t,r));n=Promise.all(a)}else if("string"==typeof t)n=kb(e,t,r);else{const a="function"==typeof t?bx(e,t,r.custom):t;n=Promise.all(jb(e,a,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,t,r)))}function Eb(e){let t=Cb(e);const r={animate:Tb(!0),whileInView:Tb(),whileHover:Tb(),whileTap:Tb(),whileDrag:Tb(),whileFocus:Tb(),exit:Tb()};let n=!0;const a=(t,r)=>{const n=bx(e,r);if(n){const{transition:e,transitionEnd:r,...a}=n;t={...t,...a,...r}}return t};function s(s,o){const i=e.getProps(),l=e.getVariantContext(!0)||{},c=[],d=new Set;let u={},h=1/0;for(let t=0;t<Sb;t++){const p=Nb[t],m=r[p],f=void 0!==i[p]?i[p]:l[p],g=bg(f),v=p===o?m.isActive:null;!1===v&&(h=t);let x=f===l[p]&&f!==i[p]&&g;if(x&&n&&e.manuallyAnimateOnMount&&(x=!1),m.protectedKeys={...u},!m.isActive&&null===v||!f&&!m.prevProp||wg(f)||"boolean"==typeof f)continue;let y=Pb(m.prevProp,f)||p===o&&m.isActive&&!x&&g||t>h&&g,b=!1;const w=Array.isArray(f)?f:[f];let j=w.reduce(a,{});!1===v&&(j={});const{prevResolvedValues:k={}}=m,_={...k,...j},N=e=>{y=!0,d.has(e)&&(b=!0,d.delete(e)),m.needsAnimating[e]=!0};for(const e in _){const t=j[e],r=k[e];if(u.hasOwnProperty(e))continue;let n=!1;n=Fv(t)&&Fv(r)?!yx(t,r):t!==r,n?void 0!==t?N(e):d.add(e):void 0!==t&&d.has(e)?N(e):m.protectedKeys[e]=!0}m.prevProp=f,m.prevResolvedValues=j,m.isActive&&(u={...u,...j}),n&&e.blockInitialAnimation&&(y=!1),!y||x&&!b||c.push(...w.map(e=>({animation:e,options:{type:p,...s}})))}if(d.size){const t={};d.forEach(r=>{const n=e.getBaseTarget(r);void 0!==n&&(t[r]=n)}),c.push({animation:t})}let p=Boolean(c.length);return!n||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(p=!1),n=!1,p?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,n,a){var o;if(r[t].isActive===n)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)}),r[t].isActive=n;const i=s(a,t);for(const e in r)r[e].protectedKeys={};return i},setAnimateFunction:function(r){t=r(e)},getState:()=>r}}function Pb(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!yx(t,e)}function Tb(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Rb=0;const Ab={animation:{Feature:class extends lx{constructor(e){super(e),e.animationState||(e.animationState=Eb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),wg(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends lx{constructor(){super(...arguments),this.id=Rb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e,{custom:null!=r?r:this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Ob=(e,t)=>Math.abs(e-t);class Db{constructor(e,t,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Fb(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=Ob(e.x,t.x),n=Ob(e.y,t.y);return Math.sqrt(r**2+n**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;const{point:n}=e,{timestamp:a}=Gv;this.history.push({...n,timestamp:a});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Lb(t,this.transformPagePoint),Wv.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:n,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Fb("pointercancel"===e.type?this.lastMoveEventInfo:Lb(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,s),n&&n(e,s)},!Xv(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=n||window;const s=Lb(Zv(e),this.transformPagePoint),{point:o}=s,{timestamp:i}=Gv;this.history=[{...o,timestamp:i}];const{onSessionStart:l}=t;l&&l(e,Fb(s,this.history)),this.removeListeners=rx(ex(this.contextWindow,"pointermove",this.handlePointerMove),ex(this.contextWindow,"pointerup",this.handlePointerUp),ex(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hv(this.updatePoint)}}function Lb(e,t){return t?{point:t(e.point)}:e}function Mb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fb({point:e},t){return{point:e,delta:Mb(e,$b(t)),offset:Mb(e,Ib(t)),velocity:zb(t,.1)}}function Ib(e){return e[0]}function $b(e){return e[e.length-1]}function zb(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=$b(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>kx(t)));)r--;if(!n)return{x:0,y:0};const s=_x(a.timestamp-n.timestamp);if(0===s)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vb(e){return e.max-e.min}function Ub(e,t=0,r=.01){return Math.abs(e-t)<=r}function Bb(e,t,r,n=.5){e.origin=n,e.originPoint=Zx(t.min,t.max,e.origin),e.scale=Vb(r)/Vb(t),(Ub(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Zx(r.min,r.max,e.origin)-e.originPoint,(Ub(e.translate)||isNaN(e.translate))&&(e.translate=0)}function qb(e,t,r,n){Bb(e.x,t.x,r.x,n?n.originX:void 0),Bb(e.y,t.y,r.y,n?n.originY:void 0)}function Wb(e,t,r){e.min=r.min+t.min,e.max=e.min+Vb(t)}function Hb(e,t,r){e.min=t.min-r.min,e.max=e.min+Vb(t)}function Gb(e,t,r){Hb(e.x,t.x,r.x),Hb(e.y,t.y,r.y)}function Kb(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function Jb(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}const Yb=.35;function Qb(e,t,r){return{min:Xb(e,t),max:Xb(e,r)}}function Xb(e,t){return"number"==typeof e?e:e[t]||0}const Zb=()=>({x:{min:0,max:0},y:{min:0,max:0}});function ew(e){return[e("x"),e("y")]}function tw({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function rw(e){return void 0===e||1===e}function nw({scale:e,scaleX:t,scaleY:r}){return!rw(e)||!rw(t)||!rw(r)}function aw(e){return nw(e)||sw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function sw(e){return ow(e.x)||ow(e.y)}function ow(e){return e&&"0%"!==e}function iw(e,t,r){return r+t*(e-r)}function lw(e,t,r,n,a){return void 0!==a&&(e=iw(e,a,n)),iw(e,r,n)+t}function cw(e,t=0,r=1,n,a){e.min=lw(e.min,t,r,n,a),e.max=lw(e.max,t,r,n,a)}function dw(e,{x:t,y:r}){cw(e.x,t.translate,t.scale,t.originPoint),cw(e.y,r.translate,r.scale,r.originPoint)}function uw(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function hw(e,t){e.min=e.min+t,e.max=e.max+t}function pw(e,t,[r,n,a]){const s=void 0!==t[a]?t[a]:.5,o=Zx(e.min,e.max,s);cw(e,t[r],t[n],o,t.scale)}const mw=["x","scaleX","originX"],fw=["y","scaleY","originY"];function gw(e,t){pw(e.x,t,mw),pw(e.y,t,fw)}function vw(e,t){return tw(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const xw=({current:e})=>e?e.ownerDocument.defaultView:null,yw=new WeakMap;class bw{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:n}=this.getProps();this.panSession=new Db(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Zv(e,"page").point)},onStart:(e,t)=>{const{drag:r,dragPropagation:n,onDragStart:a}=this.getProps();if(r&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ox(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ew(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ov.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const n=r.layout.layoutBox[e];if(n){t=Vb(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),a&&Wv.update(()=>a(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:r,dragDirectionLock:n,onDirectionLock:a,onDrag:s}=this.getProps();if(!r&&!this.openGlobalLock)return;const{offset:o}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(o),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>ew(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,contextWindow:xw(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&Wv.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:n}=this.getProps();if(!r||!ww(e,n,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:r},n){return void 0!==t&&e<t?e=n?Zx(t,e,n.min):Math.max(e,t):void 0!==r&&e>r&&(e=n?Zx(r,e,n.max):Math.min(e,r)),e}(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,a=this.constraints;t&&yg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,{top:t,left:r,bottom:n,right:a}){return{x:Kb(e.x,r,a),y:Kb(e.y,t,n)}}(n.layoutBox,t),this.elastic=function(e=Yb){return!1===e?e=0:!0===e&&(e=Yb),{x:Qb(e,"left","right"),y:Qb(e,"top","bottom")}}(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ew(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yg(e))return!1;const r=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=function(e,t,r){const n=vw(e,r),{scroll:a}=t;return a&&(hw(n.x,a.offset.x),hw(n.y,a.offset.y)),n}(r,n.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Jb(e.x,t.x),y:Jb(e.y,t.y)}}(n.layout.layoutBox,a);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=tw(e))}return s}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),i=this.constraints||{},l=ew(o=>{if(!ww(o,t,this.currentDirection))return;let l=i&&i[o]||{};s&&(l={min:0,max:0});const c=n?200:1e6,d=n?40:1e7,u={type:"inertia",velocity:r?e[o]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...a,...l};return this.startAxisValueAnimation(o,u)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(sb(e,r,0,t))}stopAnimation(){ew(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ew(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ew(t=>{const{drag:r}=this.getProps();if(!ww(t,r,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(t);if(n&&n.layout){const{min:r,max:s}=n.layout.layoutBox[t];a.set(e[t]-Zx(r,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!yg(t)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ew(e=>{const t=this.getAxisMotionValue(e);if(t){const r=t.get();n[e]=function(e,t){let r=.5;const n=Vb(e),a=Vb(t);return a>n?r=yy(t.min,t.max-n,e.min):n>a&&(r=yy(e.min,e.max-a,t.min)),Jg(0,1,r)}({min:r,max:r},this.constraints[e])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ew(t=>{if(!ww(t,e,null))return;const r=this.getAxisMotionValue(t),{min:a,max:s}=this.constraints[t];r.set(Zx(a,s,n[t]))})}addListeners(){if(!this.visualElement.current)return;yw.set(this.visualElement,this);const e=ex(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();yg(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),t();const a=Qv(window,"resize",()=>this.scalePositionWithinConstraints()),s=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(ew(t=>{const r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),e(),n(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:s=Yb,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function ww(e,t,r){return!(!0!==t&&t!==e||null!==r&&r!==e)}const jw=e=>(t,r)=>{e&&Wv.update(()=>e(t,r))};const kw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _w(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Nw={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!iv.test(e))return e;e=parseFloat(e)}return`${_w(e,t.target.x)}% ${_w(e,t.target.y)}%`}},Sw={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=py.parse(e);if(a.length>5)return n;const s=py.createTransformer(e),o="number"!=typeof a[0]?1:0,i=r.x.scale*t.x,l=r.y.scale*t.y;a[0+o]/=i,a[1+o]/=l;const c=Zx(i,l,.5);return"number"==typeof a[2+o]&&(a[2+o]/=c),"number"==typeof a[3+o]&&(a[3+o]/=c),s(a)}};class Cw extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=e;var s;s=Pw,Object.assign(Ig,s),a&&(t.group&&t.group.add(a),r&&r.register&&n&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),kw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:n,isPresent:a}=this.props,s=r.projection;return s?(s.isPresent=a,n||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Wv.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ew(e){const[t,r]=function(){const e=U.useContext(pg);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=U.useId();return U.useEffect(()=>n(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}(),n=U.useContext(Tg);return B.createElement(Cw,{...e,layoutGroup:n,switchLayoutGroup:U.useContext(Rg),isPresent:t,safeToRemove:r})}const Pw={borderRadius:{...Nw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nw,borderTopRightRadius:Nw,borderBottomLeftRadius:Nw,borderBottomRightRadius:Nw,boxShadow:Sw},Tw=["TopLeft","TopRight","BottomLeft","BottomRight"],Rw=Tw.length,Aw=e=>"string"==typeof e?parseFloat(e):e,Ow=e=>"number"==typeof e||iv.test(e);function Dw(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Lw=Fw(0,.5,$x),Mw=Fw(.5,.95,Uv);function Fw(e,t,r){return n=>n<e?0:n>t?1:r(yy(e,t,n))}function Iw(e,t){e.min=t.min,e.max=t.max}function $w(e,t){Iw(e.x,t.x),Iw(e.y,t.y)}function zw(e,t,r,n,a){return e=iw(e-=t,1/r,n),void 0!==a&&(e=iw(e,1/a,n)),e}function Vw(e,t,[r,n,a],s,o){!function(e,t=0,r=1,n=.5,a,s=e,o=e){ov.test(t)&&(t=parseFloat(t),t=Zx(o.min,o.max,t/100)-o.min);if("number"!=typeof t)return;let i=Zx(s.min,s.max,n);e===s&&(i-=t),e.min=zw(e.min,t,r,i,a),e.max=zw(e.max,t,r,i,a)}(e,t[r],t[n],t[a],t.scale,s,o)}const Uw=["x","scaleX","originX"],Bw=["y","scaleY","originY"];function qw(e,t,r,n){Vw(e.x,t,Uw,r?r.x:void 0,n?n.x:void 0),Vw(e.y,t,Bw,r?r.y:void 0,n?n.y:void 0)}function Ww(e){return 0===e.translate&&1===e.scale}function Hw(e){return Ww(e.x)&&Ww(e.y)}function Gw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Kw(e){return Vb(e.x)/Vb(e.y)}class Jw{constructor(){this.members=[]}add(e){lb(this.members,e),e.scheduleRender()}remove(e){if(cb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let r;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yw(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y;if((a||s)&&(n=`translate3d(${a}px, ${s}px, 0) `),1===t.x&&1===t.y||(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:e,rotateX:t,rotateY:a}=r;e&&(n+=`rotate(${e}deg) `),t&&(n+=`rotateX(${t}deg) `),a&&(n+=`rotateY(${a}deg) `)}const o=e.x.scale*t.x,i=e.y.scale*t.y;return 1===o&&1===i||(n+=`scale(${o}, ${i})`),n||"none"}const Qw=(e,t)=>e.depth-t.depth;class Xw{constructor(){this.children=[],this.isDirty=!1}add(e){lb(this.children,e),this.isDirty=!0}remove(e){cb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qw),this.isDirty=!1,this.children.forEach(e)}}const Zw=["","X","Y","Z"],ej={visibility:"hidden"};let tj=0;const rj={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nj({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(e={},r=(null==t?void 0:t())){this.id=tj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,rj.totalNodes=rj.resolvedTargetDeltas=rj.recalculatedProjection=0,this.nodes.forEach(oj),this.nodes.forEach(pj),this.nodes.forEach(mj),this.nodes.forEach(ij),e=rj,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xw)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new db),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,r=this.root.hasTreeAnimated){if(this.instance)return;var n;this.isSVG=(n=t)instanceof SVGElement&&"svg"!==n.tagName,this.instance=t;const{layoutId:a,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||a)&&(this.isLayoutDirty=!0),e){let r;const n=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){const r=performance.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Hv(n),e(s-t))};return Wv.read(n,!0),()=>Hv(n)}(n,250),kw.hasAnimatedSinceResize&&(kw.hasAnimatedSinceResize=!1,this.nodes.forEach(hj))})}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&o&&(a||s)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||o.getDefaultTransition()||bj,{onLayoutAnimationStart:s,onLayoutAnimationComplete:i}=o.getProps(),l=!this.targetLayout||!Gw(this.targetLayout,n)||r,c=!t&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...nb(a,"layout"),onPlay:s,onComplete:i};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||hj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hv(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fj),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(cj);this.isUpdating||this.nodes.forEach(dj),this.isUpdating=!1,this.nodes.forEach(uj),this.nodes.forEach(aj),this.nodes.forEach(sj),this.clearAllSnapshots();const e=performance.now();Gv.delta=Jg(0,1e3/60,e-Gv.timestamp),Gv.timestamp=e,Gv.isProcessing=!0,Kv.update.process(Gv),Kv.preRender.process(Gv),Kv.render.process(Gv),Gv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(lj),this.sharedNodes.forEach(gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wv.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wv.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Hw(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,s=n!==this.prevTransformTemplateValue;e&&(t||aw(this.latestValues)||s)&&(a(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let r=this.removeElementScroll(t);var n;return e&&(r=this.removeTransform(r)),kj((n=r).x),kj(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:r}=this.root;return r&&(hw(t.x,r.offset.x),hw(t.y,r.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};$w(t,e);for(let r=0;r<this.path.length;r++){const n=this.path[r],{scroll:a,options:s}=n;if(n!==this.root&&a&&s.layoutScroll){if(a.isRoot){$w(t,e);const{scroll:r}=this.root;r&&(hw(t.x,-r.offset.x),hw(t.y,-r.offset.y))}hw(t.x,a.offset.x),hw(t.y,a.offset.y)}}return t}applyTransform(e,t=!1){const r={x:{min:0,max:0},y:{min:0,max:0}};$w(r,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&gw(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),aw(e.latestValues)&&gw(r,e.latestValues)}return aw(this.latestValues)&&gw(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};$w(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!aw(e.latestValues))continue;nw(e.latestValues)&&e.updateSnapshot();const n=Zb();$w(n,e.measurePageBox()),qw(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return aw(this.latestValues)&&qw(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==r;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:a,layoutId:s}=this.options;if(this.layout&&(a||s)){if(this.resolvedRelativeTargetAt=Gv.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Gb(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),$w(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,i,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,i=this.relativeTarget,l=this.relativeParent.target,Wb(o.x,i.x,l.x),Wb(o.y,i.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):$w(this.target,this.layout.layoutBox),dw(this.target,this.targetDelta)):$w(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Gb(this.relativeTargetOrigin,this.target,e.target),$w(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rj.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!nw(this.parent.latestValues)&&!sw(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Gv.timestamp&&(n=!1),n)return;const{layout:a,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!s)return;$w(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,i=this.treeScale.y;!function(e,t,r,n=!1){const a=r.length;if(!a)return;let s,o;t.x=t.y=1;for(let i=0;i<a;i++){s=r[i],o=s.projectionDelta;const a=s.instance;a&&a.style&&"contents"===a.style.display||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&gw(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,dw(e,o)),n&&aw(s.latestValues)&&gw(e,s.latestValues))}t.x=uw(t.x),t.y=uw(t.y)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;qb(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Yw(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===o&&this.treeScale.y===i||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),rj.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){const r=this.snapshot,n=r?r.latestValues:{},a={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},i=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(i&&!c&&!0===this.options.crossfade&&!this.path.some(yj));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;var l,h,p,m;vj(s.x,e.x,r),vj(s.y,e.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gb(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,h=this.relativeTargetOrigin,p=o,m=r,xj(l.x,h.x,p.x,m),xj(l.y,h.y,p.y,m),u&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),$w(u,this.relativeTarget)),i&&(this.animationValues=a,function(e,t,r,n,a,s){a?(e.opacity=Zx(0,void 0!==r.opacity?r.opacity:1,Lw(n)),e.opacityExit=Zx(void 0!==t.opacity?t.opacity:1,0,Mw(n))):s&&(e.opacity=Zx(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let o=0;o<Rw;o++){const a=`border${Tw[o]}Radius`;let s=Dw(t,a),i=Dw(r,a);void 0===s&&void 0===i||(s||(s=0),i||(i=0),0===s||0===i||Ow(s)===Ow(i)?(e[a]=Math.max(Zx(Aw(s),Aw(i),n),0),(ov.test(i)||ov.test(s))&&(e[a]+="%")):e[a]=i)}(t.rotate||r.rotate)&&(e.rotate=Zx(t.rotate||0,r.rotate||0,n))}(a,n,this.latestValues,r,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hv(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wv.update(()=>{kw.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,r){const n=Ug(e)?e:hb(e);return n.start(sb("",n,t,r)),n.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:n,latestValues:a}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&_j(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Vb(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const n=Vb(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}$w(t,r),gw(t,a),qb(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Jw);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){const n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(t=!0),!t)return;const n={};for(let a=0;a<Zw.length;a++){const t="rotate"+Zw[a];r[t]&&(n[t]=r[t],e.setStaticValue(t,0))}e.render();for(const a in n)e.setStaticValue(a,n[a]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ej;const n={visibility:""},a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=$v(null==e?void 0:e.pointerEvents)||"",n.transform=a?a(this.latestValues,""):"none",n;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=$v(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!aw(this.latestValues)&&(t.transform=a?a({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),n.transform=Yw(this.projectionDeltaWithTransform,this.treeScale,o),a&&(n.transform=a(o,n.transform));const{x:i,y:l}=this.projectionDelta;n.transformOrigin=`${100*i.origin}% ${100*l.origin}% 0`,s.animationValues?n.opacity=s===this?null!==(r=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:n.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in Ig){if(void 0===o[c])continue;const{correct:e,applyTo:t}=Ig[c],r="none"===n.transform?o[c]:e(o[c],s);if(t){const e=t.length;for(let a=0;a<e;a++)n[t[a]]=r}else n[c]=r}return this.options.layoutId&&(n.pointerEvents=s===this?$v(null==e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(cj),this.root.sharedNodes.clear()}}}function aj(e){e.updateLayout()}function sj(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:a}=e.options,s=r.source!==e.layout.source;"size"===a?ew(e=>{const n=s?r.measuredBox[e]:r.layoutBox[e],a=Vb(n);n.min=t[e].min,n.max=n.min+a}):_j(a,r.layoutBox,t)&&ew(n=>{const a=s?r.measuredBox[n]:r.layoutBox[n],o=Vb(t[n]);a.max=a.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};qb(o,t,r.layoutBox);const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?qb(i,e.applyTransform(n,!0),r.measuredBox):qb(i,t,r.layoutBox);const l=!Hw(o);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:a,layout:s}=n;if(a&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};Gb(o,r.layoutBox,a.layoutBox);const i={x:{min:0,max:0},y:{min:0,max:0}};Gb(i,t,s.layoutBox),Gw(o,i)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=i,e.relativeTargetOrigin=o,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:i,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function oj(e){rj.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ij(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lj(e){e.clearSnapshot()}function cj(e){e.clearMeasurements()}function dj(e){e.isLayoutDirty=!1}function uj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pj(e){e.resolveTargetDelta()}function mj(e){e.calcProjection()}function fj(e){e.resetRotation()}function gj(e){e.removeLeadSnapshot()}function vj(e,t,r){e.translate=Zx(t.translate,0,r),e.scale=Zx(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function xj(e,t,r,n){e.min=Zx(t.min,r.min,n),e.max=Zx(t.max,r.max,n)}function yj(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const bj={duration:.45,ease:[.4,0,.1,1]},wj=e=>"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes(e),jj=wj("applewebkit/")&&!wj("chrome/")?Math.round:Uv;function kj(e){e.min=jj(e.min),e.max=jj(e.max)}function _j(e,t,r){return"position"===e||"preserve-aspect"===e&&!Ub(Kw(t),Kw(r),.2)}const Nj=nj({attachResizeListener:(e,t)=>Qv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sj={current:void 0},Cj=nj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sj.current){const e=new Nj({});e.mount(window),e.setOptions({layoutScroll:!0}),Sj.current=e}return Sj.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ej={pan:{Feature:class extends lx{constructor(){super(...arguments),this.removePointerDownListener=Uv}onPointerDown(e){this.session=new Db(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:jw(e),onStart:jw(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&Wv.update(()=>n(e,t))}}}mount(){this.removePointerDownListener=ex(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends lx{constructor(e){super(e),this.removeGroupControls=Uv,this.removeListeners=Uv,this.controls=new bw(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Uv}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Cj,MeasureLayout:Ew}},Pj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Tj(e,t,r=1){const[n,a]=function(e){const t=Pj.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const e=s.trim();return ib(e)?parseFloat(e):e}return Gg(a)?Tj(a,t,r+1):a}const Rj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Aj=e=>Rj.has(e),Oj=e=>e===Yg||e===iv,Dj=(e,t)=>parseFloat(e.split(", ")[t]),Lj=(e,t)=>(r,{transform:n})=>{if("none"===n||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return Dj(a[1],t);{const t=n.match(/^matrix\((.+)\)$/);return t?Dj(t[1],e):0}},Mj=new Set(["x","y","z"]),Fj=$g.filter(e=>!Mj.has(e));const Ij={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Lj(4,13),y:Lj(5,14)};Ij.translateX=Ij.x,Ij.translateY=Ij.y;const $j=(e,t,r={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(Aj);let s=[],o=!1;const i=[];if(a.forEach(a=>{const l=e.getValue(a);if(!e.hasValue(a))return;let c=r[a],d=fb(c);const u=t[a];let h;if(Fv(u)){const e=u.length,t=null===u[0]?1:0;c=u[t],d=fb(c);for(let r=t;r<e&&null!==u[r];r++)h?jx(fb(u[r])===h):h=fb(u[r])}else h=fb(u);if(d!==h)if(Oj(d)&&Oj(h)){const e=l.get();"string"==typeof e&&l.set(parseFloat(e)),"string"==typeof u?t[a]=parseFloat(u):Array.isArray(u)&&h===iv&&(t[a]=u.map(parseFloat))}else(null==d?void 0:d.transform)&&(null==h?void 0:h.transform)&&(0===c||0===u)?0===c?l.set(h.transform(c)):t[a]=d.transform(u):(o||(s=function(e){const t=[];return Fj.forEach(r=>{const n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),o=!0),i.push(a),n[a]=void 0!==n[a]?n[a]:t[a],l.jump(u))}),i.length){const r=i.indexOf("height")>=0?window.pageYOffset:null,a=((e,t,r)=>{const n=t.measureViewportBox(),a=t.current,s=getComputedStyle(a),{display:o}=s,i={};"none"===o&&t.setStaticValue("display",e.display||"block"),r.forEach(e=>{i[e]=Ij[e](n,s)}),t.render();const l=t.measureViewportBox();return r.forEach(r=>{const n=t.getValue(r);n&&n.jump(i[r]),e[r]=Ij[r](l,s)}),e})(t,e,i);return s.length&&s.forEach(([t,r])=>{e.getValue(t).set(r)}),e.render(),mg&&null!==r&&window.scrollTo({top:r}),{target:a,transitionEnd:n}}return{target:t,transitionEnd:n}};function zj(e,t,r,n){return(e=>Object.keys(e).some(Aj))(t)?$j(e,t,r,n):{target:t,transitionEnd:n}}const Vj=(e,t,r,n)=>{const a=function(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(e=>{const t=e.get();if(!Gg(t))return;const r=Tj(t,n);r&&e.set(r)});for(const a in t){const e=t[a];if(!Gg(e))continue;const s=Tj(e,n);s&&(t[a]=s,r||(r={}),void 0===r[a]&&(r[a]=e))}return{target:t,transitionEnd:r}}(e,t,n);return zj(e,t=a.target,r,n=a.transitionEnd)},Uj={current:null},Bj={current:!1};const qj=new WeakMap,Wj=Object.keys(Pg),Hj=Wj.length,Gj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Kj=kg.length;class Jj{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:n,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Wv.render(this.render,!1,!0);const{latestValues:o,renderState:i}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=i,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=s,this.isControllingVariants=_g(t),this.isVariantNode=Ng(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...c}=this.scrapeMotionValuesFromProps(t,{});for(const d in c){const e=c[d];void 0!==o[d]&&Ug(e)&&(e.set(o[d],!1),ob(l)&&l.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,qj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Bj.current||function(){if(Bj.current=!0,mg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Uj.current=e.matches;e.addListener(t),t()}else Uj.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Uj.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qj.delete(this.current),this.projection&&this.projection.unmount(),Hv(this.notifyUpdate),Hv(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=zg.has(e),n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Wv.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{n(),a()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures({children:e,...t},r,n,a){let s,o;for(let i=0;i<Hj;i++){const e=Wj[i],{isEnabled:r,Feature:n,ProjectionNode:a,MeasureLayout:l}=Pg[e];a&&(s=a),r(t)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),l&&(o=l))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:r,drag:n,dragConstraints:o,layoutScroll:i,layoutRoot:l}=t;this.projection.setOptions({layoutId:e,layout:r,alwaysMeasureLayout:Boolean(n)||o&&yg(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof r?r:"both",initialPromotionConfig:a,layoutScroll:i,layoutRoot:l})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Gj.length;r++){const t=Gj[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,r){const{willChange:n}=t;for(const a in t){const s=t[a],o=r[a];if(Ug(s))e.addValue(a,s),ob(n)&&n.add(a);else if(Ug(o))e.addValue(a,hb(s,{owner:e})),ob(n)&&n.remove(a);else if(o!==s)if(e.hasValue(a)){const t=e.getValue(a);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(a);e.addValue(a,hb(void 0!==t?t:s,{owner:e}))}}for(const a in r)void 0===t[a]&&e.removeValue(a);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const t={};for(let r=0;r<Kj;r++){const e=kg[r],n=this.props[e];(bg(n)||!1===n)&&(t[e]=n)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=hb(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,n="string"==typeof r||"object"==typeof r?null===(t=Lv(this.props,r))||void 0===t?void 0:t[e]:void 0;if(r&&void 0!==n)return n;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||Ug(a)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new db),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Yj extends Jj{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:n},a){let s=function(e,t,r){const n={};for(const a in e){const e=yb(a,t);if(void 0!==e)n[a]=e;else{const e=r.getValue(a);e&&(n[a]=e.get())}}return n}(r,e||{},this);if(n&&(t&&(t=n(t)),r&&(r=n(r)),s&&(s=n(s))),a){!function(e,t,r){var n,a;const s=Object.keys(t).filter(t=>!e.hasValue(t)),o=s.length;if(o)for(let i=0;i<o;i++){const o=s[i],l=t[o];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(a=null!==(n=r[o])&&void 0!==n?n:e.readValue(o))&&void 0!==a?a:t[o]),null!=c&&("string"==typeof c&&(ib(c)||tb(c))?c=parseFloat(c):!vb(c)&&py.test(l)&&(c=eb(o,l)),e.addValue(o,hb(c,{owner:e})),void 0===r[o]&&(r[o]=c),null!==c&&e.setBaseTarget(o,c))}}(this,r,s);const e=Vj(this,r,s,t);t=e.transitionEnd,r=e.target}return{transition:e,transitionEnd:t,...r}}}class Qj extends Yj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(zg.has(t)){const e=Zy(t);return e&&e.default||0}{const n=(r=e,window.getComputedStyle(r)),a=(Hg(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof a?a.trim():a}var r}measureInstanceViewportBox(e,{transformPagePoint:t}){return vw(e,t)}build(e,t,r,n){pv(e,t,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Ov(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ug(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(e,t,r,n){Tv(e,t,r,n)}}class Xj extends Yj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(zg.has(t)){const e=Zy(t);return e&&e.default||0}return t=Rv.has(t)?t:vg(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Dv(e,t)}build(e,t,r,n){Nv(e,t,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,r,n){Av(e,t,0,n)}mount(e){this.isSVGTag=Cv(e.tagName),super.mount(e)}}const Zj=(e,t)=>Fg(e)?new Xj(t,{enableHardwareAcceleration:!1}):new Qj(t,{enableHardwareAcceleration:!0}),ek={...Ab,...xx,...Ej,...{layout:{ProjectionNode:Cj,MeasureLayout:Ew}}},tk=Lg((e,t)=>function(e,{forwardMotionProps:t=!1},r,n){return{...Fg(e)?Jv:Yv,preloadedFeatures:r,useRender:Pv(t),createVisualElement:n,Component:e}}(e,t,ek,Zj));function rk(){const e=U.useRef(!1);return fg(()=>(e.current=!0,()=>{e.current=!1}),[]),e}class nk extends U.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ak({children:e,isPresent:t}){const r=U.useId(),n=U.useRef(null),a=U.useRef({width:0,height:0,top:0,left:0});return U.useInsertionEffect(()=>{const{width:e,height:s,top:o,left:i}=a.current;if(t||!n.current||!e||!s)return;n.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${s}px !important;\n            top: ${o}px !important;\n            left: ${i}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}},[t]),U.createElement(nk,{isPresent:t,childRef:n,sizeRef:a},U.cloneElement(e,{ref:n}))}const sk=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o})=>{const i=Mv(ok),l=U.useId(),c=U.useMemo(()=>({id:l,initial:t,isPresent:r,custom:a,onExitComplete:e=>{i.set(e,!0);for(const t of i.values())if(!t)return;n&&n()},register:e=>(i.set(e,!1),()=>i.delete(e))}),s?void 0:[r]);return U.useMemo(()=>{i.forEach((e,t)=>i.set(t,!1))},[r]),U.useEffect(()=>{!r&&!i.size&&n&&n()},[r]),"popLayout"===o&&(e=U.createElement(ak,{isPresent:r},e)),U.createElement(pg.Provider,{value:c},e)};function ok(){return new Map}const ik=e=>e.key||"";const lk=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const i=U.useContext(Tg).forceRender||function(){const e=rk(),[t,r]=U.useState(0),n=U.useCallback(()=>{e.current&&r(t+1)},[t]);return[U.useCallback(()=>Wv.postRender(n),[n]),t]}()[0],l=rk(),c=function(e){const t=[];return U.Children.forEach(e,e=>{U.isValidElement(e)&&t.push(e)}),t}(e);let d=c;const u=U.useRef(new Map).current,h=U.useRef(d),p=U.useRef(new Map).current,m=U.useRef(!0);var f;if(fg(()=>{m.current=!1,function(e,t){e.forEach(e=>{const r=ik(e);t.set(r,e)})}(c,p),h.current=d}),f=()=>{m.current=!0,p.clear(),u.clear()},U.useEffect(()=>()=>f(),[]),m.current)return U.createElement(U.Fragment,null,d.map(e=>U.createElement(sk,{key:ik(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:s,mode:o},e)));d=[...d];const g=h.current.map(ik),v=c.map(ik),x=g.length;for(let y=0;y<x;y++){const e=g[y];-1!==v.indexOf(e)||u.has(e)||u.set(e,void 0)}return"wait"===o&&u.size&&(d=[]),u.forEach((e,r)=>{if(-1!==v.indexOf(r))return;const a=p.get(r);if(!a)return;const m=g.indexOf(r);let f=e;if(!f){const e=()=>{u.delete(r);const e=Array.from(p.keys()).filter(e=>!v.includes(e));if(e.forEach(e=>p.delete(e)),h.current=c.filter(t=>{const n=ik(t);return n===r||e.includes(n)}),!u.size){if(!1===l.current)return;i(),n&&n()}};f=U.createElement(sk,{key:ik(a),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:s,mode:o},a),u.set(r,f)}d.splice(m,0,f)}),d=d.map(e=>{const t=e.key;return u.has(t)?e:U.createElement(sk,{key:ik(e),isPresent:!0,presenceAffectsLayout:s,mode:o},e)}),U.createElement(U.Fragment,null,u.size?d:d.map(e=>U.cloneElement(e)))},ck=Um("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dk=B.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?Sp:"button";return X.jsx(o,{className:xp(ck({variant:t,size:r,className:e})),ref:s,...a})});dk.displayName="Button";const uk=B.forwardRef(({className:e,type:t,...r},n)=>X.jsx("input",{type:t,className:xp("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));uk.displayName="Input";var hk=U.forwardRef((e,t)=>X.jsx(Rp.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));hk.displayName="Label";var pk=hk;const mk=Um("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fk=B.forwardRef(({className:e,...t},r)=>X.jsx(pk,{ref:r,className:xp(mk(),e),...t}));fk.displayName=pk.displayName;const gk=B.forwardRef(({className:e,...t},r)=>X.jsx("div",{ref:r,className:xp("rounded-lg border bg-gray-800 text-white shadow-sm",e),...t}));gk.displayName="Card";const vk=B.forwardRef(({className:e,...t},r)=>X.jsx("div",{ref:r,className:xp("flex flex-col space-y-1.5 p-6",e),...t}));vk.displayName="CardHeader";const xk=B.forwardRef(({className:e,...t},r)=>X.jsx("h3",{ref:r,className:xp("text-2xl font-semibold leading-none tracking-tight",e),...t}));xk.displayName="CardTitle";const yk=B.forwardRef(({className:e,...t},r)=>X.jsx("p",{ref:r,className:xp("text-sm text-gray-400",e),...t}));yk.displayName="CardDescription";const bk=B.forwardRef(({className:e,...t},r)=>X.jsx("div",{ref:r,className:xp("p-6 pt-0",e),...t}));bk.displayName="CardContent";B.forwardRef(({className:e,...t},r)=>X.jsx("div",{ref:r,className:xp("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";const wk={},jk=function(e,t,r){if(!t||0===t.length)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in wk)return;wk[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!r)for(let r=n.length-1;r>=0;r--){const a=n[r];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})};class kk extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class _k extends kk{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nk extends kk{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sk extends kk{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ck,Ek;(Ek=Ck||(Ck={})).Any="any",Ek.ApNortheast1="ap-northeast-1",Ek.ApNortheast2="ap-northeast-2",Ek.ApSouth1="ap-south-1",Ek.ApSoutheast1="ap-southeast-1",Ek.ApSoutheast2="ap-southeast-2",Ek.CaCentral1="ca-central-1",Ek.EuCentral1="eu-central-1",Ek.EuWest1="eu-west-1",Ek.EuWest2="eu-west-2",Ek.EuWest3="eu-west-3",Ek.SaEast1="sa-east-1",Ek.UsEast1="us-east-1",Ek.UsWest1="us-west-1",Ek.UsWest2="us-west-2";var Pk=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{l(n.next(e))}catch(QL){s(QL)}}function i(e){try{l(n.throw(e))}catch(QL){s(QL)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((n=n.apply(e,t||[])).next())})};class Tk{constructor(e,{headers:t={},customFetch:r,region:n=Ck.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>jk(()=>Promise.resolve().then(()=>Bk),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Pk(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:s}=t;let o={},{region:i}=t;i||(i=this.region);const l=new URL(`${this.url}/${e}`);let c;i&&"any"!==i&&(o["x-region"]=i,l.searchParams.set("forceFunctionRegion",i)),s&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!=typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):"string"==typeof s?(o["Content-Type"]="text/plain",c=s):"undefined"!=typeof FormData&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const d=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),n),body:c}).catch(e=>{throw new _k(e)}),u=d.headers.get("x-relay-error");if(u&&"true"===u)throw new Nk(d);if(!d.ok)throw new Sk(d);let h,p=(null!==(r=d.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===p?yield d.json():"application/octet-stream"===p?yield d.blob():"text/event-stream"===p?d:"multipart/form-data"===p?yield d.formData():yield d.text(),{data:h,error:null,response:d}}catch(n){return{data:null,error:n,response:n instanceof Sk||n instanceof Nk?n.context:void 0}}})}}var Rk={},Ak={},Ok={},Dk={},Lk={},Mk={},Fk=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const Ik=Fk.fetch,$k=Fk.fetch.bind(Fk),zk=Fk.Headers,Vk=Fk.Request,Uk=Fk.Response,Bk=Object.freeze(Object.defineProperty({__proto__:null,Headers:zk,Request:Vk,Response:Uk,default:$k,fetch:Ik},Symbol.toStringTag,{value:"Module"})),qk=n(Bk);var Wk={};Object.defineProperty(Wk,"__esModule",{value:!0});let Hk=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Wk.default=Hk;var Gk=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mk,"__esModule",{value:!0});const Kk=Gk(qk),Jk=Gk(Wk);Mk.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=Kk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n,a;let s=null,o=null,i=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const r=await e.text();""===r||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}const a=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),d=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");a&&d&&d.length>1&&(i=parseInt(d[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,i=null,l=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(o=[],s=null,l=200,c="OK")}catch(d){404===e.status&&""===t?(l=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(a=null==s?void 0:s.details)||void 0===a?void 0:a.includes("0 rows"))&&(s=null,l=200,c="OK"),s&&this.shouldThrowOnError)throw new Jk.default(s)}return{error:s,data:o,count:i,status:l,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null==e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}};var Yk=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lk,"__esModule",{value:!0});const Qk=Yk(Mk);let Xk=class extends Qk.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var o;const i=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${i};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Lk.default=Xk;var Zk=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dk,"__esModule",{value:!0});const e_=Zk(Lk);let t_=class extends e_.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Dk.default=t_;var r_=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ok,"__esModule",{value:!0});const n_=r_(Dk);Ok.default=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){const n=t?"HEAD":"GET";let a=!1;const s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new n_.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new n_.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new n_.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}update(e,{count:t}={}){var r;return t&&this.headers.append("Prefer",`count=${t}`),new n_.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new n_.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}};var a_=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ak,"__esModule",{value:!0});const s_=a_(Ok),o_=a_(Dk);Ak.default=class e{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new s_.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:a}={}){var s;let o;const i=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{i.searchParams.append(e,t)})):(o="POST",l=t);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new o_.default({method:o,url:i,headers:c,schema:this.schemaName,body:l,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}};var i_=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rk,"__esModule",{value:!0}),Rk.PostgrestError=Rk.PostgrestBuilder=Rk.PostgrestTransformBuilder=Rk.PostgrestFilterBuilder=Rk.PostgrestQueryBuilder=Rk.PostgrestClient=void 0;const l_=i_(Ak);Rk.PostgrestClient=l_.default;const c_=i_(Ok);Rk.PostgrestQueryBuilder=c_.default;const d_=i_(Dk);Rk.PostgrestFilterBuilder=d_.default;const u_=i_(Lk);Rk.PostgrestTransformBuilder=u_.default;const h_=i_(Mk);Rk.PostgrestBuilder=h_.default;const p_=i_(Wk);Rk.PostgrestError=p_.default;var m_=Rk.default={PostgrestClient:l_.default,PostgrestQueryBuilder:c_.default,PostgrestFilterBuilder:d_.default,PostgrestTransformBuilder:u_.default,PostgrestBuilder:h_.default,PostgrestError:p_.default};const{PostgrestClient:f_,PostgrestQueryBuilder:g_,PostgrestFilterBuilder:v_,PostgrestTransformBuilder:x_,PostgrestBuilder:y_,PostgrestError:b_}=m_;const w_=function(){if("undefined"!=typeof WebSocket)return WebSocket;if(void 0!==global.WebSocket)return global.WebSocket;if(void 0!==window.WebSocket)return window.WebSocket;if(void 0!==self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var j_,k_,__,N_,S_,C_,E_,P_,T_,R_,A_;(k_=j_||(j_={}))[k_.connecting=0]="connecting",k_[k_.open=1]="open",k_[k_.closing=2]="closing",k_[k_.closed=3]="closed",(N_=__||(__={})).closed="closed",N_.errored="errored",N_.joined="joined",N_.joining="joining",N_.leaving="leaving",(C_=S_||(S_={})).close="phx_close",C_.error="phx_error",C_.join="phx_join",C_.reply="phx_reply",C_.leave="phx_leave",C_.access_token="access_token",(E_||(E_={})).websocket="websocket",(T_=P_||(P_={})).Connecting="connecting",T_.Open="open",T_.Closing="closing",T_.Closed="closed";class O_{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+n));s+=n;const i=r.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:o,event:i,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class D_{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(A_=R_||(R_={})).abstime="abstime",A_.bool="bool",A_.date="date",A_.daterange="daterange",A_.float4="float4",A_.float8="float8",A_.int2="int2",A_.int4="int4",A_.int4range="int4range",A_.int8="int8",A_.int8range="int8range",A_.json="json",A_.jsonb="jsonb",A_.money="money",A_.numeric="numeric",A_.oid="oid",A_.reltime="reltime",A_.text="text",A_.time="time",A_.timestamp="timestamp",A_.timestamptz="timestamptz",A_.timetz="timetz",A_.tsrange="tsrange",A_.tstzrange="tstzrange";const L_=(e,t,r={})=>{var n;const a=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((r,n)=>(r[n]=M_(n,e,t,a),r),{})},M_=(e,t,r,n)=>{const a=t.find(t=>t.name===e),s=null==a?void 0:a.type,o=r[e];return s&&!n.includes(s)?F_(s,o):I_(o)},F_=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return U_(t,r)}switch(e){case R_.bool:return $_(t);case R_.float4:case R_.float8:case R_.int2:case R_.int4:case R_.int8:case R_.numeric:case R_.oid:return z_(t);case R_.json:case R_.jsonb:return V_(t);case R_.timestamp:return B_(t);case R_.abstime:case R_.date:case R_.daterange:case R_.int4range:case R_.int8range:case R_.money:case R_.reltime:case R_.text:case R_.time:case R_.timestamptz:case R_.timetz:case R_.tsrange:case R_.tstzrange:default:return I_(t)}},I_=e=>e,$_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},z_=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},V_=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},U_=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const s=e.slice(1,r);try{n=JSON.parse("["+s+"]")}catch(a){n=s?s.split(","):[]}return n.map(e=>F_(t,e))}return e},B_=e=>"string"==typeof e?e.replace(" ","T"):e,q_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class W_{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var H_,G_,K_,J_,Y_,Q_,X_,Z_;(G_=H_||(H_={})).SYNC="sync",G_.JOIN="join",G_.LEAVE="leave";class eN{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eN.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=eN.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=eN.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),s=this.transformState(t),o={},i={};return this.map(a,(e,t)=>{s[e]||(i[e]=t)}),this.map(s,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);s.length>0&&(o[e]=s),l.length>0&&(i[e]=l)}else o[e]=t}),this.syncDiff(a,{joins:o,leaves:i},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),s.length>0){const r=e[t].map(e=>e.presence_ref),n=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let a=e[t];if(!a)return;const s=r.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(J_=K_||(K_={})).ALL="*",J_.INSERT="INSERT",J_.UPDATE="UPDATE",J_.DELETE="DELETE",(Q_=Y_||(Y_={})).BROADCAST="broadcast",Q_.PRESENCE="presence",Q_.POSTGRES_CHANGES="postgres_changes",Q_.SYSTEM="system",(Z_=X_||(X_={})).SUBSCRIBED="SUBSCRIBED",Z_.TIMED_OUT="TIMED_OUT",Z_.CLOSED="CLOSED",Z_.CHANNEL_ERROR="CHANNEL_ERROR";class tN{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=__.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new W_(this,S_.join,this.params,this.timeout),this.rejoinTimer=new D_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=__.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=__.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=__.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=__.errored,this.rejoinTimer.scheduleTimeout())}),this._on(S_.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new eN(this),this.broadcastEndpointURL=q_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==__.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params,i=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],l=!!this.bindings[Y_.PRESENCE],c={},d={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:i,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(X_.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(X_.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0!==t){const n=this.bindings.postgres_changes,a=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=n[r],{filter:{event:o,schema:i,table:l,filter:c}}=a,d=t&&t[r];if(!d||d.event!==o||d.schema!==i||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=__.errored,void(null==e||e(X_.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:d.id}))}return this.bindings.postgres_changes=s,void(e&&e(X_.SUBSCRIBED))}null==e||e(X_.SUBSCRIBED)}).receive("error",t=>{this.state=__.errored,null==e||e(X_.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(X_.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===__.joined&&e===Y_.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,s;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{const{event:s,payload:o}=e,i={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=__.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(S_.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new W_(this,S_.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new W_(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const s=e.toLocaleLowerCase(),{close:o,error:i,leave:l,join:c}=S_;if(r&&[o,i,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let d=this._onMessage(s,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(d,r)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var r,n,a,o,i,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(i=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:s}=e,o={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:s};d=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===__.closed}_isJoined(){return this.state===__.joined}_isJoining(){return this.state===__.joining}_isLeaving(){return this.state===__.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&tN.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(S_.close,{},e)}_onError(e){this._on(S_.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=__.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=L_(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=L_(e.columns,e.old_record)),t}}const rN=()=>{};class nN{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rN,this.ref=0,this.logger=rN,this.conn=null,this.sendBuffer=[],this.serializer=new O_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>jk(()=>Promise.resolve().then(()=>Bk),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${E_.websocket}`,this.httpEndpoint=q_(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),((null==t?void 0:t.logLevel)||(null==t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new D_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(setTimeout(()=>{this.setAuth().catch(e=>{this.log("error","error setting auth",e)})},0),!this.conn){if(this.transport||(this.transport=w_),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case j_.connecting:return P_.Connecting;case j_.open:return P_.Open;case j_.closing:return P_.Closing;default:return P_.Closed}}isConnected(){return this.connectionState()===P_.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new tN(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${a})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.12.2"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(S_.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:n,ref:a}=e;"phoenix"===t&&"phx_reply"===r&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${a&&"("+a+")"||""}`,n),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(S_.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class aN extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sN(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class oN extends aN{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class iN extends aN{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var lN=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{l(n.next(e))}catch(QL){s(QL)}}function i(e){try{l(n.throw(e))}catch(QL){s(QL)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((n=n.apply(e,t||[])).next())})};const cN=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>jk(()=>Promise.resolve().then(()=>Bk),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},dN=e=>{if(Array.isArray(e))return e.map(e=>dN(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const n=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[n]=dN(r)}),t};var uN=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{l(n.next(e))}catch(QL){s(QL)}}function i(e){try{l(n.throw(e))}catch(QL){s(QL)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((n=n.apply(e,t||[])).next())})};const hN=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pN=(e,t,r)=>uN(void 0,void 0,void 0,function*(){const n=yield lN(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield jk(()=>Promise.resolve().then(()=>Bk),void 0)).Response:Response});e instanceof n&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{const n=e.status||500,a=(null==r?void 0:r.statusCode)||n+"";t(new oN(hN(r),n,a))}).catch(e=>{t(new iN(hN(e),e))}):t(new iN(hN(e),e))}),mN=(e,t,r,n)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(n)?(a.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function fN(e,t,r,n,a,s){return uN(this,void 0,void 0,function*(){return new Promise((o,i)=>{e(r,mN(t,n,a,s)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>pN(e,i,n))})})}function gN(e,t,r,n){return uN(this,void 0,void 0,function*(){return fN(e,"GET",t,r,n)})}function vN(e,t,r,n,a){return uN(this,void 0,void 0,function*(){return fN(e,"POST",t,n,a,r)})}function xN(e,t,r,n,a){return uN(this,void 0,void 0,function*(){return fN(e,"PUT",t,n,a,r)})}function yN(e,t,r,n,a){return uN(this,void 0,void 0,function*(){return fN(e,"DELETE",t,n,a,r)})}var bN=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{l(n.next(e))}catch(QL){s(QL)}}function i(e){try{l(n.throw(e))}catch(QL){s(QL)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((n=n.apply(e,t||[])).next())})};const wN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kN{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=cN(n)}uploadOrUpdate(e,t,r,n){return bN(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},jN),n);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const i=s.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),i&&a.append("metadata",this.encodeMetadata(i)),a.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),i&&a.append("metadata",this.encodeMetadata(i))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,i&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(i)))),(null==n?void 0:n.headers)&&(o=Object.assign(Object.assign({},o),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?xN:vN)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:o},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(sN(a))return{data:null,error:a};throw a}})}upload(e,t,r){return bN(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return bN(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:jN.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield xN(this.fetch,o.toString(),e,{headers:s})).Key},error:null}}catch(i){if(sN(i))return{data:null,error:i};throw i}})}createSignedUploadUrl(e,t){return bN(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield vN(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new aN("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(sN(r))return{data:null,error:r};throw r}})}update(e,t,r){return bN(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return bN(this,void 0,void 0,function*(){try{return{data:yield vN(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(sN(n))return{data:null,error:n};throw n}})}copy(e,t,r){return bN(this,void 0,void 0,function*(){try{return{data:{path:(yield vN(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(sN(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return bN(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield vN(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(n){if(sN(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return bN(this,void 0,void 0,function*(){try{const n=yield vN(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null})),error:null}}catch(n){if(sN(n))return{data:null,error:n};throw n}})}download(e,t){return bN(this,void 0,void 0,function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),a=n?`?${n}`:"";try{const t=this._getFinalPath(e),n=yield gN(this.fetch,`${this.url}/${r}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(s){if(sN(s))return{data:null,error:s};throw s}})}info(e){return bN(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield gN(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:dN(e),error:null}}catch(r){if(sN(r))return{data:null,error:r};throw r}})}exists(e){return bN(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return uN(this,void 0,void 0,function*(){return fN(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(sN(r)&&r instanceof iN){const e=r.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&n.push(a);const s=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&n.push(o);let i=n.join("&");return""!==i&&(i=`?${i}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${i}`)}}}remove(e){return bN(this,void 0,void 0,function*(){try{return{data:yield yN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(sN(t))return{data:null,error:t};throw t}})}list(e,t,r){return bN(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},wN),t),{prefix:e||""});return{data:yield vN(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(sN(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const _N={"X-Client-Info":"storage-js/2.10.2"};var NN=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{l(n.next(e))}catch(QL){s(QL)}}function i(e){try{l(n.throw(e))}catch(QL){s(QL)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((n=n.apply(e,t||[])).next())})};class SN{constructor(e,t={},r,n){const a=new URL(e);if(null==n?void 0:n.useNewHostname){const e="/storage";/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&a.pathname.startsWith(e)&&(a.pathname=a.pathname.substring(e.length),a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},_N),t),this.fetch=cN(r)}listBuckets(){return NN(this,void 0,void 0,function*(){try{return{data:yield gN(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(sN(e))return{data:null,error:e};throw e}})}getBucket(e){return NN(this,void 0,void 0,function*(){try{return{data:yield gN(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(sN(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return NN(this,void 0,void 0,function*(){try{return{data:yield vN(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(sN(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return NN(this,void 0,void 0,function*(){try{return{data:yield xN(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(sN(r))return{data:null,error:r};throw r}})}emptyBucket(e){return NN(this,void 0,void 0,function*(){try{return{data:yield vN(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(sN(t))return{data:null,error:t};throw t}})}deleteBucket(e){return NN(this,void 0,void 0,function*(){try{return{data:yield yN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(sN(t))return{data:null,error:t};throw t}})}}class CN extends SN{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new kN(this.url,this.headers,e,this.fetch)}}let EN="";EN="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const PN={"X-Client-Info":`supabase-js-${EN}/2.39.0`};var TN=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{l(n.next(e))}catch(QL){s(QL)}}function i(e){try{l(n.throw(e))}catch(QL){s(QL)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((n=n.apply(e,t||[])).next())})};const RN=(e,t,r)=>{const n=(e=>{let t;return t=e||("undefined"==typeof fetch?$k:fetch),(...e)=>t(...e)})(r),a="undefined"==typeof Headers?zk:Headers;return(r,s)=>TN(void 0,void 0,void 0,function*(){var o;const i=null!==(o=yield t())&&void 0!==o?o:e;let l=new a(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${i}`),n(r,Object.assign(Object.assign({},s),{headers:l}))})};const AN="2.70.0",ON=3e4,DN=9e4,LN={"X-Client-Info":`gotrue-js/${AN}`},MN="X-Supabase-Api-Version",FN={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},IN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class $N extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function zN(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class VN extends $N{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class UN extends $N{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class BN extends $N{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class qN extends BN{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class WN extends BN{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class HN extends BN{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class GN extends BN{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class KN extends BN{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JN extends BN{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function YN(e){return zN(e)&&"AuthRetryableFetchError"===e.name}class QN extends BN{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class XN extends BN{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ZN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eS=" \t\n\r=".split(""),tS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<eS.length;t+=1)e[eS[t].charCodeAt(0)]=-2;for(let t=0;t<ZN.length;t+=1)e[ZN[t].charCodeAt(0)]=t;return e})();function rS(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(ZN[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(ZN[e]),t.queuedBits-=6}}function nS(e,t,r){const n=tS[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function aS(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let o=0;o<e.length;o+=1)nS(e.charCodeAt(o),a,s);return t.join("")}function sS(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function oS(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)nS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function iS(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}sS(n,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function lS(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>rS(e,r,n)),rS(null,r,n),t.join("")}const cS=()=>"undefined"!=typeof window&&"undefined"!=typeof document,dS={tested:!1,writable:!1},uS=()=>{if(!cS())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(QL){return!1}if(dS.tested)return dS.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dS.tested=!0,dS.writable=!0}catch(QL){dS.tested=!0,dS.writable=!1}return dS.writable};const hS=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>jk(()=>Promise.resolve().then(()=>Bk),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},pS=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},mS=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(XL){return r}},fS=async(e,t)=>{await e.removeItem(t)};class gS{constructor(){this.promise=new gS.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function vS(e){const t=e.split(".");if(3!==t.length)throw new XN("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!IN.test(t[r]))throw new XN("JWT not in base64url format");return{header:JSON.parse(aS(t[0])),payload:JSON.parse(aS(t[1])),signature:oS(t[2]),raw:{header:t[0],payload:t[1]}}}function xS(e){return("0"+e.toString(16)).substr(-2)}async function yS(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bS(e,t,r=!1){const n=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,xS).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await pS(e,`${t}-code-verifier`,a);const s=await yS(n);return[s,n===s?"plain":"s256"]}gS.promiseConstructor=Promise;const wS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const jS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kS(e){if(!jS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var _S=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const NS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SS=[502,503,504];async function CS(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new JN(NS(e),0);if(SS.includes(e.status))throw new JN(NS(e),e.status);let n,a;try{n=await e.json()}catch(QL){throw new UN(NS(QL),QL)}const s=function(e){const t=e.headers.get(MN);if(!t)return null;if(!t.match(wS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(QL){return null}}(e);if(s&&s.getTime()>=FN.timestamp&&"object"==typeof n&&n&&"string"==typeof n.code?a=n.code:"object"==typeof n&&n&&"string"==typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new QN(NS(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new qN}else if("object"==typeof n&&n&&"object"==typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new QN(NS(n),e.status,n.weak_password.reasons);throw new VN(NS(n),e.status||500,a)}async function ES(e,t,r,n){var a;const s=Object.assign({},null==n?void 0:n.headers);s[MN]||(s[MN]=FN.name),(null==n?void 0:n.jwt)&&(s.Authorization=`Bearer ${n.jwt}`);const o=null!==(a=null==n?void 0:n.query)&&void 0!==a?a:{};(null==n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,r,n,a,s){const o=((e,t,r,n)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,s);let i;try{i=await e(r,Object.assign({},o))}catch(QL){throw console.error(QL),new JN(NS(QL),0)}i.ok||await CS(i);if(null==n?void 0:n.noResolveJson)return i;try{return await i.json()}catch(QL){await CS(QL)}}(e,t,r+i,{headers:s,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function PS(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function TS(e){const t=PS(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function RS(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function AS(e){return{data:e,error:null}}function OS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=_S(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},user:Object.assign({},o)},error:null}}function DS(e){return e}const LS=["global","local","others"];var MS=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};class FS{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=hS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=LS[0]){if(LS.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${LS.join(", ")}`);try{return await ES(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(zN(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await ES(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:RS})}catch(r){if(zN(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=MS(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await ES(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:OS,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(zN(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ES(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:RS})}catch(t){if(zN(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,s,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await ES(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:DS});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(zN(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){kS(e);try{return await ES(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:RS})}catch(t){if(zN(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){kS(e);try{return await ES(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:RS})}catch(r){if(zN(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){kS(e);try{return await ES(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:RS})}catch(r){if(zN(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){kS(e.userId);try{const{data:t,error:r}=await ES(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(zN(t))return{data:null,error:t};throw t}}async _deleteFactor(e){kS(e.userId),kS(e.id);try{return{data:await ES(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(zN(t))return{data:null,error:t};throw t}}}const IS={getItem:e=>uS()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{uS()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{uS()&&globalThis.localStorage.removeItem(e)}};function $S(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const zS=!!(globalThis&&uS()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class VS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class US extends VS{}async function BS(e,t,r){zS&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zS&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw zS&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new US(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zS)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(QL){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",QL)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}zS&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{zS&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(QL){"undefined"!=typeof self&&(self.globalThis=self)}}();const qS={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function WS(e,t,r){return await r()}class HS{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=HS.nextInstanceID,HS.nextInstanceID+=1,this.instanceID>0&&cS()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},qS),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new FS({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=hS(n.fetch),this.lock=n.lock||WS,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:cS()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=BS:this.lock=WS,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:uS()?this.storage=IS:(this.memoryStorage={},this.storage=$S(this.memoryStorage)):(this.memoryStorage={},this.storage=$S(this.memoryStorage)),cS()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(QL){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",QL)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${AN}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(QL){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),cS()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return zN(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return zN(t)?{error:t}:{error:new UN("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await ES(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:PS}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(zN(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await bS(this.storage,this.storageKey)),a=await ES(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},xform:PS})}else{if(!("phone"in e))throw new HN("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:o}=e;a=await ES(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null==o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(n=null==o?void 0:o.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:PS})}}const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(zN(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await ES(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:TS})}else{if(!("phone"in e))throw new HN("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await ES(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:TS})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new WN}}catch(t){if(zN(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,n,a,s,o,i,l,c,d,u,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:u,wallet:h,statement:f,options:g}=e;let v;if(cS())if("object"==typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const x=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in v&&"function"==typeof v.signMessage&&"publicKey"in v&&"object"==typeof v&&v.publicKey&&"toBase58"in v.publicKey&&"function"==typeof v.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${x.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${null!==(n=null===(r=null==g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()}`,...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(p),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:r}=await ES(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:lS(m)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:PS});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new WN}}catch(f){if(zN(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await mS(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{const{data:t,error:a}=await ES(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:PS});if(await fS(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new WN}}catch(a){if(zN(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:s}=e,o=await ES(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:PS}),{data:i,error:l}=o;return l?{data:{user:null,session:null},error:l}:i&&i.session&&i.user?(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:l}):{data:{user:null,session:null},error:new WN}}catch(t){if(zN(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,s;try{if("email"in e){const{email:n,options:a}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await bS(this.storage,this.storageKey));const{error:i}=await ES(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null==a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:t,options:r}=e,{data:o,error:i}=await ES(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null==r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(s=null==r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:i}}throw new HN("You must provide either an email or phone number.")}catch(o){if(zN(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:o}=await ES(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:PS});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const i=s.session,l=s.user;return(null==i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(n){if(zN(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await bS(this.storage,this.storageKey)),await ES(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:AS})}catch(a){if(zN(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new qN;const{error:n}=await ES(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(zN(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:a}=e,{error:s}=await ES(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:s,error:o}=await ES(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new HN("You must provide either an email or phone number and a type")}catch(t){if(zN(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(QL){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(QL){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await mS(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<DN;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await ES(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:RS}):await this._useSession(async e=>{var t,r,n;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ES(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:RS}):{data:{user:null},error:new qN}})}catch(t){if(zN(t))return function(e){return zN(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await fS(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new qN;const s=n.session;let o=null,i=null;"pkce"===this.flowType&&null!=e.email&&([o,i]=await bS(this.storage,this.storageKey));const{data:l,error:c}=await ES(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:i}),jwt:s.access_token,xform:RS});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(zN(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qN;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:s}=vS(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(zN(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new qN;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(zN(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!cS())throw new GN("No browser detected.");if(e.error||e.error_description||e.error_code)throw new GN(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new KN("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new GN("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new KN("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:o,expires_at:i,token_type:l}=e;if(!(a&&o&&s&&l))throw new GN("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let u=c+d;i&&(u=parseInt(i));const h=u-c;1e3*h<=ON&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=u-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,u,c);const{data:m,error:f}=await this._getUser(a);if(f)throw f;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:d,expires_at:u,refresh_token:s,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(zN(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await mS(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return zN(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await fS(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await bS(this.storage,this.storageKey,!0));try{return await ES(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(zN(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(zN(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,s,o;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await ES(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})});if(n)throw n;return cS()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(r){if(zN(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)throw s;return await ES(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(zN(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ES(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:PS})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&YN(t)&&Date.now()+r-a<ON},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await r(a);if(!n(a,null,t))return void e(t)}catch(QL){if(!n(a,QL))return void t(QL)}})()}))}catch(a){if(this._debug(t,"error",a),zN(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),cS()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await mS(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<DN;if(this._debug(t,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),YN(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return this._debug(t,"error",r),void console.error(r)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new qN;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new gS;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new qN;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),zN(a)){const e={session:null,error:a};return YN(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(QL){n.push(QL)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pS(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await fS(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&cS()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(QL){console.error("removing visibilitychange callback failed",QL)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ON);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/ON);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(QL){console.error("Auto refresh tick failed with error. This is likely a transient error.",QL)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(QL){if(!(QL.isAcquireTimeout||QL instanceof VS))throw QL;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cS()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await bS(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await ES(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(zN(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:i,error:l}=await ES(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null==i?void 0:i.totp)||void 0===n?void 0:n.qr_code)&&(i.totp.qr_code=`data:image/svg+xml;utf-8,${i.totp.qr_code}`),{data:i,error:null})})}catch(t){if(zN(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:o}=await ES(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(t){if(zN(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await ES(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(zN(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=vS(n.access_token);let o=null;s.aal&&(o=s.aal);let i=o;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(i="aal2");return{data:{currentLevel:o,nextLevel:i,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>Date.now())return r;const{data:n,error:a}=await ES(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!n.keys||0===n.keys.length)throw new XN("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(t=>t.kid===e),!r)throw new XN("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:s,raw:{header:o,payload:i}}=vS(r);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:s},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),c=await this.fetchJwk(n.kid,t),d=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!(await crypto.subtle.verify(l,d,s,iS(`${o}.${i}`))))throw new XN("Invalid JWT signature");return{data:{claims:a,header:n,signature:s},error:null}}catch(r){if(zN(r))return{data:null,error:r};throw r}}}HS.nextInstanceID=0;class GS extends HS{constructor(e){super(e)}}var KS=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{l(n.next(e))}catch(QL){s(QL)}}function i(e){try{l(n.throw(e))}catch(QL){s(QL)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((n=n.apply(e,t||[])).next())})};const JS={headers:PN},YS={schema:"public"},QS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XS={};class ZS{constructor(e,t,r){var n,a,s,o,i,l,c,d;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=e.replace(/\/$/,"");this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p=function(e,t){const{db:r,auth:n,realtime:a,global:s}=e,{db:o,auth:i,realtime:l,global:c}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},i),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},c),s)}}(null!=r?r:{},{db:YS,realtime:XS,auth:Object.assign(Object.assign({},QS),{storageKey:h}),global:JS});this.storageKey=null!==(a=null===(n=p.auth)||void 0===n?void 0:n.storageKey)&&void 0!==a?a:"",this.headers=null!==(o=null===(s=p.global)||void 0===s?void 0:s.headers)&&void 0!==o?o:{},this.auth=this._initSupabaseAuthClient(null!==(i=p.auth)&&void 0!==i?i:{},this.headers,null===(l=p.global)||void 0===l?void 0:l.fetch),this.fetch=RN(t,this._getAccessToken.bind(this),null===(c=p.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new f_(`${u}/rest/v1`,{headers:this.headers,schema:null===(d=p.db)||void 0===d?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Tk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new CN(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return KS(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:a,flowType:s,debug:o},i,l){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GS({url:this.authUrl,headers:Object.assign(Object.assign({},c),i),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:s,debug:o,fetch:l})}_initRealtimeClient(e){return new nN(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=r?r:null),this.changedAccessToken=r)}}const eC=((e,t,r)=>new ZS(e,t,r))("https://ovpfcyqudltassvckvxk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im92cGZjeXF1ZGx0YXNzdmNrdnhrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNzc0NTMsImV4cCI6MjA2NTg1MzQ1M30.0VVPA3XWy0nk5BQFa9e2KlFxqoMhU7MVkbBXq_q8XrM"),tC="admin",rC="manager",nC="cashier",aC="stock",sC="salesperson",oC="manage_users",iC="manage_products",lC="manage_categories",cC="manage_stock",dC="manage_sales",uC="manage_reports",hC="view_reports",pC="process_sales",mC="cash_register_management",fC="manage_customers",gC="manage_fiscal_documents",vC="view_all_stores_data",xC="share_stock",yC="apply_discounts",bC="cancel_sales",wC={admin:[oC,iC,lC,cC,dC,uC,hC,pC,mC,fC,gC,vC,xC,yC,bC],manager:[iC,lC,cC,dC,uC,hC,pC,mC,fC,gC,xC,yC,bC],cashier:[pC,mC,fC],stock:[cC,iC,lC,xC],salesperson:[pC],none:[]},jC=(e,t)=>{var r;return(null==(r=wC[e])?void 0:r.includes(t))||!1},kC=()=>{const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null},_C=e=>{localStorage.setItem("currentUser",JSON.stringify(e))},NC=()=>{localStorage.removeItem("currentUser")},SC=async()=>{try{console.log(" Buscando usurios...");const e=await fetch("/api/usuarios",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Erro ao buscar usurios");const t=await e.json();console.log(" Usurios do backend:",t.users.length);const{data:r,error:n}=await eC.from("user_roles").select("*");if(n)return console.error("Erro ao buscar roles:",n),[];console.log(" Roles encontradas:",r.length),console.log(" Detalhes das roles:",r);const{data:a,error:s}=await eC.from("stores").select("*");if(s)return console.error("Erro ao buscar stores:",s),[];console.log(" Stores encontradas:",a.length);const o={};a.forEach(e=>{o[e.id]=e});return t.users.map(e=>{var t,n,a;console.log(" Processando usurio:",e.id,"Nome:",(null==(t=e.user_metadata)?void 0:t.name)||e.email.split("@")[0]);const s=r.find(t=>t.user_id===e.id);console.log(" Role encontrada para usurio:",e.id,":",s);const i=(null==s?void 0:s.store_id)?o[s.store_id]:null;console.log(" Store encontrada para usurio:",e.id,"store_id:",null==s?void 0:s.store_id,"store:",i);const l={id:e.id,username:e.email,name:(null==(n=e.user_metadata)?void 0:n.name)||e.email.split("@")[0],role:s?s.role:"none",store_id:s?s.store_id:null,active:!s||s.active,created_at:e.created_at,stores:i};return console.log(" Usurio processado:",l.name,"Role:",l.role,"Loja:",(null==(a=l.stores)?void 0:a.name)||"No definida","Ativo:",l.active),l})}catch(e){return console.error("Erro ao buscar usurios:",e),[]}},CC=async(e=!1)=>{let t=eC.from("stores").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_online_store",!1));const{data:r,error:n}=await t;return n?[]:r},EC=({onLogin:e})=>{const[t,r]=U.useState(""),[n,a]=U.useState(""),[s,o]=U.useState(!1),{toast:i}=cg();return X.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg-fdg p-4",children:X.jsx(tk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:X.jsxs(gk,{className:"glass-effect neon-glow",children:[X.jsxs(vk,{className:"text-center",children:[X.jsx("img",{src:"/images/logobranca fdg.png",alt:"Fio de Gala",className:"mx-auto mb-4 w-32 h-32 object-contain"}),X.jsx(xk,{className:"text-2xl font-bold text-white",children:"FDG System"}),X.jsx(yk,{className:"text-gray-300",children:"Faa login para acessar o sistema"})]}),X.jsxs(bk,{children:[X.jsxs("form",{onSubmit:async r=>{r.preventDefault(),console.log("[LOGIN] handleSubmit chamado"),o(!0);try{console.log("[LOGIN] Antes do authenticateUser");const r=await(async(e,t)=>{var r;try{const{data:n,error:a}=await eC.auth.signInWithPassword({email:e,password:t});if(a||!(null==n?void 0:n.user))return console.error("[AUTH] Erro ao autenticar:",a),null;let s="none";return"admin@server.com"===n.user.email&&(s="admin"),{id:n.user.id,email:n.user.email,name:(null==(r=n.user.user_metadata)?void 0:r.name)||e.split("@")[0],role:s,store_id:null,active:!0,created_at:n.user.created_at,stores:null}}catch(n){return console.error("[AUTH] Erro inesperado:",n),null}})(t,n);console.log("[LOGIN] Resultado do login:",r),r?"none"===r.role?(i({title:"Acesso restrito",description:"Seu usurio ainda no possui permisso de acesso. Solicite a um administrador para atribuir uma funo (role).",variant:"destructive"}),console.warn("[LOGIN] Usurio sem role, acesso bloqueado:",r)):(i({title:"Login realizado com sucesso!",description:`Bem-vindo, ${r.email}!`}),e(r)):(i({title:"Erro no login",description:"Usurio ou senha incorretos, ou usurio sem permisso ativa.",variant:"destructive"}),console.error("[LOGIN] Falha no login: usurio no encontrado ou sem permisso."))}catch(a){console.error("[LOGIN] Erro inesperado:",a),i({title:"Erro no sistema",description:"Ocorreu um problema ao tentar fazer login. Tente novamente.",variant:"destructive"})}finally{o(!1)}},className:"space-y-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(fk,{htmlFor:"email",className:"text-white",children:"E-mail"}),X.jsxs("div",{className:"relative",children:[X.jsx(Kf,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),X.jsx(uk,{id:"email",type:"email",placeholder:"Digite seu e-mail",value:t,onChange:e=>r(e.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(fk,{htmlFor:"password",className:"text-white",children:"Senha"}),X.jsxs("div",{className:"relative",children:[X.jsx(xf,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),X.jsx(uk,{id:"password",type:"password",placeholder:"Digite sua senha",value:n,onChange:e=>a(e.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),X.jsx(dk,{type:"submit",className:"w-full bg-[#3B657B] hover:bg-[#33566a] text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105",disabled:s,children:s?X.jsxs("div",{className:"flex items-center justify-center",children:[X.jsx("div",{className:"loading-spinner w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Entrando..."]}):"Entrar"})]}),X.jsxs("div",{className:"mt-6 p-4 bg-background/20 rounded-lg",children:[X.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Use o e-mail cadastrado no Supabase Authentication:"}),X.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[X.jsx("div",{children:"Exemplo: admin@admin.com / sua senha"}),X.jsx("div",{children:"Exemplo: gerente@empresa.com / sua senha"})]})]})]})]})})})},PC=({onLogout:e})=>{var t;const[r,n]=U.useState(!1),a=kC(),s=rh(),o=eh(),i=[{id:"pos",label:"Frente de Caixa",icon:$f,path:"/pos",permission:pC},{id:"products",label:"Produtos",icon:_f,path:"/products",permission:iC},{id:"categories",label:"Categorias",icon:Vf,path:"/categories",permission:lC},{id:"stock",label:"Estoque",icon:Yf,path:"/stock",permission:cC},{id:"customers",label:"Clientes",icon:Jf,path:"/customers",permission:iC},{id:"customer-groups",label:"Nveis de Comprador",icon:Gf,path:"/customer-groups",permission:iC},{id:"reports",label:"Relatrios",icon:Km,path:"/reports",permission:hC},{id:"users",label:"Usurios",icon:Mf,path:"/users",permission:oC},{id:"cash-register",label:"Controle de Caixa",icon:lf,path:"/cash-register",permission:mC},{id:"peripherals",label:"Perifricos",icon:Pf,path:"/peripherals",permission:oC},{id:"interest-rates",label:"Taxas de Juros",icon:of,path:"/interest-rates",permission:oC}].filter(e=>jC(null==a?void 0:a.role,e.permission));U.useEffect(()=>{const e=()=>{window.innerWidth>=1024?n(!0):n(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const l=(null==(t=null==a?void 0:a.stores)?void 0:t.name)||(jC(null==a?void 0:a.role,vC)?"Todas as Lojas":"Loja no definida");return X.jsxs("div",{className:"min-h-screen bg-background flex",children:[X.jsx(lk,{children:r&&X.jsx(tk.div,{variants:{open:{x:0},closed:{x:"-100%"}},initial:"closed",animate:"open",exit:"closed",transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border shadow-lg lg:static lg:translate-x-0",children:X.jsxs("div",{className:"flex flex-col h-full",children:[X.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[X.jsxs(Sh,{to:"/",className:"flex items-center space-x-2",children:[X.jsx("img",{src:"/images/logobranca fdg.png",alt:"FDG System",className:"w-8 h-8 object-contain"}),X.jsx("span",{className:"font-bold text-lg",children:"FDG System"})]}),X.jsx(dk,{variant:"ghost",size:"icon",onClick:()=>n(!1),className:"lg:hidden",children:X.jsx(Xf,{className:"w-5 h-5"})})]}),X.jsxs("div",{className:"flex-1 p-4",children:[X.jsxs("div",{className:"mb-6",children:[X.jsx("p",{className:"text-sm text-muted-foreground",children:"Logado como:"}),X.jsx("p",{className:"font-semibold",children:null==a?void 0:a.name}),X.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:null==a?void 0:a.role}),X.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[X.jsx(zf,{className:"w-3 h-3 mr-1"}),X.jsx("span",{children:l})]})]}),X.jsx("nav",{className:"space-y-2",children:i.map(e=>{const t=e.icon,r=o.pathname===e.path||"/"===o.pathname&&"/pos"===e.path;return X.jsx(dk,{variant:r?"default":"ghost",className:"w-full justify-start "+(r?"bg-primary text-primary-foreground":""),asChild:!0,onClick:()=>{window.innerWidth<1024&&n(!1)},children:X.jsxs(Sh,{to:e.path,children:[X.jsx(t,{className:"w-5 h-5 mr-3"}),e.label]})},e.id)})})]}),X.jsx("div",{className:"p-4 border-t border-border",children:X.jsxs(dk,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>{NC(),e(),s("/login")},children:[X.jsx(yf,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})},"sidebar")}),r&&window.innerWidth<1024&&X.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>n(!1)}),X.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[X.jsxs("header",{className:"bg-card border-b border-border p-4 flex items-center justify-between sticky top-0 z-30",children:[X.jsxs("div",{className:"flex items-center space-x-4",children:[X.jsx(dk,{variant:"ghost",size:"icon",onClick:()=>n(!0),className:"lg:hidden",children:X.jsx(wf,{className:"w-5 h-5"})}),X.jsxs("div",{className:"flex flex-col",children:[X.jsx("h1",{className:"text-xl font-semibold",children:(()=>{const e="/"===o.pathname?"/pos":o.pathname,t=i.find(t=>t.path===e);return(null==t?void 0:t.label)||"Dashboard"})()}),X.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[X.jsx(zf,{className:"w-3 h-3 mr-1"}),X.jsx("span",{children:l})]})]})]}),jC(gC)&&X.jsxs(Sh,{to:"/fiscal-documents",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50 "+("/fiscal-documents"===o.pathname?"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-50":""),children:[X.jsx(hf,{className:"h-4 w-4"}),"Documentos Fiscais"]})]}),X.jsx("main",{className:"flex-1 p-6 overflow-auto",children:X.jsx(fh,{})})]})]})},TC=async()=>{var e;const t=kC();let r=eC.from("stock_movements").select("\n      *,\n      products (name, barcode),\n      stores (name, is_online_store),\n      product_store_stock (id)\n    ").order("created_at",{ascending:!1});t&&t.store_id&&!(null==(e=t.stores)?void 0:e.is_online_store)&&!jC(t.role,vC)&&(r=r.or(`store_id.eq.${t.store_id},stock_type.eq.online`));const{data:n,error:a}=await r;return a?(console.error("Error fetching stock movements:",a),[]):n.map(e=>{var t,r;return{...e,productName:(null==(t=e.products)?void 0:t.name)||"Produto Desconhecido",userName:"Usurio do Sistema",storeName:(null==(r=e.stores)?void 0:r.name)||("online"===e.stock_type?"Estoque Online":"Loja Desconhecida")}})},RC=async e=>{const t=kC();let r={...e};if(r.user_id=r.user_id||(null==t?void 0:t.id),r.store_id||"online"===r.stock_type){if("online"===r.stock_type){const e=(await CC()).find(e=>e.is_online_store);e&&(r.store_id=e.id)}}else r.store_id=null==t?void 0:t.store_id;if(!r.store_id&&"physical_store"===r.stock_type&&!jC(null==t?void 0:t.role,vC))throw console.error("Error: store_id is required for this user to add stock movement for a physical store."),new Error("store_id  obrigatrio para movimentao em loja fsica.");const{data:n,error:a}=await eC.from("stock_movements").insert([r]).select().single();if(a)throw console.error("Error adding stock movement:",a),a;return n},AC=async(e=!1)=>{kC();let t=eC.from("products").select("*, stores(name, is_online_store)").eq("active",!0).order("name",{ascending:!0});const{data:r,error:n}=await t;if(n)return console.error("Error fetching products:",n),[];if(e&&r)for(let a of r)if("variable"===a.product_type){const{data:e,error:t}=await eC.from("product_variations").select("*").eq("product_id",a.id);t&&console.error(`Error fetching variations for product ${a.id}:`,t),a.variations=e||[]}return r},OC=async(e,t)=>{const{variations:r,...n}=t,{data:a,error:s}=await eC.from("products").update(n).eq("id",e).select("*, stores(name, is_online_store)").single();if(s)throw console.error("Error updating product:",s),s;if(a&&"variable"===a.product_type){if(await eC.from("product_variations").delete().eq("product_id",e),r&&r.length>0){const t=r.map(t=>{const{id:r,...n}=t;return{...n,product_id:e}}),{error:n}=await eC.from("product_variations").insert(t);if(n)throw console.error("Error updating product variations:",n),n}}else a&&"simple"===a.product_type&&await eC.from("product_variations").delete().eq("product_id",e);return a},DC=async(e,t=null,r=null)=>{let n=eC.from("product_store_stock").select("*, stores(name, is_online_store), product_variations(id, attributes)").eq("product_id",e);t&&(n=n.eq("store_id",t)),r&&(n=n.eq("variation_id",r));const{data:a,error:s}=await n;return s?(console.error("Error fetching product store stock:",s),t&&r?null:[]):t&&r?a[0]||null:a},LC=async e=>{const{data:t,error:r}=await eC.from("products").select("product_type, stock").eq("id",e).single();if(r||!t)return void console.error("Error fetching product for stock recalculation:",r);let n=0;if("variable"===t.product_type){const{data:t,error:r}=await eC.from("product_variations").select("stock").eq("product_id",e);if(r)return void console.error("Error fetching variations for stock recalculation:",r);n=t.reduce((e,t)=>e+t.stock,0)}else{const{data:t,error:r}=await eC.from("product_store_stock").select("quantity").eq("product_id",e).is("variation_id",null);if(r)return void console.error("Error fetching physical stocks for simple product:",r);n=t.reduce((e,t)=>e+t.quantity,0)}if(t.stock!==n){const{error:t}=await eC.from("products").update({stock:n}).eq("id",e);t&&console.error("Error updating online/general stock:",t)}},MC=async()=>{let e=eC.from("sales").select("*, customers(name), stores(name, is_online_store)").order("created_at",{ascending:!1});e=((e,t=null,r={specificStoreId:null})=>{var n;const a=kC(),s=t?`${t}.`:"";return r.specificStoreId?e.eq(`${s}store_id`,r.specificStoreId):a&&a.store_id&&!(null==(n=a.stores)?void 0:n.is_online_store)&&!jC(a.role,vC)?e.eq(`${s}store_id`,a.store_id):e})(e,"sales");const{data:t,error:r}=await e;return r?(console.error("Error fetching sales:",r),[]):t},FC=async()=>{const{data:e,error:t}=await eC.from("customers").select("\n      *,\n      customer_groups (\n        id,\n        name,\n        ticket_min\n      )\n    ").order("name",{ascending:!0});return t?(console.error("Error fetching customers:",t),[]):e},IC=async e=>{const{data:t,error:r}=await eC.from("customers").insert([e]).select();return r?(console.error("Error adding customer:",r),null):t?t[0]:null},$C="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:4000/api":"/api";console.log(" Configurao do backend:",{hostname:window.location.hostname,backendUrl:$C,isLocal:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,vpsInfo:{domain:"fiodegalasystem.com.br",ip:"31.97.86.88",currentHostname:window.location.hostname}});const zC=async(e,t=null,r="varejo")=>{try{const n=new URLSearchParams;n.append("code",e),t&&n.append("store_id",t),r&&n.append("modalidade",r);const a=`${$C}/sales/products/barcode/${e}?${n}`,s=await(async(e,t=3,r=1e3)=>{for(let a=1;a<=t;a++)try{return await e()}catch(n){if(a===t)throw n;console.warn(`Tentativa ${a} falhou, tentando novamente em ${r}ms...`,n.message),await new Promise(e=>setTimeout(e,r))}})(async()=>await(async(e,t={},r=1e4)=>{const n=new AbortController,a=setTimeout(()=>n.abort(),r);try{const r=await fetch(e,{...t,signal:n.signal});return clearTimeout(a),r}catch(s){if(clearTimeout(a),"AbortError"===s.name)throw new Error("Timeout: A requisio demorou muito para responder");throw s}})(a,{method:"GET",headers:{"Content-Type":"application/json"}},15e3));if(!s.ok){const e=await s.json().catch(()=>({error:"Erro desconhecido"}));throw new Error(e.error||`Erro HTTP ${s.status}: ${s.statusText}`)}return await s.json()}catch(n){throw console.error("Erro ao buscar produto por cdigo de barras:",n),n.message.includes("Timeout")?new Error("Servidor no respondeu a tempo. Verifique sua conexo e tente novamente."):n.message.includes("Failed to fetch")?new Error("Erro de conexo com o servidor. Verifique se o backend est rodando."):n.message.includes("NetworkError")?new Error("Erro de rede. Verifique sua conexo com a internet."):new Error(`Erro na comunicao com o backend: ${n.message}`)}};const VC=new class{constructor(){this.baseUrl="/api/peripherals"}async testPrinter(e){try{const t=await fetch(`${this.baseUrl}/test-printer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printerConfig:e})}),r=await t.json();if(!t.ok)throw new Error(r.error||"Erro ao testar impressora");return r}catch(t){throw console.error("Erro no teste da impressora:",t),t}}async testScanner(e){try{const t=await fetch(`${this.baseUrl}/test-scanner`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scannerConfig:e})}),r=await t.json();if(!t.ok)throw new Error(r.error||"Erro ao testar scanner");return r}catch(t){throw console.error("Erro no teste do scanner:",t),t}}async scanBarcode(e){try{const t=await fetch(`${this.baseUrl}/scan-barcode`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scannerConfig:e})}),r=await t.json();if(!t.ok)throw new Error(r.error||"Erro ao ler cdigo de barras");return r}catch(t){throw console.error("Erro na leitura do cdigo de barras:",t),t}}async printReceipt(e,t){try{const r=await fetch(`${this.baseUrl}/print-receipt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({saleData:e,printerConfig:t})}),n=await r.json();if(!r.ok)throw new Error(n.error||"Erro ao imprimir recibo");return n}catch(r){throw console.error("Erro na impresso:",r),r}}async getConfig(){try{const e=await fetch(`${this.baseUrl}/config`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();if(!e.ok)throw new Error(t.error||"Erro ao obter configuraes");return t.config}catch(e){throw console.error("Erro ao obter configuraes:",e),e}}async saveConfig(e){try{const t=await fetch(`${this.baseUrl}/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:e})}),r=await t.json();if(!t.ok)throw new Error(r.error||"Erro ao salvar configuraes");return r}catch(t){throw console.error("Erro ao salvar configuraes:",t),t}}async detectDevices(){try{const e=await fetch(`${this.baseUrl}/detect-devices`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();if(!e.ok)throw new Error(t.error||"Erro ao detectar dispositivos");return t.devices}catch(e){throw console.error("Erro ao detectar dispositivos:",e),e}}generateReceiptPreview(e){const t=new Date,r=t.toLocaleDateString("pt-BR"),n=t.toLocaleTimeString("pt-BR");return`\n================================\n    ${e.store_name||"LOJA"}\n================================\nData: ${r}\nHora: ${n}\nVenda: #${e.id}\n================================\n${e.items.map(e=>`${e.name}\n${e.quantity}x R$ ${e.price.toFixed(2)} = R$ ${e.subtotal.toFixed(2)}`).join("\n")}\n================================\nSubtotal: R$ ${e.subtotal.toFixed(2)}\nDesconto: R$ ${(e.discount||0).toFixed(2)}\nTOTAL: R$ ${e.total.toFixed(2)}\n================================\n${e.payments.map(e=>`${e.method}: R$ ${e.amount.toFixed(2)}`).join("\n")}\n================================\nObrigado pela preferncia!\n================================\n    `.trim()}};const UC=new class{constructor(){this.baseUrl="/api/fiscal"}async getConfig(){try{const e=await fetch(`${this.baseUrl}/config`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();if(!e.ok)throw new Error(t.error||"Erro ao obter configuraes fiscais");return t.config}catch(e){throw console.error("Erro ao obter configuraes fiscais:",e),e}}async saveConfig(e){try{const t=await fetch(`${this.baseUrl}/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:e})}),r=await t.json();if(!t.ok)throw new Error(r.error||"Erro ao salvar configuraes fiscais");return r}catch(t){throw console.error("Erro ao salvar configuraes fiscais:",t),t}}async generateNFe(e,t){try{const r=await fetch(`${this.baseUrl}/generate-nfe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({saleData:e,fiscalConfig:t})}),n=await r.json();if(!r.ok)throw new Error(n.error||"Erro ao gerar NF-e");return n}catch(r){throw console.error("Erro ao gerar NF-e:",r),r}}async generateSAT(e,t){try{const r=await fetch(`${this.baseUrl}/generate-sat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({saleData:e,fiscalConfig:t})}),n=await r.json();if(!r.ok)throw new Error(n.error||"Erro ao gerar SAT");return n}catch(r){throw console.error("Erro ao gerar SAT:",r),r}}async sendDocument(e,t){try{const r=await fetch(`${this.baseUrl}/send-document`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentId:e,documentType:t})}),n=await r.json();if(!r.ok)throw new Error(n.error||"Erro ao enviar documento fiscal");return n}catch(r){throw console.error("Erro ao enviar documento fiscal:",r),r}}async getDocuments(e={}){try{const t=new URLSearchParams;Object.keys(e).forEach(r=>{e[r]&&t.append(r,e[r])});const r=await fetch(`${this.baseUrl}/documents?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.error||"Erro ao obter documentos fiscais");return n.documents}catch(t){throw console.error("Erro ao obter documentos fiscais:",t),t}}async generateFiscalDocument(e){try{const t=await this.getConfig();if(t.nfe.enabled)return await this.generateNFe(e,t);if(t.sat.enabled)return await this.generateSAT(e,t);throw new Error("Nenhum sistema fiscal habilitado")}catch(t){throw console.error("Erro ao gerar documento fiscal:",t),t}}validateCNPJ(e){if(14!==(e=e.replace(/[^\d]/g,"")).length)return!1;if(/^(\d)\1+$/.test(e))return!1;let t=0,r=2;for(let a=11;a>=0;a--)t+=parseInt(e.charAt(a))*r,r=9===r?2:r+1;let n=11-t%11;if(n>9&&(n=0),parseInt(e.charAt(12))!==n)return!1;t=0,r=2;for(let a=12;a>=0;a--)t+=parseInt(e.charAt(a))*r,r=9===r?2:r+1;return n=11-t%11,n>9&&(n=0),parseInt(e.charAt(13))===n}formatCNPJ(e){return e.replace(/[^\d]/g,"").replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")}};const BC=new class{async getInterestRate(){try{const{data:e,error:t}=await eC.from("interest_rates_config").select("credit_card_interest, updated_at, updated_by").order("updated_at",{ascending:!1}).limit(1).single();return t?(console.error("Erro ao buscar taxa de juros:",t),{credit_card_interest:2.99}):e||{credit_card_interest:2.99}}catch(e){return console.error("Erro ao buscar taxa de juros:",e),{credit_card_interest:2.99}}}async saveInterestRate(e){try{const{data:{user:t}}=await eC.auth.getUser();if(!t)throw new Error("Usurio no autenticado");const{data:r}=await eC.from("interest_rates_config").select("id").limit(1).single();let n;if(r){const{data:a,error:s}=await eC.from("interest_rates_config").update({credit_card_interest:e,updated_by:t.id,updated_at:(new Date).toISOString()}).eq("id",r.id).select().single();if(s)throw console.error("Erro ao atualizar taxa de juros:",s),s;n=a}else{const{data:r,error:a}=await eC.from("interest_rates_config").insert({credit_card_interest:e,created_by:t.id,updated_by:t.id}).select().single();if(a)throw console.error("Erro ao criar taxa de juros:",a),a;n=r}return n}catch(t){throw console.error("Erro ao salvar taxa de juros:",t),t}}async getCurrentConfigWithAudit(){try{const{data:e,error:t}=await eC.from("interest_rates_config").select("\n          credit_card_interest,\n          created_at,\n          updated_at,\n          created_by,\n          updated_by\n        ").limit(1).single();return t?(console.error("Erro ao buscar configurao:",t),null):e}catch(e){return console.error("Erro ao buscar configurao:",e),null}}async canManageInterestRates(){try{const{data:{user:e}}=await eC.auth.getUser();if(!e)return!1;const{data:t,error:r}=await eC.from("user_roles").select("role").eq("user_id",e.id).in("role",["admin","manager"]).single();return!r&&!!t}catch(e){return console.error("Erro ao verificar permisso:",e),!1}}};var qC=q[" useId ".trim().toString()]||(()=>{}),WC=0;function HC(e){const[t,r]=U.useState(qC());return Wp(()=>{e||r(e=>e??String(WC++))},[e]),e||(t?`radix-${t}`:"")}var GC="focusScope.autoFocusOnMount",KC="focusScope.autoFocusOnUnmount",JC={bubbles:!1,cancelable:!0},YC=U.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[i,l]=U.useState(null),c=Op(a),d=Op(s),u=U.useRef(null),h=jp(t,e=>l(e)),p=U.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;U.useEffect(()=>{if(n){let e=function(e){if(p.paused||!i)return;const t=e.target;i.contains(t)?u.current=t:eE(u.current,{select:!0})},t=function(e){if(p.paused||!i)return;const t=e.relatedTarget;null!==t&&(i.contains(t)||eE(u.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&eE(i)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return i&&n.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[n,i,p.paused]),U.useEffect(()=>{if(i){tE.add(p);const t=document.activeElement;if(!i.contains(t)){const r=new CustomEvent(GC,JC);i.addEventListener(GC,c),i.dispatchEvent(r),r.defaultPrevented||(!function(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(eE(n,{select:t}),document.activeElement!==r)return}((e=QC(i),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&eE(i))}return()=>{i.removeEventListener(GC,c),setTimeout(()=>{const e=new CustomEvent(KC,JC);i.addEventListener(KC,d),i.dispatchEvent(e),e.defaultPrevented||eE(t??document.body,{select:!0}),i.removeEventListener(KC,d),tE.remove(p)},0)}}var e},[i,c,d,p]);const m=U.useCallback(e=>{if(!r&&!n)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,a=document.activeElement;if(t&&a){const t=e.currentTarget,[n,s]=function(e){const t=QC(e),r=XC(t,e),n=XC(t.reverse(),e);return[r,n]}(t);n&&s?e.shiftKey||a!==s?e.shiftKey&&a===n&&(e.preventDefault(),r&&eE(s,{select:!0})):(e.preventDefault(),r&&eE(n,{select:!0})):a===t&&e.preventDefault()}},[r,n,p.paused]);return X.jsx(Rp.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});function QC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function XC(e,t){for(const r of e)if(!ZC(r,{upTo:t}))return r}function ZC(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function eE(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}YC.displayName="FocusScope";var tE=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null==r||r.pause()),e=rE(e,t),e.unshift(t)},remove(t){var r;e=rE(e,t),null==(r=e[0])||r.resume()}}}();function rE(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var nE=0;function aE(){U.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sE()),document.body.insertAdjacentElement("beforeend",e[1]??sE()),nE++,()=>{1===nE&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nE--}},[])}function sE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oE=function(){return oE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},oE.apply(this,arguments)};function iE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}"function"==typeof SuppressedError&&SuppressedError;var lE="right-scroll-bar-position",cE="width-before-scroll-bar";function dE(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var uE="undefined"!=typeof window?U.useLayoutEffect:U.useEffect,hE=new WeakMap;function pE(e,t){var r,n,a,s=(r=t||null,n=function(t){return e.forEach(function(e){return dE(e,t)})},(a=U.useState(function(){return{value:r,callback:n,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}})[0]).callback=n,a.facade);return uE(function(){var t=hE.get(s);if(t){var r=new Set(t),n=new Set(e),a=s.current;r.forEach(function(e){n.has(e)||dE(e,null)}),n.forEach(function(e){r.has(e)||dE(e,a)})}hE.set(s,e)},[e]),s}function mE(e){return e}var fE=function(e){var t=e.sideCar,r=iE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return U.createElement(n,oE({},r))};fE.isSideCarExport=!0;var gE=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=mE);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var a=t(e,n);return r.push(a),function(){r=r.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var a=r;r=[],a.forEach(e),t=r}var s=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(s)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}}}(null);return t.options=oE({async:!0,ssr:!1},e),t}(),vE=function(){},xE=U.forwardRef(function(e,t){var r=U.useRef(null),n=U.useState({onScrollCapture:vE,onWheelCapture:vE,onTouchMoveCapture:vE}),a=n[0],s=n[1],o=e.forwardProps,i=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,f=e.inert,g=e.allowPinchZoom,v=e.as,x=void 0===v?"div":v,y=e.gapMode,b=iE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,j=pE([r,t]),k=oE(oE({},b),a);return U.createElement(U.Fragment,null,d&&U.createElement(w,{sideCar:gE,removeScrollBar:c,shards:u,noRelative:p,noIsolation:m,inert:f,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:y}),o?U.cloneElement(U.Children.only(i),oE(oE({},k),{ref:j})):U.createElement(x,oE({},k,{className:l,ref:j}),i))});xE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},xE.classNames={fullWidth:cE,zeroRight:lE};function yE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var bE=function(){var e=0,t=null;return{add:function(r){var n,a;0==e&&(t=yE())&&(a=r,(n=t).styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wE=function(){var e,t=(e=bE(),function(t,r){U.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])});return function(e){var r=e.styles,n=e.dynamic;return t(r,n),null}},jE={left:0,top:0,right:0,gap:0},kE=function(e){return parseInt(e||"",10)||0},_E=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return jE;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[kE(r),kE(n),kE(a)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},NE=wE(),SE="data-scroll-locked",CE=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,i=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(i,"px ").concat(n,";\n  }\n  body[").concat(SE,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(i,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(lE," {\n    right: ").concat(i,"px ").concat(n,";\n  }\n  \n  .").concat(cE," {\n    margin-right: ").concat(i,"px ").concat(n,";\n  }\n  \n  .").concat(lE," .").concat(lE," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(cE," .").concat(cE," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(SE,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(i,"px;\n  }\n")},EE=function(){var e=parseInt(document.body.getAttribute(SE)||"0",10);return isFinite(e)?e:0},PE=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=void 0===n?"margin":n;U.useEffect(function(){return document.body.setAttribute(SE,(EE()+1).toString()),function(){var e=EE()-1;e<=0?document.body.removeAttribute(SE):document.body.setAttribute(SE,e.toString())}},[]);var s=U.useMemo(function(){return _E(a)},[a]);return U.createElement(NE,{styles:CE(s,!t,a,r?"":"!important")})},TE=!1;if("undefined"!=typeof window)try{var RE=Object.defineProperty({},"passive",{get:function(){return TE=!0,!0}});window.addEventListener("test",RE,RE),window.removeEventListener("test",RE,RE)}catch(ZL){TE=!1}var AE=!!TE&&{passive:!1},OE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},DE=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),LE(e,n)){var a=ME(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},LE=function(e,t){return"v"===e?function(e){return OE(e,"overflowY")}(t):function(e){return OE(e,"overflowX")}(t)},ME=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},FE=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},IE=function(e){return[e.deltaX,e.deltaY]},$E=function(e){return e&&"current"in e?e.current:e},zE=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},VE=0,UE=[];function BE(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qE=(WE=function(e){var t=U.useRef([]),r=U.useRef([0,0]),n=U.useRef(),a=U.useState(VE++)[0],s=U.useState(wE)[0],o=U.useRef(e);U.useEffect(function(){o.current=e},[e]),U.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map($E),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=U.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var a,s=FE(e),i=r.current,l="deltaX"in e?e.deltaX:i[0]-s[0],c="deltaY"in e?e.deltaY:i[1]-s[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=DE(u,d);if(!h)return!0;if(h?a=u:(a="v"===u?"h":"v",h=DE(u,d)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||c)&&(n.current=a),!a)return!0;var p=n.current||a;return function(e,t,r,n,a){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=s*n,i=r.target,l=t.contains(i),c=!1,d=o>0,u=0,h=0;do{if(!i)break;var p=ME(e,i),m=p[0],f=p[1]-p[2]-s*m;(m||f)&&LE(e,i)&&(u+=f,h+=m);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(d&&(a&&Math.abs(u)<1||!a&&o>u)||!d&&(a&&Math.abs(h)<1||!a&&-o>h))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)},[]),l=U.useCallback(function(e){var r=e;if(UE.length&&UE[UE.length-1]===s){var n="deltaY"in r?IE(r):FE(r),a=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&(t=e.delta,a=n,t[0]===a[0]&&t[1]===a[1]);var t,a})[0];if(a&&a.should)r.cancelable&&r.preventDefault();else if(!a){var l=(o.current.shards||[]).map($E).filter(Boolean).filter(function(e){return e.contains(r.target)});(l.length>0?i(r,l[0]):!o.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),c=U.useCallback(function(e,r,n,a){var s={name:e,delta:r,target:n,should:a,shadowParent:BE(n)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),d=U.useCallback(function(e){r.current=FE(e),n.current=void 0},[]),u=U.useCallback(function(t){c(t.type,IE(t),t.target,i(t,e.lockRef.current))},[]),h=U.useCallback(function(t){c(t.type,FE(t),t.target,i(t,e.lockRef.current))},[]);U.useEffect(function(){return UE.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,AE),document.addEventListener("touchmove",l,AE),document.addEventListener("touchstart",d,AE),function(){UE=UE.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,AE),document.removeEventListener("touchmove",l,AE),document.removeEventListener("touchstart",d,AE)}},[]);var p=e.removeScrollBar,m=e.inert;return U.createElement(U.Fragment,null,m?U.createElement(s,{styles:zE(a)}):null,p?U.createElement(PE,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},gE.useMedium(WE),fE);var WE,HE=U.forwardRef(function(e,t){return U.createElement(xE,oE({},e,{ref:t,sideCar:qE}))});HE.classNames=xE.classNames;const GE=HE;var KE=new WeakMap,JE=new WeakMap,YE={},QE=0,XE=function(e){return e&&(e.host||XE(e.parentNode))},ZE=function(e,t,r,n){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=XE(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);YE[r]||(YE[r]=new WeakMap);var s=YE[r],o=[],i=new Set,l=new Set(a),c=function(e){e&&!i.has(e)&&(i.add(e),c(e.parentNode))};a.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(i.has(e))d(e);else try{var t=e.getAttribute(n),a=null!==t&&"false"!==t,l=(KE.get(e)||0)+1,c=(s.get(e)||0)+1;KE.set(e,l),s.set(e,c),o.push(e),1===l&&a&&JE.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(n,"true")}catch(QL){console.error("aria-hidden: cannot operate on ",e,QL)}})};return d(t),i.clear(),QE++,function(){o.forEach(function(e){var t=KE.get(e)-1,a=s.get(e)-1;KE.set(e,t),s.set(e,a),t||(JE.has(e)||e.removeAttribute(n),JE.delete(e)),a||e.removeAttribute(r)}),--QE||(KE=new WeakMap,KE=new WeakMap,JE=new WeakMap,YE={})}},eP=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),ZE(n,a,r,"aria-hidden")):function(){return null}},tP="Dialog",[rP,nP]=kp(tP),[aP,sP]=rP(tP),oP=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,i=U.useRef(null),l=U.useRef(null),[c,d]=Yp({prop:n,defaultProp:a??!1,onChange:s,caller:tP});return X.jsx(aP,{scope:t,triggerRef:i,contentRef:l,contentId:HC(),titleId:HC(),descriptionId:HC(),open:c,onOpenChange:d,onOpenToggle:U.useCallback(()=>d(e=>!e),[d]),modal:o,children:r})};oP.displayName=tP;var iP="DialogTrigger",lP=U.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sP(iP,r),s=jp(t,a.triggerRef);return X.jsx(Rp.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":EP(a.open),...n,ref:s,onClick:yp(e.onClick,a.onOpenToggle)})});lP.displayName=iP;var cP="DialogPortal",[dP,uP]=rP(cP,{forceMount:void 0}),hP=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=sP(cP,t);return X.jsx(dP,{scope:t,forceMount:r,children:U.Children.map(n,e=>X.jsx(Gp,{present:r||s.open,children:X.jsx(Hp,{asChild:!0,container:a,children:e})}))})};hP.displayName=cP;var pP="DialogOverlay",mP=U.forwardRef((e,t)=>{const r=uP(pP,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=sP(pP,e.__scopeDialog);return s.modal?X.jsx(Gp,{present:n||s.open,children:X.jsx(gP,{...a,ref:t})}):null});mP.displayName=pP;var fP=Np("DialogOverlay.RemoveScroll"),gP=U.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sP(pP,r);return X.jsx(GE,{as:fP,allowPinchZoom:!0,shards:[a.contentRef],children:X.jsx(Rp.div,{"data-state":EP(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),vP="DialogContent",xP=U.forwardRef((e,t)=>{const r=uP(vP,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=sP(vP,e.__scopeDialog);return X.jsx(Gp,{present:n||s.open,children:s.modal?X.jsx(yP,{...a,ref:t}):X.jsx(bP,{...a,ref:t})})});xP.displayName=vP;var yP=U.forwardRef((e,t)=>{const r=sP(vP,e.__scopeDialog),n=U.useRef(null),a=jp(t,r.contentRef,n);return U.useEffect(()=>{const e=n.current;if(e)return eP(e)},[]),X.jsx(wP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yp(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=r.triggerRef.current)||t.focus()}),onPointerDownOutside:yp(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:yp(e.onFocusOutside,e=>e.preventDefault())})}),bP=U.forwardRef((e,t)=>{const r=sP(vP,e.__scopeDialog),n=U.useRef(!1),a=U.useRef(!1);return X.jsx(wP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,o;null==(s=e.onCloseAutoFocus)||s.call(e,t),t.defaultPrevented||(n.current||null==(o=r.triggerRef.current)||o.focus(),t.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:t=>{var s,o;null==(s=e.onInteractOutside)||s.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));const i=t.target;(null==(o=r.triggerRef.current)?void 0:o.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),wP=U.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,i=sP(vP,r),l=U.useRef(null),c=jp(t,l);return aE(),X.jsxs(X.Fragment,{children:[X.jsx(YC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:X.jsx($p,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":EP(i.open),...o,ref:c,onDismiss:()=>i.onOpenChange(!1)})}),X.jsxs(X.Fragment,{children:[X.jsx(AP,{titleId:i.titleId}),X.jsx(OP,{contentRef:l,descriptionId:i.descriptionId})]})]})}),jP="DialogTitle",kP=U.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sP(jP,r);return X.jsx(Rp.h2,{id:a.titleId,...n,ref:t})});kP.displayName=jP;var _P="DialogDescription",NP=U.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sP(_P,r);return X.jsx(Rp.p,{id:a.descriptionId,...n,ref:t})});NP.displayName=_P;var SP="DialogClose",CP=U.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sP(SP,r);return X.jsx(Rp.button,{type:"button",...n,ref:t,onClick:yp(e.onClick,()=>a.onOpenChange(!1))})});function EP(e){return e?"open":"closed"}CP.displayName=SP;var PP="DialogTitleWarning",[TP,RP]=function(e,t){const r=U.createContext(t),n=e=>{const{children:t,...n}=e,a=U.useMemo(()=>n,Object.values(n));return X.jsx(r.Provider,{value:a,children:t})};return n.displayName=e+"Provider",[n,function(n){const a=U.useContext(r);if(a)return a;if(void 0!==t)return t;throw new Error(`\`${n}\` must be used within \`${e}\``)}]}(PP,{contentName:vP,titleName:jP,docsSlug:"dialog"}),AP=({titleId:e})=>{const t=RP(PP),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return U.useEffect(()=>{if(e){document.getElementById(e)||console.error(r)}},[r,e]),null},OP=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RP("DialogDescriptionWarning").contentName}}.`;return U.useEffect(()=>{var n;const a=null==(n=e.current)?void 0:n.getAttribute("aria-describedby");if(t&&a){document.getElementById(t)||console.warn(r)}},[r,e,t]),null},DP=mP,LP=xP,MP=kP,FP=NP,IP=CP;const $P=oP,zP=lP,VP=hP,UP=B.forwardRef(({className:e,...t},r)=>X.jsx(DP,{ref:r,className:xp("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UP.displayName=DP.displayName;const BP=B.forwardRef(({className:e,children:t,...r},n)=>X.jsxs(VP,{children:[X.jsx(UP,{}),X.jsxs(LP,{ref:n,className:xp("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,X.jsxs(IP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[X.jsx(Xf,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));BP.displayName=LP.displayName;const qP=({className:e,...t})=>X.jsx("div",{className:xp("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qP.displayName="DialogHeader";const WP=B.forwardRef(({className:e,...t},r)=>X.jsx(MP,{ref:r,className:xp("text-lg font-semibold leading-none tracking-tight",e),...t}));WP.displayName=MP.displayName;const HP=B.forwardRef(({className:e,...t},r)=>X.jsx(FP,{ref:r,className:xp("text-sm text-muted-foreground",e),...t}));function GP(e,[t,r]){return Math.min(r,Math.max(t,e))}HP.displayName=FP.displayName;var KP=U.createContext(void 0);function JP(e){const t=U.useContext(KP);return e||t||"ltr"}const YP=["top","right","bottom","left"],QP=Math.min,XP=Math.max,ZP=Math.round,eT=Math.floor,tT=e=>({x:e,y:e}),rT={left:"right",right:"left",bottom:"top",top:"bottom"},nT={start:"end",end:"start"};function aT(e,t,r){return XP(e,QP(t,r))}function sT(e,t){return"function"==typeof e?e(t):e}function oT(e){return e.split("-")[0]}function iT(e){return e.split("-")[1]}function lT(e){return"x"===e?"y":"x"}function cT(e){return"y"===e?"height":"width"}const dT=new Set(["top","bottom"]);function uT(e){return dT.has(oT(e))?"y":"x"}function hT(e){return lT(uT(e))}function pT(e){return e.replace(/start|end/g,e=>nT[e])}const mT=["left","right"],fT=["right","left"],gT=["top","bottom"],vT=["bottom","top"];function xT(e,t,r,n){const a=iT(e);let s=function(e,t,r){switch(e){case"top":case"bottom":return r?t?fT:mT:t?mT:fT;case"left":case"right":return t?gT:vT;default:return[]}}(oT(e),"start"===r,n);return a&&(s=s.map(e=>e+"-"+a),t&&(s=s.concat(s.map(pT)))),s}function yT(e){return e.replace(/left|right|bottom|top/g,e=>rT[e])}function bT(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function wT(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function jT(e,t,r){let{reference:n,floating:a}=e;const s=uT(t),o=hT(t),i=cT(o),l=oT(t),c="y"===s,d=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,h=n[i]/2-a[i]/2;let p;switch(l){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-a.width,y:u};break;default:p={x:n.x,y:n.y}}switch(iT(t)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1)}return p}async function kT(e,t){var r;void 0===t&&(t={});const{x:n,y:a,platform:s,rects:o,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=sT(t,e),m=bT(p),f=i[h?"floating"===u?"reference":"floating":u],g=wT(await s.getClippingRect({element:null==(r=await(null==s.isElement?void 0:s.isElement(f)))||r?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,x=await(null==s.getOffsetParent?void 0:s.getOffsetParent(i.floating)),y=await(null==s.isElement?void 0:s.isElement(x))&&await(null==s.getScale?void 0:s.getScale(x))||{x:1,y:1},b=wT(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-b.top+m.top)/y.y,bottom:(b.bottom-g.bottom+m.bottom)/y.y,left:(g.left-b.left+m.left)/y.x,right:(b.right-g.right+m.right)/y.x}}function _T(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function NT(e){return YP.some(t=>e[t]>=0)}const ST=new Set(["left","top"]);function CT(){return"undefined"!=typeof window}function ET(e){return RT(e)?(e.nodeName||"").toLowerCase():"#document"}function PT(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function TT(e){var t;return null==(t=(RT(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function RT(e){return!!CT()&&(e instanceof Node||e instanceof PT(e).Node)}function AT(e){return!!CT()&&(e instanceof Element||e instanceof PT(e).Element)}function OT(e){return!!CT()&&(e instanceof HTMLElement||e instanceof PT(e).HTMLElement)}function DT(e){return!(!CT()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof PT(e).ShadowRoot)}const LT=new Set(["inline","contents"]);function MT(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=KT(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!LT.has(a)}const FT=new Set(["table","td","th"]);function IT(e){return FT.has(ET(e))}const $T=[":popover-open",":modal"];function zT(e){return $T.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const VT=["transform","translate","scale","rotate","perspective"],UT=["transform","translate","scale","rotate","perspective","filter"],BT=["paint","layout","strict","content"];function qT(e){const t=WT(),r=AT(e)?KT(e):e;return VT.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||UT.some(e=>(r.willChange||"").includes(e))||BT.some(e=>(r.contain||"").includes(e))}function WT(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const HT=new Set(["html","body","#document"]);function GT(e){return HT.has(ET(e))}function KT(e){return PT(e).getComputedStyle(e)}function JT(e){return AT(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function YT(e){if("html"===ET(e))return e;const t=e.assignedSlot||e.parentNode||DT(e)&&e.host||TT(e);return DT(t)?t.host:t}function QT(e){const t=YT(e);return GT(t)?e.ownerDocument?e.ownerDocument.body:e.body:OT(t)&&MT(t)?t:QT(t)}function XT(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=QT(e),s=a===(null==(n=e.ownerDocument)?void 0:n.body),o=PT(a);if(s){const e=ZT(o);return t.concat(o,o.visualViewport||[],MT(a)?a:[],e&&r?XT(e):[])}return t.concat(a,XT(a,[],r))}function ZT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eR(e){const t=KT(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=OT(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,i=ZP(r)!==s||ZP(n)!==o;return i&&(r=s,n=o),{width:r,height:n,$:i}}function tR(e){return AT(e)?e:e.contextElement}function rR(e){const t=tR(e);if(!OT(t))return tT(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=eR(t);let o=(s?ZP(r.width):r.width)/n,i=(s?ZP(r.height):r.height)/a;return o&&Number.isFinite(o)||(o=1),i&&Number.isFinite(i)||(i=1),{x:o,y:i}}const nR=tT(0);function aR(e){const t=PT(e);return WT()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:nR}function sR(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),s=tR(e);let o=tT(1);t&&(n?AT(n)&&(o=rR(n)):o=rR(e));const i=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==PT(e))&&t}(s,r,n)?aR(s):tT(0);let l=(a.left+i.x)/o.x,c=(a.top+i.y)/o.y,d=a.width/o.x,u=a.height/o.y;if(s){const e=PT(s),t=n&&AT(n)?PT(n):n;let r=e,a=ZT(r);for(;a&&n&&t!==r;){const e=rR(a),t=a.getBoundingClientRect(),n=KT(a),s=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=s,c+=o,r=PT(a),a=ZT(r)}}return wT({width:d,height:u,x:l,y:c})}function oR(e,t){const r=JT(e).scrollLeft;return t?t.left+r:sR(TT(e)).left+r}function iR(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:oR(e,n)),y:n.top+t.scrollTop}}const lR=new Set(["absolute","fixed"]);function cR(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=PT(e),n=TT(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,i=0,l=0;if(a){s=a.width,o=a.height;const e=WT();(!e||e&&"fixed"===t)&&(i=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:i,y:l}}(e,r);else if("document"===t)n=function(e){const t=TT(e),r=JT(e),n=e.ownerDocument.body,a=XP(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=XP(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+oR(e);const i=-r.scrollTop;return"rtl"===KT(n).direction&&(o+=XP(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:i}}(TT(e));else if(AT(t))n=function(e,t){const r=sR(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=OT(e)?rR(e):tT(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:n*s.y}}(t,r);else{const r=aR(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return wT(n)}function dR(e,t){const r=YT(e);return!(r===t||!AT(r)||GT(r))&&("fixed"===KT(r).position||dR(r,t))}function uR(e,t,r){const n=OT(t),a=TT(t),s="fixed"===r,o=sR(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const l=tT(0);function c(){l.x=oR(a)}if(n||!n&&!s)if(("body"!==ET(t)||MT(a))&&(i=JT(t)),n){const e=sR(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();s&&!n&&a&&c();const d=!a||n||s?tT(0):iR(a,i);return{x:o.left+i.scrollLeft-l.x-d.x,y:o.top+i.scrollTop-l.y-d.y,width:o.width,height:o.height}}function hR(e){return"static"===KT(e).position}function pR(e,t){if(!OT(e)||"fixed"===KT(e).position)return null;if(t)return t(e);let r=e.offsetParent;return TT(e)===r&&(r=r.ownerDocument.body),r}function mR(e,t){const r=PT(e);if(zT(e))return r;if(!OT(e)){let t=YT(e);for(;t&&!GT(t);){if(AT(t)&&!hR(t))return t;t=YT(t)}return r}let n=pR(e,t);for(;n&&IT(n)&&hR(n);)n=pR(n,t);return n&&GT(n)&&hR(n)&&!qT(n)?r:n||function(e){let t=YT(e);for(;OT(t)&&!GT(t);){if(qT(t))return t;if(zT(t))return null;t=YT(t)}return null}(e)||r}const fR={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s="fixed"===a,o=TT(n),i=!!t&&zT(t.floating);if(n===o||i&&s)return r;let l={scrollLeft:0,scrollTop:0},c=tT(1);const d=tT(0),u=OT(n);if((u||!u&&!s)&&(("body"!==ET(n)||MT(o))&&(l=JT(n)),OT(n))){const e=sR(n);c=rR(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const h=!o||u||s?tT(0):iR(o,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:TT,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[..."clippingAncestors"===r?zT(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=XT(e,[],!1).filter(e=>AT(e)&&"body"!==ET(e)),a=null;const s="fixed"===KT(e).position;let o=s?YT(e):e;for(;AT(o)&&!GT(o);){const t=KT(o),r=qT(o);r||"fixed"!==t.position||(a=null),(s?!r&&!a:!r&&"static"===t.position&&a&&lR.has(a.position)||MT(o)&&!r&&dR(e,o))?n=n.filter(e=>e!==o):a=t,o=YT(o)}return t.set(e,n),n}(t,this._c):[].concat(r),n],o=s[0],i=s.reduce((e,r)=>{const n=cR(t,r,a);return e.top=XP(n.top,e.top),e.right=QP(n.right,e.right),e.bottom=QP(n.bottom,e.bottom),e.left=XP(n.left,e.left),e},cR(t,o,a));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:mR,getElementRects:async function(e){const t=this.getOffsetParent||mR,r=this.getDimensions,n=await r(e.floating);return{reference:uR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=eR(e);return{width:t,height:r}},getScale:rR,isElement:AT,isRTL:function(e){return"rtl"===KT(e).direction}};function gR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vR(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=tR(e),d=a||s?[...c?XT(c):[],...XT(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});const u=c&&i?function(e,t){let r,n=null;const a=TT(e);function s(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function o(i,l){void 0===i&&(i=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(i||t(),!h||!p)return;const m={rootMargin:-eT(u)+"px "+-eT(a.clientWidth-(d+h))+"px "+-eT(a.clientHeight-(u+p))+"px "+-eT(d)+"px",threshold:XP(0,QP(1,l))||1};let f=!0;function g(t){const n=t[0].intersectionRatio;if(n!==l){if(!f)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==n||gR(c,e.getBoundingClientRect())||o(),f=!1}try{n=new IntersectionObserver(g,{...m,root:a.ownerDocument})}catch(v){n=new IntersectionObserver(g,m)}n.observe(e)}(!0),s}(c,r):null;let h,p=-1,m=null;o&&(m=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),c&&!l&&m.observe(c),m.observe(t));let f=l?sR(e):null;return l&&function t(){const n=sR(e);f&&!gR(f,n)&&r();f=n,h=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==u||u(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(h)}}const xR=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:i}=t,l=await async function(e,t){const{placement:r,platform:n,elements:a}=e,s=await(null==n.isRTL?void 0:n.isRTL(a.floating)),o=oT(r),i=iT(r),l="y"===uT(r),c=ST.has(o)?-1:1,d=s&&l?-1:1,u=sT(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&"number"==typeof m&&(p="end"===i?-1*m:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return o===(null==(r=i.offset)?void 0:r.placement)&&null!=(n=i.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:o}}}}},yR=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:i={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=sT(e,t),c={x:r,y:n},d=await kT(t,l),u=uT(oT(a)),h=lT(u);let p=c[h],m=c[u];if(s){const e="y"===h?"bottom":"right";p=aT(p+d["y"===h?"top":"left"],p,p-d[e])}if(o){const e="y"===u?"bottom":"right";m=aT(m+d["y"===u?"top":"left"],m,m-d[e])}const f=i.fn({...t,[h]:p,[u]:m});return{...f,data:{x:f.x-r,y:f.y-n,enabled:{[h]:s,[u]:o}}}}}},bR=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:i,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...g}=sT(e,t);if(null!=(r=s.arrow)&&r.alignmentOffset)return{};const v=oT(a),x=uT(i),y=oT(i)===i,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(y||!f?[yT(i)]:function(e){const t=yT(e);return[pT(e),t,pT(t)]}(i)),j="none"!==m;!h&&j&&w.push(...xT(i,f,m,b));const k=[i,...w],_=await kT(t,g),N=[];let S=(null==(n=s.flip)?void 0:n.overflows)||[];if(d&&N.push(_[v]),u){const e=function(e,t,r){void 0===r&&(r=!1);const n=iT(e),a=hT(e),s=cT(a);let o="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=yT(o)),[o,yT(o)]}(a,o,b);N.push(_[e[0]],_[e[1]])}if(S=[...S,{placement:a,overflows:N}],!N.every(e=>e<=0)){var C,E;const e=((null==(C=s.flip)?void 0:C.index)||0)+1,t=k[e];if(t){if(!("alignment"===u&&x!==uT(t))||S.every(e=>e.overflows[0]>0&&uT(e.placement)===x))return{data:{index:e,overflows:S},reset:{placement:t}}}let r=null==(E=S.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:E.placement;if(!r)switch(p){case"bestFit":{var P;const e=null==(P=S.filter(e=>{if(j){const t=uT(e.placement);return t===x||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(r=e);break}case"initialPlacement":r=i}if(a!==r)return{reset:{placement:r}}}return{}}}},wR=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:i}=t,{apply:l=()=>{},...c}=sT(e,t),d=await kT(t,c),u=oT(a),h=iT(a),p="y"===uT(a),{width:m,height:f}=s.floating;let g,v;"top"===u||"bottom"===u?(g=u,v=h===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(v=u,g="end"===h?"top":"bottom");const x=f-d.top-d.bottom,y=m-d.left-d.right,b=QP(f-d[g],x),w=QP(m-d[v],y),j=!t.middlewareData.shift;let k=b,_=w;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(_=y),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(k=x),j&&!h){const e=XP(d.left,0),t=XP(d.right,0),r=XP(d.top,0),n=XP(d.bottom,0);p?_=m-2*(0!==e||0!==t?e+t:XP(d.left,d.right)):k=f-2*(0!==r||0!==n?r+n:XP(d.top,d.bottom))}await l({...t,availableWidth:_,availableHeight:k});const N=await o.getDimensions(i.floating);return m!==N.width||f!==N.height?{reset:{rects:!0}}:{}}}},jR=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=sT(e,t);switch(n){case"referenceHidden":{const e=_T(await kT(t,{...a,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:NT(e)}}}case"escaped":{const e=_T(await kT(t,{...a,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:NT(e)}}}default:return{}}}}},kR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:i,middlewareData:l}=t,{element:c,padding:d=0}=sT(e,t)||{};if(null==c)return{};const u=bT(d),h={x:r,y:n},p=hT(a),m=cT(p),f=await o.getDimensions(c),g="y"===p,v=g?"top":"left",x=g?"bottom":"right",y=g?"clientHeight":"clientWidth",b=s.reference[m]+s.reference[p]-h[p]-s.floating[m],w=h[p]-s.reference[p],j=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let k=j?j[y]:0;k&&await(null==o.isElement?void 0:o.isElement(j))||(k=i.floating[y]||s.floating[m]);const _=b/2-w/2,N=k/2-f[m]/2-1,S=QP(u[v],N),C=QP(u[x],N),E=S,P=k-f[m]-C,T=k/2-f[m]/2+_,R=aT(E,T,P),A=!l.arrow&&null!=iT(a)&&T!==R&&s.reference[m]/2-(T<E?S:C)-f[m]/2<0,O=A?T<E?T-E:T-P:0;return{[p]:h[p]+O,data:{[p]:R,centerOffset:T-R-O,...A&&{alignmentOffset:O}},reset:A}}}),_R=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:i=0,mainAxis:l=!0,crossAxis:c=!0}=sT(e,t),d={x:r,y:n},u=uT(a),h=lT(u);let p=d[h],m=d[u];const f=sT(i,t),g="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const e="y"===h?"height":"width",t=s.reference[h]-s.floating[e]+g.mainAxis,r=s.reference[h]+s.reference[e]-g.mainAxis;p<t?p=t:p>r&&(p=r)}if(c){var v,x;const e="y"===h?"width":"height",t=ST.has(oT(a)),r=s.reference[u]-s.floating[e]+(t&&(null==(v=o.offset)?void 0:v[u])||0)+(t?0:g.crossAxis),n=s.reference[u]+s.reference[e]+(t?0:(null==(x=o.offset)?void 0:x[u])||0)-(t?g.crossAxis:0);m<r?m=r:m>n&&(m=n)}return{[h]:p,[u]:m}}}},NR=(e,t,r)=>{const n=new Map,a={platform:fR,...r},s={...a.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,i=s.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=jT(c,n,l),h=n,p={},m=0;for(let f=0;f<i.length;f++){const{name:r,fn:s}=i[f],{x:g,y:v,data:x,reset:y}=await s({x:d,y:u,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=v?v:u,p={...p,[r]:{...p[r],...x}},y&&m<=50&&(m++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:d,y:u}=jT(c,h,l))),f=-1)}return{x:d,y:u,placement:h,strategy:a,middlewareData:p}})(e,t,{...a,platform:s})};var SR="undefined"!=typeof document?U.useLayoutEffect:function(){};function CR(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!CR(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!==n--;){const r=a[n];if(("_owner"!==r||!e.$$typeof)&&!CR(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function ER(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PR(e,t){const r=ER(e);return Math.round(t*r)/r}function TR(e){const t=U.useRef(e);return SR(()=>{t.current=e}),t}const RR=e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"==typeof e?e(t):e;return r&&(a=r,{}.hasOwnProperty.call(a,"current"))?null!=r.current?kR({element:r.current,padding:n}).fn(t):{}:r?kR({element:r,padding:n}).fn(t):{};var a}}),AR=(e,t)=>({...xR(e),options:[e,t]}),OR=(e,t)=>({...yR(e),options:[e,t]}),DR=(e,t)=>({..._R(e),options:[e,t]}),LR=(e,t)=>({...bR(e),options:[e,t]}),MR=(e,t)=>({...wR(e),options:[e,t]}),FR=(e,t)=>({...jR(e),options:[e,t]}),IR=(e,t)=>({...RR(e),options:[e,t]});var $R=U.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return X.jsx(Rp.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:X.jsx("polygon",{points:"0,0 30,0 15,10"})})});$R.displayName="Arrow";var zR=$R;function VR(e){const[t,r]=U.useState(void 0);return Wp(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let a,s;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}var UR="Popper",[BR,qR]=kp(UR),[WR,HR]=BR(UR),GR=e=>{const{__scopePopper:t,children:r}=e,[n,a]=U.useState(null);return X.jsx(WR,{scope:t,anchor:n,onAnchorChange:a,children:r})};GR.displayName=UR;var KR="PopperAnchor",JR=U.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=HR(KR,r),o=U.useRef(null),i=jp(t,o);return U.useEffect(()=>{s.onAnchorChange((null==n?void 0:n.current)||o.current)}),n?null:X.jsx(Rp.div,{...a,ref:i})});JR.displayName=KR;var YR="PopperContent",[QR,XR]=BR(YR),ZR=U.forwardRef((e,t)=>{var r,n,a,s,o,i;const{__scopePopper:l,side:c="bottom",sideOffset:d=0,align:u="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:b,...w}=e,j=HR(YR,l),[k,_]=U.useState(null),N=jp(t,e=>_(e)),[S,C]=U.useState(null),E=VR(S),P=(null==E?void 0:E.width)??0,T=(null==E?void 0:E.height)??0,R=c+("center"!==u?"-"+u:""),A="number"==typeof g?g:{top:0,right:0,bottom:0,left:0,...g},O=Array.isArray(f)?f:[f],D=O.length>0,L={padding:A,boundary:O.filter(nA),altBoundary:D},{refs:M,floatingStyles:F,placement:I,isPositioned:$,middlewareData:z}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:i=!0,whileElementsMounted:l,open:c}=e,[d,u]=U.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=U.useState(n);CR(h,n)||p(n);const[m,f]=U.useState(null),[g,v]=U.useState(null),x=U.useCallback(e=>{e!==j.current&&(j.current=e,f(e))},[]),y=U.useCallback(e=>{e!==k.current&&(k.current=e,v(e))},[]),b=s||m,w=o||g,j=U.useRef(null),k=U.useRef(null),_=U.useRef(d),N=null!=l,S=TR(l),C=TR(a),E=TR(c),P=U.useCallback(()=>{if(!j.current||!k.current)return;const e={placement:t,strategy:r,middleware:h};C.current&&(e.platform=C.current),NR(j.current,k.current,e).then(e=>{const t={...e,isPositioned:!1!==E.current};T.current&&!CR(_.current,t)&&(_.current=t,ou.flushSync(()=>{u(t)}))})},[h,t,r,C,E]);SR(()=>{!1===c&&_.current.isPositioned&&(_.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);const T=U.useRef(!1);SR(()=>(T.current=!0,()=>{T.current=!1}),[]),SR(()=>{if(b&&(j.current=b),w&&(k.current=w),b&&w){if(S.current)return S.current(b,w,P);P()}},[b,w,P,S,N]);const R=U.useMemo(()=>({reference:j,floating:k,setReference:x,setFloating:y}),[x,y]),A=U.useMemo(()=>({reference:b,floating:w}),[b,w]),O=U.useMemo(()=>{const e={position:r,left:0,top:0};if(!A.floating)return e;const t=PR(A.floating,d.x),n=PR(A.floating,d.y);return i?{...e,transform:"translate("+t+"px, "+n+"px)",...ER(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,i,A.floating,d.x,d.y]);return U.useMemo(()=>({...d,update:P,refs:R,elements:A,floatingStyles:O}),[d,P,R,A,O])}({strategy:"fixed",placement:R,whileElementsMounted:(...e)=>vR(...e,{animationFrame:"always"===y}),elements:{reference:j.anchor},middleware:[AR({mainAxis:d+T,alignmentAxis:h}),m&&OR({mainAxis:!0,crossAxis:!1,limiter:"partial"===v?DR():void 0,...L}),m&&LR({...L}),MR({...L,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{const{width:a,height:s}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${n}px`),o.setProperty("--radix-popper-anchor-width",`${a}px`),o.setProperty("--radix-popper-anchor-height",`${s}px`)}}),S&&IR({element:S,padding:p}),aA({arrowWidth:P,arrowHeight:T}),x&&FR({strategy:"referenceHidden",...L})]}),[V,B]=sA(I),q=Op(b);Wp(()=>{$&&(null==q||q())},[$,q]);const W=null==(r=z.arrow)?void 0:r.x,H=null==(n=z.arrow)?void 0:n.y,G=0!==(null==(a=z.arrow)?void 0:a.centerOffset),[K,J]=U.useState();return Wp(()=>{k&&J(window.getComputedStyle(k).zIndex)},[k]),X.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:$?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[null==(s=z.transformOrigin)?void 0:s.x,null==(o=z.transformOrigin)?void 0:o.y].join(" "),...(null==(i=z.hide)?void 0:i.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:X.jsx(QR,{scope:l,placedSide:V,onArrowChange:C,arrowX:W,arrowY:H,shouldHideArrow:G,children:X.jsx(Rp.div,{"data-side":V,"data-align":B,...w,ref:N,style:{...w.style,animation:$?void 0:"none"}})})})});ZR.displayName=YR;var eA="PopperArrow",tA={top:"bottom",right:"left",bottom:"top",left:"right"},rA=U.forwardRef(function(e,t){const{__scopePopper:r,...n}=e,a=XR(eA,r),s=tA[a.placedSide];return X.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:X.jsx(zR,{...n,ref:t,style:{...n.style,display:"block"}})})});function nA(e){return null!==e}rA.displayName=eA;var aA=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a;const{placement:s,rects:o,middlewareData:i}=t,l=0!==(null==(r=i.arrow)?void 0:r.centerOffset),c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,h]=sA(s),p={start:"0%",center:"50%",end:"100%"}[h],m=((null==(n=i.arrow)?void 0:n.x)??0)+c/2,f=((null==(a=i.arrow)?void 0:a.y)??0)+d/2;let g="",v="";return"bottom"===u?(g=l?p:`${m}px`,v=-d+"px"):"top"===u?(g=l?p:`${m}px`,v=`${o.floating.height+d}px`):"right"===u?(g=-d+"px",v=l?p:`${f}px`):"left"===u&&(g=`${o.floating.width+d}px`,v=l?p:`${f}px`),{data:{x:g,y:v}}}});function sA(e){const[t,r="center"]=e.split("-");return[t,r]}var oA=GR,iA=JR,lA=ZR,cA=rA;function dA(e){const t=U.useRef({value:e,previous:e});return U.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var uA=[" ","Enter","ArrowUp","ArrowDown"],hA=[" ","Enter"],pA="Select",[mA,fA,gA]=Tp(pA),[vA,xA]=kp(pA,[gA,qR]),yA=qR(),[bA,wA]=vA(pA),[jA,kA]=vA(pA),_A=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:i,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:h,required:p,form:m}=e,f=yA(t),[g,v]=U.useState(null),[x,y]=U.useState(null),[b,w]=U.useState(!1),j=JP(c),[k,_]=Yp({prop:n,defaultProp:a??!1,onChange:s,caller:pA}),[N,S]=Yp({prop:o,defaultProp:i,onChange:l,caller:pA}),C=U.useRef(null),E=!g||(m||!!g.closest("form")),[P,T]=U.useState(new Set),R=Array.from(P).map(e=>e.props.value).join(";");return X.jsx(oA,{...f,children:X.jsxs(bA,{required:p,scope:t,trigger:g,onTriggerChange:v,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:HC(),value:N,onValueChange:S,open:k,onOpenChange:_,dir:j,triggerPointerDownPosRef:C,disabled:h,children:[X.jsx(mA.Provider,{scope:t,children:X.jsx(jA,{scope:e.__scopeSelect,onNativeOptionAdd:U.useCallback(e=>{T(t=>new Set(t).add(e))},[]),onNativeOptionRemove:U.useCallback(e=>{T(t=>{const r=new Set(t);return r.delete(e),r})},[]),children:r})}),E?X.jsxs(dO,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:u,value:N,onChange:e=>S(e.target.value),disabled:h,form:m,children:[void 0===N?X.jsx("option",{value:""}):null,Array.from(P)]},R):null]})})};_A.displayName=pA;var NA="SelectTrigger",SA=U.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=yA(r),o=wA(NA,r),i=o.disabled||n,l=jp(t,o.onTriggerChange),c=fA(r),d=U.useRef("touch"),[u,h,p]=hO(e=>{const t=c().filter(e=>!e.disabled),r=t.find(e=>e.value===o.value),n=pO(t,e,r);void 0!==n&&o.onValueChange(n.value)}),m=e=>{i||(o.onOpenChange(!0),p()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return X.jsx(iA,{asChild:!0,...s,children:X.jsx(Rp.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":uO(o.value)?"":void 0,...a,ref:l,onClick:yp(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==d.current&&m(e)}),onPointerDown:yp(a.onPointerDown,e=>{d.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(m(e),e.preventDefault())}),onKeyDown:yp(a.onKeyDown,e=>{const t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||uA.includes(e.key)&&(m(),e.preventDefault())})})})});SA.displayName=NA;var CA="SelectValue",EA=U.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...i}=e,l=wA(CA,r),{onValueNodeHasChildrenChange:c}=l,d=void 0!==s,u=jp(t,l.onValueNodeChange);return Wp(()=>{c(d)},[c,d]),X.jsx(Rp.span,{...i,ref:u,style:{pointerEvents:"none"},children:uO(l.value)?X.jsx(X.Fragment,{children:o}):s})});EA.displayName=CA;var PA=U.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return X.jsx(Rp.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});PA.displayName="SelectIcon";var TA=e=>X.jsx(Hp,{asChild:!0,...e});TA.displayName="SelectPortal";var RA="SelectContent",AA=U.forwardRef((e,t)=>{const r=wA(RA,e.__scopeSelect),[n,a]=U.useState();if(Wp(()=>{a(new DocumentFragment)},[]),!r.open){const t=n;return t?ou.createPortal(X.jsx(DA,{scope:e.__scopeSelect,children:X.jsx(mA.Slot,{scope:e.__scopeSelect,children:X.jsx("div",{children:e.children})})}),t):null}return X.jsx(FA,{...e,ref:t})});AA.displayName=RA;var OA=10,[DA,LA]=vA(RA),MA=Np("SelectContent.RemoveScroll"),FA=U.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:i,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:f,avoidCollisions:g,...v}=e,x=wA(RA,r),[y,b]=U.useState(null),[w,j]=U.useState(null),k=jp(t,e=>b(e)),[_,N]=U.useState(null),[S,C]=U.useState(null),E=fA(r),[P,T]=U.useState(!1),R=U.useRef(!1);U.useEffect(()=>{if(y)return eP(y)},[y]),aE();const A=U.useCallback(e=>{const[t,...r]=E().map(e=>e.ref.current),[n]=r.slice(-1),a=document.activeElement;for(const s of e){if(s===a)return;if(null==s||s.scrollIntoView({block:"nearest"}),s===t&&w&&(w.scrollTop=0),s===n&&w&&(w.scrollTop=w.scrollHeight),null==s||s.focus(),document.activeElement!==a)return}},[E,w]),O=U.useCallback(()=>A([_,y]),[A,_,y]);U.useEffect(()=>{P&&O()},[P,O]);const{onOpenChange:D,triggerPointerDownPosRef:L}=x;U.useEffect(()=>{if(y){let e={x:0,y:0};const t=t=>{var r,n;e={x:Math.abs(Math.round(t.pageX)-((null==(r=L.current)?void 0:r.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(n=L.current)?void 0:n.y)??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():y.contains(r.target)||D(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[y,D,L]),U.useEffect(()=>{const e=()=>D(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[D]);const[M,F]=hO(e=>{const t=E().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=pO(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),I=U.useCallback((e,t,r)=>{const n=!R.current&&!r;(void 0!==x.value&&x.value===t||n)&&(N(e),n&&(R.current=!0))},[x.value]),$=U.useCallback(()=>null==y?void 0:y.focus(),[y]),z=U.useCallback((e,t,r)=>{const n=!R.current&&!r;(void 0!==x.value&&x.value===t||n)&&C(e)},[x.value]),V="popper"===n?$A:IA,B=V===$A?{side:i,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:f,avoidCollisions:g}:{};return X.jsx(DA,{scope:r,content:y,viewport:w,onViewportChange:j,itemRefCallback:I,selectedItem:_,onItemLeave:$,itemTextRefCallback:z,focusSelectedItem:O,selectedItemText:S,position:n,isPositioned:P,searchRef:M,children:X.jsx(GE,{as:MA,allowPinchZoom:!0,children:X.jsx(YC,{asChild:!0,trapped:x.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:yp(a,e=>{var t;null==(t=x.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:X.jsx($p,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:X.jsx(V,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:e=>e.preventDefault(),...v,...B,onPlaced:()=>T(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:yp(v.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||F(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=E().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>A(t)),e.preventDefault()}})})})})})})});FA.displayName="SelectContentImpl";var IA=U.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=wA(RA,r),o=LA(RA,r),[i,l]=U.useState(null),[c,d]=U.useState(null),u=jp(t,e=>d(e)),h=fA(r),p=U.useRef(!1),m=U.useRef(!0),{viewport:f,selectedItem:g,selectedItemText:v,focusSelectedItem:x}=o,y=U.useCallback(()=>{if(s.trigger&&s.valueNode&&i&&c&&f&&g&&v){const e=s.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),r=s.valueNode.getBoundingClientRect(),a=v.getBoundingClientRect();if("rtl"!==s.dir){const n=a.left-t.left,s=r.left-n,o=e.left-s,l=e.width+o,c=Math.max(l,t.width),d=window.innerWidth-OA,u=GP(s,[OA,Math.max(OA,d-c)]);i.style.minWidth=l+"px",i.style.left=u+"px"}else{const n=t.right-a.right,s=window.innerWidth-r.right-n,o=window.innerWidth-e.right-s,l=e.width+o,c=Math.max(l,t.width),d=window.innerWidth-OA,u=GP(s,[OA,Math.max(OA,d-c)]);i.style.minWidth=l+"px",i.style.right=u+"px"}const o=h(),l=window.innerHeight-2*OA,d=f.scrollHeight,u=window.getComputedStyle(c),m=parseInt(u.borderTopWidth,10),x=parseInt(u.paddingTop,10),y=parseInt(u.borderBottomWidth,10),b=m+x+d+parseInt(u.paddingBottom,10)+y,w=Math.min(5*g.offsetHeight,b),j=window.getComputedStyle(f),k=parseInt(j.paddingTop,10),_=parseInt(j.paddingBottom,10),N=e.top+e.height/2-OA,S=l-N,C=g.offsetHeight/2,E=m+x+(g.offsetTop+C),P=b-E;if(E<=N){const e=o.length>0&&g===o[o.length-1].ref.current;i.style.bottom="0px";const t=c.clientHeight-f.offsetTop-f.offsetHeight,r=E+Math.max(S,C+(e?_:0)+t+y);i.style.height=r+"px"}else{const e=o.length>0&&g===o[0].ref.current;i.style.top="0px";const t=Math.max(N,m+f.offsetTop+(e?k:0)+C)+P;i.style.height=t+"px",f.scrollTop=E-N+f.offsetTop}i.style.margin=`${OA}px 0`,i.style.minHeight=w+"px",i.style.maxHeight=l+"px",null==n||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,i,c,f,g,v,s.dir,n]);Wp(()=>y(),[y]);const[b,w]=U.useState();Wp(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const j=U.useCallback(e=>{e&&!0===m.current&&(y(),null==x||x(),m.current=!1)},[y,x]);return X.jsx(zA,{scope:r,contentWrapper:i,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:X.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:X.jsx(Rp.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});IA.displayName="SelectItemAlignedPosition";var $A=U.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=OA,...s}=e,o=yA(r);return X.jsx(lA,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$A.displayName="SelectPopperPosition";var[zA,VA]=vA(RA,{}),UA="SelectViewport",BA=U.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=LA(UA,r),o=VA(UA,r),i=jp(t,s.onViewportChange),l=U.useRef(0);return X.jsxs(X.Fragment,{children:[X.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),X.jsx(mA.Slot,{scope:r,children:X.jsx(Rp.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:yp(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=o;if((null==n?void 0:n.current)&&r){const e=Math.abs(l.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*OA,a=parseFloat(r.style.minHeight),s=parseFloat(r.style.height),o=Math.max(a,s);if(o<n){const a=o+e,s=Math.min(n,a),i=a-s;r.style.height=s+"px","0px"===r.style.bottom&&(t.scrollTop=i>0?i:0,r.style.justifyContent="flex-end")}}}l.current=t.scrollTop})})})]})});BA.displayName=UA;var qA="SelectGroup",[WA,HA]=vA(qA);U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=HC();return X.jsx(WA,{scope:r,id:a,children:X.jsx(Rp.div,{role:"group","aria-labelledby":a,...n,ref:t})})}).displayName=qA;var GA="SelectLabel",KA=U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=HA(GA,r);return X.jsx(Rp.div,{id:a.id,...n,ref:t})});KA.displayName=GA;var JA="SelectItem",[YA,QA]=vA(JA),XA=U.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,i=wA(JA,r),l=LA(JA,r),c=i.value===n,[d,u]=U.useState(s??""),[h,p]=U.useState(!1),m=jp(t,e=>{var t;return null==(t=l.itemRefCallback)?void 0:t.call(l,e,n,a)}),f=HC(),g=U.useRef("touch"),v=()=>{a||(i.onValueChange(n),i.onOpenChange(!1))};if(""===n)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return X.jsx(YA,{scope:r,value:n,disabled:a,textId:f,isSelected:c,onItemTextChange:U.useCallback(e=>{u(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:X.jsx(mA.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:X.jsx(Rp.div,{role:"option","aria-labelledby":f,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:m,onFocus:yp(o.onFocus,()=>p(!0)),onBlur:yp(o.onBlur,()=>p(!1)),onClick:yp(o.onClick,()=>{"mouse"!==g.current&&v()}),onPointerUp:yp(o.onPointerUp,()=>{"mouse"===g.current&&v()}),onPointerDown:yp(o.onPointerDown,e=>{g.current=e.pointerType}),onPointerMove:yp(o.onPointerMove,e=>{var t;g.current=e.pointerType,a?null==(t=l.onItemLeave)||t.call(l):"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yp(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=l.onItemLeave)||t.call(l))}),onKeyDown:yp(o.onKeyDown,e=>{var t;""!==(null==(t=l.searchRef)?void 0:t.current)&&" "===e.key||(hA.includes(e.key)&&v()," "===e.key&&e.preventDefault())})})})})});XA.displayName=JA;var ZA="SelectItemText",eO=U.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=wA(ZA,r),i=LA(ZA,r),l=QA(ZA,r),c=kA(ZA,r),[d,u]=U.useState(null),h=jp(t,e=>u(e),l.onItemTextChange,e=>{var t;return null==(t=i.itemTextRefCallback)?void 0:t.call(i,e,l.value,l.disabled)}),p=null==d?void 0:d.textContent,m=U.useMemo(()=>X.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:f,onNativeOptionRemove:g}=c;return Wp(()=>(f(m),()=>g(m)),[f,g,m]),X.jsxs(X.Fragment,{children:[X.jsx(Rp.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ou.createPortal(s.children,o.valueNode):null]})});eO.displayName=ZA;var tO="SelectItemIndicator",rO=U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return QA(tO,r).isSelected?X.jsx(Rp.span,{"aria-hidden":!0,...n,ref:t}):null});rO.displayName=tO;var nO="SelectScrollUpButton",aO=U.forwardRef((e,t)=>{const r=LA(nO,e.__scopeSelect),n=VA(nO,e.__scopeSelect),[a,s]=U.useState(!1),o=jp(t,n.onScrollButtonChange);return Wp(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),a?X.jsx(iO,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});aO.displayName=nO;var sO="SelectScrollDownButton",oO=U.forwardRef((e,t)=>{const r=LA(sO,e.__scopeSelect),n=VA(sO,e.__scopeSelect),[a,s]=U.useState(!1),o=jp(t,n.onScrollButtonChange);return Wp(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;s(r)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),a?X.jsx(iO,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});oO.displayName=sO;var iO=U.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=LA("SelectScrollButton",r),o=U.useRef(null),i=fA(r),l=U.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return U.useEffect(()=>()=>l(),[l]),Wp(()=>{var e;const t=i().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[i]),X.jsx(Rp.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:yp(a.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(n,50))}),onPointerMove:yp(a.onPointerMove,()=>{var e;null==(e=s.onItemLeave)||e.call(s),null===o.current&&(o.current=window.setInterval(n,50))}),onPointerLeave:yp(a.onPointerLeave,()=>{l()})})}),lO=U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return X.jsx(Rp.div,{"aria-hidden":!0,...n,ref:t})});lO.displayName="SelectSeparator";var cO="SelectArrow";U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=yA(r),s=wA(cO,r),o=LA(cO,r);return s.open&&"popper"===o.position?X.jsx(cA,{...a,...n,ref:t}):null}).displayName=cO;var dO=U.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=U.useRef(null),s=jp(n,a),o=dA(t);return U.useEffect(()=>{const e=a.current;if(!e)return;const r=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(r,"value").set;if(o!==t&&n){const r=new Event("change",{bubbles:!0});n.call(e,t),e.dispatchEvent(r)}},[o,t]),X.jsx(Rp.select,{...r,style:{...Qp,...r.style},ref:s,defaultValue:t})});function uO(e){return""===e||void 0===e}function hO(e){const t=Op(e),r=U.useRef(""),n=U.useRef(0),a=U.useCallback(e=>{const a=r.current+e;t(a),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(a)},[t]),s=U.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return U.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function pO(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=(o=e,i=Math.max(a,0),o.map((e,t)=>o[(i+t)%o.length]));var o,i;1===n.length&&(s=s.filter(e=>e!==r));const l=s.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==r?l:void 0}dO.displayName="SelectBubbleInput";var mO=SA,fO=PA,gO=TA,vO=AA,xO=BA,yO=KA,bO=XA,wO=eO,jO=rO,kO=aO,_O=oO,NO=lO;const SO=_A,CO=EA,EO=B.forwardRef(({className:e,children:t,...r},n)=>X.jsxs(mO,{ref:n,className:xp("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,X.jsx(fO,{asChild:!0,children:X.jsx(rf,{className:"h-4 w-4 opacity-50"})})]}));EO.displayName=mO.displayName;const PO=B.forwardRef(({className:e,...t},r)=>X.jsx(kO,{ref:r,className:xp("flex cursor-default items-center justify-center py-1",e),...t,children:X.jsx(nf,{className:"h-4 w-4"})}));PO.displayName=kO.displayName;const TO=B.forwardRef(({className:e,...t},r)=>X.jsx(_O,{ref:r,className:xp("flex cursor-default items-center justify-center py-1",e),...t,children:X.jsx(rf,{className:"h-4 w-4"})}));TO.displayName=_O.displayName;const RO=B.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>X.jsx(gO,{children:X.jsxs(vO,{ref:a,className:xp("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[X.jsx(PO,{}),X.jsx(xO,{className:xp("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),X.jsx(TO,{})]})}));RO.displayName=vO.displayName;B.forwardRef(({className:e,...t},r)=>X.jsx(yO,{ref:r,className:xp("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=yO.displayName;const AO=B.forwardRef(({className:e,children:t,...r},n)=>X.jsxs(bO,{ref:n,className:xp("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[X.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:X.jsx(jO,{children:X.jsx(tf,{className:"h-4 w-4"})})}),X.jsx(wO,{children:t})]}));AO.displayName=bO.displayName;B.forwardRef(({className:e,...t},r)=>X.jsx(NO,{ref:r,className:xp("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=NO.displayName;const OO=new class{async getCustomerGroups(){try{const{data:e,error:t}=await eC.from("customer_groups").select("*").order("name");if(t)throw t;return e||[]}catch(e){throw console.error("Erro ao buscar grupos de clientes:",e),e}}async getCustomerGroup(e){try{const{data:t,error:r}=await eC.from("customer_groups").select("*").eq("id",e).single();if(r)throw r;return t}catch(t){throw console.error("Erro ao buscar grupo de cliente:",t),t}}async createCustomerGroup(e){try{const t={name:e.name,category:"Varejo",ticket_min:e.average_ticket||null,ticket_max:null,description:e.description||null},{data:r,error:n}=await eC.from("customer_groups").insert([t]).select().single();if(n)throw n;return r}catch(t){throw console.error("Erro ao criar grupo de cliente:",t),t}}async updateCustomerGroup(e,t){try{const r={name:t.name,category:"Varejo",ticket_min:t.average_ticket||null,ticket_max:null,description:t.description||null},{data:n,error:a}=await eC.from("customer_groups").update(r).eq("id",e).select().single();if(a)throw a;return n}catch(r){throw console.error("Erro ao atualizar grupo de cliente:",r),r}}async deleteCustomerGroup(e){try{const{error:t}=await eC.from("customer_groups").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Erro ao deletar grupo de cliente:",t),t}}async isGroupInUse(e){try{const{data:t,error:r}=await eC.from("customers").select("id").eq("group_id",e).limit(1);if(r)throw r;return t&&t.length>0}catch(t){throw console.error("Erro ao verificar uso do grupo:",t),t}}},DO=({open:e,onOpenChange:t,onCustomerCreated:r})=>{const{toast:n}=cg(),[a,s]=U.useState({name:"",cpf:"",cnpj:"",phone:"",email:"",category:"",group_id:"",cep:"",street:"",bairro:"",cidade:"",estado:"",complemento:""}),[o,i]=U.useState(!1),[l,c]=U.useState(!1),[d,u]=U.useState([]);U.useEffect(()=>{e&&s({name:"",cpf:"",cnpj:"",phone:"",email:"",category:"",group_id:"",cep:"",street:"",bairro:"",cidade:"",estado:"",complemento:""})},[e]),U.useEffect(()=>{(async()=>{try{const e=await OO.getCustomerGroups();u(e)}catch(e){console.error("Erro ao buscar grupos:",e)}})()},[]);const h=e=>{const t=e.replace(/\D/g,"");return t.length<=10?t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},p="Atacado"===a.category||"Cliente Exclusivo"===a.category;return X.jsx($P,{open:e,onOpenChange:t,children:X.jsxs(BP,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[X.jsx(qP,{children:X.jsxs(WP,{className:"flex items-center gap-2",children:[X.jsx(Ef,{className:"w-5 h-5"}),"Cadastrar Novo Cliente"]})}),X.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a.name&&a.phone&&a.category)if(!p||a.cnpj&&a.razao_social&&a.inscricao_estadual){i(!0);try{const e={name:a.name,cpf:a.cpf,phone:a.phone,email:a.email,category:a.category,group_id:"none"===a.group_id?null:a.group_id,cep:a.cep,street:a.street,bairro:a.bairro,cidade:a.cidade,estado:a.estado,complemento:a.complemento,cnpj:a.cnpj,razao_social:a.razao_social,inscricao_estadual:a.inscricao_estadual,nome_fantasia:a.nome_fantasia},s=await IC(e);s?(n({title:"Cliente criado com sucesso!",description:`${a.name} foi adicionado  lista de clientes.`,variant:"default"}),r&&r(s),t(!1)):n({title:"Erro ao criar cliente",description:"Tente novamente.",variant:"destructive"})}catch(s){console.error("Erro ao criar cliente:",s),n({title:"Erro ao criar cliente",description:s.message||"Tente novamente.",variant:"destructive"})}finally{i(!1)}}else n({title:"Campos obrigatrios",description:"CNPJ, Razo Social e Inscrio Estadual so obrigatrios para empresas.",variant:"destructive"});else n({title:"Campos obrigatrios",description:"Nome, telefone e categoria so obrigatrios.",variant:"destructive"})},className:"space-y-4",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"name",children:"Nome Completo *"}),X.jsx(uk,{id:"name",value:a.name,onChange:e=>s({...a,name:e.target.value}),placeholder:"Nome completo do cliente"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"cpf",children:"CPF"}),X.jsx(uk,{id:"cpf",placeholder:"000.000.000-00",value:a.cpf,onChange:e=>{return s({...a,cpf:(t=e.target.value,t.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"))});var t}})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"phone",children:"Telefone *"}),X.jsx(uk,{id:"phone",placeholder:"(00) 00000-0000",value:a.phone,onChange:e=>s({...a,phone:h(e.target.value)})})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"email",children:"E-mail"}),X.jsx(uk,{id:"email",type:"email",value:a.email,onChange:e=>s({...a,email:e.target.value}),placeholder:"email@exemplo.com"})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"category",children:"Categoria *"}),X.jsxs(SO,{value:a.category,onValueChange:e=>s({...a,category:e}),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione a categoria..."})}),X.jsxs(RO,{children:[X.jsx(AO,{value:"Varejo",children:"Varejo"}),X.jsx(AO,{value:"Atacado",children:"Atacado"}),X.jsx(AO,{value:"Cliente Exclusivo",children:"Cliente Exclusivo"})]})]})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"group_id",children:"Nvel de Comprador"}),X.jsxs(SO,{value:a.group_id,onValueChange:e=>s({...a,group_id:e}),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione um grupo..."})}),X.jsxs(RO,{children:[X.jsx(AO,{value:"none",children:"Nenhum grupo"}),d.map(e=>X.jsxs(AO,{value:e.id,children:[e.name," - ",e.category,e.ticket_min&&` (${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.ticket_min)})`]},e.id))]})]})]}),p&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"cnpj",children:"CNPJ *"}),X.jsx(uk,{id:"cnpj",placeholder:"00.000.000/0000-00",value:a.cnpj||"",onChange:e=>s({...a,cnpj:e.target.value}),required:p})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"razao_social",children:"Razo Social *"}),X.jsx(uk,{id:"razao_social",value:a.razao_social||"",onChange:e=>s({...a,razao_social:e.target.value}),placeholder:"Razo social da empresa",required:p})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"inscricao_estadual",children:"Inscrio Estadual *"}),X.jsx(uk,{id:"inscricao_estadual",value:a.inscricao_estadual||"",onChange:e=>s({...a,inscricao_estadual:e.target.value}),placeholder:"Inscrio estadual",required:p})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"nome_fantasia",children:"Nome Fantasia"}),X.jsx(uk,{id:"nome_fantasia",value:a.nome_fantasia||"",onChange:e=>s({...a,nome_fantasia:e.target.value}),placeholder:"Nome fantasia da empresa"})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"cep",children:"CEP"}),X.jsx(uk,{id:"cep",placeholder:"00000-000",value:a.cep,onChange:e=>s({...a,cep:e.target.value}),onBlur:async e=>{const t=e.target.value.replace(/\D/g,"");if(8===t.length){c(!0);try{const e=await fetch(`https://viacep.com.br/ws/${t}/json/`),r=await e.json();r.erro||s({...a,cep:r.cep,street:r.logradouro,bairro:r.bairro,cidade:r.localidade,estado:r.uf,complemento:r.complemento})}finally{c(!1)}}},disabled:l})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"street",children:"Rua"}),X.jsx(uk,{id:"street",value:a.street,onChange:e=>s({...a,street:e.target.value}),placeholder:"Nome da rua"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"bairro",children:"Bairro"}),X.jsx(uk,{id:"bairro",value:a.bairro,onChange:e=>s({...a,bairro:e.target.value}),placeholder:"Nome do bairro"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"cidade",children:"Cidade"}),X.jsx(uk,{id:"cidade",value:a.cidade,onChange:e=>s({...a,cidade:e.target.value}),placeholder:"Nome da cidade"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"estado",children:"Estado"}),X.jsx(uk,{id:"estado",value:a.estado,onChange:e=>s({...a,estado:e.target.value}),placeholder:"UF"})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"complemento",children:"Complemento"}),X.jsx(uk,{id:"complemento",value:a.complemento,onChange:e=>s({...a,complemento:e.target.value}),placeholder:"Apartamento, bloco, etc."})]})]}),X.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[X.jsx(dk,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancelar"}),X.jsx(dk,{type:"submit",disabled:o,children:o?"Criando...":"Criar Cliente"})]})]})]})})},LO=U.createContext(),MO=()=>{const e=U.useContext(LO);if(!e)throw new Error("useRecentProducts deve ser usado dentro de um RecentProductsProvider");return e},FO=({children:e})=>{const[t,r]=U.useState([]),[n,a]=U.useState(!1),[s,o]=U.useState(null),i=async()=>{try{a(!0),o(null),console.log(" Buscando produtos recentes...");const e=await AC();console.log(" Produtos encontrados:",(null==e?void 0:e.length)||0);const t=e.filter(e=>e.active&&e.barcode).sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).slice(0,3);console.log(" Produtos recentes processados:",t.length),r(t)}catch(e){console.error(" Erro ao buscar produtos recentes:",e),o(e.message),r([])}finally{a(!1)}};U.useEffect(()=>{i()},[]);const l={recentProducts:t,loading:n,error:s,refreshRecentProducts:()=>{console.log(" Atualizando produtos recentes..."),i()},fetchRecentProducts:i};return X.jsx(LO.Provider,{value:l,children:e})},IO=({onProductFound:e})=>{const[t,r]=U.useState(""),[n,a]=U.useState(!1),{recentProducts:s,loading:o,refreshRecentProducts:i}=MO(),{toast:l}=cg();return X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2",children:[X.jsx(Of,{className:"w-5 h-5"}),X.jsx("span",{children:"Leitor de Cdigo de Barras"})]})}),X.jsxs(bk,{children:[X.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),t.trim()&&!n){a(!0);try{console.log(" Buscando produto com cdigo:",t);const n=await zC(t);n&&n.product?(console.log(" Produto encontrado:",n.product.name),e(n.product),r(""),l({title:"Produto adicionado!",description:`${n.product.name} foi adicionado ao carrinho.`})):(console.log(" Produto no encontrado para cdigo:",t),l({title:"Produto no encontrado",description:`Cdigo de barras: ${t}`,variant:"destructive"}))}catch(o){console.error(" Erro ao buscar produto:",o),l({title:"Erro ao buscar produto",description:o.message||"Erro desconhecido ao buscar produto",variant:"destructive"})}finally{a(!1)}}},className:"flex space-x-2",children:[X.jsx(uk,{placeholder:"Escaneie ou digite o cdigo de barras",value:t,onChange:e=>r(e.target.value),className:"flex-1 barcode-scanner",autoFocus:!0,disabled:n}),X.jsx(dk,{type:"submit",disabled:n,children:n?X.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):X.jsx(Ef,{className:"w-4 h-4"})})]}),X.jsxs("div",{className:"mt-4",children:[X.jsxs("div",{className:"flex items-center justify-between mb-2",children:[X.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Produtos Recentes"}),X.jsx(dk,{variant:"ghost",size:"sm",onClick:i,disabled:o||n,className:"text-xs",children:o?"Carregando...":"Atualizar"})]}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:s.length>0?s.map(t=>{var r;return X.jsxs(dk,{variant:"outline",onClick:()=>(async t=>{if(!n){a(!0);try{console.log(" Adicionando produto recente:",t);const r=await zC(t);r&&r.product?(console.log(" Produto recente adicionado:",r.product.name),e(r.product),l({title:"Produto adicionado!",description:`${r.product.name} foi adicionado ao carrinho.`})):(console.log(" Produto recente no encontrado:",t),l({title:"Produto no encontrado",description:`Cdigo: ${t}`,variant:"destructive"}))}catch(r){console.error(" Erro ao adicionar produto recente:",r),l({title:"Erro ao adicionar produto",description:r.message||"Erro desconhecido ao adicionar produto",variant:"destructive"})}finally{a(!1)}}})(t.barcode),className:"text-sm h-auto p-2 flex flex-col items-center",disabled:o||n,children:[X.jsx("span",{className:"font-medium",children:t.name}),X.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:["R$ ",(null==(r=t.price)?void 0:r.toFixed(2))||"0.00"]})]},t.id)}):X.jsx("div",{className:"col-span-3 text-center text-gray-400 text-sm py-4",children:o?"Carregando produtos...":"Nenhum produto recente encontrado"})})]})]})]})},$O=({cart:e,onUpdateQuantity:t,onRemoveFromCart:r,onClearCart:n})=>X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center justify-between",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx($f,{className:"w-5 h-5"}),X.jsxs("span",{children:["Carrinho (",e.length," itens)"]})]}),e.length>0&&X.jsx(dk,{variant:"outline",size:"sm",onClick:n,children:"Limpar"})]})}),X.jsx(bk,{children:0===e.length?X.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[X.jsx($f,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),X.jsx("p",{children:"Carrinho vazio"}),X.jsx("p",{className:"text-sm",children:"Escaneie um produto para comear"})]}):X.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(e=>X.jsxs(tk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[X.jsxs("div",{className:"flex-1",children:[X.jsx("h4",{className:"font-medium",children:e.name}),X.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",e.price.toFixed(2)]})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(dk,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(e.id,e.quantity-1),children:X.jsx(jf,{className:"w-3 h-3"})}),X.jsx("span",{className:"w-8 text-center",children:e.quantity}),X.jsx(dk,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(e.id,e.quantity+1),children:X.jsx(Ef,{className:"w-3 h-3"})}),X.jsxs("span",{className:"w-20 text-right font-medium",children:["R$ ",e.subtotal.toFixed(2)]}),X.jsx(dk,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>r(e.id),children:X.jsx(Bf,{className:"w-3 h-3"})})]})]},e.id))})})]}),zO=({subtotal:e,discountAmount:t,total:r,onApplyDiscount:n,discount:a})=>{const s=kC(),[o,i]=U.useState(!1),[l,c]=U.useState(null),[d,u]=U.useState(""),h=e=>{c(e),u("")};return X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2",children:[X.jsx(Qm,{className:"w-5 h-5"}),X.jsx("span",{children:"Totais"})]})}),X.jsxs(bk,{className:"space-y-3",children:[X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"Subtotal:"}),X.jsxs("span",{children:["R$ ",e.toFixed(2)]})]}),t>0&&X.jsxs("div",{className:"flex justify-between text-green-600",children:[X.jsxs("span",{children:["Desconto ","percentage"===(null==a?void 0:a.type)?`(${a.value}%)`:"(R$)",":"]}),X.jsxs("span",{children:["- R$ ",t.toFixed(2)]})]}),X.jsx("div",{className:"border-t pt-2",children:X.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[X.jsx("span",{children:"Total:"}),X.jsxs("span",{children:["R$ ",r.toFixed(2)]})]})}),jC(null==s?void 0:s.role,yC)&&X.jsxs("div",{className:"pt-2 border-t space-y-3",children:[o?X.jsxs("div",{className:"space-y-3",children:[X.jsxs("div",{className:"flex gap-2",children:[X.jsxs(dk,{variant:"percentage"===l?"default":"outline",size:"sm",className:"flex-1 hover:bg-gray-700 hover:text-white border-gray-600 text-gray-300",onClick:()=>h("percentage"),children:[X.jsx(Sf,{className:"w-3 h-3 mr-1"}),"%"]}),X.jsxs(dk,{variant:"fixed"===l?"default":"outline",size:"sm",className:"flex-1 hover:bg-gray-700 hover:text-white border-gray-600 text-gray-300",onClick:()=>h("fixed"),children:[X.jsx(lf,{className:"w-3 h-3 mr-1"}),"R$"]})]}),l&&X.jsxs("div",{className:"space-y-2",children:[X.jsx(uk,{type:"text",placeholder:"percentage"===l?"Ex: 10":"Ex: 10,50",value:d,onChange:e=>{u("percentage"===l?e.target.value.replace(/[^\d]/g,""):e.target.value.replace(/[^\d,]/g,""))},className:"text-center border-gray-600 bg-gray-800 text-white placeholder-gray-400"}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx(dk,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>{if("percentage"===l){const e=parseFloat(d);!isNaN(e)&&e>=0&&e<=100&&(n({type:"percentage",value:e}),i(!1),c(null),u(""))}else if("fixed"===l){const t=parseFloat(d.replace(",","."));!isNaN(t)&&t>=0&&t<=e&&(n({type:"fixed",value:t}),i(!1),c(null),u(""))}},disabled:!d||"percentage"===l&&(parseFloat(d)<0||parseFloat(d)>100)||"fixed"===l&&(parseFloat(d.replace(",","."))<0||parseFloat(d.replace(",","."))>e),children:"Aplicar"}),X.jsx(dk,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white",onClick:()=>{i(!1),c(null),u("")},children:X.jsx(Xf,{className:"w-4 h-4"})})]})]})]}):X.jsxs(dk,{variant:"outline",size:"sm",className:"w-full hover:bg-gray-700 hover:text-white border-gray-600 text-gray-300",onClick:()=>i(!0),children:[X.jsx(Sf,{className:"w-4 h-4 mr-2"}),"Aplicar Desconto"]}),t>0&&!o&&X.jsxs(dk,{variant:"outline",size:"sm",className:"w-full border-red-600 text-red-400 hover:bg-red-600 hover:text-white",onClick:()=>{n({type:"none",value:0})},children:[X.jsx(Xf,{className:"w-4 h-4 mr-2"}),"Remover Desconto"]})]})]})]})},VO="cash",UO="debit",BO="credit",qO="pix",WO={[VO]:"Dinheiro",[UO]:"Carto Dbito",[BO]:"Carto Crdito",[qO]:"PIX"},HO="/images/debito card.png",GO="/images/dinheiroicon.png",KO=[{value:"varejo",label:"Varejo"},{value:"atacado",label:"Atacado"},{value:"cliente_exclusivo",label:"Cliente Exclusivo"}],JO=Array.from({length:10},(e,t)=>t+1),YO=e=>{if(!e)return 0;let t=e.toString().replace(/[^\d,.]/g,"");t.includes(",")&&t.includes(".")?t=t.replace(",",""):t.includes(",")&&!t.includes(".")&&(t=t.replace(",","."));const r=parseFloat(t);return isNaN(r)?0:r},QO=e=>{if(!e&&0!==e)return"R$ 0,00";const t=parseFloat(e);return isNaN(t)?"R$ 0,00":t.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2})},XO=()=>{const e=()=>{try{localStorage.removeItem("pos_sale_state")}catch(e){console.error("Erro ao limpar estado da venda:",e)}},t=(()=>{try{const e=localStorage.getItem("pos_sale_state");return e?JSON.parse(e):null}catch(e){return console.error("Erro ao carregar estado da venda:",e),null}})(),[r,n]=U.useState((null==t?void 0:t.cart)||[]),[a,s]=U.useState((null==t?void 0:t.discount)||{type:"percentage",value:0}),[o,i]=U.useState((null==t?void 0:t.payments)||[]),[l,c]=U.useState({isOpen:!1,currentAmount:0,openingAmount:0,id:null,store_id:null}),[d,u]=U.useState(null),{toast:h}=cg(),p=kC(),m=!!(null==p?void 0:p.store_id)&&!jC(p.role,vC),[f,g]=U.useState((null==t?void 0:t.step)||0),[v,x]=U.useState((null==t?void 0:t.modalidade)||""),[y,b]=U.useState((null==t?void 0:t.vendedor)||null),[w,j]=U.useState([]),[k,_]=U.useState(!1),[N,S]=U.useState((null==t?void 0:t.cliente)||null),[C,E]=U.useState([]),[P,T]=U.useState(!1),[R,A]=U.useState(!1),[O,D]=U.useState(""),[L,M]=U.useState("all"),[F,I]=U.useState(!1),[$,z]=U.useState(1),V=()=>N?X.jsxs("div",{className:"p-3 bg-green-600 rounded-lg text-white",children:[X.jsx("div",{className:"font-medium text-green-100 mb-1",children:" Cliente selecionado"}),X.jsxs("div",{className:"text-sm text-green-100",children:[X.jsx("strong",{className:"text-white",children:N.name})," - ",N.category||"Cliente",N.cpf&&X.jsxs("span",{children:[" - CPF: ",N.cpf]}),N.cnpj&&X.jsxs("span",{children:[" - CNPJ: ",N.cnpj]}),N.phone&&X.jsxs("span",{children:[" - Tel: ",N.phone]})]})]}):null,[B,q]=U.useState((null==t?void 0:t.numPagamentos)||1),[W,H]=U.useState((null==t?void 0:t.pagamentosWizard)||[{method:"",amount:"",parcelas:void 0},{method:"",amount:"",parcelas:void 0}]),[G,K]=U.useState((null==t?void 0:t.isTroca)||!1),[J,Y]=U.useState(!1),[Q,Z]=U.useState(!!t),[ee,te]=U.useState(2.99);U.useEffect(()=>{re()},[]);const re=async()=>{try{const e=await BC.getInterestRate();te(e.credit_card_interest)}catch(e){console.error("Erro ao carregar taxa de juros:",e)}};U.useEffect(()=>{(e=>{try{localStorage.setItem("pos_sale_state",JSON.stringify(e))}catch(t){console.error("Erro ao salvar estado da venda:",t)}})({cart:r,discount:a,payments:o,step:f,modalidade:v,vendedor:y,cliente:N,numPagamentos:B,pagamentosWizard:W,isTroca:G})},[r,a,o,f,v,y,N,B,W,G]),U.useEffect(()=>{var e,t,r,n,a,s,o,i,l;if(W.length>0&&(null==(e=W[0])?void 0:e.method)){const e=ue(),c=[...W];if(1===B)if("credit"===(null==(t=c[0])?void 0:t.method)){const t=(null==(r=c[0])?void 0:r.parcelas)||1;c[0]={...c[0],amount:he(e,t).toFixed(2)}}else c[0]={...c[0],amount:e.toFixed(2)};else if(2===B&&(null==(n=c[0])?void 0:n.amount)&&(null==(a=c[1])?void 0:a.method)){const t=YO(c[0].amount),r=YO(c[1].amount),n=t+r,a=e*(t/n),d=e*(r/n);if("credit"===(null==(s=c[0])?void 0:s.method)){const e=(null==(o=c[0])?void 0:o.parcelas)||1;c[0]={...c[0],amount:he(a,e).toFixed(2)}}else c[0]={...c[0],amount:a.toFixed(2)};if("credit"===(null==(i=c[1])?void 0:i.method)){const e=(null==(l=c[1])?void 0:l.parcelas)||1;c[1]={...c[1],amount:he(d,e).toFixed(2)}}else c[1]={...c[1],amount:d.toFixed(2)}}H(c)}},[a]),U.useEffect(()=>{if(Q){const e=setTimeout(()=>{Z(!1)},5e3);return()=>clearTimeout(e)}},[Q]);const ne=()=>Q?X.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("span",{className:"text-sm",children:" Venda restaurada automaticamente"}),X.jsx("button",{onClick:()=>Z(!1),className:"text-white hover:text-green-200",children:""})]})}):null;U.useEffect(()=>{1===f&&0===w.length&&(_(!0),SC().then(e=>{const t=e.filter(e=>["manager","cashier","admin"].includes(e.role));j(t)}).finally(()=>_(!1)))},[f,w.length]),U.useEffect(()=>{2===f&&0===C.length&&(T(!0),FC().then(e=>{E(e||[])}).catch(e=>{console.error("Erro ao carregar clientes:",e),E([])}).finally(()=>T(!1)))},[f,C.length]);U.useEffect(()=>{2!==f&&(D(""),M("all"),I(!1),z(1))},[f]),U.useEffect(()=>{z(1)},[O,L]);const ae=U.useCallback(async()=>{const e=await(async()=>{var e,t;const r=kC();let n=eC.from("cash_register_logs").select("*, stores(name, is_online_store)").order("created_at",{ascending:!1}),a=null;if(r&&r.store_id&&!(null==(e=r.stores)?void 0:e.is_online_store)&&!jC(r.role,vC))a=r.store_id;else if(r&&(null==(t=r.stores)?void 0:t.is_online_store))a=r.store_id;else if(r&&r.role===tC&&!r.store_id){const e=(await CC()).find(e=>e.is_online_store);e&&(a=e.id)}if(a)n=n.eq("store_id",a);else if(!jC(null==r?void 0:r.role,vC))return console.warn("Usurio sem loja definida e sem permisso para ver todos os caixas. Retornando caixa fechado."),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};const{data:s,error:o}=await n.limit(1).maybeSingle();if(o)return console.error("Error fetching current cash register state:",o),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};if(!s)return{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:a,store:null==r?void 0:r.stores};const i="close"!==s.type;return{id:s.id,isOpen:i,openingAmount:"open"===s.type||i?s.initial_amount:0,currentAmount:s.current_amount,openedBy:i&&"open"===s.type||i?s.user_id:null,openedAt:i&&"open"===s.type||i?s.created_at:null,closedAt:"close"===s.type?s.created_at:null,store_id:s.store_id,store:s.stores}})();c(e),m&&(null==p?void 0:p.store_id)?u({id:p.store_id,name:p.store_name||"Loja Fsica"}):u({id:null,name:"Loja Online"})},[m,null==p?void 0:p.store_id,null==p?void 0:p.store_name]);U.useEffect(()=>{ae()},[ae]);const se=async e=>{var t,a;if(m&&e.is_physical_store_stock&&(!e.stock||e.stock<=0))return void h({title:"Sem estoque na sua loja",description:`O produto ${e.name} no tem estoque disponvel na sua loja.`,variant:"warning"});if(!m&&(!e.stock||e.stock<=0))return void h({title:"Sem estoque online",description:`O produto ${e.name} no tem estoque online disponvel.`,variant:"warning"});const s=(o=e,"varejo"===v&&null!=o.price_varejo?o.price_varejo:"atacado"===v&&null!=o.price_atacado?o.price_atacado:"cliente_exclusivo"===v&&null!=o.price_atacarejo?o.price_atacarejo:o.price);var o;const i=r.find(t=>t.productId===e.id);if(i)oe(i.id,i.quantity+1,e.stock);else{const r={id:`${e.id}-${Date.now()}`,productId:e.id,name:e.name,price:s,barcode:e.barcode,quantity:1,size:(null==(t=e.sizes)?void 0:t[0])||null,color:(null==(a=e.colors)?void 0:a[0])||null,subtotal:s,product_main_store_id:e.store_id,max_available_stock:e.stock};n(e=>[...e,r])}h({title:"Produto adicionado",description:`${e.name} adicionado ao carrinho. Estoque disponvel: ${e.stock}`})},oe=(e,t,a)=>{const s=r.find(t=>t.id===e);if(!s)return;const o=void 0!==a?a:s.max_available_stock;t>o&&(h({title:"Quantidade excede estoque",description:`Mximo de ${o} unidades disponveis.`,variant:"warning"}),t=o),t<=0?ie(e):n(r=>r.map(r=>r.id===e?{...r,quantity:t,subtotal:r.price*t}:r))},ie=e=>{n(t=>t.filter(t=>t.id!==e))},le=()=>{n([]),i([]),s({type:"percentage",value:0}),e()},ce=()=>r.reduce((e,t)=>e+t.subtotal,0),de=()=>{const e=ce();return"percentage"===a.type?e*a.value/100:Math.min(a.value,e)},ue=()=>ce()-de(),he=(e,t)=>{if(t<=1)return e;const r=ee/100;return e*(1+(Math.pow(1+r,t-1)-1))},pe=()=>{var e,t;if(0===r.length)return!1;if(!(null==(e=W[0])?void 0:e.method))return!1;if(1===B)return!0;for(let r=0;r<B;r++)if(!(null==(t=W[r])?void 0:t.amount)||YO(W[r].amount)<=0)return!1;return Math.abs(W.reduce((e,t)=>e+(YO(t.amount)||0),0)-ue())<=.01},me=(e,t,r)=>{console.log("handlePagamentoChange:",e,t,r),H(n=>{const a=n.map((n,a)=>a===e?{...n,[t]:r}:n);return console.log("Novo estado:",a),a})};return ue(),W.slice(0,B).reduce((e,t)=>e+(YO(t.amount)||0),0),W.slice(0,B).every(e=>e.method&&e.amount&&!isNaN(YO(e.amount))&&("credit"!==e.method||e.parcelas)),X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[X.jsx(ne,{}),X.jsx(DO,{open:R,onOpenChange:A,onCustomerCreated:e=>{E(t=>[...t,e]),S(e)}}),X.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[0===f&&X.jsxs("div",{className:"mb-6",children:[X.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione a modalidade da venda"}),X.jsx("div",{className:"flex gap-4 mb-4",children:KO.map(e=>X.jsx(dk,{variant:v===e.value?"default":"outline",onClick:()=>x(e.value),className:"min-w-[120px]",children:e.label},e.value))}),X.jsx(dk,{onClick:()=>v&&g(1),disabled:!v,className:"mt-2",children:"Avanar"})]}),1===f&&X.jsxs("div",{className:"mb-6",children:[X.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione o vendedor responsvel"}),k?X.jsx("div",{children:"Carregando vendedores..."}):X.jsx("div",{className:"flex flex-col gap-2 mb-4 max-w-md",children:w.map(e=>X.jsxs(dk,{variant:(null==y?void 0:y.id)===e.id?"default":"outline",onClick:()=>b(e),className:"justify-start",children:[e.name," ",X.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",e.role,")"]})]},e.id))}),X.jsx(dk,{onClick:()=>y&&g(2),disabled:!y,className:"mt-2",children:"Avanar"}),X.jsx(dk,{variant:"ghost",className:"mt-2 ml-2",onClick:()=>g(0),children:"Voltar"})]}),2===f&&(()=>{const e=L||"all",t=C.filter(t=>{var r,n,a,s;const o=null==(r=t.name)?void 0:r.toLowerCase().includes(O.toLowerCase()),i=null==(n=t.cpf)?void 0:n.includes(O),l=null==(a=t.cnpj)?void 0:a.includes(O),c=null==(s=t.phone)?void 0:s.includes(O),d="all"===e||t.category===e;return(o||i||l||c)&&d}),r=Math.ceil(t.length/10),n=10*($-1),a=n+10,s=F?t:t.slice(n,a);return X.jsxs("div",{className:"mb-6",children:[X.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione o cliente"}),X.jsxs("div",{className:"mb-4",children:[X.jsx(uk,{placeholder:"Buscar por nome, CPF, CNPJ ou telefone...",value:O,onChange:e=>D(e.target.value),className:"mb-2"}),X.jsxs("div",{className:"flex gap-2 mb-2",children:[X.jsxs(SO,{value:e,onValueChange:M,children:[X.jsx(EO,{className:"w-48",children:X.jsx(CO,{placeholder:"Todas as categorias"})}),X.jsxs(RO,{children:[X.jsx(AO,{value:"all",children:"Todas as categorias"}),X.jsx(AO,{value:"Varejo",children:"Varejo"}),X.jsx(AO,{value:"Atacado",children:"Atacado"}),X.jsx(AO,{value:"Cliente Exclusivo",children:"Cliente Exclusivo"})]})]}),X.jsx(dk,{variant:"outline",onClick:()=>I(!F),children:F?"Mostrar menos":"Mostrar todos"}),X.jsxs(dk,{variant:"default",onClick:()=>A(!0),className:"bg-green-600 hover:bg-green-700 text-white",children:[X.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Cadastrar Cliente"]})]})]}),P?X.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando clientes..."}):X.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto border border-gray-700 rounded-lg p-2",children:0===s.length?X.jsx("div",{className:"text-center py-8 text-muted-foreground",children:O?"Nenhum cliente encontrado com essa busca.":"Nenhum cliente cadastrado."}):s.map(e=>X.jsx("div",{className:"p-3 rounded-lg cursor-pointer transition-colors border "+((null==N?void 0:N.id)===e.id?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border-gray-700 hover:bg-gray-700 text-gray-200"),onClick:()=>S(e),children:X.jsxs("div",{className:"flex justify-between items-start",children:[X.jsxs("div",{className:"flex-1",children:[X.jsx("div",{className:"font-medium "+((null==N?void 0:N.id)===e.id?"text-white":"text-gray-200"),children:e.name}),X.jsxs("div",{className:"text-sm mt-1 "+((null==N?void 0:N.id)===e.id?"text-blue-100":"text-gray-400"),children:[X.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+("Varejo"===e.category?"bg-green-600 text-green-100":"Atacado"===e.category?"bg-blue-600 text-blue-100":"Cliente Exclusivo"===e.category?"bg-purple-600 text-purple-100":"bg-gray-600 text-gray-100"),children:e.category||"Cliente"}),e.cpf&&X.jsxs("span",{className:"ml-2",children:[" CPF: ",e.cpf]}),e.cnpj&&X.jsxs("span",{className:"ml-2",children:[" CNPJ: ",e.cnpj]}),e.phone&&X.jsxs("span",{className:"ml-2",children:[" Tel: ",e.phone]})]})]}),(null==N?void 0:N.id)===e.id&&X.jsx("div",{className:"text-white text-sm font-medium bg-white bg-opacity-20 px-3 py-1 rounded-full",children:" Selecionado"})]})},e.id))}),!P&&t.length>10&&!F&&X.jsxs("div",{className:"flex justify-between items-center mt-4 p-3 bg-gray-800 border border-gray-700 rounded-lg",children:[X.jsxs("div",{className:"text-sm text-gray-300 font-medium",children:["Mostrando ",n+1,"-",Math.min(a,t.length)," de ",t.length," clientes"]}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx(dk,{variant:"outline",size:"sm",onClick:()=>z(Math.max(1,$-1)),disabled:1===$,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white",children:" Anterior"}),X.jsxs("span",{className:"px-4 py-2 text-sm bg-gray-700 border border-gray-600 rounded-lg font-medium text-gray-200",children:[$," de ",r]}),X.jsx(dk,{variant:"outline",size:"sm",onClick:()=>z(Math.min(r,$+1)),disabled:$===r,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white",children:"Prxima "})]})]}),X.jsxs("div",{className:"flex gap-2 mt-4",children:[X.jsx(dk,{onClick:()=>N&&g(3),disabled:!N,children:"Avanar"}),X.jsx(dk,{variant:"ghost",onClick:()=>g(1),children:"Voltar"})]})]})})(),3===f&&X.jsxs("div",{className:"space-y-6",children:[X.jsx(V,{}),X.jsx(IO,{onProductFound:se,getProductByBarcode:zC}),X.jsx($O,{cart:r,onUpdateQuantity:oe,onRemoveFromCart:ie,onClearCart:le}),X.jsxs("div",{className:"flex gap-2 mt-4",children:[X.jsx(dk,{onClick:()=>r.length>0&&g(4),disabled:0===r.length,children:"Avanar"}),X.jsx(dk,{variant:"ghost",onClick:()=>g(2),children:"Voltar"})]})]}),4===f&&(()=>{var e,t,r,n,a,s,o,i,l,c,d,u,h,p,m,f,v,x,y,b;const w=ue(),j={cash:GO,credit:"/images/crediticon.png",debit:HO,pix:"/images/pixicon.png",transfer:HO,check:GO};return X.jsxs("div",{className:"space-y-6 max-w-2xl",children:[X.jsx(V,{}),X.jsx("h2",{className:"text-xl font-bold mb-4",children:"Formas de Pagamento"}),X.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-6 bg-gray-50 dark:bg-gray-800",children:[X.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:Object.entries(WO).map(([e,t])=>{var r;return X.jsxs("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 text-center "+((null==(r=W[0])?void 0:r.method)===e?"border-blue-500 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200":"border-gray-400 hover:border-gray-500 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200"),onClick:()=>{const t=[...W];t[0]={...t[0],method:e,amount:1===B?w.toFixed(2):t[0].amount,parcelas:"credit"===e?t[0].parcelas||1:void 0},H(t)},children:[X.jsx("div",{className:"mb-2",children:X.jsx("img",{src:j[e],alt:t,className:"w-12 h-12 mx-auto object-contain"})}),X.jsx("div",{className:"font-medium",children:t})]},e)})}),X.jsx("div",{className:"flex gap-4 mb-6",children:1===B?X.jsx(dk,{variant:"outline",onClick:()=>{var e;if(q(2),null==(e=W[0])?void 0:e.method){const e=[...W];e[0]={...e[0],amount:"",parcelas:e[0].parcelas||1},e[1]={method:"",amount:"",parcelas:void 0},H(e)}},className:"w-full bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 border-gray-400 dark:border-gray-500 hover:bg-gray-50 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white",children:"2 Formas de Pagamento"}):X.jsx(dk,{variant:"outline",onClick:()=>{var e;if(q(1),null==(e=W[0])?void 0:e.method){const e=[...W];e[0]={...e[0],amount:w.toFixed(2),parcelas:e[0].parcelas||1},e[1]={method:"",amount:"",parcelas:void 0},H(e)}},className:"w-full bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 border-gray-400 dark:border-gray-500 hover:bg-gray-50 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white",children:"Voltar para 1 Forma"})}),(null==(e=W[0])?void 0:e.method)&&1===B&&"credit"!==(null==(t=W[0])?void 0:t.method)&&X.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-green-50 dark:bg-green-900/20",children:X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("img",{src:j[null==(r=W[0])?void 0:r.method],alt:WO[null==(n=W[0])?void 0:n.method],className:"w-8 h-8 object-contain"}),X.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:WO[null==(a=W[0])?void 0:a.method]}),X.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:QO(w)})]})}),"credit"===(null==(s=W[0])?void 0:s.method)&&1===B&&X.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-blue-50 dark:bg-blue-900/20",children:[X.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[X.jsx("img",{src:j[null==(o=W[0])?void 0:o.method],alt:WO[null==(i=W[0])?void 0:i.method],className:"w-8 h-8 object-contain"}),X.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:WO[null==(l=W[0])?void 0:l.method]})]}),X.jsx("div",{className:"flex gap-3 items-center mb-3",children:X.jsxs(SO,{value:((null==(c=W[0])?void 0:c.parcelas)||1).toString(),onValueChange:e=>{const t=parseInt(e);console.log("Mudando parcelas para:",t);const r=[...W];r[0]={...r[0],parcelas:t,amount:he(w,t).toFixed(2)},H(r)},children:[X.jsx(EO,{className:"w-32 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:ring-0 focus:border-gray-300 dark:focus:border-gray-600",children:X.jsx(CO,{placeholder:"Parcelas"})}),X.jsx(RO,{className:"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600",children:JO.map(e=>X.jsxs(AO,{value:e.toString(),className:"text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[e,"x"]},e))})]})}),X.jsx("div",{className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-3",children:X.jsxs("div",{className:"space-y-2",children:[X.jsxs("div",{className:"flex justify-between text-sm",children:[X.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Valor original:"}),X.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:QO(w)})]}),((null==(d=W[0])?void 0:d.parcelas)||1)>1&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"flex justify-between text-sm",children:[X.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Juros (",ee,"% ao ms):"]}),X.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:QO(he(w,(null==(u=W[0])?void 0:u.parcelas)||1)-w)})]}),X.jsxs("div",{className:"flex justify-between text-sm",children:[X.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Valor por parcela:"}),X.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:QO(he(w,(null==(h=W[0])?void 0:h.parcelas)||1)/((null==(p=W[0])?void 0:p.parcelas)||1))})]})]}),X.jsxs("div",{className:"border-t pt-2",children:[X.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[X.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Total a pagar:"}),X.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:QO(he(w,(null==(m=W[0])?void 0:m.parcelas)||1))})]}),((null==(f=W[0])?void 0:f.parcelas)||1)>1&&X.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-1",children:[(null==(v=W[0])?void 0:v.parcelas)||1,"x de ",QO(he(w,(null==(x=W[0])?void 0:x.parcelas)||1)/((null==(y=W[0])?void 0:y.parcelas)||1))]})]})]})})]}),2===B&&X.jsx("div",{className:"space-y-4",children:[...Array(B)].map((e,t)=>{var r,n,a,s,o,i,l,c,d,u,h,p,m,f,g,v,x,y,b,k,_;return X.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-white dark:bg-gray-700",children:[X.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[X.jsx("img",{src:j[null==(r=W[t])?void 0:r.method],alt:WO[null==(n=W[t])?void 0:n.method],className:"w-8 h-8 object-contain"}),X.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:[WO[null==(a=W[t])?void 0:a.method]," (",t+1,")"]})]}),X.jsxs("div",{className:"space-y-3",children:[X.jsxs("div",{className:"flex gap-3 items-center",children:[X.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Valor:"}),X.jsx(uk,{type:"text",placeholder:"0,00",className:"w-40 border-gray-300 text-gray-800 focus:ring-0 focus:border-gray-300 focus:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 "+(2===B&&1===t?"bg-gray-100 cursor-not-allowed":"bg-white"),value:(null==(s=W[t])?void 0:s.amount)||"",disabled:2===B&&1===t,onChange:e=>{var r;if(2===B&&1===t)return;const n=e.target.value;console.log("Digitando valor:",n,"no ndice:",t,"valor atual:",null==(r=W[t])?void 0:r.amount),me(t,"amount",n)},onBlur:e=>{if(2===B&&0===t){const t=YO(e.target.value)||0,r=w-t;if(r>=0){const e=[...W];e[1]={...e[1],amount:r.toFixed(2)},H(e)}}}})]}),(null==(o=W[t])?void 0:o.amount)&&YO(W[t].amount)>0&&X.jsxs("div",{className:"flex gap-3 items-center",children:[X.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Forma:"}),X.jsxs(SO,{value:(null==(i=W[t])?void 0:i.method)||"",onValueChange:e=>{if(me(t,"method",e),"credit"===e){const r=[...W];r[t]={...r[t],method:e,parcelas:1},H(r)}},children:[X.jsx(EO,{className:"w-40 bg-white border-gray-300 text-gray-800 focus:ring-0 focus:border-gray-300 focus:outline-none focus-visible:ring-0 focus-visible:ring-offset-0",children:X.jsx(CO,{placeholder:"Escolher forma"})}),X.jsx(RO,{className:"bg-white border-gray-300",children:Object.entries(WO).map(([e,t])=>X.jsx(AO,{value:e,className:"text-gray-800 hover:bg-gray-100",children:t},e))})]})]}),"credit"===(null==(l=W[t])?void 0:l.method)&&X.jsxs("div",{className:"flex gap-3 items-center",children:[X.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Parcelas:"}),X.jsxs(SO,{value:((null==(c=W[t])?void 0:c.parcelas)||1).toString(),onValueChange:e=>{var r;const n=parseInt(e);console.log("Mudando parcelas para:",n,"no ndice:",t);const a=[...W];a[t]={...a[t],parcelas:n},"credit"===(null==(r=W[t])?void 0:r.method)&&(a[t].parcelas=n),H(a)},children:[X.jsx(EO,{className:"w-32 bg-white border-gray-300 text-gray-800 focus:ring-0 focus:border-gray-300 focus:outline-none focus-visible:ring-0 focus-visible:ring-offset-0",children:X.jsx(CO,{placeholder:"Parcelas"})}),X.jsx(RO,{className:"bg-white border-gray-300",children:JO.map(e=>X.jsxs(AO,{value:e.toString(),className:"text-gray-800 hover:bg-gray-100",children:[e,"x"]},e))})]})]})]}),"credit"===(null==(d=W[t])?void 0:d.method)&&2===B&&((null==(u=W[t])?void 0:u.parcelas)||1)>1&&X.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 mt-3",children:X.jsxs("div",{className:"space-y-2",children:[X.jsxs("div",{className:"flex justify-between text-sm",children:[X.jsx("span",{className:"text-blue-800 dark:text-blue-200",children:"Valor original:"}),X.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:QO(YO(null==(h=W[t])?void 0:h.amount))})]}),X.jsxs("div",{className:"flex justify-between text-sm",children:[X.jsxs("span",{className:"text-blue-800 dark:text-blue-200",children:["Juros (",ee,"% ao ms):"]}),X.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:QO(he(YO(null==(p=W[t])?void 0:p.amount),(null==(m=W[t])?void 0:m.parcelas)||1)-YO(null==(f=W[t])?void 0:f.amount))})]}),X.jsxs("div",{className:"flex justify-between text-sm",children:[X.jsx("span",{className:"text-blue-800 dark:text-blue-200",children:"Valor por parcela:"}),X.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:QO(he(YO(null==(g=W[t])?void 0:g.amount),(null==(v=W[t])?void 0:v.parcelas)||1)/((null==(x=W[t])?void 0:x.parcelas)||1))})]}),X.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:[(null==(y=W[t])?void 0:y.parcelas)||1,"x de ",QO(he(YO(null==(b=W[t])?void 0:b.amount),(null==(k=W[t])?void 0:k.parcelas)||1)/((null==(_=W[t])?void 0:_.parcelas)||1))]})]})})]},t)})})]}),!pe&&(null==(b=W[0])?void 0:b.method)&&X.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:" Preencha todas as formas de pagamento corretamente e o valor total deve bater com o total da venda."}),X.jsxs("div",{className:"flex gap-2 mt-4",children:[X.jsx(dk,{onClick:()=>pe&&g(5),disabled:!pe,children:"Avanar"}),X.jsx(dk,{variant:"ghost",onClick:()=>g(3),children:"Voltar"})]})]})})(),5===f&&X.jsxs("div",{className:"space-y-6 max-w-2xl",children:[X.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumo da Venda"}),X.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[X.jsxs("div",{className:"mb-2",children:[X.jsx("b",{children:"Modalidade:"})," ",null==(fe=KO.find(e=>e.value===v))?void 0:fe.label]}),X.jsxs("div",{className:"mb-2",children:[X.jsx("b",{children:"Vendedor:"})," ",null==y?void 0:y.name]}),X.jsxs("div",{className:"mb-2",children:[X.jsx("b",{children:"Cliente:"})," ",null==N?void 0:N.name]}),X.jsxs("div",{className:"mb-2",children:[X.jsx("b",{children:"Tipo de venda:"})," ",G?"Troca":"Normal"]}),X.jsxs("div",{className:"mb-2",children:[X.jsx("b",{children:"Itens:"}),X.jsx("ul",{className:"ml-4 list-disc",children:r.map(e=>X.jsxs("li",{children:[e.name," - ",e.quantity," x ",QO(e.price)," = ",QO(e.price*e.quantity)]},e.id))})]}),X.jsxs("div",{className:"mb-2",children:[X.jsx("b",{children:"Total:"})," ",QO(ue())]}),X.jsxs("div",{className:"mb-2",children:[X.jsx("b",{children:"Pagamentos:"}),X.jsx("ul",{className:"ml-4 list-disc",children:W.slice(0,B).map((e,t)=>X.jsxs("li",{children:[WO[e.method]," - ",QO(YO(e.amount)),"credit"===e.method&&e.parcelas>1&&X.jsxs("div",{className:"ml-4 text-sm text-gray-600 dark:text-gray-400",children:[" Valor original: ",QO(YO(e.amount)),X.jsx("br",{})," Juros (",ee,"% ao ms): ",QO(he(YO(e.amount),e.parcelas)-YO(e.amount)),X.jsx("br",{})," Valor por parcela: ",QO(he(YO(e.amount),e.parcelas)/e.parcelas),X.jsx("br",{})," ",e.parcelas,"x de ",QO(he(YO(e.amount),e.parcelas)/e.parcelas)]}),"credit"===e.method&&1===e.parcelas&&` (${e.parcelas}x)`]},t))})]}),X.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[X.jsx("input",{type:"checkbox",id:"troca",checked:G,onChange:e=>K(e.target.checked)}),X.jsxs("label",{htmlFor:"troca",className:"text-sm",children:["Esta venda  uma ",X.jsx("b",{children:"troca"})]})]})]}),X.jsxs("div",{className:"flex gap-2 mt-4",children:[X.jsx(dk,{onClick:async()=>{Y(!0);try{const n={items:r.map(e=>({productId:e.productId,name:e.name,price:e.price,barcode:e.barcode,quantity:e.quantity,subtotal:e.subtotal})),subtotal:ce(),discount:de(),total:ue(),payments:W.slice(0,B).map(e=>({method:e.method,amount:YO(e.amount),parcelas:"credit"===e.method?e.parcelas:void 0})),cashier:null==p?void 0:p.name,cashierId:null==p?void 0:p.id,customerId:null==N?void 0:N.id,store_id:(null==d?void 0:d.id)||(null==p?void 0:p.store_id)||null,modalidade:v,vendedor_id:null==y?void 0:y.id,tipo_venda:G?"troca":"normal"},a=await(async e=>{try{const t=await fetch(`${$C}/sales`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Erro ao criar venda")}return await t.json()}catch(t){throw new Error(`Erro na comunicao com o backend: ${t.message}`)}})(n);try{const e=await VC.getConfig();if(e.printer.enabled){const t={...a.sale,items:n.items,payments:n.payments,store_name:(null==d?void 0:d.name)||"Loja",user_id:null==p?void 0:p.id,store_id:(null==d?void 0:d.id)||(null==p?void 0:p.store_id)};await VC.printReceipt(t,e.printer),h({title:"Venda finalizada e recibo impresso!",description:`Venda #${a.sale.id} criada e recibo impresso automaticamente.`,variant:"default"})}else h({title:"Venda finalizada com sucesso!",description:`Venda #${a.sale.id} criada.`,variant:"default"})}catch(e){console.error("Erro ao imprimir recibo:",e),h({title:"Venda finalizada com sucesso!",description:`Venda #${a.sale.id} criada. (Erro na impresso: ${e.message})`,variant:"default"})}try{const e=await UC.getConfig();if(e.nfe.enabled||e.sat.enabled){const e={...a.sale,items:n.items,payments:n.payments,store_name:(null==d?void 0:d.name)||"Loja",user_id:null==p?void 0:p.id,store_id:(null==d?void 0:d.id)||(null==p?void 0:p.store_id)};await UC.generateFiscalDocument(e),h({title:"Documento fiscal gerado!",description:`Documento fiscal gerado automaticamente para venda #${a.sale.id}.`,variant:"default"})}}catch(t){console.error("Erro ao gerar documento fiscal:",t)}le(),K(!1),g(0),b(null),H([{method:"",amount:"",parcelas:void 0},{method:"",amount:"",parcelas:void 0}]),q(1)}catch(ZL){h({title:"Erro ao finalizar venda",description:ZL.message||"Tente novamente.",variant:"destructive"})}finally{Y(!1)}},disabled:J,children:J?"Finalizando...":"Finalizar Venda"}),X.jsx(dk,{variant:"ghost",onClick:()=>g(3),disabled:J,children:"Voltar"})]})]})]}),X.jsxs("div",{className:"space-y-6",children:[X.jsx(zO,{subtotal:ce(),discountAmount:de(),total:ue(),onApplyDiscount:e=>{if(jC(null==p?void 0:p.role,yC))return"none"===e.type?(s({type:"none",value:0}),void h({title:"Desconto removido",description:"Desconto foi removido com sucesso."})):void("percentage"===e.type?(s({type:"percentage",value:e.value}),h({title:"Desconto aplicado",description:`${e.value}% de desconto.`})):"fixed"===e.type&&(s({type:"fixed",value:e.value}),h({title:"Desconto aplicado",description:`R$ ${e.value.toFixed(2)} de desconto.`})));h({title:"Sem permisso",description:"Voc no tem permisso para aplicar descontos",variant:"destructive"})},discount:a}),X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2",children:[X.jsx(lf,{className:"w-5 h-5"}),X.jsx("span",{children:"Status do Caixa"})]})}),X.jsxs(bk,{className:"space-y-3",children:[X.jsxs("div",{className:"text-center",children:[X.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),X.jsx("p",{className:"font-bold "+(l.isOpen?"text-green-600":"text-red-600"),children:l.isOpen?"ABERTO":"FECHADO"}),l.isOpen&&X.jsx("p",{className:"text-lg font-bold",children:QO(l.currentAmount)})]}),X.jsx("div",{className:"text-center",children:X.jsx(dk,{variant:"outline",size:"sm",onClick:()=>window.location.href="/cash-register",className:"w-full",children:"Gerenciar Caixa"})})]})]}),X.jsx(gk,{className:"glass-effect",children:X.jsx(bk,{className:"pt-6",children:X.jsx(dk,{variant:"outline",size:"lg",className:"w-full border-red-600 text-red-400 hover:bg-red-600 hover:text-white",onClick:()=>{n([]),s({type:"none",value:0}),i([]),g(0),x(""),b(null),S(null),q(1),H([{method:"",amount:"",parcelas:void 0},{method:"",amount:"",parcelas:void 0}]),K(!1),e(),h({title:"Venda encerrada",description:"Nova venda iniciada. Todos os dados foram limpos.",variant:"default"})},children:"Encerrar Venda"})})})]})]});var fe},ZO=({products:e,onEdit:t,onDelete:r,stores:n,currentUser:a})=>{if(0===e.length)return X.jsx(gk,{children:X.jsxs(bk,{className:"text-center py-12",children:[X.jsx(_f,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),X.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum produto encontrado"}),X.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro produto."})]})});const s=e=>{var t;return(null==(t=n.find(t=>t.id===e))?void 0:t.name)||"Loja Desconhecida"};return X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var n,o,i;let l=e.stock,c="Est. Online/Geral";if(a&&a.store_id&&!(null==(n=a.stores)?void 0:n.is_online_store)){const t=null==(o=e.physicalStocks)?void 0:o.find(e=>e.store_id===a.store_id);t?(l=t.quantity,c=`Est. ${a.stores.name}`):(l=0,c=`Est. ${a.stores.name}`)}return X.jsx(tk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:X.jsxs(gk,{className:"glass-effect flex flex-col h-full",children:[X.jsxs(vk,{children:[X.jsxs("div",{className:"flex items-start justify-between",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[e.image_url?X.jsx("img",{src:e.image_url,alt:e.name,className:"w-10 h-10 object-cover rounded-md border",onError:t=>{console.log(" Erro ao carregar imagem:",e.image_url,"para produto:",e.name),t.target.style.display="none",t.target.nextSibling.style.display="block"},onLoad:()=>{console.log(" Imagem carregada com sucesso:",e.image_url,"para produto:",e.name)}}):null,X.jsx(_f,{className:"w-5 h-5 text-primary "+(e.image_url?"hidden":"block")}),X.jsx(xk,{className:"text-lg",children:e.name})]}),X.jsxs("div",{className:"flex space-x-1",children:[X.jsx(Sh,{to:`/products/${e.id}`,children:X.jsx(dk,{variant:"ghost",size:"icon",children:X.jsx(uf,{className:"w-4 h-4"})})}),X.jsx(dk,{variant:"ghost",size:"icon",onClick:()=>t(e),children:X.jsx(Nf,{className:"w-4 h-4"})}),X.jsx(dk,{variant:"ghost",size:"icon",onClick:()=>r(e),className:"text-destructive hover:text-destructive",children:X.jsx(Bf,{className:"w-4 h-4"})})]})]}),X.jsxs("p",{className:"text-xs text-muted-foreground pt-1",children:["Cd: ",e.barcode]}),X.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:["Tipo: ","variable"===e.product_type?"Varivel":"Simples"]}),e.store_id&&X.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[X.jsx(zf,{className:"w-3 h-3 mr-1"}),X.jsxs("span",{children:["Cadastrado em: ",s(e.store_id)]})]})]}),X.jsxs(bk,{className:"space-y-3 flex-grow flex flex-col justify-between",children:[X.jsxs("div",{children:[X.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:X.jsxs("div",{children:[X.jsx("p",{className:"text-muted-foreground",children:"Categoria:"}),X.jsx("p",{children:e.category||"-"})]})}),a&&((null==(i=a.stores)?void 0:i.is_online_store)||"admin"===a.role)&&e.physicalStocks&&e.physicalStocks.length>0&&X.jsxs("div",{className:"mt-3 pt-2 border-t border-dashed",children:[X.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Estoque nas Lojas Fsicas:"}),X.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto text-xs",children:e.physicalStocks.map(e=>{var t;return X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx(sf,{className:"w-3 h-3 mr-1 text-muted-foreground"}),X.jsxs("span",{children:[(null==(t=e.stores)?void 0:t.name)||s(e.store_id),":"]})]}),X.jsxs("span",{children:[e.quantity," un."]})]},e.id)})})]})]}),X.jsxs("div",{className:"flex justify-between items-center pt-3 border-t mt-3",children:[X.jsxs("span",{className:"text-xl font-bold text-primary",children:["R$ ",e.price.toFixed(2)]}),X.jsxs("div",{className:"text-right",children:[X.jsxs("p",{className:"text-sm font-medium "+(l<=e.min_stock?"text-orange-600":"text-green-600"),children:[c,": ",l]}),X.jsxs("p",{className:"text-xs text-muted-foreground",children:["Alerta Mn: ",e.min_stock]})]})]})]})]})},e.id)})})},eD="simple",tD="variable",rD=({formData:e,handleInputChange:t,handleProductTypeChange:r,categories:n=[]})=>X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"name",children:"Nome do Produto *"}),X.jsx(uk,{id:"name",name:"name",value:e.name,onChange:t,required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"category",children:"Categoria"}),X.jsxs(SO,{name:"category",value:e.category,onValueChange:e=>t({target:{name:"category",value:e}}),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione a categoria"})}),X.jsx(RO,{children:n.map(e=>X.jsx(AO,{value:e.name,children:e.name},e.id))})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"barcode",children:"Cdigo de Barras Principal *"}),X.jsx(uk,{id:"barcode",name:"barcode",value:e.barcode,onChange:t,required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"price",children:"Preo Principal *"}),X.jsx(uk,{id:"price",name:"price",type:"number",step:"0.01",value:e.price,onChange:t,required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"price_varejo",children:"Preo de Varejo"}),X.jsx(uk,{id:"price_varejo",name:"price_varejo",type:"number",step:"0.01",value:e.price_varejo||"",onChange:t})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"price_atacado",children:"Preo de Atacado"}),X.jsx(uk,{id:"price_atacado",name:"price_atacado",type:"number",step:"0.01",value:e.price_atacado||"",onChange:t})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"price_atacarejo",children:"Cliente Exclusivo"}),X.jsx(uk,{id:"price_atacarejo",name:"price_atacarejo",type:"number",step:"0.01",value:e.price_atacarejo||"",onChange:t})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"product_type",children:"Tipo de Produto *"}),X.jsxs(SO,{name:"product_type",value:e.product_type,onValueChange:r,children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione o tipo"})}),X.jsxs(RO,{children:[X.jsx(AO,{value:eD,children:"Produto Simples"}),X.jsx(AO,{value:tD,children:"Produto Varivel"})]})]})]}),e.product_type===eD&&X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"stock",children:"Estoque (Simples) *"}),X.jsx(uk,{id:"stock",name:"stock",type:"number",value:e.stock,onChange:t,required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"referencia",children:"Referncia *"}),X.jsx(uk,{id:"referencia",name:"referencia",value:e.referencia||"",onChange:t,required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"min_stock",children:"Estoque Mnimo Global (Alerta)"}),X.jsx(uk,{id:"min_stock",name:"min_stock",type:"number",value:e.min_stock,onChange:t})]})]}),X.jsxs("div",{className:"pt-4 border-t mt-6",children:[X.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dimenses e Peso (para frete)"}),X.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"weight",children:"Peso (kg)"}),X.jsx(uk,{id:"weight",name:"weight",type:"number",step:"0.01",value:e.weight,onChange:t})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"length",children:"Comprimento (cm)"}),X.jsx(uk,{id:"length",name:"length",type:"number",step:"0.1",value:e.length,onChange:t})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"height",children:"Altura (cm)"}),X.jsx(uk,{id:"height",name:"height",type:"number",step:"0.1",value:e.height,onChange:t})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"width",children:"Largura (cm)"}),X.jsx(uk,{id:"width",name:"width",type:"number",step:"0.1",value:e.width,onChange:t})]})]})]})]}),nD=({title:e,imageUrlPreview:t,handleImageChange:r,imageInputRef:n,idPrefix:a="main"})=>X.jsxs("div",{className:"pt-4 border-t mt-6",children:[X.jsx("h3",{className:"text-lg font-medium mb-2",children:e}),X.jsx(uk,{type:"file",accept:"image/*",onChange:r,ref:n,className:"mb-2",id:`${a}_image_upload`}),t&&X.jsx("img",{src:t,alt:`Preview ${e}`,className:"w-32 h-32 object-cover rounded-md border"})]}),aD=({variations:e,handleVariationChange:t,handleVariationAttributeChange:r,removeVariation:n,addVariation:a,handleVariationImageChange:s,variationImageUrlPreviews:o})=>e&&0!==e.length?X.jsxs("div",{className:"pt-4 border-t mt-6",children:[X.jsx("h3",{className:"text-lg font-medium mb-2",children:"Variaes do Produto"}),e.map((e,a)=>X.jsxs("div",{className:"p-4 border rounded-md mb-4 space-y-3 bg-muted/20 relative",children:[X.jsx(dk,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-destructive",onClick:()=>n(a),children:X.jsx(Bf,{className:"w-4 h-4"})}),X.jsxs("p",{className:"font-semibold text-md",children:["Variao ",a+1]}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(e.attributes||[{name:"",value:""}]).map((e,t)=>X.jsxs(B.Fragment,{children:[X.jsxs("div",{children:[X.jsxs(fk,{htmlFor:`variation_${a}_attribute_name_${t}`,children:["Nome do Atributo ",t+1," (Ex: Cor, Tamanho)"]}),X.jsx(uk,{id:`variation_${a}_attribute_name_${t}`,value:e.name,onChange:e=>r(a,t,"name",e.target.value)})]}),X.jsxs("div",{children:[X.jsxs(fk,{htmlFor:`variation_${a}_attribute_value_${t}`,children:["Valor do Atributo ",t+1," (Ex: Azul, M)"]}),X.jsx(uk,{id:`variation_${a}_attribute_value_${t}`,value:e.value,onChange:e=>r(a,t,"value",e.target.value)})]})]},t))}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:`variation_sku_${a}`,children:"SKU da Variao"}),X.jsx(uk,{id:`variation_sku_${a}`,value:e.sku||"",onChange:e=>t(a,"sku",e.target.value)})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:`variation_barcode_${a}`,children:"Cd. Barras Variao"}),X.jsx(uk,{id:`variation_barcode_${a}`,value:e.barcode||"",onChange:e=>t(a,"barcode",e.target.value),onKeyDown:e=>{var t;if("Enter"===e.key){e.preventDefault(),e.stopPropagation();const r=null==(t=e.target.closest("form"))?void 0:t.querySelector(`#variation_referencia_${a}`);r&&r.focus()}}})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:`variation_referencia_${a}`,children:"Referncia"}),X.jsx(uk,{id:`variation_referencia_${a}`,value:e.referencia||"",onChange:e=>t(a,"referencia",e.target.value)})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:`variation_price_${a}`,children:"Preo Variao (opcional)"}),X.jsx(uk,{id:`variation_price_${a}`,type:"number",step:"0.01",value:e.price||"",onChange:e=>t(a,"price",e.target.value),placeholder:"Usar preo principal"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:`variation_price_varejo_${a}`,children:"Preo Varejo"}),X.jsx(uk,{id:`variation_price_varejo_${a}`,type:"number",step:"0.01",value:e.price_varejo||"",onChange:e=>t(a,"price_varejo",e.target.value)})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:`variation_price_atacado_${a}`,children:"Preo Atacado"}),X.jsx(uk,{id:`variation_price_atacado_${a}`,type:"number",step:"0.01",value:e.price_atacado||"",onChange:e=>t(a,"price_atacado",e.target.value)})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:`variation_price_atacarejo_${a}`,children:"Cliente Exclusivo"}),X.jsx(uk,{id:`variation_price_atacarejo_${a}`,type:"number",step:"0.01",value:e.price_atacarejo||"",onChange:e=>t(a,"price_atacarejo",e.target.value)})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:`variation_stock_${a}`,children:"Estoque da Variao *"}),X.jsx(uk,{id:`variation_stock_${a}`,type:"number",value:e.stock||"0",onChange:e=>t(a,"stock",e.target.value),required:!0})]}),X.jsx(nD,{title:"Imagem da Variao (opcional)",imageUrlPreview:o[a],handleImageChange:e=>s(a,e),idPrefix:`variation_${a}`})]},a)),X.jsxs(dk,{type:"button",variant:"outline",onClick:a,children:[X.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Adicionar Variao"]})]}):X.jsx("div",{className:"pt-4 border-t mt-6",children:X.jsxs(dk,{type:"button",variant:"outline",onClick:a,children:[X.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Adicionar Primeira Variao"]})});var sD="Switch",[oD,iD]=kp(sD),[lD,cD]=oD(sD),dD=U.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:i,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,p]=U.useState(null),m=jp(t,e=>p(e)),f=U.useRef(!1),g=!h||(d||!!h.closest("form")),[v,x]=Yp({prop:a,defaultProp:s??!1,onChange:c,caller:sD});return X.jsxs(lD,{scope:r,checked:v,disabled:i,children:[X.jsx(Rp.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":mD(v),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:m,onClick:yp(e.onClick,e=>{x(e=>!e),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),g&&X.jsx(pD,{control:h,bubbles:!f.current,name:n,value:l,checked:v,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});dD.displayName=sD;var uD="SwitchThumb",hD=U.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=cD(uD,r);return X.jsx(Rp.span,{"data-state":mD(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});hD.displayName=uD;var pD=U.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=U.useRef(null),i=jp(o,s),l=dA(r),c=VR(t);return U.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==r&&a){const t=new Event("click",{bubbles:n});a.call(e,r),e.dispatchEvent(t)}},[l,r,n]),X.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function mD(e){return e?"checked":"unchecked"}pD.displayName="SwitchBubbleInput";var fD=dD,gD=hD;const vD=B.forwardRef(({className:e,...t},r)=>X.jsx(fD,{className:xp("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:X.jsx(gD,{className:xp("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));vD.displayName=fD.displayName;class xD{constructor(){this.baseURL="https://fiodegala.com.br",this.consumerKey="ck_5e67006c47937098df701a162be25fbb74e9d5c0",this.consumerSecret="cs_6bf2fe2d2bb181c962c053cc6c8276df208b48f2",this.apiVersion="wc/v3"}getAuthHeader(){const e=`${this.consumerKey}:${this.consumerSecret}`;return`Basic ${btoa(e)}`}async createProduct(e){try{let t=null;e.category&&(t=await this.getOrCreateCategory(e.category));const r={name:e.name,type:"simple",regular_price:e.price.toString(),description:e.description||"",short_description:e.short_description||"",sku:e.barcode||"",manage_stock:!0,stock_quantity:e.stock||0,stock_status:(e.stock||0)>0?"instock":"outofstock",weight:e.weight?e.weight.toString():"",dimensions:{length:e.length?e.length.toString():"",width:e.width?e.width.toString():"",height:e.height?e.height.toString():""},categories:t?[{id:t}]:[],images:e.images?e.images.map(e=>({src:e,position:0})):[],attributes:this.mapAttributes(e),status:"publish"},n=await fetch(`${this.baseURL}/wp-json/${this.apiVersion}/products`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:this.getAuthHeader()},body:JSON.stringify(r)});if(!n.ok){const e=await n.json();throw new Error(`Erro ao criar produto no WooCommerce: ${e.message||n.statusText}`)}const a=await n.json();return console.log("Produto criado no WooCommerce:",a),a}catch(t){throw console.error("Erro na integrao WooCommerce:",t),t}}async updateProduct(e,t){try{let r=null;t.category&&(r=await this.getOrCreateCategory(t.category));const n={name:t.name,regular_price:t.price.toString(),description:t.description||"",short_description:t.short_description||"",sku:t.barcode||"",manage_stock:!0,stock_quantity:t.stock||0,stock_status:(t.stock||0)>0?"instock":"outofstock",weight:t.weight?t.weight.toString():"",dimensions:{length:t.length?t.length.toString():"",width:t.width?t.width.toString():"",height:t.height?t.height.toString():""},categories:r?[{id:r}]:[],images:t.images?t.images.map(e=>({src:e,position:0})):[],attributes:this.mapAttributes(t)},a=await fetch(`${this.baseURL}/wp-json/${this.apiVersion}/products/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:this.getAuthHeader()},body:JSON.stringify(n)});if(!a.ok){const e=await a.json();throw new Error(`Erro ao atualizar produto no WooCommerce: ${e.message||a.statusText}`)}const s=await a.json();return console.log("Produto atualizado no WooCommerce:",s),s}catch(r){throw console.error("Erro na atualizao WooCommerce:",r),r}}async updateStock(e,t){try{const r={stock_quantity:t,stock_status:t>0?"instock":"outofstock"},n=await fetch(`${this.baseURL}/wp-json/${this.apiVersion}/products/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:this.getAuthHeader()},body:JSON.stringify(r)});if(!n.ok){const e=await n.json();throw new Error(`Erro ao atualizar estoque no WooCommerce: ${e.message||n.statusText}`)}const a=await n.json();return console.log("Estoque atualizado no WooCommerce:",a),a}catch(r){throw console.error("Erro na atualizao de estoque:",r),r}}async deleteProduct(e){try{const t=await fetch(`${this.baseURL}/wp-json/${this.apiVersion}/products/${e}`,{method:"DELETE",headers:{Authorization:this.getAuthHeader()}});if(!t.ok){const e=await t.json();throw new Error(`Erro ao deletar produto no WooCommerce: ${e.message||t.statusText}`)}return console.log("Produto deletado no WooCommerce"),!0}catch(t){throw console.error("Erro ao deletar produto:",t),t}}async getProductBySKU(e){try{const t=await fetch(`${this.baseURL}/wp-json/${this.apiVersion}/products?sku=${e}`,{headers:{Authorization:this.getAuthHeader()}});if(!t.ok)throw new Error(`Erro ao buscar produto no WooCommerce: ${t.statusText}`);const r=await t.json();return r.length>0?r[0]:null}catch(t){throw console.error("Erro ao buscar produto por SKU:",t),t}}mapAttributes(e){const t=[];return e.color&&t.push({name:"Cor",position:0,visible:!0,variation:!0,options:[e.color]}),e.size&&t.push({name:"Tamanho",position:1,visible:!0,variation:!0,options:[e.size]}),e.brand&&t.push({name:"Marca",position:2,visible:!0,variation:!1,options:[e.brand]}),t}async getOrCreateCategory(e){try{const t=await fetch(`${this.baseURL}/wp-json/${this.apiVersion}/products/categories?search=${encodeURIComponent(e)}`,{headers:{Authorization:this.getAuthHeader()}});if(t.ok){const r=(await t.json()).find(t=>t.name.toLowerCase()===e.toLowerCase());if(r)return console.log("Categoria encontrada:",r.name,"ID:",r.id),r.id}const r=await fetch(`${this.baseURL}/wp-json/${this.apiVersion}/products/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:this.getAuthHeader()},body:JSON.stringify({name:e,slug:e.toLowerCase().replace(/\s+/g,"-")})});if(!r.ok){const e=await r.json();throw new Error(`Erro ao criar categoria: ${e.message||r.statusText}`)}const n=await r.json();return console.log("Nova categoria criada:",n.name,"ID:",n.id),n.id}catch(t){throw console.error("Erro ao buscar/criar categoria:",t),t}}async testConnection(){try{const e=await fetch(`${this.baseURL}/wp-json/${this.apiVersion}/products?per_page=1`,{headers:{Authorization:this.getAuthHeader()}});if(!e.ok)throw new Error(`Erro na conexo: ${e.statusText}`);return!0}catch(e){throw console.error("Erro no teste de conexo:",e),e}}}const yD=Object.freeze(Object.defineProperty({__proto__:null,default:xD},Symbol.toStringTag,{value:"Module"})),bD=({open:e,onOpenChange:t,formData:r,setFormData:n,onSubmit:a,editingProduct:s,resetForm:o,onStockShared:i})=>{const[l,c]=U.useState([]),[d,u]=U.useState([]),[h,p]=U.useState(!1),[m,f]=U.useState(""),[g,v]=U.useState(""),[x,y]=U.useState([]),[b,w]=U.useState([]),[j,k]=U.useState(null),[_,N]=U.useState(""),[S,C]=U.useState({}),[E,P]=U.useState({}),[T,R]=U.useState([]),[A,O]=U.useState([]),[D,L]=U.useState(!1),[M,F]=U.useState(r.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""}),[I,$]=U.useState(!1),[z,V]=U.useState(""),[B,q]=U.useState(!1);U.useRef(null);const{toast:W}=cg(),H=kC(),G={name:"",category:"",barcode:"",price:"",price_varejo:"",price_atacado:"",price_atacarejo:"",referencia:"",stock:"0",min_stock:"0",active:!0,weight:"",length:"",height:"",width:"",product_type:eD,image_url:""};U.useEffect(()=>{var e,t,r,a,o,i,l,c,d,u;if(s){n({name:s.name||"",category:s.category||"",barcode:s.barcode||"",price:(null==(e=s.price)?void 0:e.toString())||"",price_varejo:(null==(t=s.price_varejo)?void 0:t.toString())||"",price_atacado:(null==(r=s.price_atacado)?void 0:r.toString())||"",price_atacarejo:(null==(a=s.price_atacarejo)?void 0:a.toString())||"",referencia:s.referencia||"",stock:s.product_type===eD&&(null==(o=s.stock)?void 0:o.toString())||"0",min_stock:(null==(i=s.min_stock)?void 0:i.toString())||"0",active:void 0===s.active||s.active,weight:(null==(l=s.weight)?void 0:l.toString())||"",length:(null==(c=s.length)?void 0:c.toString())||"",height:(null==(d=s.height)?void 0:d.toString())||"",width:(null==(u=s.width)?void 0:u.toString())||"",product_type:s.product_type||eD,image_url:s.image_url||""}),w(s.variations||[]),N(s.image_url||"");const h={};(s.variations||[]).forEach((e,t)=>{e.image_url&&(h[t]=e.image_url)}),P(h)}else n(G),w([]),N(""),P({})},[s,e,n]),U.useEffect(()=>{F(r.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""})},[r.medidas]);U.useEffect(()=>{(async()=>{const e=await CC(!0);c(e||[])})()},[]),U.useEffect(()=>{(async()=>{try{const e=await(async()=>{try{const e=kC();let t=eC.from("categories").select("*").eq("active",!0).order("name");"admin"!==(null==e?void 0:e.role)&&(null==e?void 0:e.store_id)?t=t.eq("store_id",e.store_id):"admin"!==(null==e?void 0:e.role)&&(t=t.is("store_id",null));const{data:r,error:n}=await t;if(n)throw console.error("Erro ao buscar categorias ativas:",n),new Error("Erro ao buscar categorias ativas");return r||[]}catch(e){throw console.error("Erro em getActiveCategories:",e),e}})();u(e||[])}catch(e){console.error("Erro ao buscar categorias:",e)}})()},[]),U.useEffect(()=>{e&&s&&(async()=>{if(s&&s.id){const e=await DC(s.id);y(e||[])}else y([])})()},[e,s]);const K=e=>{const{name:t,value:r}=e.target;F(e=>({...e,[t]:r}))},J=()=>{w(e=>[...e,{attributes:[{name:"Cor",value:""},{name:"Tamanho",value:""}],sku:"",barcode:"",price:"",stock:"0",image_url:""}])},Y=async(e,t="img-products")=>{if(!e)return null;const r=`${Date.now()}_${e.name.replace(/\s/g,"_")}`,{data:n,error:a}=await eC.storage.from(t).upload(r,e);if(a)throw W({title:"Erro no Upload da Imagem",description:a.message,variant:"destructive"}),a;const{data:{publicUrl:s}}=eC.storage.from(t).getPublicUrl(r);return s},Q=async()=>{let e=r.image_url;if(j)try{e=await Y(j)}catch(i){return}let t=[];T.length>0&&(t=await Promise.all(T.map(async e=>{try{return await Y(e)}catch(i){return null}})),t=t.filter(Boolean));const n=await Promise.all(b.map(async(e,t)=>{let r=e.image_url;if(S[t])try{r=await Y(S[t])}catch(i){throw new Error(`Erro ao fazer upload da imagem para variao ${t+1}.`)}return{...e,image_url:r,price:parseFloat(e.price)||null,stock:parseInt(e.stock)||0}})).catch(e=>(W({title:"Erro no processamento de variaes",description:e.message,variant:"destructive"}),null));if(!n&&b.length>0)return;const s={...r,referencia:r.referencia,image_url:e,variations:r.product_type===tD?n:[],price:parseFloat(r.price)||0,price_varejo:parseFloat(r.price_varejo)||0,price_atacado:parseFloat(r.price_atacado)||0,price_atacarejo:parseFloat(r.price_atacarejo)||0,weight:parseFloat(r.weight)||null,length:parseFloat(r.length)||null,height:parseFloat(r.height)||null,width:parseFloat(r.width)||null};s.product_type===tD?s.stock=(n||[]).reduce((e,t)=>e+(parseInt(t.stock)||0),0):s.stock=parseInt(r.stock)||0;const o={...s,syncWithWooCommerce:I&&B,uploadedImageUrls:t};a(o,t)},Z=H&&jC(H.role,xC),ee=()=>{t(!1),o(),p(!1),f(""),v(""),y([]),w([]),k(null),N(""),C({}),P({})};return X.jsxs($P,{open:e,onOpenChange:e=>{e?t(!0):ee()},children:[X.jsx(zP,{asChild:!0,children:X.jsxs(dk,{children:[X.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Novo Produto"]})}),X.jsxs(BP,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[X.jsx(qP,{children:X.jsx(WP,{children:s?"Editar Produto":"Novo Produto"})}),X.jsxs("form",{id:"product-form",onSubmit:async e=>{e.preventDefault(),await Q()},className:"flex-1 overflow-y-auto space-y-6 p-2 pr-4",children:[X.jsx(rD,{formData:r,handleInputChange:e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))},handleProductTypeChange:e=>{n(t=>({...t,product_type:e,stock:e===eD?t.stock:"0"})),e===eD?w([]):0===b.length&&J()},categories:d}),X.jsx(nD,{title:"Imagem Principal (opcional)",imageUrlPreview:_,handleImageChange:e=>{const t=e.target.files[0];t&&(k(t),N(URL.createObjectURL(t)))},idPrefix:"main"}),X.jsxs("div",{className:"mt-4",children:[X.jsx(fk,{children:"Imagens do Produto (vrias)"}),X.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[A.map((e,t)=>X.jsxs("div",{className:"relative group rounded-lg shadow-md border bg-background "+(0===t?"ring-2 ring-primary":""),children:[X.jsx("img",{src:e,alt:`Imagem ${t+1}`,className:"w-24 h-24 object-cover rounded-lg transition-transform group-hover:scale-105"}),0===t&&X.jsx("span",{className:"absolute top-1 left-1 bg-primary text-xs text-white px-2 py-0.5 rounded shadow",children:"Destaque"}),X.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-destructive text-white rounded-full p-1 opacity-80 hover:opacity-100",onClick:()=>{R(e=>e.filter((e,r)=>r!==t)),O(e=>e.filter((e,r)=>r!==t))},title:"Remover imagem",children:""})]},t)),X.jsxs("label",{className:"flex flex-col items-center justify-center w-24 h-24 border-2 border-dashed border-muted-foreground rounded-lg cursor-pointer hover:bg-muted transition",children:[X.jsx("span",{className:"text-3xl text-muted-foreground",children:"+"}),X.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:e=>{const t=Array.from(e.target.files);R(t),O(t.map(e=>URL.createObjectURL(e)))}})]})]}),X.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"A primeira imagem ser a de destaque."})]}),r.product_type===tD&&X.jsx(aD,{variations:b,handleVariationChange:(e,t,r)=>{const n=[...b];n[e][t]=r,w(n)},handleVariationAttributeChange:(e,t,r,n)=>{const a=[...b];a[e].attributes||(a[e].attributes=[]),a[e].attributes[t]||(a[e].attributes[t]={name:"",value:""}),a[e].attributes[t][r]=n,w(a)},removeVariation:e=>{w(t=>t.filter((t,r)=>r!==e)),C(t=>{const r={...t};return delete r[e],r}),P(t=>{const r={...t};return delete r[e],r})},addVariation:J,handleVariationImageChange:(e,t)=>{const r=t.target.files[0];r&&(C(t=>({...t,[e]:r})),P(t=>({...t,[e]:URL.createObjectURL(r)})))},variationImageUrlPreviews:E}),X.jsxs("div",{className:"pt-4 border-t mt-4",children:[X.jsxs("div",{className:"flex justify-between items-center mb-2",children:[X.jsx("h3",{className:"text-lg font-medium",children:"Integrao WooCommerce"}),X.jsx(dk,{type:"button",variant:"outline",size:"sm",onClick:async()=>{try{const e=new xD;await e.testConnection(),q(!0),W({title:"Conexo OK",description:"Conexo com WooCommerce estabelecida com sucesso!",variant:"default"})}catch(e){q(!1),W({title:"Erro de Conexo",description:"No foi possvel conectar com o WooCommerce. Verifique as configuraes.",variant:"destructive"})}},children:"Testar Conexo"})]}),X.jsxs("div",{className:"p-4 border rounded-md bg-muted/30",children:[X.jsxs("div",{className:"flex items-center justify-between mb-4",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(vD,{checked:I,onCheckedChange:$,disabled:!B}),X.jsx(fk,{children:"Sincronizar com WooCommerce"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx("div",{className:"w-2 h-2 rounded-full "+(B?"bg-green-500":"bg-red-500")}),X.jsx("span",{className:"text-sm text-muted-foreground",children:B?"Conectado":"Desconectado"})]})]}),z&&X.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID WooCommerce: ",z]}),!B&&X.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:'Clique em "Testar Conexo" para verificar a integrao com WooCommerce.'})]})]}),s&&Z&&X.jsxs("div",{className:"pt-4 border-t mt-4",children:[X.jsxs("div",{className:"flex justify-between items-center mb-2",children:[X.jsx("h3",{className:"text-lg font-medium",children:"Compartilhar Estoque com Lojas Fsicas"}),X.jsxs(dk,{type:"button",variant:"outline",size:"sm",onClick:()=>p(!h),children:[X.jsx(Ff,{className:"w-4 h-4 mr-2"}),h?"Fechar":"Abrir"," Compartilhamento"]})]}),h&&X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-md bg-muted/30",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"shareStoreId",children:"Loja Fsica"}),X.jsxs(SO,{value:m,onValueChange:f,children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione a loja"})}),X.jsx(RO,{children:l.map(e=>X.jsx(AO,{value:e.id,children:e.name},e.id))})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"shareQuantity",children:"Qtd. a Compartilhar"}),X.jsx("input",{id:"shareQuantity",type:"number",min:"1",value:g,onChange:e=>v(e.target.value),className:"input w-full border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 rounded-md"})]}),X.jsx("div",{className:"md:self-end",children:X.jsx(dk,{type:"button",onClick:async()=>{if(!s||!m||!g)return void W({title:"Erro",description:"Selecione produto, loja e quantidade para compartilhar.",variant:"destructive"});const e=parseInt(g);if(isNaN(e)||e<=0)W({title:"Erro",description:"Quantidade invlida.",variant:"destructive"});else try{await(async(e,t,r,n=null)=>{const a=await DC(e,t,n);let s,o=null==a?void 0:a.id;if(a){s=a.quantity+r;const{error:e}=await eC.from("product_store_stock").update({quantity:s}).eq("id",a.id);if(e)throw e}else{s=r;const{data:a,error:i}=await eC.from("product_store_stock").insert({product_id:e,store_id:t,variation_id:n,quantity:s}).select("id").single();if(i)throw i;o=null==a?void 0:a.id}return await LC(e),await RC({product_id:e,variation_id:n,store_id:t,type:"transfer_in",quantity:r,previous_stock:a?a.quantity:0,new_stock:s,reason:"Compartilhamento de estoque para loja fsica.",stock_type:"physical_store",product_store_stock_id:o}),{success:!0}})(s.id,m,e,null),W({title:"Estoque Compartilhado!",description:`${e} unidades compartilhadas com sucesso.`}),f(""),v(""),p(!1);const t=await DC(s.id);y(t||[]),i&&i()}catch(t){W({title:"Erro ao compartilhar",description:t.message,variant:"destructive"})}},className:"w-full",children:"Compartilhar"})})]}),x.length>0&&X.jsxs("div",{className:"mt-4 space-y-2",children:[X.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Estoque Compartilhado:"}),x.map(e=>{var t;return X.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-background rounded-md",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx(sf,{className:"w-4 h-4 mr-2 text-muted-foreground"}),X.jsx("span",{children:(null==(t=e.stores)?void 0:t.name)||"Loja desconhecida"})]}),X.jsxs("span",{children:[e.quantity," unidades"]})]},e.id)})]})]})]}),X.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t mt-4 bg-background",children:[X.jsx(dk,{type:"button",variant:"outline",onClick:ee,children:"Cancelar"}),X.jsxs(dk,{type:"submit",form:"product-form",children:[s?"Atualizar":"Criar"," Produto"]})]}),X.jsx(dk,{type:"button",variant:"outline",className:"mt-2",onClick:()=>L(!0),children:"Adicionar Medidas"}),X.jsx($P,{open:D,onOpenChange:L,children:X.jsxs(BP,{children:[X.jsx(qP,{children:X.jsx(WP,{children:"Medidas da Pea"})}),r.category?X.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:(()=>{const e=r.category;return["Camiseta","Gola Mdia","Camisa","Blazer","Jaqueta","Seter"].includes(e)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"busto",label:"Busto"},{name:"cintura",label:"Cintura"},{name:"ombro",label:"Ombro"},{name:"manga",label:"Manga"}]:["Calas","Bermudas"].includes(e)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"cintura",label:"Cintura"},{name:"tornozelo",label:"Tornozelo"}]:[]})().map(e=>X.jsxs("div",{children:[X.jsx(fk,{children:e.label}),X.jsx(uk,{name:e.name,value:M[e.name]||"",onChange:K})]},e.name))}):X.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Selecione uma categoria primeiro para ver os campos de medidas disponveis."}),X.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[X.jsx(dk,{type:"button",variant:"ghost",onClick:()=>L(!1),children:"Cancelar"}),X.jsx(dk,{type:"button",onClick:()=>{n(e=>({...e,medidas:M})),L(!1)},children:"Salvar"})]})]})})]})]})},wD=({products:e})=>0===e.length?null:X.jsxs(gk,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2 text-orange-700 dark:text-orange-300",children:[X.jsx(Hm,{className:"w-5 h-5"}),X.jsx("span",{children:"Produtos com Estoque Baixo"})]})}),X.jsx(bk,{children:X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.map(e=>X.jsxs("div",{className:"text-sm p-2 bg-orange-100 dark:bg-orange-900/50 rounded",children:[X.jsx("span",{className:"font-medium",children:e.name}),X.jsxs("span",{className:"text-orange-600 dark:text-orange-400 ml-2",children:["(Estoque: ",e.stock," / Mn: ",e.min_stock,")"]})]},e.id))})})]}),jD=()=>{const[e,t]=U.useState([]),[r,n]=U.useState(""),[a,s]=U.useState(null),[o,i]=U.useState(!1),[l,c]=U.useState(!0),[d,u]=U.useState([]),{toast:h}=cg(),p=kC(),{refreshRecentProducts:m}=MO(),[f,g]=U.useState({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),[v,x]=U.useState({barcode:"",sku:"",referencia:"",name:""}),y=e=>{const{name:t,value:r}=e.target;x(e=>({...e,[t]:r}))},b=e.filter(e=>{var t,r,n,a;return(!v.barcode||(null==(t=e.barcode)?void 0:t.toLowerCase().includes(v.barcode.toLowerCase())))&&(!v.sku||(null==(r=e.sku)?void 0:r.toLowerCase().includes(v.sku.toLowerCase()))||e.variations&&e.variations.some(e=>{var t;return null==(t=e.sku)?void 0:t.toLowerCase().includes(v.sku.toLowerCase())}))&&(!v.referencia||(null==(n=e.referencia)?void 0:n.toLowerCase().includes(v.referencia.toLowerCase()))||e.variations&&e.variations.some(e=>{var t;return null==(t=e.referencia)?void 0:t.toLowerCase().includes(v.referencia.toLowerCase())}))&&(!v.name||(null==(a=e.name)?void 0:a.toLowerCase().includes(v.name.toLowerCase())))}),w=U.useCallback(async()=>{c(!0);try{const[e,r]=await Promise.all([AC(),CC()]),n=await Promise.all((e||[]).map(async e=>{const t=await DC(e.id);return{...e,physicalStocks:t||[]}}));t(n),u(r||[])}catch(e){h({title:"Erro ao carregar produtos ou lojas",description:e.message,variant:"destructive"})}finally{c(!1)}},[h,null==p?void 0:p.store_id,null==p?void 0:p.role]);U.useEffect(()=>{w()},[w]);const j=()=>{g({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),s(null)};return l&&0===e.length?X.jsx("div",{className:"flex justify-center items-center h-64",children:X.jsx("div",{className:"loading-spinner"})}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[X.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[X.jsx(uk,{placeholder:"Buscar por Cdigo de Barras",name:"barcode",value:v.barcode,onChange:y,className:"w-44"}),X.jsx(uk,{placeholder:"Buscar por SKU",name:"sku",value:v.sku,onChange:y,className:"w-36"}),X.jsx(uk,{placeholder:"Buscar por Referncia",name:"referencia",value:v.referencia,onChange:y,className:"w-32"}),X.jsx(uk,{placeholder:"Buscar por Nome",name:"name",value:v.name,onChange:y,className:"w-44"})]}),X.jsx(bD,{open:o,onOpenChange:i,formData:f,setFormData:g,onSubmit:async e=>{var t,r;console.log(" Iniciando criao de produto..."),console.log(" Dados recebidos:",e);const n={...e,price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0,min_stock:parseInt(e.min_stock)||0,sizes:e.sizes?e.sizes.split(",").map(e=>e.trim()).filter(e=>e):[],colors:e.colors?e.colors.split(",").map(e=>e.trim()).filter(e=>e):[]};if(console.log(" Dados processados:",n),!n.name||!n.barcode||!n.price||isNaN(n.stock))return console.log(" Erro de validao:",{name:n.name,barcode:n.barcode,price:n.price,stock:n.stock}),void h({title:"Erro de Validao",description:"Nome, Cdigo de Barras, Preo e Estoque Online so obrigatrios.",variant:"destructive"});c(!0);try{if(console.log(" Verificando loja..."),a||(null==(t=null==p?void 0:p.stores)?void 0:t.is_online_store))a?n.store_id=a.store_id:(null==(r=null==p?void 0:p.stores)?void 0:r.is_online_store)&&(n.store_id=p.store_id);else{const e=d.find(e=>e.is_online_store);if(console.log(" Loja online encontrada:",e),!e)return console.log(" Loja online no encontrada"),h({title:"Erro",description:"Loja online principal no encontrada para cadastro.",variant:"destructive"}),void c(!1);n.store_id=e.id}if(console.log(" Dados finais antes de salvar:",n),a){console.log(" Atualizando produto...");const{syncWithWooCommerce:t,uploadedImageUrls:r,...o}=n,i=await OC(a.id,o);if(console.log(" Produto atualizado com sucesso:",i),e.syncWithWooCommerce&&a.woocommerce_id)try{const t=new(0,(await jk(()=>Promise.resolve().then(()=>yD),void 0)).default),r={name:i.name,price:i.price,description:i.description||"",short_description:i.short_description||"",barcode:i.barcode,stock:i.stock,category:i.category,images:e.uploadedImageUrls||[],weight:i.weight,length:i.length,height:i.height,width:i.width},s=await t.updateProduct(a.woocommerce_id,r);console.log(" Produto atualizado no WooCommerce:",s),h({title:"Produto atualizado e sincronizado!",description:`${n.name} foi atualizado no PDV e no WooCommerce.`})}catch(s){console.error(" Erro na sincronizao WooCommerce:",s),h({title:"Produto atualizado (erro WooCommerce)",description:`${n.name} foi atualizado no PDV, mas houve erro na sincronizao com WooCommerce.`,variant:"destructive"})}else h({title:"Produto atualizado!",description:`${n.name} foi atualizado.`})}else{console.log(" Verificando cdigo de barras duplicado...");const t=await(async(e=!1)=>{console.log(" getAllProducts iniciado, includeVariations:",e);let t=eC.from("products").select("*, stores(name, is_online_store)").order("name",{ascending:!0});const{data:r,error:n}=await t;if(n)return console.error(" Erro ao buscar todos os produtos:",n),[];if(console.log(" Produtos encontrados:",(null==r?void 0:r.length)||0),e&&r)for(let a of r)if("variable"===a.product_type){const{data:e,error:t}=await eC.from("product_variations").select("*").eq("product_id",a.id);t&&console.error(` Erro ao buscar variaes do produto ${a.id}:`,t),a.variations=e||[]}return console.log(" getAllProducts concludo"),r})();if(console.log(" Produtos existentes:",t.length),t.some(e=>e.barcode===n.barcode))return console.log(" Cdigo de barras j existe:",n.barcode),h({title:"Erro de Validao",description:"Cdigo de barras j existe.",variant:"destructive"}),void c(!1);console.log(" Criando produto...");const{syncWithWooCommerce:r,uploadedImageUrls:a,...o}=n,i=await(async e=>{console.log(" addProduct iniciado com dados:",e);const t=kC();console.log(" Usurio atual:",t);const{variations:r,...n}=e;let a={...n};if(console.log(" Dados principais para insero:",a),!a.store_id){console.log(" Buscando loja online...");const e=await CC();console.log(" Lojas disponveis:",e);const t=e.find(e=>e.is_online_store);if(!t)throw console.error(" Loja online principal no encontrada para associar o produto."),new Error("Loja online principal no encontrada.");a.store_id=t.id,console.log(" Loja online associada:",t.id)}console.log(" Inserindo produto no Supabase...");const{data:s,error:o}=await eC.from("products").insert([a]).select("*, stores(name, is_online_store)").single();if(o)throw console.error(" Erro ao inserir produto:",o),o;if(console.log(" Produto inserido com sucesso:",s),s&&"variable"===s.product_type&&r&&r.length>0){console.log(" Inserindo variaes...");const e=r.map(e=>({...e,product_id:s.id}));console.log(" Variaes para inserir:",e);const{error:t}=await eC.from("product_variations").insert(e);if(t)throw console.error(" Erro ao inserir variaes:",t),await eC.from("products").delete().eq("id",s.id),t;console.log(" Variaes inseridas com sucesso")}return console.log(" Produto criado completamente:",s),s})(o);if(console.log(" Produto criado com sucesso:",i),e.syncWithWooCommerce)try{const t=new(0,(await jk(()=>Promise.resolve().then(()=>yD),void 0)).default),r={name:i.name,price:i.price,description:i.description||"",short_description:i.short_description||"",barcode:i.barcode,stock:i.stock,category:i.category,images:e.uploadedImageUrls||[],weight:i.weight,length:i.length,height:i.height,width:i.width},a=await t.createProduct(r);console.log(" Produto sincronizado com WooCommerce:",a),h({title:"Produto criado e sincronizado!",description:`${n.name} foi criado no PDV e no WooCommerce.`})}catch(s){console.error(" Erro na sincronizao WooCommerce:",s),h({title:"Produto criado (erro WooCommerce)",description:`${n.name} foi criado no PDV, mas houve erro na sincronizao com WooCommerce.`,variant:"destructive"})}else h({title:"Produto criado!",description:`${n.name} foi criado.`})}w(),m(),i(!1),j()}catch(s){console.error(" Erro ao salvar produto:",s),h({title:"Erro ao salvar produto",description:s.message,variant:"destructive"})}finally{c(!1)}},editingProduct:a,resetForm:j,onStockShared:()=>{w()}})]}),X.jsx(wD,{products:e.filter(e=>e.active&&e.stock<=e.min_stock)}),X.jsx(gk,{children:X.jsx(bk,{className:"pt-6",children:X.jsxs("div",{className:"relative",children:[X.jsx(Df,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),X.jsx(uk,{placeholder:"Buscar produtos por nome, categoria, marca ou cdigo...",value:r,onChange:e=>n(e.target.value),className:"pl-10"})]})})}),e.length>0?X.jsx(ZO,{products:b,onEdit:async e=>{var t,r;c(!0);try{const n=await(async e=>{const{data:t,error:r}=await eC.from("products").select("*, stores(name, is_online_store)").eq("id",e).single();if(r||!t)return console.error("Erro ao buscar produto por ID:",r),null;if("variable"===t.product_type){const{data:r,error:n}=await eC.from("product_variations").select("*").eq("product_id",e);n&&console.error("Erro ao buscar variaes:",n),t.variations=r||[]}else t.variations=[];if(eC.from("product_images")){const{data:r,error:n}=await eC.from("product_images").select("*").eq("product_id",e);n||(t.images=r)}return t})(e.id);s(n),g({name:n.name,category:n.category||"",brand:n.brand||"",barcode:n.barcode,sizes:(null==(t=n.sizes)?void 0:t.join(", "))||"",colors:(null==(r=n.colors)?void 0:r.join(", "))||"",price:n.price.toString(),stock:n.stock.toString(),min_stock:n.min_stock.toString(),active:n.active}),i(!0)}catch(n){h({title:"Erro ao buscar produto para edio",description:n.message,variant:"destructive"})}finally{c(!1)}},onDelete:async e=>{if(window.confirm("Deseja realmente excluir este produto? Esta ao  irreversvel!")){c(!0);try{if(await(async e=>{await eC.from("products").delete().eq("id",e),await eC.from("product_variations").delete().eq("product_id",e),eC.from("product_images")&&await eC.from("product_images").delete().eq("product_id",e)})(e.id),e.woocommerce_id)try{const t=new(0,(await jk(()=>Promise.resolve().then(()=>yD),void 0)).default);await t.deleteProduct(e.woocommerce_id),console.log(" Produto excludo do WooCommerce"),h({title:"Produto excludo!",description:"O produto foi removido do PDV e do WooCommerce."})}catch(t){console.error(" Erro ao excluir do WooCommerce:",t),h({title:"Produto excludo (erro WooCommerce)",description:"O produto foi removido do PDV, mas houve erro ao excluir do WooCommerce.",variant:"destructive"})}else h({title:"Produto excludo!",description:"O produto foi removido do sistema."});w(),m()}catch(r){h({title:"Erro ao excluir produto",description:r.message,variant:"destructive"})}finally{c(!1)}}},stores:d,currentUser:p}):X.jsx(gk,{className:"mt-6",children:X.jsxs(bk,{className:"text-center py-12",children:[X.jsx(kf,{className:"w-16 h-16 mx-auto mb-6 text-muted-foreground opacity-50"}),X.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum produto encontrado"}),X.jsxs("p",{className:"text-muted-foreground mb-6",children:[r?"Tente ajustar sua busca ou ":"",'Clique em "Novo Produto" para comear a cadastrar.']})]})})]})},kD=()=>{var e;const{id:t}=function(){let{matches:e}=U.useContext(Qu),t=e[e.length-1];return t?t.params:{}}(),[r,n]=U.useState(null),[a,s]=U.useState([]),[o,i]=U.useState([]),[l,c]=U.useState([]),[d,u]=U.useState(!0),[h,p]=U.useState([]),[m,f]=U.useState(null),[g,v]=U.useState(!1),{toast:x}=cg(),y=U.useCallback(async()=>{u(!0);try{const{data:e,error:r}=await eC.from("products").select("*").eq("id",t).single();if(r)throw r;n(e);const a=[];if(e.image_url&&a.push({id:"main",image_url:e.image_url,is_featured:!0}),p(a),console.log(" Imagens encontradas:",a),"variable"===e.product_type){const{data:e,error:r}=await eC.from("product_variations").select("*").eq("product_id",t);if(r)throw r;s(e||[]),console.log(" Variaes encontradas:",e)}const o=await DC(t);i(o||[]);const l=await CC();c(l||[])}catch(e){x({title:"Erro ao buscar detalhes do produto",description:e.message,variant:"destructive"}),n(null)}finally{u(!1)}},[t,x]);U.useEffect(()=>{y()},[y]);const b=e=>{f(e),v(!0)},w=()=>{v(!1),f(null)};if(d)return X.jsx("div",{className:"flex justify-center items-center h-screen",children:X.jsx("div",{className:"loading-spinner"})});if(!r)return X.jsxs("div",{className:"container mx-auto p-6 text-center",children:[X.jsx(_f,{className:"w-24 h-24 mx-auto text-muted-foreground mb-4"}),X.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Produto no encontrado"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"O produto que voc est procurando no existe ou foi removido."}),X.jsx(dk,{asChild:!0,variant:"outline",children:X.jsxs(Sh,{to:"/products",children:[X.jsx(Gm,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})})]});const j="variable"===r.product_type?a.reduce((e,t)=>e+t.stock,0):r.stock;return X.jsxs("div",{className:"container mx-auto p-4 md:p-8 space-y-8",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(dk,{asChild:!0,variant:"outline",size:"sm",children:X.jsxs(Sh,{to:"/products",children:[X.jsx(Gm,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})}),X.jsx("h1",{className:"text-3xl font-bold text-center flex-grow",children:r.name}),X.jsx("div",{className:"w-24"})]}),X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[X.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center",children:[X.jsx(pf,{className:"mr-2 text-primary"})," Imagens do Produto"]})}),X.jsx(bk,{children:h.length>0?X.jsxs("div",{children:[X.jsx("img",{src:h[0].image_url,alt:"Destaque",className:"w-full h-64 object-cover rounded-lg border mb-2 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b(h[0]),onError:e=>{console.log(" Erro ao carregar imagem principal:",h[0].image_url),e.target.style.display="none",e.target.nextSibling.style.display="flex"},onLoad:()=>{console.log(" Imagem principal carregada:",h[0].image_url)}}),X.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center hidden",children:X.jsx(ff,{className:"w-16 h-16 text-muted-foreground"})}),X.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:h.map((e,t)=>X.jsx("img",{src:e.image_url,alt:`Imagem ${t+1}`,className:"w-16 h-16 object-cover rounded border cursor-pointer hover:opacity-90 transition-opacity "+(0===t?"ring-2 ring-primary":""),title:e.is_featured?"Destaque":"",onClick:()=>b(e),onError:t=>{console.log(" Erro ao carregar miniatura:",e.image_url),t.target.style.display="none"},onLoad:()=>{console.log(" Miniatura carregada:",e.image_url)}},e.id))})]}):X.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center",children:X.jsx(ff,{className:"w-16 h-16 text-muted-foreground"})})})]}),X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center",children:[X.jsx(gf,{className:"mr-2 text-primary"})," Dados Principais"]})}),X.jsxs(bk,{className:"space-y-3 text-sm",children:[X.jsxs("p",{children:[X.jsx("strong",{children:"Nome:"})," ",r.name]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Referncia:"})," ",r.referencia||"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Categoria:"})," ",r.category||"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Cdigo de Barras:"})," ",r.barcode]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Tipo:"})," ",X.jsx("span",{className:"capitalize",children:"variable"===r.product_type?"Produto Varivel":"Produto Simples"})]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Status:"})," ",r.active?"Ativo":"Inativo"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Data de Cadastro:"})," ",r.created_at?new Date(r.created_at).toLocaleDateString():"N/A"]})]})]}),X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center",children:[X.jsx(lf,{className:"mr-2 text-primary"})," Preos"]})}),X.jsxs(bk,{className:"space-y-2 text-sm",children:[X.jsxs("p",{children:[X.jsx("strong",{children:"Preo Principal:"})," R$ ",null==(e=r.price)?void 0:e.toFixed(2)]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Preo Varejo:"})," ",r.price_varejo?`R$ ${r.price_varejo.toFixed(2)}`:"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Preo Atacado:"})," ",r.price_atacado?`R$ ${r.price_atacado.toFixed(2)}`:"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Preo Cliente Exclusivo:"})," ",r.price_atacarejo?`R$ ${r.price_atacarejo.toFixed(2)}`:"N/A"]})]})]}),X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center",children:[X.jsx(Rf,{className:"mr-2 text-primary"})," Dimenses e Peso"]})}),X.jsxs(bk,{className:"space-y-2 text-sm",children:[X.jsxs("p",{children:[X.jsx("strong",{children:"Peso:"})," ",r.weight?`${r.weight} kg`:"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Comprimento:"})," ",r.length?`${r.length} cm`:"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Altura:"})," ",r.height?`${r.height} cm`:"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Largura:"})," ",r.width?`${r.width} cm`:"N/A"]})]})]}),r.medidas&&X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center",children:[X.jsx(Rf,{className:"mr-2 text-primary"})," Medidas da Pea"]})}),X.jsx(bk,{className:"space-y-2 text-sm",children:Object.entries(r.medidas).map(([e,t])=>X.jsxs("p",{children:[X.jsxs("strong",{children:[e.charAt(0).toUpperCase()+e.slice(1),":"]})," ",t||"N/A"]},e))})]})]}),X.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center",children:[X.jsx(If,{className:"mr-2 text-primary"})," Estoque"]})}),X.jsxs(bk,{className:"space-y-2 text-sm",children:[X.jsxs("p",{children:[X.jsx("strong",{children:"Estoque Mnimo Global:"})," ",r.min_stock," unidades"]}),X.jsxs("p",{className:"font-semibold "+(j<=r.min_stock?"text-orange-500":"text-green-500"),children:["Estoque Online/Geral Total: ",j," unidades"]})]})]}),o.length>0&&X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center",children:[X.jsx(zf,{className:"mr-2 text-primary"})," Estoque nas Lojas Fsicas"]})}),X.jsx(bk,{className:"space-y-2",children:o.map(e=>{return X.jsxs("div",{className:"flex justify-between items-center p-3 bg-background/30 rounded-md text-sm",children:[X.jsx("p",{children:X.jsxs("strong",{children:[(t=e.store_id,(null==(r=l.find(e=>e.id===t))?void 0:r.name)||"Loja Desconhecida"),":"]})}),X.jsxs("p",{children:[e.quantity," unidades ",e.variation_id?`(Variao ID: ${e.variation_id.substring(0,8)}...)`:"(Produto Simples/Agregado)"]})]},e.id);var t,r})})]}),0===o.length&&X.jsx(gk,{className:"glass-effect",children:X.jsx(bk,{className:"p-6 text-center text-muted-foreground",children:"Este produto (ou suas variaes) ainda no teve estoque compartilhado com lojas fsicas."})}),"variable"===r.product_type&&a.length>0&&X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center",children:[X.jsx(vf,{className:"mr-2 text-primary"})," Variaes do Produto (",a.length,")"]})}),X.jsx(bk,{className:"space-y-4",children:a.map((e,t)=>{var r;return X.jsx(gk,{className:"bg-background/30 p-4 rounded-md",children:X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[X.jsxs("div",{className:"md:col-span-1",children:[e.image_url?X.jsx("img",{src:e.image_url,alt:`Variao ${t+1}`,className:"w-full h-auto object-cover rounded border aspect-square cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b({image_url:e.image_url,id:e.id}),onError:t=>{console.log(" Erro ao carregar imagem da variao:",e.image_url),t.target.style.display="none",t.target.nextSibling.style.display="flex"},onLoad:()=>{console.log(" Imagem da variao carregada:",e.image_url)}}):null,X.jsx("div",{className:"w-full h-32 bg-muted rounded flex items-center justify-center",style:{display:e.image_url?"none":"flex"},children:X.jsx(ff,{className:"w-10 h-10 text-muted-foreground"})})]}),X.jsxs("div",{className:"md:col-span-2 space-y-2 text-sm",children:[X.jsx("p",{className:"font-semibold text-base",children:(null==(r=e.attributes)?void 0:r.map(e=>`${e.name}: ${e.value}`).join(" / "))||`Variao ${t+1}`}),e.sku&&X.jsxs("p",{children:[X.jsx("strong",{children:"SKU:"})," ",e.sku]}),e.barcode&&X.jsxs("p",{children:[X.jsx("strong",{children:"Cd. Barras:"})," ",e.barcode]}),e.referencia&&X.jsxs("p",{children:[X.jsx("strong",{children:"Referncia:"})," ",e.referencia]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Preo Especfico:"})," ",e.price?`R$ ${e.price.toFixed(2)}`:"Usar preo principal"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Preo Varejo:"})," ",e.price_varejo?`R$ ${e.price_varejo}`:"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Preo Atacado:"})," ",e.price_atacado?`R$ ${e.price_atacado}`:"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Preo Cliente Exclusivo:"})," ",e.price_atacarejo?`R$ ${e.price_atacarejo}`:"N/A"]}),X.jsxs("p",{className:"font-medium",children:[X.jsx("strong",{children:"Estoque da Variao:"})," ",e.stock," unidades"]}),e.medidas&&X.jsxs("div",{className:"mt-2",children:[X.jsx("span",{className:"font-semibold",children:"Medidas:"}),X.jsx("ul",{className:"ml-4 list-disc",children:Object.entries(e.medidas).map(([e,t])=>X.jsxs("li",{children:[X.jsxs("strong",{children:[e.charAt(0).toUpperCase()+e.slice(1),":"]})," ",t||"N/A"]},e))})]})]})]})},e.id||t)})})]}),"variable"===r.product_type&&0===a.length&&X.jsx(gk,{className:"glass-effect",children:X.jsx(bk,{className:"p-6 text-center text-muted-foreground",children:"Nenhuma variao cadastrada para este produto."})})]})]}),g&&m&&X.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:w,children:X.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[X.jsx("button",{onClick:w,className:"absolute top-4 right-4 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full p-2 transition-all z-10",children:X.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),X.jsx("img",{src:m.image_url,alt:"Visualizao",className:"max-w-full max-h-full object-contain rounded-lg",onClick:e=>e.stopPropagation()})]})})]})},_D="in",ND="out",SD="adjustment",CD="sale_online_physical_debit",ED="sale_physical_store",PD="transfer_in",TD="transfer_out",RD="transfer_to_store",AD={[_D]:"Entrada Manual",[ND]:"Sada Manual",[SD]:"Ajuste Manual",[CD]:"Venda Online (Dbito Fsico)",[ED]:"Venda Loja Fsica",[PD]:"Transferncia (Entrada Loja)",[TD]:"Transferncia (Sada Online)",[RD]:"Transferncia para Loja"},OD=()=>{var e;const[t,r]=U.useState([]),[n,a]=U.useState([]),[s,o]=U.useState(""),[i,l]=U.useState(!1),[c,d]=U.useState(null),[u,h]=U.useState(null),[p,m]=U.useState([]),[f,g]=U.useState(!0),[v,x]=U.useState(null),{toast:y}=cg(),b=kC(),[w,j]=U.useState({type:"",quantity:"",reason:"",target_store_id:""}),k=U.useCallback(async()=>{g(!0),x(null);try{console.log("[STOCK] Iniciando carregamento de dados...");const[e,t,n]=await Promise.all([AC(),TC(),CC()]);console.log("[STOCK] Dados carregados:",{products:(null==e?void 0:e.length)||0,movements:(null==t?void 0:t.length)||0,stores:(null==n?void 0:n.length)||0});const s=await Promise.all((e||[]).map(async e=>{try{const t=await DC(e.id);return{...e,physicalStocks:t||[]}}catch(ZL){return console.error("[STOCK] Erro ao carregar estoque fsico para produto:",e.id,ZL),{...e,physicalStocks:[]}}}));r(s),a(t||[]),m(n||[]),console.log("[STOCK] Dados processados com sucesso")}catch(e){console.error("[STOCK] Erro ao carregar dados:",e),x(e.message),y({title:"Erro ao carregar dados de estoque",description:e.message,variant:"destructive"})}finally{g(!1)}},[y,null==b?void 0:b.store_id]);if(U.useEffect(()=>{k()},[k]),v)return X.jsx("div",{className:"min-h-screen bg-background p-8",children:X.jsx("div",{className:"max-w-4xl mx-auto",children:X.jsxs("div",{className:"text-center py-8",children:[X.jsx(_f,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),X.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Erro ao Carregar Estoque"}),X.jsx("p",{className:"text-muted-foreground mb-4",children:v}),X.jsx(dk,{onClick:k,className:"bg-red-600 hover:bg-red-700",children:"Tentar Novamente"})]})})});if(f)return X.jsx("div",{className:"min-h-screen bg-background p-8",children:X.jsx("div",{className:"max-w-4xl mx-auto",children:X.jsxs("div",{className:"text-center py-8",children:[X.jsx("div",{className:"loading-spinner w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),X.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Carregando Estoque..."}),X.jsx("p",{className:"text-muted-foreground",children:"Aguarde enquanto carregamos os dados"})]})})});const _=t.filter(e=>{var t,r,n;return e.active&&((null==(t=e.name)?void 0:t.toLowerCase().includes(s.toLowerCase()))||(null==(r=e.category)?void 0:r.toLowerCase().includes(s.toLowerCase()))||(null==(n=e.barcode)?void 0:n.includes(s)))}),N=(e,t,r=null)=>{var n;d(e),h(r),j({...w,type:t,target_store_id:r?r.id:(null==(n=null==b?void 0:b.stores)?void 0:n.is_online_store)||(null==b?void 0:b.role)===tC?"":null==b?void 0:b.store_id}),l(!0)},S=e=>{var t;return(null==(t=p.find(t=>t.id===e))?void 0:t.name)||"N/A"},C=()=>t.filter(e=>e.active).reduce((e,t)=>e+t.stock,0),E=p.filter(e=>!e.is_online_store);return X.jsx("div",{className:"min-h-screen bg-background p-8",children:X.jsxs("div",{className:"max-w-4xl mx-auto",children:[X.jsxs("div",{className:"text-center mb-8",children:[X.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Controle de Estoque"}),X.jsx("p",{className:"text-muted-foreground",children:"Gerencie o estoque dos seus produtos"})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[X.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm h-20",children:[X.jsx(_f,{className:"w-7 h-7 text-green-500"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.filter(e=>e.active).length}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"Produtos Ativos"})]})]}),X.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm h-20",children:[X.jsx(Wf,{className:"w-7 h-7 text-blue-500"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold text-foreground",children:C()}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"Estoque Online"})]})]}),X.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm h-20",children:[X.jsx(qf,{className:"w-7 h-7 text-orange-500"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.filter(e=>e.active&&e.stock<=e.min_stock).length}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"Estoque Baixo"})]})]}),X.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm h-20",children:[X.jsx(mf,{className:"w-7 h-7 text-purple-500"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"Movimentaes"})]})]})]}),X.jsxs("div",{className:"mb-8",children:[X.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4 text-center",children:"Estoque por Loja"}),X.jsx("div",{className:"flex justify-center",children:X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-auto",children:[X.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm h-20",children:[X.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:X.jsx("span",{className:"text-white font-bold text-xs",children:"O"})}),X.jsxs("div",{className:"flex-1",children:[X.jsx("p",{className:"text-sm font-bold text-foreground",children:"Loja Online"}),X.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[C()," un."]})]})]}),E.map(e=>{return X.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm h-20",children:[X.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:X.jsx("span",{className:"text-white font-bold text-xs",children:e.name.charAt(0).toUpperCase()})}),X.jsxs("div",{className:"flex-1",children:[X.jsx("p",{className:"text-sm font-bold text-foreground",children:e.name}),X.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[(r=e.id,t.reduce((e,t)=>{var n;const a=null==(n=t.physicalStocks)?void 0:n.find(e=>e.store_id===r);return e+(a?a.quantity:0)},0))," un."]})]})]},e.id);var r})]})})]}),X.jsx("div",{className:"mt-6",children:X.jsxs("div",{className:"relative max-w-md mx-auto",children:[X.jsx(Df,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),X.jsx(uk,{placeholder:"Buscar produtos...",value:s,onChange:e=>o(e.target.value),className:"pl-10"})]})}),X.jsx("div",{className:"space-y-4 mt-8",children:0===_.length?X.jsxs("div",{className:"text-center py-8",children:[X.jsx(_f,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),X.jsx("p",{className:"text-muted-foreground",children:"Nenhum produto encontrado"})]}):_.map(e=>X.jsxs(tk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-xl bg-card border border-border p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 shadow-sm hover:shadow-lg transition",children:[X.jsxs("div",{children:[X.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[X.jsx("span",{className:"text-lg font-bold text-foreground",children:e.name}),e.stock<=e.min_stock&&X.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Baixo estoque"})]}),X.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.category,"  ",e.barcode]}),X.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[X.jsxs("span",{className:"text-xs text-foreground bg-muted rounded px-2 py-0.5",children:["Online: ",X.jsx("b",{children:e.stock})," un."]}),E.map(t=>{var r;const n=null==(r=e.physicalStocks)?void 0:r.find(e=>e.store_id===t.id),a=n?n.quantity:0;return X.jsxs("span",{className:"text-xs text-foreground bg-muted rounded px-2 py-0.5",children:[t.name,": ",X.jsx("b",{children:a})," un."]},t.id)})]})]}),X.jsxs("div",{className:"flex flex-col md:items-end gap-1",children:[X.jsxs("span",{className:"text-base font-semibold "+(e.stock<=e.min_stock?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"),children:["Online: ",e.stock," un."]}),X.jsxs("span",{className:"text-xs text-muted-foreground",children:["Mn. Online: ",e.min_stock]})]}),X.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[X.jsxs(dk,{variant:"outline",size:"sm",onClick:()=>N(e,_D),children:[X.jsx(Ef,{className:"w-4 h-4 mr-1"}),"Entrada"]}),X.jsxs(dk,{variant:"outline",size:"sm",onClick:()=>N(e,ND),children:[X.jsx(jf,{className:"w-4 h-4 mr-1"}),"Sada"]}),X.jsx(dk,{variant:"outline",size:"sm",onClick:()=>N(e,SD),children:"Ajuste"})]})]},e.id))}),X.jsxs("div",{className:"mt-10",children:[X.jsxs("h3",{className:"text-lg font-bold text-foreground mb-2 flex items-center gap-2",children:[X.jsx(mf,{className:"w-5 h-5 text-purple-500"}),"Histrico de Movimentaes"]}),X.jsx("div",{className:"rounded-xl bg-card border border-border p-4 max-h-96 overflow-y-auto",children:0===n.length?X.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[X.jsx(mf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),X.jsx("p",{children:"Nenhuma movimentao registrada"})]}):X.jsx("div",{className:"space-y-3",children:n.slice(0,20).map(e=>{var t,r;return X.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 transition text-sm",children:[X.jsxs("div",{className:"flex-1",children:[X.jsxs("h4",{className:"font-semibold text-foreground",children:[e.productName||(null==(t=e.products)?void 0:t.name)," (",null==(r=e.products)?void 0:r.barcode,")"]}),X.jsxs("p",{className:"text-muted-foreground",children:[AD[e.type]||e.type,"  ",e.storeName]}),X.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.userName,"  ",new Date(e.created_at).toLocaleString(),"  ",e.reason]})]}),X.jsxs("div",{className:"text-right",children:[X.jsxs("p",{className:"font-medium "+(e.type===_D||e.type===PD?"text-green-600 dark:text-green-400":e.type===ND||e.type===TD||e.type===CD||e.type===ED?"text-red-600 dark:text-red-400":"text-purple-600 dark:text-purple-400"),children:[e.type===_D||e.type===PD?"+":e.type===ND||e.type===TD||e.type===CD||e.type===ED?"-":"=",e.quantity]}),X.jsxs("p",{className:"text-muted-foreground",children:[e.previous_stock,"  ",e.new_stock]})]})]},e.id)})})})]}),X.jsx($P,{open:i,onOpenChange:e=>{l(e),e||(j({type:"",quantity:"",reason:"",target_store_id:""}),d(null),h(null))},children:X.jsxs(BP,{children:[X.jsx(qP,{children:X.jsx(WP,{children:w.type&&`${AD[w.type]||w.type} de Estoque`})}),c&&X.jsxs("form",{onSubmit:async e=>{var t;if(e.preventDefault(),!c||!w.type||!w.quantity)return void y({title:"Erro",description:"Produto, tipo e quantidade so obrigatrios.",variant:"destructive"});const r=parseInt(w.quantity);if(isNaN(r)||r<=0)y({title:"Erro",description:"Quantidade deve ser um nmero positivo.",variant:"destructive"});else{g(!0);try{let e,n,a=w.target_store_id||c.store_id,s="online",o=null;if(w.type===RD){if(!w.target_store_id)return y({title:"Erro",description:"Selecione uma loja de destino para a transferncia.",variant:"destructive"}),void g(!1);if(c.stock<r)return y({title:"Erro",description:"Estoque online insuficiente para esta transferncia.",variant:"destructive"}),void g(!1);const e=c.stock-r;await OC(c.id,{stock:e});const t=c.physicalStocks.find(e=>e.store_id===w.target_store_id);let n;if(t)n=t.quantity+r,await eC.from("product_store_stock").update({quantity:n}).eq("id",t.id),o=t.id;else{n=r;const{data:e}=await eC.from("product_store_stock").insert({product_id:c.id,store_id:w.target_store_id,quantity:n}).select("id").single();o=null==e?void 0:e.id}return await RC({product_id:c.id,type:RD,quantity:r,previous_stock:c.stock,new_stock:e,reason:`Transferncia para ${S(w.target_store_id)} - ${w.reason}`,user_id:null==b?void 0:b.id,store_id:w.target_store_id,stock_type:"physical_store",product_store_stock_id:o}),y({title:"Transferncia realizada!",description:`${r} unidades transferidas para ${S(w.target_store_id)}.`}),k(),l(!1),j({type:"",quantity:"",reason:"",target_store_id:""}),d(null),h(null),void g(!1)}if(w.target_store_id){if(w.type===ND){if(c.stock<r)return y({title:"Erro",description:"Estoque online insuficiente para esta transferncia.",variant:"destructive"}),void g(!1);const e=c.stock-r;await OC(c.id,{stock:e});const t=c.physicalStocks.find(e=>e.store_id===w.target_store_id);let n;if(t)n=t.quantity+r,await eC.from("product_store_stock").update({quantity:n}).eq("id",t.id),o=t.id;else{n=r;const{data:e}=await eC.from("product_store_stock").insert({product_id:c.id,store_id:w.target_store_id,quantity:n}).select("id").single();o=null==e?void 0:e.id}return await RC({product_id:c.id,type:RD,quantity:r,previous_stock:c.stock,new_stock:e,reason:`Transferncia para ${S(w.target_store_id)} - ${w.reason}`,user_id:null==b?void 0:b.id,store_id:w.target_store_id,stock_type:"physical_store",product_store_stock_id:o}),y({title:"Transferncia realizada!",description:`${r} unidades transferidas para ${S(w.target_store_id)}.`}),k(),l(!1),j({type:"",quantity:"",reason:"",target_store_id:""}),d(null),h(null),void g(!1)}s="physical_store";const t=c.physicalStocks.find(e=>e.store_id===w.target_store_id);if(e=t?t.quantity:0,o=t?t.id:null,w.type===_D?n=e+r:w.type===SD&&(n=r),n<0&&w.type!==SD)return y({title:"Erro",description:"Estoque da loja fsica no pode ficar negativo.",variant:"destructive"}),void g(!1);if(w.type===SD&&n<0&&(n=0),t)await eC.from("product_store_stock").update({quantity:n}).eq("id",t.id);else{const{data:e}=await eC.from("product_store_stock").insert({product_id:c.id,store_id:w.target_store_id,quantity:n}).select("id").single();o=null==e?void 0:e.id}await LC(c.id)}else{if(!(null==(t=null==b?void 0:b.stores)?void 0:t.is_online_store)&&(null==b?void 0:b.role)!==tC)return y({title:"Ao no permitida",description:"Selecione uma loja fsica para esta movimentao ou realize no estoque Online (se admin/online).",variant:"destructive"}),void g(!1);if(a=c.store_id,e=c.stock,w.type===_D?n=e+r:w.type===ND?n=e-r:w.type===SD&&(n=r),n<0&&w.type!==SD)return y({title:"Erro",description:"Estoque online/geral no pode ficar negativo.",variant:"destructive"}),void g(!1);w.type===SD&&n<0&&(n=0),await OC(c.id,{stock:n})}await RC({product_id:c.id,type:w.type,quantity:r,previous_stock:e,new_stock:n,reason:w.reason,user_id:null==b?void 0:b.id,store_id:a,stock_type:s,product_store_stock_id:"physical_store"===s?o:null}),y({title:"Movimentao registrada!",description:`${AD[w.type]||w.type} de ${r} unidades para ${c.name}.`}),k(),l(!1),j({type:"",quantity:"",reason:"",target_store_id:""}),d(null),h(null)}catch(n){y({title:"Erro ao registrar movimentao",description:n.message,variant:"destructive"})}finally{g(!1)}}},className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx(fk,{children:"Produto"}),X.jsx(uk,{value:c.name,disabled:!0})]}),(w.type===RD||w.type===ND&&((null==(e=null==b?void 0:b.stores)?void 0:e.is_online_store)||(null==b?void 0:b.role)===tC))&&X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"target_store_id",children:"Loja de Destino"}),X.jsxs(SO,{value:w.target_store_id,onValueChange:e=>j({...w,target_store_id:e}),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione a loja de destino"})}),X.jsx(RO,{children:E.map(e=>X.jsx(AO,{value:e.id,children:e.name},e.id))})]}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w.type===RD?"Transferir estoque do online para esta loja":"Movimentar estoque nesta loja especfica"})]}),X.jsxs("div",{children:[X.jsx(fk,{children:"Estoque Atual"}),X.jsx(uk,{value:`${c.stock} unidades (Online)`,disabled:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"quantity",children:w.type===SD?"Novo Estoque":"Quantidade da Movimentao"}),X.jsx(uk,{id:"quantity",type:"number",min:"1",value:w.quantity,onChange:e=>j({...w,quantity:e.target.value}),required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"reason",children:"Motivo/Observao"}),X.jsx(uk,{id:"reason",placeholder:"Descreva o motivo da movimentao",value:w.reason,onChange:e=>j({...w,reason:e.target.value}),required:!0})]}),X.jsxs("div",{className:"flex justify-end space-x-2",children:[X.jsx(dk,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),X.jsx(dk,{type:"submit",disabled:f,children:f?"Salvando...":`Confirmar ${AD[w.type]||w.type}`})]})]})]})})]})})},DD=Um("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),LD=B.forwardRef(({className:e,variant:t,...r},n)=>X.jsx("div",{ref:n,className:xp(DD({variant:t}),e),...r}));LD.displayName="Badge";const MD=({categories:e,onEdit:t,onDelete:r,loading:n})=>n?X.jsx("div",{className:"flex items-center justify-center py-8",children:X.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):0===e.length?X.jsxs("div",{className:"text-center py-8",children:[X.jsx(Vf,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),X.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Nenhuma categoria encontrada"}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"Crie sua primeira categoria para organizar seus produtos"})]}):X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((e,n)=>X.jsxs(tk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},className:"bg-card border border-border rounded-lg p-4 hover:shadow-md transition-shadow",children:[X.jsxs("div",{className:"flex items-start justify-between mb-3",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color||"#3B82F6"}}),X.jsx("h3",{className:"font-semibold text-lg",children:e.name})]}),X.jsx(LD,{variant:e.active?"default":"secondary",children:e.active?"Ativa":"Inativa"})]}),e.description&&X.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:e.description}),X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[X.jsx(Vf,{className:"w-3 h-3"}),X.jsxs("span",{children:["Criada em ",new Date(e.created_at).toLocaleDateString("pt-BR")]})]}),X.jsxs("div",{className:"flex items-center space-x-1",children:[X.jsx(dk,{variant:"ghost",size:"sm",onClick:()=>t(e),className:"h-8 w-8 p-0",children:X.jsx(Nf,{className:"w-4 h-4"})}),X.jsx(dk,{variant:"ghost",size:"sm",onClick:()=>r(e),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:X.jsx(Bf,{className:"w-4 h-4"})})]})]})]},e.id))}),FD=B.forwardRef(({className:e,...t},r)=>X.jsx("textarea",{className:xp("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));FD.displayName="Textarea";const ID=({open:e,onOpenChange:t,formData:r,setFormData:n,onSubmit:a,editingCategory:s})=>{const o=(e,t)=>{n(r=>({...r,[e]:t}))};return X.jsx($P,{open:e,onOpenChange:t,children:X.jsxs(BP,{className:"sm:max-w-[500px]",children:[X.jsx(qP,{children:X.jsx(WP,{children:s?"Editar Categoria":"Nova Categoria"})}),X.jsxs("form",{onSubmit:a,className:"space-y-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(fk,{htmlFor:"name",children:"Nome da Categoria *"}),X.jsx(uk,{id:"name",value:r.name,onChange:e=>o("name",e.target.value),placeholder:"Ex: Roupas, Calados, Acessrios",required:!0})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(fk,{htmlFor:"description",children:"Descrio"}),X.jsx(FD,{id:"description",value:r.description,onChange:e=>o("description",e.target.value),placeholder:"Descreva brevemente esta categoria...",rows:3})]}),X.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(fk,{htmlFor:"icon",children:"cone"}),X.jsxs(SO,{value:r.icon,onValueChange:e=>o("icon",e),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione um cone"})}),X.jsx(RO,{children:[{value:"tag",label:"Tag"},{value:"shirt",label:"Camisa"},{value:"footprints",label:"Calados"},{value:"watch",label:"Relgio"},{value:"dumbbell",label:"Esportes"},{value:"baby",label:"Infantil"},{value:"home",label:"Casa"},{value:"gift",label:"Presente"},{value:"heart",label:"Corao"},{value:"star",label:"Estrela"},{value:"bookmark",label:"Marcador"},{value:"package",label:"Pacote"}].map(e=>X.jsx(AO,{value:e.value,children:e.label},e.value))})]})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(fk,{htmlFor:"color",children:"Cor"}),X.jsxs(SO,{value:r.color,onValueChange:e=>o("color",e),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione uma cor"})}),X.jsx(RO,{children:[{value:"#3B82F6",label:"Azul"},{value:"#10B981",label:"Verde"},{value:"#F59E0B",label:"Amarelo"},{value:"#EF4444",label:"Vermelho"},{value:"#8B5CF6",label:"Roxo"},{value:"#06B6D4",label:"Ciano"},{value:"#F97316",label:"Laranja"},{value:"#EC4899",label:"Rosa"},{value:"#6B7280",label:"Cinza"},{value:"#000000",label:"Preto"}].map(e=>X.jsx(AO,{value:e.value,children:X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:e.value}}),X.jsx("span",{children:e.label})]})},e.value))})]})]})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(vD,{id:"active",checked:r.active,onCheckedChange:e=>o("active",e)}),X.jsx(fk,{htmlFor:"active",children:"Categoria ativa"})]}),X.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[X.jsx(dk,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),X.jsxs(dk,{type:"submit",children:[s?"Atualizar":"Criar"," Categoria"]})]})]})]})})},$D=()=>{const[e,t]=U.useState([]),[r,n]=U.useState(""),[a,s]=U.useState(null),[o,i]=U.useState(!1),[l,c]=U.useState(!0),{toast:d}=cg();kC();const[u,h]=U.useState({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),p=U.useCallback(async()=>{c(!0);try{const e=await(async()=>{try{const e=kC();let t=eC.from("categories").select("*").order("name");"admin"!==(null==e?void 0:e.role)&&(null==e?void 0:e.store_id)?t=t.eq("store_id",e.store_id):"admin"!==(null==e?void 0:e.role)&&(t=t.is("store_id",null));const{data:r,error:n}=await t;if(n)throw console.error("Erro ao buscar categorias:",n),new Error("Erro ao buscar categorias");return r||[]}catch(e){throw console.error("Erro em getCategories:",e),e}})();t(e||[])}catch(e){d({title:"Erro ao carregar categorias",description:e.message,variant:"destructive"})}finally{c(!1)}},[d]);U.useEffect(()=>{p()},[p]);const m=e.filter(e=>{var t,n;return(null==(t=e.name)?void 0:t.toLowerCase().includes(r.toLowerCase()))||(null==(n=e.description)?void 0:n.toLowerCase().includes(r.toLowerCase()))});return X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-2xl font-bold",children:"Categorias"}),X.jsx("p",{className:"text-muted-foreground",children:"Gerencie as categorias dos seus produtos"})]}),X.jsxs("button",{onClick:()=>{s(null),h({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),i(!0)},className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[X.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Nova Categoria"]})]}),X.jsx(gk,{children:X.jsxs(bk,{className:"p-6",children:[X.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:X.jsxs("div",{className:"relative flex-1",children:[X.jsx(Df,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),X.jsx(uk,{placeholder:"Buscar categorias...",value:r,onChange:e=>n(e.target.value),className:"pl-10"})]})}),X.jsx(MD,{categories:m,onEdit:e=>{s(e),h({name:e.name,description:e.description||"",color:e.color||"#3B82F6",icon:e.icon||"tag",active:e.active}),i(!0)},onDelete:async e=>{try{if(await(async e=>{try{const{data:t,error:r}=await eC.from("products").select("id, name").eq("category",e).limit(1);if(r)throw console.error("Erro ao verificar uso da categoria:",r),new Error("Erro ao verificar uso da categoria");return t.length>0}catch(t){throw console.error("Erro em checkCategoryUsage:",t),t}})(e.id))return void d({title:"No  possvel deletar",description:"Esta categoria est sendo usada por produtos. Remova a associao primeiro.",variant:"destructive"});window.confirm(`Tem certeza que deseja deletar a categoria "${e.name}"?`)&&(await(async e=>{try{const{error:t}=await eC.from("categories").delete().eq("id",e);if(t)throw console.error("Erro ao deletar categoria:",t),new Error("Erro ao deletar categoria");return!0}catch(t){throw console.error("Erro em deleteCategory:",t),t}})(e.id),d({title:"Sucesso",description:"Categoria deletada com sucesso!"}),p())}catch(t){d({title:"Erro",description:t.message,variant:"destructive"})}},loading:l})]})}),X.jsx(ID,{open:o,onOpenChange:i,formData:u,setFormData:h,onSubmit:async e=>{if(e.preventDefault(),u.name.trim())try{a?(await(async(e,t)=>{try{const{data:r,error:n}=await eC.from("categories").update(t).eq("id",e).select().single();if(n)throw console.error("Erro ao atualizar categoria:",n),new Error("Erro ao atualizar categoria");return r}catch(r){throw console.error("Erro em updateCategory:",r),r}})(a.id,u),d({title:"Sucesso",description:"Categoria atualizada com sucesso!"})):(await(async e=>{try{const t=kC(),r={...e,store_id:(null==t?void 0:t.store_id)||null},{data:n,error:a}=await eC.from("categories").insert([r]).select().single();if(a)throw console.error("Erro ao adicionar categoria:",a),new Error("Erro ao adicionar categoria");return n}catch(t){throw console.error("Erro em addCategory:",t),t}})(u),d({title:"Sucesso",description:"Categoria criada com sucesso!"})),i(!1),s(null),h({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),p()}catch(t){d({title:"Erro",description:t.message,variant:"destructive"})}else d({title:"Erro",description:"Nome da categoria  obrigatrio",variant:"destructive"})},editingCategory:a})]})},zD=({customers:e,onEdit:t,onDelete:r,onViewHistory:n,getCustomerPurchases:a,getCustomerTotalSpent:s,formatCPF:o,formatPhone:i})=>{const l=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return t.length>14&&t.slice(0,14),t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2")};return 0===e.length?X.jsx(gk,{children:X.jsxs(bk,{className:"text-center py-12",children:[X.jsx(Kf,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),X.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum cliente encontrado"}),X.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro cliente."})]})}):X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{const c=a(e.id),d=s(e.id);return X.jsx(tk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs("div",{className:"flex items-start justify-between",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(Kf,{className:"w-5 h-5 text-primary"}),X.jsx(xk,{className:"text-lg",children:e.name})]}),X.jsxs("div",{className:"flex space-x-1",children:[X.jsx(dk,{variant:"ghost",size:"icon",onClick:()=>n(e),title:"Ver Histrico",children:X.jsx(hf,{className:"w-4 h-4"})}),X.jsx(dk,{variant:"ghost",size:"icon",onClick:()=>t(e),title:"Editar Cliente",children:X.jsx(Nf,{className:"w-4 h-4"})}),X.jsx(dk,{variant:"ghost",size:"icon",onClick:()=>r(e.id),className:"text-destructive hover:text-destructive",title:"Remover Cliente",children:X.jsx(Bf,{className:"w-4 h-4"})})]})]})}),X.jsxs(bk,{className:"space-y-3",children:[X.jsxs("div",{className:"space-y-1",children:[e.cpf&&X.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[X.jsx(Kf,{className:"w-3 h-3 text-muted-foreground"}),X.jsxs("span",{children:["CPF: ",o(e.cpf)]})]}),e.cnpj&&X.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[X.jsx(Jm,{className:"w-3 h-3 text-muted-foreground"}),X.jsxs("span",{children:["CNPJ: ",l(e.cnpj)]})]}),X.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[X.jsx(Cf,{className:"w-3 h-3 text-muted-foreground"}),X.jsx("span",{children:i(e.phone)})]}),e.email&&X.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[X.jsx(bf,{className:"w-3 h-3 text-muted-foreground"}),X.jsx("span",{className:"truncate",children:e.email})]}),e.customer_groups&&X.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[X.jsx(Gf,{className:"w-3 h-3 text-blue-600"}),X.jsx("span",{className:"text-blue-600 font-medium",children:e.customer_groups.name})]})]}),X.jsx("div",{className:"pt-3 border-t",children:X.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[X.jsxs("div",{children:[X.jsx("p",{className:"text-lg font-bold text-primary",children:c.length}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"Compras"})]}),X.jsxs("div",{children:[X.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",d.toFixed(2)]}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Gasto"})]})]})}),X.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cliente desde: ",new Date(e.created_at||e.createdAt).toLocaleDateString()]})]})]})},e.id)})})},VD=({open:e,onOpenChange:t,formData:r,setFormData:n,onSubmit:a,editingCustomer:s,formatCPF:o,formatPhone:i,resetForm:l})=>{const[c,d]=U.useState(!1),[u,h]=U.useState([]);U.useEffect(()=>{(async()=>{try{const e=await OO.getCustomerGroups();h(e)}catch(e){console.error("Erro ao buscar grupos:",e)}})()},[]);const p="Atacado"===r.category||"Cliente Exclusivo"===r.category;return X.jsxs($P,{open:e,onOpenChange:e=>{t(e),e||l()},children:[X.jsx(zP,{asChild:!0,children:X.jsxs(dk,{children:[X.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),X.jsxs(BP,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[X.jsx(qP,{children:X.jsx(WP,{children:s?"Editar Cliente":"Novo Cliente"})}),X.jsxs("form",{onSubmit:a,className:"space-y-4",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"name",children:"Nome Completo *"}),X.jsx(uk,{id:"name",value:r.name,onChange:e=>n({...r,name:e.target.value})})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"cpf",children:"CPF"}),X.jsx(uk,{id:"cpf",placeholder:"000.000.000-00",value:r.cpf,onChange:e=>n({...r,cpf:o(e.target.value)})})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"phone",children:"Telefone *"}),X.jsx(uk,{id:"phone",placeholder:"(00) 00000-0000",value:r.phone,onChange:e=>n({...r,phone:i(e.target.value)})})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"email",children:"E-mail"}),X.jsx(uk,{id:"email",type:"email",value:r.email,onChange:e=>n({...r,email:e.target.value})})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"category",children:"Categoria *"}),X.jsxs(SO,{value:r.category||"",onValueChange:e=>n({...r,category:e}),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione a categoria..."})}),X.jsxs(RO,{children:[X.jsx(AO,{value:"Varejo",children:"Varejo"}),X.jsx(AO,{value:"Atacado",children:"Atacado"}),X.jsx(AO,{value:"Cliente Exclusivo",children:"Cliente Exclusivo"})]})]})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"group_id",children:"Nvel de Comprador"}),X.jsxs(SO,{value:r.group_id||"",onValueChange:e=>n({...r,group_id:e}),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione um grupo..."})}),X.jsxs(RO,{children:[X.jsx(AO,{value:"none",children:"Nenhum grupo"}),u.map(e=>X.jsxs(AO,{value:e.id,children:[e.name," - ",e.ticket_min?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.ticket_min):"Sem valor definido"]},e.id))]})]})]}),p&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"cnpj",children:"CNPJ *"}),X.jsx(uk,{id:"cnpj",placeholder:"00.000.000/0000-00",value:r.cnpj||"",onChange:e=>n({...r,cnpj:e.target.value}),required:p})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"razao_social",children:"Razo Social *"}),X.jsx(uk,{id:"razao_social",value:r.razao_social||"",onChange:e=>n({...r,razao_social:e.target.value}),placeholder:"Razo social da empresa",required:p})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"inscricao_estadual",children:"Inscrio Estadual *"}),X.jsx(uk,{id:"inscricao_estadual",value:r.inscricao_estadual||"",onChange:e=>n({...r,inscricao_estadual:e.target.value}),placeholder:"Inscrio estadual",required:p})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"nome_fantasia",children:"Nome Fantasia"}),X.jsx(uk,{id:"nome_fantasia",value:r.nome_fantasia||"",onChange:e=>n({...r,nome_fantasia:e.target.value}),placeholder:"Nome fantasia da empresa"})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"cep",children:"CEP *"}),X.jsx(uk,{id:"cep",placeholder:"00000-000",value:r.cep||"",onChange:e=>n({...r,cep:e.target.value}),onBlur:async e=>{const t=e.target.value.replace(/\D/g,"");if(8===t.length){d(!0);try{const e=await fetch(`https://viacep.com.br/ws/${t}/json/`),a=await e.json();a.erro||n({...r,cep:a.cep,street:a.logradouro,bairro:a.bairro,cidade:a.localidade,estado:a.uf,complemento:a.complemento})}finally{d(!1)}}},required:!0,disabled:c})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"street",children:"Rua *"}),X.jsx(uk,{id:"street",value:r.street||"",onChange:e=>n({...r,street:e.target.value}),required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"bairro",children:"Bairro *"}),X.jsx(uk,{id:"bairro",value:r.bairro||"",onChange:e=>n({...r,bairro:e.target.value}),required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"cidade",children:"Cidade *"}),X.jsx(uk,{id:"cidade",value:r.cidade||"",onChange:e=>n({...r,cidade:e.target.value}),required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"estado",children:"Estado *"}),X.jsx(uk,{id:"estado",value:r.estado||"",onChange:e=>n({...r,estado:e.target.value}),required:!0})]}),X.jsxs("div",{className:"md:col-span-2",children:[X.jsx(fk,{htmlFor:"complemento",children:"Complemento"}),X.jsx(uk,{id:"complemento",value:r.complemento||"",onChange:e=>n({...r,complemento:e.target.value})})]})]}),X.jsxs("div",{className:"flex justify-end space-x-2",children:[X.jsx(dk,{type:"button",variant:"outline",onClick:()=>{t(!1),l()},children:"Cancelar"}),X.jsxs(dk,{type:"submit",children:[s?"Atualizar":"Criar"," Cliente"]})]})]})]})]})},UD=({open:e,onOpenChange:t,customer:r,purchases:n})=>r?X.jsx($P,{open:e,onOpenChange:t,children:X.jsxs(BP,{className:"max-w-2xl",children:[X.jsx(qP,{children:X.jsxs(WP,{children:["Histrico de Compras: ",r.name]})}),X.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3 p-1",children:0===n.length?X.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma compra encontrada para este cliente."}):n.map(e=>X.jsxs(gk,{className:"bg-background/50",children:[X.jsx(vk,{className:"pb-2",children:X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsxs(xk,{className:"text-base",children:["Venda #",e.id]}),X.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(e.created_at||e.date).toLocaleString()})]})}),X.jsxs(bk,{children:[X.jsx("ul",{className:"text-sm space-y-1",children:(e.items||e.sale_items||[]).map(e=>{var t;return X.jsxs("li",{className:"flex justify-between",children:[X.jsxs("span",{children:[e.quantity,"x ",e.name||(null==(t=e.products)?void 0:t.name)||"Produto Indisponvel"]}),X.jsxs("span",{children:["R$ ",(e.subtotal||e.quantity*e.unit_price).toFixed(2)]})]},e.id||e.product_id)})}),X.jsxs("div",{className:"border-t mt-2 pt-2 flex justify-between font-semibold",children:[X.jsx("span",{children:"Total da Venda:"}),X.jsxs("span",{children:["R$ ",(e.total_amount||e.total).toFixed(2)]})]})]})]},e.id))})]})}):null,BD=()=>{const[e,t]=U.useState([]),[r,n]=U.useState([]),[a,s]=U.useState(""),[o,i]=U.useState(null),[l,c]=U.useState(!1),[d,u]=U.useState(!1),[h,p]=U.useState(null),[m,f]=U.useState(!0),{toast:g}=cg(),[v,x]=U.useState({name:"",cpf:"",phone:"",email:"",address:"",category:"",group_id:"",cep:"",street:"",bairro:"",cidade:"",estado:"",complemento:"",cnpj:"",razao_social:"",inscricao_estadual:"",nome_fantasia:""}),y=U.useCallback(async()=>{f(!0);try{const e=await FC(),r=await MC();t(e||[]),n(r||[])}catch(e){g({title:"Erro ao carregar dados",description:e.message,variant:"destructive"})}finally{f(!1)}},[g]);U.useEffect(()=>{y()},[y]);const b=e.filter(e=>"Varejo"===e.category).length,w=e.filter(e=>"Atacado"===e.category).length,j=e.filter(e=>"Cliente Exclusivo"===e.category).length,[k,_]=U.useState(""),[N,S]=U.useState(""),C=e.filter(e=>{var t,r,n;const s=null==(t=e.name)?void 0:t.toLowerCase().includes(a.toLowerCase()),o=!k||e.category===k,i=!N||((null==(r=e.cpf)?void 0:r.includes(N))||(null==(n=e.cnpj)?void 0:n.includes(N)));return s&&o&&i}),E=()=>{x({name:"",cpf:"",phone:"",email:"",address:"",category:"",group_id:"",cep:"",street:"",bairro:"",cidade:"",estado:"",complemento:"",cnpj:"",razao_social:"",inscricao_estadual:"",nome_fantasia:""}),i(null)},P=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return t.length>11&&t.slice(0,11),t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")},T=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return t.length>11&&t.slice(0,11),11===t.length?t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3")},R=U.useCallback(e=>r.filter(t=>t.customer_id===e).sort((e,t)=>new Date(t.created_at||t.date)-new Date(e.created_at||e.date)),[r]),A=U.useCallback(e=>R(e).reduce((e,t)=>e+(t.total_amount||t.total),0),[R]);return m&&0===e.length?X.jsx("div",{className:"flex justify-center items-center h-64",children:X.jsx("div",{className:"loading-spinner"})}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-3xl font-bold",children:"Clientes"}),X.jsx("p",{className:"text-muted-foreground",children:"Gerencie o cadastro de clientes e seus histricos."})]}),X.jsx(VD,{open:l,onOpenChange:c,formData:v,setFormData:x,onSubmit:async e=>{e.preventDefault();const t={...v,cpf:v.cpf.replace(/\D/g,""),phone:v.phone.replace(/\D/g,"")};if(t.name&&t.phone)if(t.cpf&&11!==t.cpf.length)g({title:"Erro de Validao",description:"CPF invlido.",variant:"destructive"});else{f(!0);try{o?(await(async(e,t)=>{const{data:r,error:n}=await eC.from("customers").update(t).eq("id",e).select();return n?(console.error("Error updating customer:",n),null):r?r[0]:null})(o.id,t),g({title:"Cliente atualizado!",description:`${t.name} foi atualizado.`})):(await IC(t),g({title:"Cliente criado!",description:`${t.name} foi criado.`})),y(),c(!1),E()}catch(r){g({title:"Erro ao salvar cliente",description:r.message,variant:"destructive"})}finally{f(!1)}}else g({title:"Erro de Validao",description:"Nome e Telefone so obrigatrios.",variant:"destructive"})},editingCustomer:o,formatCPF:P,formatPhone:T,resetForm:E})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[X.jsx(gk,{children:X.jsx(bk,{className:"p-6",children:X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(Jf,{className:"w-8 h-8 text-blue-500"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold",children:e.length}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"})]})]})})}),X.jsx(gk,{children:X.jsx(bk,{className:"p-6",children:X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(Kf,{className:"w-8 h-8 text-green-500"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold",children:b}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Varejo"})]})]})})}),X.jsx(gk,{children:X.jsx(bk,{className:"p-6",children:X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(Kf,{className:"w-8 h-8 text-yellow-500"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold",children:w}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Atacado"})]})]})})}),X.jsx(gk,{children:X.jsx(bk,{className:"p-6",children:X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(Kf,{className:"w-8 h-8 text-purple-500"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold",children:j}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes Exclusivos"})]})]})})})]}),X.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[X.jsx(uk,{placeholder:"Buscar por nome...",value:a,onChange:e=>s(e.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"}),X.jsxs("select",{value:k,onChange:e=>_(e.target.value),className:"bg-background/70 border-none text-white rounded-xl px-3 py-2",children:[X.jsx("option",{value:"",children:"Todas as Categorias"}),X.jsx("option",{value:"Varejo",children:"Varejo"}),X.jsx("option",{value:"Atacado",children:"Atacado"}),X.jsx("option",{value:"Cliente Exclusivo",children:"Cliente Exclusivo"})]}),X.jsx(uk,{placeholder:"Buscar por CPF ou CNPJ...",value:N,onChange:e=>S(e.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"})]}),X.jsx(zD,{customers:C,onEdit:e=>{i(e),x({name:e.name||"",cpf:P(e.cpf),phone:T(e.phone),email:e.email||"",address:e.address||"",category:e.category||"",group_id:e.group_id||"",cep:e.cep||"",street:e.street||"",bairro:e.bairro||"",cidade:e.cidade||"",estado:e.estado||"",complemento:e.complemento||"",cnpj:e.cnpj||"",razao_social:e.razao_social||"",inscricao_estadual:e.inscricao_estadual||"",nome_fantasia:e.nome_fantasia||""}),c(!0)},onDelete:async e=>{if(window.confirm("Tem certeza que deseja remover este cliente?")){f(!0);try{await(async e=>{const{error:t}=await eC.from("customers").delete().eq("id",e);return!t||(console.error("Error deleting customer:",t),!1)})(e),g({title:"Cliente removido!",description:"O cliente foi removido."}),y()}catch(t){g({title:"Erro ao remover cliente",description:t.message,variant:"destructive"})}finally{f(!1)}}},onViewHistory:e=>{p(e),u(!0)},getCustomerPurchases:R,getCustomerTotalSpent:A,formatCPF:P,formatPhone:T}),X.jsx(UD,{open:d,onOpenChange:u,customer:h,purchases:h?R(h.id):[]})]})},qD=({isOpen:e,onClose:t,editingGroup:r=null,onSuccess:n})=>{const[a,s]=U.useState({name:"",average_ticket:"",description:""}),[o,i]=U.useState(!1),{toast:l}=cg();U.useEffect(()=>{s(r?{name:r.name||"",average_ticket:r.ticket_min?r.ticket_min.toString():"",description:r.description||""}:{name:"",average_ticket:"",description:""})},[r,e]);const c=e=>{const t=e.replace(/\D/g,"");if(""===t)return"";return(parseFloat(t)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2})},d=e=>{const t=e.replace(/[^\d,]/g,"").replace(",",".");return parseFloat(t)||0},u=(e,t)=>{s("average_ticket"===e?r=>({...r,[e]:c(t)}):r=>({...r,[e]:t}))};return X.jsx($P,{open:e,onOpenChange:t,children:X.jsxs(BP,{className:"sm:max-w-[425px]",children:[X.jsx(qP,{children:X.jsx(WP,{children:r?"Editar Grupo de Clientes":"Criar Grupo de Clientes"})}),X.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a.name.trim()){i(!0);try{const e={name:a.name.trim(),average_ticket:a.average_ticket?d(a.average_ticket):null,description:a.description.trim()||null};r?(await OO.updateCustomerGroup(r.id,e),l({title:"Sucesso!",description:"Grupo de clientes atualizado com sucesso"})):(await OO.createCustomerGroup(e),l({title:"Sucesso!",description:"Grupo de clientes criado com sucesso"})),n(),t()}catch(s){console.error("Erro ao salvar grupo:",s),l({title:"Erro",description:"Erro ao salvar grupo de clientes",variant:"destructive"})}finally{i(!1)}}else l({title:"Erro",description:"Nome do grupo  obrigatrio",variant:"destructive"})},className:"space-y-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(fk,{htmlFor:"name",children:"Nome do Grupo *"}),X.jsx(uk,{id:"name",value:a.name,onChange:e=>u("name",e.target.value),placeholder:"Ex: Clientes Premium",required:!0})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(fk,{htmlFor:"average_ticket",children:"Ticket Mdio"}),X.jsx(uk,{id:"average_ticket",value:a.average_ticket,onChange:e=>u("average_ticket",e.target.value),placeholder:"R$ 0,00"})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(fk,{htmlFor:"description",children:"Descrio"}),X.jsx(FD,{id:"description",value:a.description,onChange:e=>u("description",e.target.value),placeholder:"Informaes adicionais sobre o grupo...",rows:3})]}),X.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[X.jsx(dk,{type:"button",variant:"outline",onClick:t,disabled:o,children:"Cancelar"}),X.jsx(dk,{type:"submit",disabled:o,children:o?"Salvando...":r?"Atualizar":"Criar"})]})]})]})})},WD=()=>{const[e,t]=U.useState([]),[r,n]=U.useState(!0),[a,s]=U.useState(!1),[o,i]=U.useState(null),{toast:l}=cg(),c=async()=>{try{n(!0);const e=await OO.getCustomerGroups();t(e)}catch(e){console.error("Erro ao buscar grupos:",e),l({title:"Erro",description:"Erro ao carregar grupos de clientes",variant:"destructive"})}finally{n(!1)}};U.useEffect(()=>{c()},[]);return r?X.jsx("div",{className:"flex justify-center items-center h-64",children:X.jsx("div",{className:"text-gray-500",children:"Carregando grupos..."})}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsx("h2",{className:"text-2xl font-bold",children:"Grupos de Clientes"}),X.jsxs(dk,{onClick:()=>s(!0),children:[X.jsx(Jf,{className:"w-4 h-4 mr-2"}),"Criar Grupo"]})]}),0===e.length?X.jsx(gk,{children:X.jsxs(bk,{className:"flex flex-col items-center justify-center py-12",children:[X.jsx(Jf,{className:"w-12 h-12 text-gray-400 mb-4"}),X.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum grupo criado"}),X.jsx("p",{className:"text-gray-500 mb-4",children:"Crie seu primeiro grupo de clientes para comear"}),X.jsx(dk,{onClick:()=>s(!0),children:"Criar Primeiro Grupo"})]})}):X.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{return X.jsxs(gk,{className:"hover:shadow-md transition-shadow",children:[X.jsx(vk,{className:"pb-3",children:X.jsxs("div",{className:"flex justify-between items-start",children:[X.jsx(xk,{className:"text-lg",children:e.name}),X.jsxs("div",{className:"flex space-x-1",children:[X.jsx(dk,{variant:"ghost",size:"sm",onClick:()=>(e=>{i(e),s(!0)})(e),className:"h-8 w-8 p-0",children:X.jsx(Nf,{className:"w-4 h-4"})}),X.jsx(dk,{variant:"ghost",size:"sm",onClick:()=>(async e=>{if(window.confirm(`Deseja realmente excluir o grupo "${e.name}"?`))try{if(await OO.isGroupInUse(e.id))return void l({title:"Erro",description:"Este grupo no pode ser excludo pois est sendo usado por clientes",variant:"destructive"});await OO.deleteCustomerGroup(e.id),l({title:"Sucesso!",description:"Grupo excludo com sucesso"}),c()}catch(t){console.error("Erro ao excluir grupo:",t),l({title:"Erro",description:"Erro ao excluir grupo",variant:"destructive"})}})(e),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:X.jsx(Bf,{className:"w-4 h-4"})})]})]})}),X.jsxs(bk,{className:"space-y-3",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(lf,{className:"w-4 h-4 text-green-600"}),X.jsx("span",{className:"text-sm text-gray-600",children:"Ticket Mdio:"}),X.jsx("span",{className:"font-medium text-green-600",children:e.ticket_min?(t=e.ticket_min,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)):"No definido"})]}),e.description&&X.jsxs("div",{className:"text-sm text-gray-600",children:[X.jsx("p",{className:"font-medium mb-1",children:"Descrio:"}),X.jsx("p",{className:"text-gray-500",children:e.description})]}),X.jsxs("div",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(e.created_at).toLocaleDateString("pt-BR")]})]})]},e.id);var t})}),X.jsx(qD,{isOpen:a,onClose:()=>{s(!1),i(null)},editingGroup:o,onSuccess:()=>{c(),i(null)}})]})},HD=()=>X.jsxs("div",{className:"container mx-auto p-6",children:[X.jsxs("div",{className:"mb-6",children:[X.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Nveis de Comprador"}),X.jsx("p",{className:"text-gray-600",children:"Gerencie grupos de clientes baseados no ticket mdio de compra e outras caractersticas."})]}),X.jsx(WD,{})]});var GD="rovingFocusGroup.onEntryFocus",KD={bubbles:!1,cancelable:!0},JD="RovingFocusGroup",[YD,QD,XD]=Tp(JD),[ZD,eL]=kp(JD,[XD]),[tL,rL]=ZD(JD),nL=U.forwardRef((e,t)=>X.jsx(YD.Provider,{scope:e.__scopeRovingFocusGroup,children:X.jsx(YD.Slot,{scope:e.__scopeRovingFocusGroup,children:X.jsx(aL,{...e,ref:t})})}));nL.displayName=JD;var aL=U.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=U.useRef(null),p=jp(t,h),m=JP(s),[f,g]=Yp({prop:o,defaultProp:i??null,onChange:l,caller:JD}),[v,x]=U.useState(!1),y=Op(c),b=QD(r),w=U.useRef(!1),[j,k]=U.useState(0);return U.useEffect(()=>{const e=h.current;if(e)return e.addEventListener(GD,y),()=>e.removeEventListener(GD,y)},[y]),X.jsx(tL,{scope:r,orientation:n,dir:m,loop:a,currentTabStopId:f,onItemFocus:U.useCallback(e=>g(e),[g]),onItemShiftTab:U.useCallback(()=>x(!0),[]),onFocusableItemAdd:U.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:U.useCallback(()=>k(e=>e-1),[]),children:X.jsx(Rp.div,{tabIndex:v||0===j?-1:0,"data-orientation":n,...u,ref:p,style:{outline:"none",...e.style},onMouseDown:yp(e.onMouseDown,()=>{w.current=!0}),onFocus:yp(e.onFocus,e=>{const t=!w.current;if(e.target===e.currentTarget&&t&&!v){const t=new CustomEvent(GD,KD);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=b().filter(e=>e.focusable);lL([e.find(e=>e.active),e.find(e=>e.id===f),...e].filter(Boolean).map(e=>e.ref.current),d)}}w.current=!1}),onBlur:yp(e.onBlur,()=>x(!1))})})}),sL="RovingFocusGroupItem",oL=U.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...i}=e,l=HC(),c=s||l,d=rL(sL,r),u=d.currentTabStopId===c,h=QD(r),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:f}=d;return U.useEffect(()=>{if(n)return p(),()=>m()},[n,p,m]),X.jsx(YD.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:X.jsx(Rp.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:yp(e.onMouseDown,e=>{n?d.onItemFocus(c):e.preventDefault()}),onFocus:yp(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:yp(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void d.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:iL[n]}(e,d.orientation,d.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();const s=a.indexOf(e.currentTarget);a=d.loop?(n=s+1,(r=a).map((e,t)=>r[(n+t)%r.length])):a.slice(s+1)}setTimeout(()=>lL(a))}var r,n}),children:"function"==typeof o?o({isCurrentTabStop:u,hasTabStop:null!=f}):o})})});oL.displayName=sL;var iL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lL(e,t=!1){const r=document.activeElement;for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),document.activeElement!==r)return}}var cL=nL,dL=oL,uL="Tabs",[hL,pL]=kp(uL,[eL]),mL=eL(),[fL,gL]=hL(uL),vL=U.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:i,activationMode:l="automatic",...c}=e,d=JP(i),[u,h]=Yp({prop:n,onChange:a,defaultProp:s??"",caller:uL});return X.jsx(fL,{scope:r,baseId:HC(),value:u,onValueChange:h,orientation:o,dir:d,activationMode:l,children:X.jsx(Rp.div,{dir:d,"data-orientation":o,...c,ref:t})})});vL.displayName=uL;var xL="TabsList",yL=U.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=gL(xL,r),o=mL(r);return X.jsx(cL,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:X.jsx(Rp.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});yL.displayName=xL;var bL="TabsTrigger",wL=U.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=gL(bL,r),i=mL(r),l=_L(o.baseId,n),c=NL(o.baseId,n),d=n===o.value;return X.jsx(dL,{asChild:!0,...i,focusable:!a,active:d,children:X.jsx(Rp.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...s,ref:t,onMouseDown:yp(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(n)}),onKeyDown:yp(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(n)}),onFocus:yp(e.onFocus,()=>{const e="manual"!==o.activationMode;d||a||!e||o.onValueChange(n)})})})});wL.displayName=bL;var jL="TabsContent",kL=U.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,i=gL(jL,r),l=_L(i.baseId,n),c=NL(i.baseId,n),d=n===i.value,u=U.useRef(d);return U.useEffect(()=>{const e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),X.jsx(Gp,{present:a||d,children:({present:r})=>X.jsx(Rp.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":l,hidden:!r,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:r&&s})})});function _L(e,t){return`${e}-trigger-${t}`}function NL(e,t){return`${e}-content-${t}`}kL.displayName=jL;var SL=yL,CL=wL,EL=kL;const PL=vL,TL=B.forwardRef(({className:e,...t},r)=>X.jsx(SL,{ref:r,className:xp("inline-flex h-10 items-center justify-center rounded-md bg-gray-800 p-1 text-gray-400",e),...t}));TL.displayName=SL.displayName;const RL=B.forwardRef(({className:e,...t},r)=>X.jsx(CL,{ref:r,className:xp("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-gray-700 data-[state=active]:text-white data-[state=active]:shadow-sm hover:bg-gray-700 hover:text-white",e),...t}));RL.displayName=CL.displayName;const AL=B.forwardRef(({className:e,...t},r)=>X.jsx(EL,{ref:r,className:xp("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));AL.displayName=EL.displayName;const OL=({totalRevenue:e,totalSales:t,averageTicket:r,totalItemsSold:n})=>{const a=[{icon:lf,value:`R$ ${e.toFixed(2)}`,label:"Faturamento",color:"text-green-500"},{icon:$f,value:t,label:"Vendas",color:"text-blue-500"},{icon:Wf,value:`R$ ${r.toFixed(2)}`,label:"Ticket Mdio",color:"text-purple-500"},{icon:_f,value:n,label:"Itens Vendidos",color:"text-orange-500"}];return X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(e=>{const t=e.icon;return X.jsx(gk,{className:"glass-effect",children:X.jsx(bk,{className:"p-6",children:X.jsxs("div",{className:"flex items-center space-x-3",children:[X.jsx("div",{className:`p-2 rounded-full bg-primary/10 ${e.color}`,children:X.jsx(t,{className:"w-6 h-6"})}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold",children:e.value}),X.jsx("p",{className:"text-sm text-gray-400",children:e.label})]})]})})},e.label)})})},DL=({sales:e,salesByHour:t})=>X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2",children:[X.jsx(Km,{className:"w-5 h-5"}),X.jsx("span",{children:"Vendas Recentes"})]})}),X.jsx(bk,{children:0===e.length?X.jsxs("div",{className:"text-center py-8 text-gray-400",children:[X.jsx($f,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),X.jsx("p",{children:"Nenhuma venda no perodo selecionado"})]}):X.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.slice(0,10).map(e=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[X.jsxs("div",{children:[X.jsxs("p",{className:"font-medium",children:["Venda #",e.id]}),X.jsxs("p",{className:"text-sm text-gray-400",children:[e.cashier||e.cashier_name||"Vendedor","  ",new Date(e.date||e.created_at).toLocaleString()]}),X.jsxs("p",{className:"text-xs text-gray-400",children:[(e.items||e.sale_items||[]).length," itens"]})]}),X.jsx("div",{className:"text-right",children:X.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",(e.total||e.total_amount||0).toFixed(2)]})})]},e.id))})})]}),X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2",children:[X.jsx(Xm,{className:"w-5 h-5"}),X.jsx("span",{children:"Vendas por Horrio"})]})}),X.jsx(bk,{children:0===Object.keys(t).length?X.jsxs("div",{className:"text-center py-8 text-gray-400",children:[X.jsx(Xm,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),X.jsx("p",{children:"Nenhuma venda por horrio no perodo"})]}):X.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Object.entries(t).sort(([e],[t])=>parseInt(e)-parseInt(t)).map(([e,t])=>X.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-md",children:[X.jsxs("span",{className:"text-sm font-medium",children:[e.padStart(2,"0"),":00 - ",String(parseInt(e)+1).padStart(2,"0"),":00"]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsxs("span",{className:"text-xs px-2 py-0.5 bg-secondary rounded-full",children:[t.count," vendas"]}),X.jsxs("span",{className:"text-sm font-semibold text-primary",children:["R$ ",t.revenue.toFixed(2)]})]})]},e))})})]})]}),LL=({topProducts:e})=>X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2",children:[X.jsx(_f,{className:"w-5 h-5"}),X.jsx("span",{children:"Produtos Mais Vendidos"})]})}),X.jsx(bk,{children:0===e.length?X.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[X.jsx(_f,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),X.jsx("p",{children:"Nenhum produto vendido no perodo"})]}):X.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:e.map((e,t)=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[X.jsxs("div",{className:"flex items-center space-x-3",children:[X.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-primary-foreground font-bold "+(0===t?"bg-yellow-500":1===t?"bg-gray-400":2===t?"bg-yellow-700":"bg-primary"),children:t+1}),X.jsxs("div",{children:[X.jsx("p",{className:"font-medium",children:e.name}),X.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.quantity," unidades vendidas"]})]})]}),X.jsx("div",{className:"text-right",children:X.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",e.revenue.toFixed(2)]})})]},e.name))})})]}),ML={cash:"Dinheiro",debit:"Carto Dbito",credit:"Carto Crdito",pix:"PIX"},FL=({paymentMethodStats:e,totalRevenue:t})=>X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2",children:[X.jsx(lf,{className:"w-5 h-5"}),X.jsx("span",{children:"Mtodos de Pagamento"})]})}),X.jsx(bk,{children:0===Object.keys(e).length?X.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[X.jsx(lf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),X.jsx("p",{children:"Nenhum pagamento registrado no perodo"})]}):X.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:Object.entries(e).map(([e,r])=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[X.jsxs("div",{children:[X.jsx("p",{className:"font-medium",children:ML[e]||e}),X.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.count," transaes"]})]}),X.jsxs("div",{className:"text-right",children:[X.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",r.amount.toFixed(2)]}),t>0&&X.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r.amount/t*100).toFixed(1),"% do total"]})]})]},e))})})]}),IL={today:"Hoje",yesterday:"Ontem",week:"ltimos 7 dias",month:"Este ms"},$L=({salesByUser:e,dateFilter:t,totalSales:r,totalRevenue:n,averageTicket:a,totalItemsSold:s})=>X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2",children:[X.jsx(Jf,{className:"w-5 h-5"}),X.jsx("span",{children:"Performance por Operador"})]})}),X.jsx(bk,{children:0===Object.keys(e).length?X.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[X.jsx(Jf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),X.jsx("p",{children:"Nenhuma venda por operador no perodo"})]}):X.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Object.entries(e).map(([e,t])=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[X.jsxs("div",{children:[X.jsx("p",{className:"font-medium",children:e||"No identificado"}),X.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.count," vendas"]})]}),X.jsxs("div",{className:"text-right",children:[X.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",t.revenue.toFixed(2)]}),X.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ticket Mdio: R$ ",(t.revenue/t.count||0).toFixed(2)]})]})]},e))})})]}),X.jsxs(gk,{className:"glass-effect",children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center space-x-2",children:[X.jsx(Wf,{className:"w-5 h-5"}),X.jsx("span",{children:"Resumo do Perodo"})]})}),X.jsx(bk,{children:X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[X.jsx("p",{className:"text-xl font-bold text-primary",children:IL[t]}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"Perodo Selecionado"})]}),X.jsxs("div",{className:"space-y-2 text-sm",children:[X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"Total de Vendas:"}),X.jsx("span",{className:"font-medium",children:r})]}),X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"Faturamento Total:"}),X.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",n.toFixed(2)]})]}),X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"Ticket Mdio:"}),X.jsxs("span",{className:"font-medium",children:["R$ ",a.toFixed(2)]})]}),X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"Itens Vendidos:"}),X.jsx("span",{className:"font-medium",children:s})]})]})]})})]})]}),zL={today:"Hoje",yesterday:"Ontem",week:"ltimos 7 dias",month:"Este ms",all:"Todo o perodo"},VL=()=>{const[e,t]=U.useState([]),[r,n]=U.useState("today"),[a,s]=U.useState(!0),[o,i]=U.useState(null),{toast:l}=cg(),c=U.useCallback(async()=>{s(!0);try{console.log("Carregando dados de vendas...");const e=await MC();console.log("Dados carregados:",e),t(e||[])}catch(e){console.error("Erro ao carregar vendas:",e),i(e.message),l({title:"Erro ao carregar vendas",description:e.message,variant:"destructive"}),t([])}finally{s(!1)}},[l]);U.useEffect(()=>{c()},[c]);const d=U.useMemo(()=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(n);a.setDate(a.getDate()-1);const s=new Date(t);s.setDate(t.getDate()-6),s.setHours(0,0,0,0);const o=new Date(t.getFullYear(),t.getMonth(),1);return e.filter(e=>{const i=new Date(e.created_at||e.date);switch(r){case"today":return i>=n&&i<=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999);case"yesterday":return i>=a&&i<n;case"week":return i>=s&&i<=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999);case"month":return i>=o&&i<=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999);default:return!0}})},[e,r]),u=U.useMemo(()=>{const e=d.reduce((e,t)=>e+(t.total_amount||t.total||0),0),t=d.length,r=t>0?e/t:0,n=d.reduce((e,t)=>e+(t.items||t.sale_items||[]).reduce((e,t)=>e+(t.quantity||0),0),0),a=(()=>{const e={};return d.forEach(t=>{(t.items||t.sale_items||[]).forEach(t=>{var r;const n=t.product_id||t.productId,a=(null==(r=t.products)?void 0:r.name)||t.name||"Produto Desconhecido",s=t.subtotal||t.quantity*t.unit_price||0;e[n]||(e[n]={id:n,name:a,quantity:0,revenue:0}),e[n].quantity+=t.quantity||0,e[n].revenue+=s})}),Object.values(e).sort((e,t)=>t.revenue-e.revenue).slice(0,10)})();return{totalRevenue:e,totalSales:t,averageTicket:r,totalItemsSold:n,topProducts:a,paymentMethodStats:(()=>{const e={};return d.forEach(t=>{(t.payment_details||t.payments||[]).forEach(t=>{e[t.method]||(e[t.method]={count:0,amount:0}),e[t.method].count+=1,e[t.method].amount+=t.amount||0})}),e})(),salesByHour:(()=>{const e={};return d.forEach(t=>{const r=new Date(t.created_at||t.date).getHours().toString();e[r]||(e[r]={count:0,revenue:0}),e[r].count+=1,e[r].revenue+=t.total_amount||t.total||0}),e})(),salesByUser:(()=>{const e={};return d.forEach(t=>{const r=t.cashier_name||t.cashier||"Desconhecido";e[r]||(e[r]={count:0,revenue:0}),e[r].count+=1,e[r].revenue+=t.total_amount||t.total||0}),e})()}},[d]);return a?X.jsx("div",{className:"space-y-6 bg-gray-900 text-white min-h-screen p-6",children:X.jsx("div",{className:"flex justify-center items-center h-64",children:X.jsxs("div",{className:"text-center",children:[X.jsx("div",{className:"loading-spinner mb-4"}),X.jsx("p",{children:"Carregando relatrios..."})]})})}):o?X.jsx("div",{className:"space-y-6 bg-gray-900 text-white min-h-screen p-6",children:X.jsx("div",{className:"flex justify-center items-center h-64",children:X.jsxs("div",{className:"text-center",children:[X.jsx("p",{className:"text-red-400 mb-4",children:"Erro ao carregar relatrios"}),X.jsx("p",{className:"text-gray-400 mb-4",children:o}),X.jsx(dk,{onClick:c,variant:"outline",children:"Tentar novamente"})]})})}):X.jsxs("div",{className:"space-y-6 bg-gray-900 text-white min-h-screen p-6",children:[X.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-3xl font-bold",children:"Relatrios"}),X.jsx("p",{className:"text-muted-foreground",children:"Anlise detalhada de vendas e performance da loja."})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsxs(SO,{value:r,onValueChange:n,children:[X.jsx(EO,{className:"w-[180px]",children:X.jsx(CO,{placeholder:"Selecione o perodo"})}),X.jsx(RO,{children:Object.entries(zL).map(([e,t])=>X.jsx(AO,{value:e,children:t},e))})]}),X.jsxs(dk,{variant:"outline",onClick:()=>{l({title:" Em Desenvolvimento ",description:"A funcionalidade de exportar relatrios ser implementada em breve!"})},children:[X.jsx(cf,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),0===e.length?X.jsxs("div",{className:"text-center py-12",children:[X.jsx("p",{className:"text-gray-400 mb-4",children:"Nenhuma venda encontrada para o perodo selecionado."}),X.jsx("p",{className:"text-sm text-gray-500",children:"Tente selecionar um perodo diferente ou aguarde novas vendas."})]}):X.jsx(OL,{totalRevenue:u.totalRevenue,totalSales:u.totalSales,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold}),e.length>0&&X.jsxs(PL,{defaultValue:"sales",className:"space-y-6",children:[X.jsxs(TL,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[X.jsx(RL,{value:"sales",children:"Vendas"}),X.jsx(RL,{value:"products",children:"Produtos"}),X.jsx(RL,{value:"payments",children:"Pagamentos"}),X.jsx(RL,{value:"performance",children:"Performance"})]}),X.jsx(AL,{value:"sales",children:X.jsx(DL,{sales:d,salesByHour:u.salesByHour})}),X.jsx(AL,{value:"products",children:X.jsx(LL,{topProducts:u.topProducts})}),X.jsx(AL,{value:"payments",children:X.jsx(FL,{paymentMethodStats:u.paymentMethodStats,totalRevenue:u.totalRevenue})}),X.jsx(AL,{value:"performance",children:X.jsx($L,{salesByUser:u.salesByUser,dateFilter:r,totalSales:u.totalSales,totalRevenue:u.totalRevenue,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold})})]})]})},UL={[tC]:"Administrador",[rC]:"Gerente",[nC]:"Operador de Caixa",[aC]:"Estoquista",[sC]:"Vendedor"},BL="__no_store_selected__",qL=()=>{var e;const[t,r]=U.useState([]),[n,a]=U.useState([]),[s,o]=U.useState(null),[i,l]=U.useState(!1),[c,d]=U.useState(!1),[u,h]=U.useState(!0),{toast:p}=cg(),[m,f]=U.useState({username:"",password:"",name:"",role:"",store_id:BL,active:!0}),g=(null==(e=kC())?void 0:e.role)===tC,v=U.useCallback(async()=>{h(!0);try{const[e,t]=await Promise.all([SC(),CC()]);r(e||[]),a(t||[])}catch(e){p({title:"Erro ao carregar dados",description:e.message,variant:"destructive"})}finally{h(!1)}},[p]);U.useEffect(()=>{v()},[v]);const x=()=>{f({username:"",password:"",name:"",role:"",store_id:BL,active:!0}),o(null),d(!1)},y=async e=>{try{const t=await fetch("/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.username,password:e.password,name:e.name,role:e.role,store_id:e.store_id})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Erro ao criar funcionrio")}return await t.json()}catch(t){throw new Error(`Erro na comunicao com o backend: ${t.message}`)}},b=e=>{o(e),f({username:e.username,password:"",name:e.name||e.username.split("@")[0],role:e.role,store_id:e.store_id||BL,active:e.active}),l(!0)},w=async e=>{h(!0);try{await(async(e,t)=>{try{const r=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:t})});if(!r.ok){const e=await r.json();throw console.error(" Erro do backend:",e),new Error(e.error||"Erro ao alterar status do usurio")}return await r.json()}catch(r){throw console.error(" Erro na comunicao:",r),new Error(`Erro na comunicao com o backend: ${r.message}`)}})(e.id,!e.active),p({title:e.active?"Usurio desativado":"Usurio ativado",description:`${e.name} foi ${e.active?"desativado":"ativado"}.`}),v()}catch(t){p({title:"Erro ao alterar status do usurio",description:t.message,variant:"destructive"})}finally{h(!1)}},j=async e=>{if(window.confirm("Tem certeza que deseja remover este usurio?")){h(!0);try{await(async e=>{try{const t=await fetch(`/api/usuarios/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.json();throw new Error(e.error||"Erro ao deletar usurio")}return await t.json()}catch(t){throw new Error(`Erro na comunicao com o backend: ${t.message}`)}})(e),p({title:"Usurio removido!",description:"O usurio foi removido com sucesso."}),v()}catch(t){p({title:"Erro ao remover usurio",description:t.message,variant:"destructive"})}finally{h(!1)}}},k=e=>{switch(e){case tC:return"text-red-600 bg-red-100 dark:bg-red-900";case rC:return"text-blue-600 bg-blue-100 dark:bg-blue-900";case nC:return"text-green-600 bg-green-100 dark:bg-green-900";case aC:return"text-purple-600 bg-purple-100 dark:bg-purple-900";case sC:return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900"}};return u&&0===t.length&&0===n.length?X.jsx("div",{className:"flex justify-center items-center h-64",children:X.jsx("div",{className:"loading-spinner"})}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-3xl font-bold",children:"Usurios"}),X.jsx("p",{className:"text-muted-foreground",children:"Gerencie usurios, funes e suas lojas"})]}),g&&X.jsxs($P,{open:i,onOpenChange:e=>{l(e),e||x()},children:[X.jsx(zP,{asChild:!0,children:X.jsxs(dk,{onClick:()=>x(),children:[X.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Novo Funcionrio"]})}),X.jsxs(BP,{className:"max-w-md",children:[X.jsxs(qP,{children:[X.jsx(WP,{children:s?"Editar Usurio":"Novo Funcionrio"}),X.jsx(HP,{children:s?"Edite as informaes do usurio.":"Crie um novo funcionrio no sistema."})]}),X.jsxs("form",{onSubmit:async e=>{var r;e.preventDefault();const a=m.store_id===BL?null:m.store_id,o=null==(r=n.find(e=>e.id===a))?void 0:r.is_online_store;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.username))return void p({title:"Erro de Validao",description:"O e-mail do usurio  invlido.",variant:"destructive"});if(!m.role)return void p({title:"Erro de Validao",description:"Funo  obrigatria.",variant:"destructive"});if(!a&&m.role!==tC&&!o)return void p({title:"Erro de Validao",description:"Loja  obrigatria para esta funo (exceto Admin global ou se a loja for a online).",variant:"destructive"});if(t.find(e=>e.username===m.username&&(!s||e.id!==s.id)))p({title:"Erro",description:"Nome de usurio j existe.",variant:"destructive"});else{h(!0);try{const e={...m,store_id:a};if(s&&!m.password&&delete e.password,s)if(g){const e={name:m.name,role:m.role,store_id:m.store_id===BL?null:m.store_id,password:m.password||void 0};await(async(e,t)=>{try{const r=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,role:t.role,store_id:t.store_id,password:t.password||void 0})});if(!r.ok){const e=await r.json();throw console.error(" Erro do backend (update):",e),new Error(e.error||"Erro ao atualizar usurio")}return await r.json()}catch(r){throw console.error(" Erro na comunicao (update):",r),new Error(`Erro na comunicao com o backend: ${r.message}`)}})(s.id,e),p({title:"Usurio atualizado!",description:`${m.name} foi atualizado com sucesso.`})}else p({title:"Apenas admin pode alterar usurios!",variant:"destructive"});else await y(e),p({title:"Funcionrio criado!",description:`${m.name} foi criado com sucesso.`});v(),l(!1),x()}catch(i){p({title:"Erro ao salvar usurio",description:i.message,variant:"destructive"})}finally{h(!1)}}},className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"name",children:"Nome Completo"}),X.jsx(uk,{id:"name",value:m.name,onChange:e=>f({...m,name:e.target.value}),required:!0})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"username",children:"E-mail do Usurio"}),X.jsx(uk,{id:"username",type:"email",value:m.username,onChange:e=>f({...m,username:e.target.value}),required:!0,placeholder:"usuario@exemplo.com"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"password",children:s?"Nova Senha (deixe vazio para manter atual)":"Senha"}),X.jsxs("div",{className:"relative",children:[X.jsx(uk,{id:"password",type:c?"text":"password",value:m.password,onChange:e=>f({...m,password:e.target.value}),required:!s}),X.jsx(dk,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:()=>d(!c),children:c?X.jsx(df,{className:"w-4 h-4"}):X.jsx(uf,{className:"w-4 h-4"})})]})]}),g&&X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"role",children:"Funo"}),X.jsxs(SO,{value:m.role,onValueChange:e=>f({...m,role:e}),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione uma funo"})}),X.jsx(RO,{children:Object.entries(UL).map(([e,t])=>X.jsx(AO,{value:e,children:t},e))})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"store_id",children:"Loja"}),X.jsxs(SO,{value:m.store_id,onValueChange:e=>f({...m,store_id:e}),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione uma loja"})}),X.jsxs(RO,{children:[X.jsx(AO,{value:BL,children:"Nenhuma (Global/Admin)"}),n.map(e=>X.jsxs(AO,{value:e.id,children:[e.name," ",e.is_online_store?"(Online)":""]},e.id))]})]})]}),X.jsxs("div",{className:"flex justify-end space-x-2",children:[X.jsx(dk,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),X.jsx(dk,{type:"submit",disabled:u,children:u?"Salvando...":(s?"Atualizar":"Criar")+" Usurio"})]})]})]})]})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsx(gk,{className:"glass-effect",children:X.jsx(bk,{className:"p-6",children:X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(Jf,{className:"w-8 h-8 text-primary"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold",children:t.length}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Usurios"})]})]})})}),X.jsx(gk,{className:"glass-effect",children:X.jsx(bk,{className:"p-6",children:X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(zf,{className:"w-8 h-8 text-green-500"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-2xl font-bold",children:n.length}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Lojas"})]})]})})})]}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{var t,r,n;return X.jsx(tk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:X.jsxs(gk,{className:"glass-effect "+(e.active?"":"opacity-60"),children:[X.jsx(vk,{children:X.jsxs("div",{className:"flex items-start justify-between",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(Jf,{className:"w-5 h-5 text-primary"}),X.jsx(xk,{className:"text-lg",children:e.name})]}),X.jsxs("div",{className:"flex space-x-1",children:[X.jsx(dk,{variant:"ghost",size:"icon",onClick:()=>b(e),children:X.jsx(Nf,{className:"w-4 h-4"})}),X.jsx(dk,{variant:"ghost",size:"icon",onClick:()=>j(e.id),className:"text-destructive hover:text-destructive",children:X.jsx(Bf,{className:"w-4 h-4"})})]})]})}),X.jsxs(bk,{className:"space-y-3",children:[X.jsxs("div",{children:[X.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usurio: ",e.username]}),X.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nome: ",e.name||e.username.split("@")[0]]}),X.jsxs("p",{className:"text-sm text-muted-foreground",children:["Loja: ",(null==(t=e.stores)?void 0:t.name)?`${e.stores.name}${e.stores.is_online_store?" (Online)":""}`:e.role===tC?"Todas (Admin)":"No definida"]}),X.jsxs("div",{className:"flex items-center justify-between mt-2",children:[X.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(e.role)}`,children:UL[e.role]}),g&&X.jsx(dk,{size:"xs",variant:"outline",onClick:()=>b(e),children:"Alterar Role"}),X.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(e.active?"text-green-600 bg-green-100 dark:bg-green-900":"text-red-600 bg-red-100 dark:bg-red-900"),children:e.active?"Ativo":"Inativo"})]})]}),X.jsxs("div",{children:[X.jsx("p",{className:"text-sm font-medium mb-2",children:"Permisses:"}),X.jsxs("div",{className:"space-y-1",children:[null==(r=wC[e.role])?void 0:r.slice(0,3).map(e=>X.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",e.replace(/_/g," ").toLowerCase()]},e)),(null==(n=wC[e.role])?void 0:n.length)>3&&X.jsxs("div",{className:"text-xs text-muted-foreground",children:[" +",wC[e.role].length-3," mais..."]})]})]}),X.jsx("div",{className:"pt-2 border-t",children:X.jsx(dk,{variant:"outline",size:"sm",className:"w-full",onClick:()=>w(e),disabled:u,children:u?"Aguarde...":(e.active?"Desativar":"Ativar")+" Usurio"})})]})]})},e.id)})}),0===t.length&&!u&&X.jsx(gk,{children:X.jsxs(bk,{className:"text-center py-12",children:[X.jsx(Jf,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),X.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum usurio encontrado"}),X.jsx("p",{className:"text-muted-foreground",children:"Comece criando seu primeiro usurio"})]})})]})},WL=()=>{var e;const[t,r]=U.useState({isOpen:!1,currentAmount:0,openingAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null}),[n,a]=U.useState([]),[s,o]=U.useState(!1),[i,l]=U.useState(!1),[c,d]=U.useState(!1),[u,h]=U.useState(!1),[p,m]=U.useState(""),[f,g]=U.useState(""),[v,x]=U.useState(""),[y,b]=U.useState("add"),[w,j]=U.useState(""),[k,_]=U.useState("status"),{toast:N}=cg(),S=kC(),C=jC(null==S?void 0:S.role,mC),E=async()=>{try{o(!0);const e=(null==S?void 0:S.store_id)||"1fa90f00-cf02-4a42-8167-c599537c22bb",t=await(async(e=null)=>{try{const t=new URLSearchParams;e&&t.append("store_id",e);const r=await fetch(`${$C}/cash-register/state?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.json();throw new Error(e.error||"Erro ao buscar estado do caixa")}return await r.json()}catch(t){throw new Error(`Erro na comunicao com o backend: ${t.message}`)}})(e);r(t)}catch(e){N({title:"Erro",description:e.message,variant:"destructive"})}finally{o(!1)}},P=async()=>{try{const e=await(async(e={})=>{try{const t=new URLSearchParams;e.store_id&&t.append("store_id",e.store_id),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.date_from&&t.append("date_from",e.date_from),e.date_to&&t.append("date_to",e.date_to);const r=await fetch(`${$C}/cash-register/logs?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.json();throw new Error(e.error||"Erro ao buscar logs do caixa")}return await r.json()}catch(t){throw new Error(`Erro na comunicao com o backend: ${t.message}`)}})({limit:100});a(e.logs||[])}catch(e){N({title:"Erro",description:e.message,variant:"destructive"})}};U.useEffect(()=>{E(),P()},[]);const T=e=>new Date(e).toLocaleString("pt-BR"),R=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return C?X.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[X.jsx(lf,{className:"w-8 h-8"}),"Controle de Caixa"]}),X.jsxs("div",{className:"flex items-center gap-4",children:[X.jsx("div",{className:"text-sm text-muted-foreground",children:(null==(e=t.store)?void 0:e.name)||"Loja Online"}),X.jsx(dk,{variant:"outline",size:"sm",onClick:async()=>{if(confirm("Tem certeza que deseja resetar o caixa? Isso apagar todo o histrico."))try{(await fetch(`http://31.97.86.88:4000/api/cash-register/reset/${t.store_id}`,{method:"DELETE"})).ok&&(N({title:"Sucesso",description:"Caixa resetado com sucesso!"}),E(),P())}catch(e){N({title:"Erro",description:"Erro ao resetar caixa",variant:"destructive"})}},children:"Resetar Caixa"})]})]}),X.jsxs(PL,{value:k,onValueChange:_,children:[X.jsxs(TL,{className:"grid w-full grid-cols-3",children:[X.jsx(RL,{value:"status",children:"Status"}),X.jsx(RL,{value:"operations",children:"Operaes"}),X.jsx(RL,{value:"history",children:"Histrico"})]}),X.jsx(AL,{value:"status",className:"space-y-6",children:X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[t.isOpen?X.jsx(ef,{className:"w-6 h-6 text-green-500"}):X.jsx(Qf,{className:"w-6 h-6 text-red-500"}),"Status do Caixa"]})}),X.jsxs(bk,{className:"space-y-4",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{className:"text-center p-4 border border-gray-600 rounded-lg bg-gray-800",children:[X.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),X.jsx("p",{className:"text-lg font-bold "+(t.isOpen?"text-green-600":"text-red-600"),children:t.isOpen?"ABERTO":"FECHADO"})]}),X.jsxs("div",{className:"text-center p-4 border border-gray-600 rounded-lg bg-gray-800",children:[X.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Atual"}),X.jsx("p",{className:"text-2xl font-bold",children:R(t.currentAmount)})]})]}),t.isOpen&&X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[X.jsxs("div",{className:"text-center p-3 border border-gray-600 rounded-lg bg-gray-800",children:[X.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Inicial"}),X.jsx("p",{className:"font-bold",children:R(t.openingAmount)})]}),X.jsxs("div",{className:"text-center p-3 border border-gray-600 rounded-lg bg-gray-800",children:[X.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto por"}),X.jsx("p",{className:"font-bold",children:t.openedBy||"N/A"})]}),X.jsxs("div",{className:"text-center p-3 border border-gray-600 rounded-lg bg-gray-800",children:[X.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto em"}),X.jsx("p",{className:"font-bold",children:t.openedAt?T(t.openedAt):"N/A"})]})]}),!t.isOpen&&t.closedAt&&X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{className:"text-center p-3 border border-gray-600 rounded-lg bg-gray-800",children:[X.jsx("p",{className:"text-sm text-muted-foreground",children:"Fechado em"}),X.jsx("p",{className:"font-bold",children:T(t.closedAt)})]}),X.jsxs("div",{className:"text-center p-3 border border-gray-600 rounded-lg bg-gray-800",children:[X.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Final"}),X.jsx("p",{className:"font-bold",children:R(t.currentAmount)})]})]})]})]})}),X.jsx(AL,{value:"operations",className:"space-y-6",children:X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(Hf,{className:"w-5 h-5"}),"Abrir Caixa"]})}),X.jsx(bk,{children:X.jsxs($P,{open:i,onOpenChange:l,children:[X.jsx(zP,{asChild:!0,children:X.jsx(dk,{className:"w-full",disabled:t.isOpen||s,children:"Abrir Caixa"})}),X.jsxs(BP,{children:[X.jsx(qP,{children:X.jsx(WP,{children:"Abrir Caixa"})}),X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"initialAmount",children:"Valor Inicial (R$)"}),X.jsx(uk,{id:"initialAmount",type:"number",step:"0.01",min:"0",value:p,onChange:e=>m(e.target.value),placeholder:"0,00"})]}),X.jsxs("div",{className:"flex justify-end space-x-2",children:[X.jsx(dk,{variant:"outline",onClick:()=>l(!1),disabled:s,children:"Cancelar"}),X.jsx(dk,{onClick:async()=>{if(!p||parseFloat(p)<0)N({title:"Erro",description:"Valor inicial  obrigatrio e deve ser maior ou igual a zero.",variant:"destructive"});else try{o(!0);const e=await(async(e,t,r)=>{try{const n=await fetch(`${$C}/cash-register/open`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initial_amount:e,store_id:t,user_id:r})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Erro ao abrir caixa")}return await n.json()}catch(n){throw new Error(`Erro na comunicao com o backend: ${n.message}`)}})(parseFloat(p),t.store_id,null==S?void 0:S.id);r(e.cashRegister),l(!1),m(""),N({title:"Sucesso",description:e.message}),P()}catch(e){N({title:"Erro",description:e.message,variant:"destructive"})}finally{o(!1)}},disabled:s,children:s?"Abrindo...":"Abrir Caixa"})]})]})]})]})})]}),X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(xf,{className:"w-5 h-5"}),"Fechar Caixa"]})}),X.jsx(bk,{children:X.jsxs($P,{open:c,onOpenChange:d,children:[X.jsx(zP,{asChild:!0,children:X.jsx(dk,{variant:"outline",className:"w-full",disabled:!t.isOpen||s,children:"Fechar Caixa"})}),X.jsxs(BP,{children:[X.jsx(qP,{children:X.jsx(WP,{children:"Fechar Caixa"})}),X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"finalAmount",children:"Valor Final (R$)"}),X.jsx(uk,{id:"finalAmount",type:"number",step:"0.01",min:"0",value:f,onChange:e=>g(e.target.value),placeholder:t.currentAmount.toFixed(2)})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"closeNotes",children:"Observaes (opcional)"}),X.jsx(uk,{id:"closeNotes",value:w,onChange:e=>j(e.target.value),placeholder:"Observaes sobre o fechamento..."})]}),X.jsxs("div",{className:"flex justify-end space-x-2",children:[X.jsx(dk,{variant:"outline",onClick:()=>d(!1),disabled:s,children:"Cancelar"}),X.jsx(dk,{onClick:async()=>{try{o(!0);const e=await(async(e,t,r,n=null)=>{try{const a=await fetch(`${$C}/cash-register/close`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({final_amount:e,store_id:t,user_id:r,notes:n})});if(!a.ok){const e=await a.json();throw new Error(e.error||"Erro ao fechar caixa")}return await a.json()}catch(a){throw new Error(`Erro na comunicao com o backend: ${a.message}`)}})(parseFloat(f)||t.currentAmount,t.store_id,null==S?void 0:S.id,w);r(e.cashRegister),d(!1),g(""),j(""),N({title:"Sucesso",description:e.message}),P()}catch(e){N({title:"Erro",description:e.message,variant:"destructive"})}finally{o(!1)}},disabled:s,children:s?"Fechando...":"Fechar Caixa"})]})]})]})]})})]}),X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(Wf,{className:"w-5 h-5"}),"Movimentaes"]})}),X.jsx(bk,{children:X.jsxs($P,{open:u,onOpenChange:h,children:[X.jsx(zP,{asChild:!0,children:X.jsx(dk,{variant:"outline",className:"w-full",disabled:!t.isOpen||s,children:"Adicionar/Remover"})}),X.jsxs(BP,{children:[X.jsx(qP,{children:X.jsx(WP,{children:"Movimentao de Caixa"})}),X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx(fk,{children:"Tipo de Operao"}),X.jsxs("div",{className:"flex gap-2 mt-2",children:[X.jsxs(dk,{variant:"add"===y?"default":"outline",onClick:()=>b("add"),className:"flex-1",children:[X.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),X.jsxs(dk,{variant:"remove"===y?"default":"outline",onClick:()=>b("remove"),className:"flex-1",children:[X.jsx(jf,{className:"w-4 h-4 mr-2"}),"Remover"]})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"movementAmount",children:"Valor (R$)"}),X.jsx(uk,{id:"movementAmount",type:"number",step:"0.01",min:"0",value:v,onChange:e=>x(e.target.value),placeholder:"0,00"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"movementNotes",children:"Observaes (opcional)"}),X.jsx(uk,{id:"movementNotes",value:w,onChange:e=>j(e.target.value),placeholder:"Motivo da movimentao..."})]}),X.jsxs("div",{className:"flex justify-end space-x-2",children:[X.jsx(dk,{variant:"outline",onClick:()=>h(!1),disabled:s,children:"Cancelar"}),X.jsx(dk,{onClick:async()=>{if(!v||parseFloat(v)<=0)N({title:"Erro",description:"Valor  obrigatrio e deve ser maior que zero.",variant:"destructive"});else try{o(!0);const e=parseFloat(v);await(async(e,t,r,n,a=null)=>{try{const s=await fetch(`${$C}/cash-register/logs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,amount:t,store_id:r,user_id:n,notes:a})});if(!s.ok){const e=await s.json();throw new Error(e.error||"Erro ao adicionar log do caixa")}return await s.json()}catch(s){throw new Error(`Erro na comunicao com o backend: ${s.message}`)}})(y,e,t.store_id,null==S?void 0:S.id,w),h(!1),x(""),b("add"),j(""),N({title:"Sucesso",description:"Movimentao registrada com sucesso!"}),E(),P()}catch(e){N({title:"Erro",description:e.message,variant:"destructive"})}finally{o(!1)}},disabled:s,children:s?"Registrando...":"Registrar Movimentao"})]})]})]})]})})]})]})}),X.jsx(AL,{value:"history",className:"space-y-6",children:X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(mf,{className:"w-5 h-5"}),"Histrico de Operaes"]})}),X.jsx(bk,{children:X.jsxs("div",{className:"space-y-4",children:[n.map(e=>X.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-600 rounded-lg bg-gray-800",children:[X.jsxs("div",{className:"flex items-center gap-3",children:["open"===e.type&&X.jsx(Hf,{className:"w-5 h-5 text-green-500"}),"close"===e.type&&X.jsx(xf,{className:"w-5 h-5 text-red-500"}),"add"===e.type&&X.jsx(Ef,{className:"w-5 h-5 text-blue-500"}),"remove"===e.type&&X.jsx(jf,{className:"w-5 h-5 text-orange-500"}),X.jsxs("div",{children:[X.jsxs("p",{className:"font-medium",children:["open"===e.type&&"Abertura de Caixa","close"===e.type&&"Fechamento de Caixa","add"===e.type&&"Adio de Dinheiro","remove"===e.type&&"Remoo de Dinheiro"]}),X.jsx("p",{className:"text-sm text-muted-foreground",children:e.notes})]})]}),X.jsxs("div",{className:"text-right",children:[X.jsx("p",{className:"font-bold",children:R(e.current_amount)}),X.jsx("p",{className:"text-sm text-muted-foreground",children:T(e.created_at)})]})]},e.id)),0===n.length&&X.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma operao registrada."})]})})]})})]})]}):X.jsx("div",{className:"container mx-auto p-6",children:X.jsx(gk,{className:"max-w-md mx-auto",children:X.jsxs(bk,{className:"p-6 text-center",children:[X.jsx(Qf,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),X.jsx("h2",{className:"text-xl font-bold mb-2",children:"Acesso Negado"}),X.jsx("p",{className:"text-muted-foreground",children:"Voc no tem permisso para acessar o controle de caixa."})]})})})},HL=()=>{const[e,t]=U.useState({printer:{type:"epson",interface:"USB",port:"USB001",enabled:!0},scanner:{deviceId:"",autoScan:!0,enabled:!0}}),[r,n]=U.useState({nfe:{enabled:!1,environment:"homologation",series:"1",nextNumber:1},sat:{enabled:!1,environment:"homologation",nextNumber:1},general:{cnpj:"",inscricaoEstadual:"",razaoSocial:"",nomeFantasia:""}}),[a,s]=U.useState(!1),[o,i]=U.useState(!1),[l,c]=U.useState(!1),[d,u]=U.useState(!1),[h,p]=U.useState([]),[m,f]=U.useState(null),{toast:g}=cg();U.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0);const[e,r]=await Promise.all([VC.getConfig(),UC.getConfig()]);t(e),n(r)}catch(e){g({title:"Erro ao carregar configuraes",description:e.message,variant:"destructive"})}finally{s(!1)}},x=(e,r,n)=>{t(t=>({...t,[e]:{...t[e],[r]:n}}))},y=(e,t,r)=>{n(n=>({...n,[e]:{...n[e],[t]:r}}))},b=e=>!e||UC.validateCNPJ(e),w=e=>{const t=(r=e,UC.formatCNPJ(r));var r;y("general","cnpj",t)},j=e=>{switch(e){case"printer":return X.jsx(Pf,{className:"w-4 h-4"});case"scanner":return X.jsx(Of,{className:"w-4 h-4"});default:return X.jsx(Mf,{className:"w-4 h-4"})}};return a?X.jsx("div",{className:"flex justify-center items-center h-64",children:X.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[X.jsx(Mf,{className:"w-6 h-6 text-primary"}),X.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes de Perifricos e Fiscal"})]}),X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(Df,{className:"w-5 h-5"}),"Detectar Dispositivos"]})}),X.jsxs(bk,{className:"space-y-4",children:[X.jsxs(dk,{onClick:async()=>{try{u(!0);const e=await VC.detectDevices();p(e),g({title:"Dispositivos detectados",description:`${e.length} dispositivo(s) encontrado(s)!`})}catch(e){g({title:"Erro ao detectar dispositivos",description:e.message,variant:"destructive"})}finally{u(!1)}},disabled:d,className:"w-full",children:[X.jsx(Df,{className:"w-4 h-4 mr-2"}),d?"Detectando...":"Detectar Dispositivos"]}),h.length>0&&X.jsxs("div",{className:"space-y-2",children:[X.jsx("h4",{className:"font-medium",children:"Dispositivos Encontrados:"}),h.map((e,t)=>X.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[j(e.device_type),X.jsxs("div",{className:"flex-1",children:[X.jsx("div",{className:"font-medium",children:e.device_name}),X.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.interface_type," - ",e.port_address]})]}),e.is_connected?X.jsx(ef,{className:"w-5 h-5 text-green-500"}):X.jsx(Wm,{className:"w-5 h-5 text-red-500"})]},t))]})]})]}),X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(Pf,{className:"w-5 h-5"}),"Configurao da Impressora"]})}),X.jsxs(bk,{className:"space-y-4",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(fk,{htmlFor:"printer-enabled",children:"Ativar Impressora"}),X.jsx(vD,{id:"printer-enabled",checked:e.printer.enabled,onCheckedChange:e=>x("printer","enabled",e)})]}),e.printer.enabled&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"printer-type",children:"Tipo de Impressora"}),X.jsxs(SO,{value:e.printer.type,onValueChange:e=>x("printer","type",e),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione o tipo"})}),X.jsxs(RO,{children:[X.jsx(AO,{value:"epson",children:"Epson"}),X.jsx(AO,{value:"star",children:"Star"}),X.jsx(AO,{value:"citizen",children:"Citizen"}),X.jsx(AO,{value:"bematech",children:"Bematech"})]})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"printer-interface",children:"Interface"}),X.jsxs(SO,{value:e.printer.interface,onValueChange:e=>x("printer","interface",e),children:[X.jsx(EO,{children:X.jsx(CO,{placeholder:"Selecione a interface"})}),X.jsxs(RO,{children:[X.jsx(AO,{value:"USB",children:"USB"}),X.jsx(AO,{value:"Network",children:"Rede"}),X.jsx(AO,{value:"Serial",children:"Serial"})]})]})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"printer-port",children:"Porta/Endereo"}),X.jsx(uk,{id:"printer-port",value:e.printer.port,onChange:e=>x("printer","port",e.target.value),placeholder:"Ex: USB001, 192.168.1.100:9100"})]}),X.jsxs(dk,{onClick:async()=>{try{i(!0),await VC.testPrinter(e.printer),g({title:"Teste da impressora",description:"Impressora testada com sucesso!"})}catch(t){g({title:"Erro no teste da impressora",description:t.message,variant:"destructive"})}finally{i(!1)}},disabled:o,className:"w-full",children:[X.jsx(Uf,{className:"w-4 h-4 mr-2"}),o?"Testando...":"Testar Impressora"]})]})]})]}),X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(Of,{className:"w-5 h-5"}),"Configurao do Scanner"]})}),X.jsxs(bk,{className:"space-y-4",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(fk,{htmlFor:"scanner-enabled",children:"Ativar Scanner"}),X.jsx(vD,{id:"scanner-enabled",checked:e.scanner.enabled,onCheckedChange:e=>x("scanner","enabled",e)})]}),e.scanner.enabled&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(fk,{htmlFor:"scanner-auto",children:"Escaneamento Automtico"}),X.jsx(vD,{id:"scanner-auto",checked:e.scanner.autoScan,onCheckedChange:e=>x("scanner","autoScan",e)})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"scanner-device",children:"ID do Dispositivo"}),X.jsx(uk,{id:"scanner-device",value:e.scanner.deviceId,onChange:e=>x("scanner","deviceId",e.target.value),placeholder:"Deixe vazio para auto-deteco"})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[X.jsxs(dk,{onClick:async()=>{try{c(!0);const t=await VC.testScanner(e.scanner);g({title:"Teste do scanner",description:`Scanner testado com sucesso! Cdigo de teste: ${t.testCode}`})}catch(t){g({title:"Erro no teste do scanner",description:t.message,variant:"destructive"})}finally{c(!1)}},disabled:l,className:"w-full",children:[X.jsx(Uf,{className:"w-4 h-4 mr-2"}),l?"Testando...":"Testar Scanner"]}),X.jsxs(dk,{onClick:async()=>{try{c(!0);const t=await VC.scanBarcode(e.scanner);f(t.barcode),g({title:"Cdigo de barras lido",description:`Cdigo: ${t.barcode.text} (${t.barcode.format})`})}catch(t){g({title:"Erro na leitura",description:t.message,variant:"destructive"})}finally{c(!1)}},disabled:l,variant:"outline",className:"w-full",children:[X.jsx(Zm,{className:"w-4 h-4 mr-2"}),l?"Lendo...":"Ler Cdigo"]})]}),m&&X.jsxs("div",{className:"p-3 border rounded-lg bg-muted",children:[X.jsx("h4",{className:"font-medium mb-2",children:"ltimo cdigo lido:"}),X.jsxs("div",{className:"text-sm",children:[X.jsxs("div",{children:[X.jsx("strong",{children:"Cdigo:"})," ",m.text]}),X.jsxs("div",{children:[X.jsx("strong",{children:"Formato:"})," ",m.format]}),X.jsxs("div",{children:[X.jsx("strong",{children:"Hora:"})," ",new Date(m.timestamp).toLocaleTimeString("pt-BR")]})]})]})]})]})]}),X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(Ym,{className:"w-5 h-5"}),"Configurao Fiscal"]})}),X.jsxs(bk,{className:"space-y-6",children:[X.jsxs("div",{className:"space-y-4",children:[X.jsx("h4",{className:"font-medium",children:"Dados da Empresa"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"cnpj",children:"CNPJ"}),X.jsx(uk,{id:"cnpj",value:r.general.cnpj,onChange:e=>w(e.target.value),placeholder:"00.000.000/0000-00",className:!b(r.general.cnpj)&&r.general.cnpj?"border-red-500":""}),!b(r.general.cnpj)&&r.general.cnpj&&X.jsx("p",{className:"text-sm text-red-500 mt-1",children:"CNPJ invlido"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"ie",children:"Inscrio Estadual"}),X.jsx(uk,{id:"ie",value:r.general.inscricaoEstadual,onChange:e=>y("general","inscricaoEstadual",e.target.value),placeholder:"000.000.000.000"})]})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"razao-social",children:"Razo Social"}),X.jsx(uk,{id:"razao-social",value:r.general.razaoSocial,onChange:e=>y("general","razaoSocial",e.target.value),placeholder:"Nome da empresa"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"nome-fantasia",children:"Nome Fantasia"}),X.jsx(uk,{id:"nome-fantasia",value:r.general.nomeFantasia,onChange:e=>y("general","nomeFantasia",e.target.value),placeholder:"Nome fantasia"})]})]})]}),X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(fk,{htmlFor:"nfe-enabled",children:"Ativar NF-e"}),X.jsx(vD,{id:"nfe-enabled",checked:r.nfe.enabled,onCheckedChange:e=>y("nfe","enabled",e)})]}),r.nfe.enabled&&X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"nfe-environment",children:"Ambiente"}),X.jsxs(SO,{value:r.nfe.environment,onValueChange:e=>y("nfe","environment",e),children:[X.jsx(EO,{children:X.jsx(CO,{})}),X.jsxs(RO,{children:[X.jsx(AO,{value:"homologation",children:"Homologao"}),X.jsx(AO,{value:"production",children:"Produo"})]})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"nfe-series",children:"Srie"}),X.jsx(uk,{id:"nfe-series",value:r.nfe.series,onChange:e=>y("nfe","series",e.target.value),placeholder:"1"})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"nfe-next-number",children:"Prximo Nmero"}),X.jsx(uk,{id:"nfe-next-number",type:"number",value:r.nfe.nextNumber,onChange:e=>y("nfe","nextNumber",parseInt(e.target.value)),placeholder:"1"})]})]})]}),X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(fk,{htmlFor:"sat-enabled",children:"Ativar SAT"}),X.jsx(vD,{id:"sat-enabled",checked:r.sat.enabled,onCheckedChange:e=>y("sat","enabled",e)})]}),r.sat.enabled&&X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"sat-environment",children:"Ambiente"}),X.jsxs(SO,{value:r.sat.environment,onValueChange:e=>y("sat","environment",e),children:[X.jsx(EO,{children:X.jsx(CO,{})}),X.jsxs(RO,{children:[X.jsx(AO,{value:"homologation",children:"Homologao"}),X.jsx(AO,{value:"production",children:"Produo"})]})]})]}),X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"sat-next-number",children:"Prximo Nmero"}),X.jsx(uk,{id:"sat-next-number",type:"number",value:r.sat.nextNumber,onChange:e=>y("sat","nextNumber",parseInt(e.target.value)),placeholder:"1"})]})]})]})]})]}),X.jsxs("div",{className:"flex gap-4 justify-end",children:[X.jsxs(dk,{onClick:async()=>{try{s(!0),await VC.saveConfig(e),g({title:"Configuraes salvas",description:"As configuraes de perifricos foram salvas com sucesso!"})}catch(t){g({title:"Erro ao salvar configuraes",description:t.message,variant:"destructive"})}finally{s(!1)}},disabled:a,variant:"outline",children:[X.jsx(Af,{className:"w-4 h-4 mr-2"}),"Salvar Perifricos"]}),X.jsxs(dk,{onClick:async()=>{try{s(!0),await UC.saveConfig(r),g({title:"Configuraes fiscais salvas",description:"As configuraes fiscais foram salvas com sucesso!"})}catch(e){g({title:"Erro ao salvar configuraes fiscais",description:e.message,variant:"destructive"})}finally{s(!1)}},disabled:a,children:[X.jsx(hf,{className:"w-4 h-4 mr-2"}),"Salvar Fiscal"]})]})]})},GL=()=>{const[e,t]=U.useState(2.99),[r,n]=U.useState(!1),[a,s]=U.useState(!1),[o,i]=U.useState(!1),[l,c]=U.useState(null),[d,u]=U.useState(null),{toast:h}=cg();U.useEffect(()=>{p(),m(),f()},[]);const p=async()=>{n(!0);try{const e=await BC.getInterestRate();t(e.credit_card_interest),c(e.updated_at)}catch(e){console.error("Erro ao carregar taxa de juros:",e),h({title:"Erro ao carregar",description:"No foi possvel carregar a configurao de juros.",variant:"destructive"})}finally{n(!1)}},m=async()=>{try{const e=await BC.canManageInterestRates();i(e)}catch(e){console.error("Erro ao verificar permisses:",e),i(!1)}},f=async()=>{try{const e=await BC.getCurrentConfigWithAudit();u(e)}catch(e){console.error("Erro ao carregar configurao atual:",e)}},g=(t=100,r)=>{if(r<=1)return t;const n=e/100;return t*(1+(Math.pow(1+n,r-1)-1))};return X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx(of,{className:"w-6 h-6"}),X.jsx("h1",{className:"text-2xl font-bold",children:"Configurao de Taxas de Juros"})]}),!o&&X.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx(Wm,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),X.jsx("span",{className:"text-yellow-800 dark:text-yellow-200",children:"Voc no tem permisso para alterar as taxas de juros. Apenas administradores e gerentes podem fazer alteraes."})]})}),X.jsxs(gk,{children:[X.jsxs(vk,{children:[X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(Qm,{className:"w-5 h-5"}),"Taxa de Juros - Carto de Crdito"]}),l&&X.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["ltima atualizao: ",new Date(l).toLocaleString("pt-BR")]})]}),X.jsxs(bk,{className:"space-y-6",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx(fk,{htmlFor:"interest-rate",className:"text-base font-medium",children:"Taxa de Juros Mensal"}),X.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Define a taxa de juros aplicada ao parcelamento do carto de crdito"}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx(uk,{id:"interest-rate",type:"number",min:"0",max:"100",step:"0.01",className:"w-32",value:e,onChange:e=>t(parseFloat(e.target.value)||0)}),X.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"% ao ms"})]})]}),X.jsxs(dk,{onClick:async()=>{if(o){s(!0);try{await BC.saveInterestRate(e),h({title:"Configurao salva!",description:`Taxa de juros do carto de crdito definida em ${e}% ao ms.`}),await p(),await f()}catch(t){h({title:"Erro ao salvar",description:"No foi possvel salvar a configurao de juros.",variant:"destructive"})}finally{s(!1)}}else h({title:"Sem permisso",description:"Voc no tem permisso para alterar as taxas de juros.",variant:"destructive"})},disabled:r||a||!o,className:"w-full md:w-auto",children:[X.jsx(Af,{className:"w-4 h-4 mr-2"}),a?"Salvando...":"Salvar Configurao"]})]}),X.jsxs("div",{className:"space-y-4",children:[X.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Exemplo de Clculo (R$ 100,00)"}),X.jsxs("div",{className:"space-y-2 text-sm",children:[X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"1x sem juros:"}),X.jsx("span",{className:"font-medium",children:"R$ 100,00"})]}),X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"2x com juros:"}),X.jsxs("span",{className:"font-medium",children:["R$ ",g(100,2).toFixed(2)]})]}),X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"3x com juros:"}),X.jsxs("span",{className:"font-medium",children:["R$ ",g(100,3).toFixed(2)]})]}),X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"6x com juros:"}),X.jsxs("span",{className:"font-medium",children:["R$ ",g(100,6).toFixed(2)]})]}),X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{children:"12x com juros:"}),X.jsxs("span",{className:"font-medium",children:["R$ ",g(100,12).toFixed(2)]})]})]})]})]}),X.jsxs("div",{className:"border-t pt-4",children:[X.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Como funciona o clculo:"}),X.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[X.jsx("li",{children:" A primeira parcela no tem juros"}),X.jsx("li",{children:" As parcelas subsequentes acumulam juros compostos mensais"}),X.jsx("li",{children:" A taxa  aplicada sobre o valor restante a cada ms"}),X.jsx("li",{children:" O valor total  dividido igualmente entre as parcelas"})]})]})]})]}),d&&X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsxs(xk,{className:"flex items-center gap-2",children:[X.jsx(mf,{className:"w-5 h-5"}),"Informaes da Configurao"]})}),X.jsx(bk,{children:X.jsx("div",{className:"space-y-3",children:X.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[X.jsxs("div",{children:[X.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:["Taxa atual: ",d.credit_card_interest,"% ao ms"]}),X.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Criada em: ",new Date(d.created_at).toLocaleString("pt-BR")]}),d.updated_at!==d.created_at&&X.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["ltima alterao: ",new Date(d.updated_at).toLocaleString("pt-BR")]})]}),X.jsx("div",{className:"text-sm text-gray-500",children:"Configurao nica"})]})})})]})]})},KL=()=>{const[e,t]=U.useState([]),[r,n]=U.useState(!1),[a,s]=U.useState({status:"",document_type:""}),{toast:o}=cg();U.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0);const e=await UC.getDocuments(a);t(e||[])}catch(e){console.error("Erro ao carregar documentos:",e),o({title:"Erro ao carregar documentos",description:e.message,variant:"destructive"})}finally{n(!1)}},l=e=>{switch(e){case"approved":return X.jsx(ef,{className:"w-4 h-4 text-green-500"});case"pending":return X.jsx(af,{className:"w-4 h-4 text-yellow-500"});case"rejected":case"cancelled":return X.jsx(Qf,{className:"w-4 h-4 text-red-500"});default:return X.jsx(Wm,{className:"w-4 h-4 text-gray-500"})}},c=(e,t)=>{s(r=>({...r,[e]:t}))};return r?X.jsx("div",{className:"flex justify-center items-center h-64",children:X.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[X.jsx(hf,{className:"w-6 h-6 text-primary"}),X.jsx("h1",{className:"text-2xl font-bold",children:"Documentos Fiscais"})]}),X.jsxs(gk,{children:[X.jsx(vk,{children:X.jsx(xk,{className:"text-lg",children:"Filtros"})}),X.jsx(bk,{children:X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[X.jsxs("div",{children:[X.jsx("label",{className:"text-sm font-medium",children:"Status"}),X.jsxs("select",{className:"w-full p-2 border rounded-md",value:a.status,onChange:e=>c("status",e.target.value),children:[X.jsx("option",{value:"",children:"Todos"}),X.jsx("option",{value:"pending",children:"Pendente"}),X.jsx("option",{value:"sent",children:"Enviado"}),X.jsx("option",{value:"approved",children:"Aprovado"}),X.jsx("option",{value:"rejected",children:"Rejeitado"}),X.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),X.jsxs("div",{children:[X.jsx("label",{className:"text-sm font-medium",children:"Tipo"}),X.jsxs("select",{className:"w-full p-2 border rounded-md",value:a.document_type,onChange:e=>c("document_type",e.target.value),children:[X.jsx("option",{value:"",children:"Todos"}),X.jsx("option",{value:"nfe",children:"NF-e"}),X.jsx("option",{value:"sat",children:"SAT"}),X.jsx("option",{value:"nfce",children:"NFC-e"})]})]}),X.jsxs("div",{className:"flex items-end gap-2",children:[X.jsxs(dk,{onClick:()=>{i()},className:"flex-1",children:[X.jsx(Tf,{className:"w-4 h-4 mr-2"}),"Filtrar"]}),X.jsx(dk,{onClick:i,variant:"outline",children:X.jsx(Tf,{className:"w-4 h-4"})})]})]})})]}),X.jsx("div",{className:"space-y-4",children:0===e.length?X.jsx(gk,{children:X.jsxs(bk,{className:"flex flex-col items-center justify-center py-12",children:[X.jsx(hf,{className:"w-12 h-12 text-gray-400 mb-4"}),X.jsx("p",{className:"text-gray-500",children:"Nenhum documento fiscal encontrado"}),X.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Os documentos fiscais aparecero aqui aps serem gerados no POS"})]})}):e.map(e=>{return X.jsx(gk,{children:X.jsxs(bk,{className:"p-6",children:[X.jsxs("div",{className:"flex items-center justify-between mb-4",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[l(e.status),X.jsxs("div",{children:[X.jsxs("h3",{className:"font-semibold",children:[(n=e.document_type,{nfe:"NF-e",sat:"SAT",nfce:"NFC-e"}[n]||n.toUpperCase())," #",e.document_number]}),X.jsxs("p",{className:"text-sm text-gray-500",children:["Venda #",e.sale_id,"  ",(r=e.created_at,new Date(r).toLocaleString("pt-BR"))]})]})]}),X.jsx("div",{className:"flex items-center gap-2",children:(t=e.status,X.jsx(LD,{className:{pending:"bg-yellow-100 text-yellow-800",sent:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800",children:{pending:"Pendente",sent:"Enviado",approved:"Aprovado",rejected:"Rejeitado",cancelled:"Cancelado"}[t]||t}))})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[X.jsxs("div",{children:[X.jsx("p",{className:"text-sm text-gray-500",children:"Chave de Acesso"}),X.jsx("p",{className:"font-mono text-sm",children:e.access_key})]}),X.jsxs("div",{children:[X.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),X.jsx("p",{className:"text-sm",children:e.error_message||"Sem erros"})]})]}),X.jsxs("div",{className:"flex gap-2",children:["pending"===e.status&&X.jsxs(dk,{size:"sm",onClick:()=>(async(e,t)=>{try{await UC.sendDocument(e,t),o({title:"Documento enviado",description:"Documento fiscal enviado com sucesso!"}),i()}catch(r){o({title:"Erro ao enviar documento",description:r.message,variant:"destructive"})}})(e.id,e.document_type),children:[X.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Enviar"]}),X.jsxs(dk,{size:"sm",variant:"outline",children:[X.jsx(uf,{className:"w-4 h-4 mr-2"}),"Visualizar"]}),X.jsxs(dk,{size:"sm",variant:"outline",children:[X.jsx(cf,{className:"w-4 h-4 mr-2"}),"Download XML"]})]})]})},e.id);var t,r,n})})]})},JL=({element:e,requiredPermission:t,user:r})=>r&&"none"!==r.role?t&&!jC(r.role,t)?X.jsx(mh,{to:"/"}):e:X.jsx(mh,{to:"/login"});function YL(){const[e,t]=U.useState(null),[r,n]=U.useState(!0),{toast:a}=cg();U.useEffect(()=>{const e=e=>{a(e.detail)};window.addEventListener("show-toast",e);(async()=>{const e=kC();e&&t(e),n(!1)})();const{data:r}=eC.auth.onAuthStateChange(async(e,r)=>{var a;if(null==r?void 0:r.user){let e="none";"admin@server.com"===r.user.email&&(e="admin");const n={id:r.user.id,email:r.user.email,name:(null==(a=r.user.user_metadata)?void 0:a.name)||r.user.email.split("@")[0],role:e,store_id:null,active:!0,created_at:r.user.created_at,stores:null};t(n),_C(n)}else t(null),NC();n(!1)});return()=>{var t;null==(t=null==r?void 0:r.subscription)||t.unsubscribe(),window.removeEventListener("show-toast",e)}},[a]),U.useEffect(()=>{(async()=>{try{const e=await kC();t(e)}catch(e){console.error("Erro ao verificar usurio:",e)}finally{n(!1)}})()},[]);return r?X.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg",children:X.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-white border-t-transparent rounded-full"})}):X.jsx(FO,{children:X.jsxs(kh,{children:[X.jsxs(xh,{children:[X.jsx(gh,{path:"/login",element:e?X.jsx(mh,{to:"/"}):X.jsx(EC,{onLogin:e=>{t(e),_C(e)}})}),X.jsxs(gh,{path:"/",element:X.jsx(JL,{user:e,element:X.jsx(PC,{onLogout:()=>{t(null),NC()}})}),children:[X.jsx(gh,{index:!0,element:X.jsx(JL,{user:e,element:X.jsx(XO,{}),requiredPermission:pC})}),X.jsx(gh,{path:"pos",element:X.jsx(JL,{user:e,element:X.jsx(XO,{}),requiredPermission:pC})}),X.jsx(gh,{path:"products",element:X.jsx(JL,{user:e,element:X.jsx(jD,{}),requiredPermission:iC})}),X.jsx(gh,{path:"products/:id",element:X.jsx(JL,{user:e,element:X.jsx(kD,{}),requiredPermission:iC})}),X.jsx(gh,{path:"categories",element:X.jsx(JL,{user:e,element:X.jsx($D,{}),requiredPermission:lC})}),X.jsx(gh,{path:"stock",element:X.jsx(JL,{user:e,element:X.jsx(OD,{}),requiredPermission:cC})}),X.jsx(gh,{path:"customers",element:X.jsx(JL,{user:e,element:X.jsx(BD,{}),requiredPermission:iC})}),X.jsx(gh,{path:"customer-groups",element:X.jsx(JL,{user:e,element:X.jsx(HD,{}),requiredPermission:iC})}),X.jsx(gh,{path:"reports",element:X.jsx(JL,{user:e,element:X.jsx(VL,{}),requiredPermission:hC})}),X.jsx(gh,{path:"users",element:X.jsx(JL,{user:e,element:X.jsx(qL,{}),requiredPermission:oC})}),X.jsx(gh,{path:"cash-register",element:X.jsx(JL,{user:e,element:X.jsx(WL,{}),requiredPermission:mC})}),X.jsx(gh,{path:"peripherals",element:X.jsx(JL,{user:e,element:X.jsx(HL,{}),requiredPermission:oC})}),X.jsx(gh,{path:"interest-rates",element:X.jsx(JL,{user:e,element:X.jsx(GL,{}),requiredPermission:oC})}),X.jsx(gh,{path:"/fiscal-documents",element:X.jsx(JL,{permission:gC,children:X.jsx(KL,{})})}),X.jsx(gh,{path:"*",element:X.jsx(mh,{to:e?"/":"/login"})})]})]}),X.jsx(dg,{})]})})}Z.createRoot(document.getElementById("root")).render(X.jsx(B.StrictMode,{children:X.jsx(YL,{})}));
