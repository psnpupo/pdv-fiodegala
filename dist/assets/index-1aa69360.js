function Rb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ob(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var py={exports:{}},ic={},my={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=Symbol.for("react.element"),Ib=Symbol.for("react.portal"),Lb=Symbol.for("react.fragment"),Mb=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),$b=Symbol.for("react.provider"),Fb=Symbol.for("react.context"),Vb=Symbol.for("react.forward_ref"),Ub=Symbol.for("react.suspense"),Bb=Symbol.for("react.memo"),zb=Symbol.for("react.lazy"),Bp=Symbol.iterator;function Wb(e){return e===null||typeof e!="object"?null:(e=Bp&&e[Bp]||e["@@iterator"],typeof e=="function"?e:null)}var gy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vy=Object.assign,yy={};function Co(e,t,n){this.props=e,this.context=t,this.refs=yy,this.updater=n||gy}Co.prototype.isReactComponent={};Co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xy(){}xy.prototype=Co.prototype;function Ff(e,t,n){this.props=e,this.context=t,this.refs=yy,this.updater=n||gy}var Vf=Ff.prototype=new xy;Vf.constructor=Ff;vy(Vf,Co.prototype);Vf.isPureReactComponent=!0;var zp=Array.isArray,wy=Object.prototype.hasOwnProperty,Uf={current:null},jy={key:!0,ref:!0,__self:!0,__source:!0};function Sy(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)wy.call(t,r)&&!jy.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Xi,type:e,key:o,ref:i,props:s,_owner:Uf.current}}function Hb(e,t){return{$$typeof:Xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xi}function qb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wp=/\/+/g;function Yc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qb(""+e.key):t.toString(36)}function Ja(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Xi:case Ib:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Yc(i,0):r,zp(s)?(n="",e!=null&&(n=e.replace(Wp,"$&/")+"/"),Ja(s,t,n,"",function(u){return u})):s!=null&&(Bf(s)&&(s=Hb(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Wp,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",zp(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Yc(o,l);i+=Ja(o,t,n,c,s)}else if(c=Wb(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Yc(o,l++),i+=Ja(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pa(e,t,n){if(e==null)return e;var r=[],s=0;return Ja(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Gb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Xa={transition:null},Kb={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Xa,ReactCurrentOwner:Uf};function by(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:pa,forEach:function(e,t,n){pa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pa(e,function(){t++}),t},toArray:function(e){return pa(e,function(t){return t})||[]},only:function(e){if(!Bf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Co;fe.Fragment=Lb;fe.Profiler=Db;fe.PureComponent=Ff;fe.StrictMode=Mb;fe.Suspense=Ub;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kb;fe.act=by;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vy({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Uf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wy.call(t,c)&&!jy.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Xi,type:e.type,key:s,ref:o,props:r,_owner:i}};fe.createContext=function(e){return e={$$typeof:Fb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$b,_context:e},e.Consumer=e};fe.createElement=Sy;fe.createFactory=function(e){var t=Sy.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:Vb,render:e}};fe.isValidElement=Bf;fe.lazy=function(e){return{$$typeof:zb,_payload:{_status:-1,_result:e},_init:Gb}};fe.memo=function(e,t){return{$$typeof:Bb,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Xa.transition;Xa.transition={};try{e()}finally{Xa.transition=t}};fe.unstable_act=by;fe.useCallback=function(e,t){return vt.current.useCallback(e,t)};fe.useContext=function(e){return vt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return vt.current.useEffect(e,t)};fe.useId=function(){return vt.current.useId()};fe.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return vt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};fe.useRef=function(e){return vt.current.useRef(e)};fe.useState=function(e){return vt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return vt.current.useTransition()};fe.version="18.3.1";my.exports=fe;var m=my.exports;const ae=hy(m),zf=Rb({__proto__:null,default:ae},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb=m,Jb=Symbol.for("react.element"),Xb=Symbol.for("react.fragment"),Qb=Object.prototype.hasOwnProperty,Zb=Yb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e_={key:!0,ref:!0,__self:!0,__source:!0};function _y(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Qb.call(t,r)&&!e_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Jb,type:e,key:o,ref:i,props:s,_owner:Zb.current}}ic.Fragment=Xb;ic.jsx=_y;ic.jsxs=_y;py.exports=ic;var a=py.exports,ed={},Cy={exports:{}},$t={},Ey={exports:{}},ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,T){var D=P.length;P.push(T);e:for(;0<D;){var A=D-1>>>1,U=P[A];if(0<s(U,T))P[A]=T,P[D]=U,D=A;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var T=P[0],D=P.pop();if(D!==T){P[0]=D;e:for(var A=0,U=P.length,X=U>>>1;A<X;){var se=2*(A+1)-1,ve=P[se],ye=se+1,Y=P[ye];if(0>s(ve,D))ye<U&&0>s(Y,ve)?(P[A]=Y,P[ye]=D,A=ye):(P[A]=ve,P[se]=D,A=se);else if(ye<U&&0>s(Y,D))P[A]=Y,P[ye]=D,A=ye;else break e}}return T}function s(P,T){var D=P.sortIndex-T.sortIndex;return D!==0?D:P.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=P)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function S(P){if(x=!1,v(P),!w)if(n(c)!==null)w=!0,M(b);else{var T=n(u);T!==null&&N(S,T.startTime-P)}}function b(P,T){w=!1,x&&(x=!1,y(_),_=-1),p=!0;var D=h;try{for(v(T),f=n(c);f!==null&&(!(f.expirationTime>T)||P&&!R());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var U=A(f.expirationTime<=T);T=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(c)&&r(c),v(T)}else r(c);f=n(c)}if(f!==null)var X=!0;else{var se=n(u);se!==null&&N(S,se.startTime-T),X=!1}return X}finally{f=null,h=D,p=!1}}var k=!1,C=null,_=-1,E=5,O=-1;function R(){return!(e.unstable_now()-O<E)}function I(){if(C!==null){var P=e.unstable_now();O=P;var T=!0;try{T=C(!0,P)}finally{T?V():(k=!1,C=null)}}else k=!1}var V;if(typeof g=="function")V=function(){g(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=I,V=function(){$.postMessage(null)}}else V=function(){j(I,0)};function M(P){C=P,k||(k=!0,V())}function N(P,T){_=j(function(){P(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,M(b))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var D=h;h=T;try{return P()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,T){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=h;h=P;try{return T()}finally{h=D}},e.unstable_scheduleCallback=function(P,T,D){var A=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?A+D:A):D=A,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=D+U,P={id:d++,callback:T,priorityLevel:P,startTime:D,expirationTime:U,sortIndex:-1},D>A?(P.sortIndex=D,t(u,P),n(c)===null&&P===n(u)&&(x?(y(_),_=-1):x=!0,N(S,D-A))):(P.sortIndex=U,t(c,P),w||p||(w=!0,M(b))),P},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(P){var T=h;return function(){var D=h;h=T;try{return P.apply(this,arguments)}finally{h=D}}}})(ky);Ey.exports=ky;var t_=Ey.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_=m,Lt=t_;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ny=new Set,ji={};function ws(e,t){uo(e,t),uo(e+"Capture",t)}function uo(e,t){for(ji[e]=t,e=0;e<t.length;e++)Ny.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=Object.prototype.hasOwnProperty,r_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hp={},qp={};function s_(e){return td.call(qp,e)?!0:td.call(Hp,e)?!1:r_.test(e)?qp[e]=!0:(Hp[e]=!0,!1)}function o_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i_(e,t,n,r){if(t===null||typeof t>"u"||o_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wf=/[\-:]([a-z])/g;function Hf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wf,Hf);it[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wf,Hf);it[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wf,Hf);it[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qf(e,t,n,r){var s=it.hasOwnProperty(t)?it[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i_(t,n,s,r)&&(n=null),r||s===null?s_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tr=n_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ma=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),Gf=Symbol.for("react.strict_mode"),nd=Symbol.for("react.profiler"),Py=Symbol.for("react.provider"),Ty=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),rd=Symbol.for("react.suspense"),sd=Symbol.for("react.suspense_list"),Yf=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),Ay=Symbol.for("react.offscreen"),Gp=Symbol.iterator;function $o(e){return e===null||typeof e!="object"?null:(e=Gp&&e[Gp]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,Jc;function Xo(e){if(Jc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jc=t&&t[1]||""}return`
`+Jc+e}var Xc=!1;function Qc(e,t){if(!e||Xc)return"";Xc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Xc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xo(e):""}function a_(e){switch(e.tag){case 5:return Xo(e.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return e=Qc(e.type,!1),e;case 11:return e=Qc(e.type.render,!1),e;case 1:return e=Qc(e.type,!0),e;default:return""}}function od(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vs:return"Fragment";case Fs:return"Portal";case nd:return"Profiler";case Gf:return"StrictMode";case rd:return"Suspense";case sd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ty:return(e.displayName||"Context")+".Consumer";case Py:return(e._context.displayName||"Context")+".Provider";case Kf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yf:return t=e.displayName||null,t!==null?t:od(e.type)||"Memo";case ar:t=e._payload,e=e._init;try{return od(e(t))}catch{}}return null}function l_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return od(t);case 8:return t===Gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ry(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c_(e){var t=Ry(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ga(e){e._valueTracker||(e._valueTracker=c_(e))}function Oy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ry(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function id(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Iy(e,t){t=t.checked,t!=null&&qf(e,"checked",t,!1)}function ad(e,t){Iy(e,t);var n=Tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ld(e,t.type,n):t.hasOwnProperty("defaultValue")&&ld(e,t.type,Tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ld(e,t,n){(t!=="number"||ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qo=Array.isArray;function to(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function cd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Qo(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tr(n)}}function Ly(e,t){var n=Tr(t.value),r=Tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function My(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ud(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?My(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var va,Dy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(va=va||document.createElement("div"),va.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=va.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Si(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u_=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(e){u_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),si[t]=si[e]})});function $y(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||si.hasOwnProperty(e)&&si[e]?(""+t).trim():t+"px"}function Fy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$y(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var d_=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dd(e,t){if(t){if(d_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function fd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hd=null;function Jf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pd=null,no=null,ro=null;function Qp(e){if(e=ea(e)){if(typeof pd!="function")throw Error(F(280));var t=e.stateNode;t&&(t=dc(t),pd(e.stateNode,e.type,t))}}function Vy(e){no?ro?ro.push(e):ro=[e]:no=e}function Uy(){if(no){var e=no,t=ro;if(ro=no=null,Qp(e),t)for(e=0;e<t.length;e++)Qp(t[e])}}function By(e,t){return e(t)}function zy(){}var Zc=!1;function Wy(e,t,n){if(Zc)return e(t,n);Zc=!0;try{return By(e,t,n)}finally{Zc=!1,(no!==null||ro!==null)&&(zy(),Uy())}}function bi(e,t){var n=e.stateNode;if(n===null)return null;var r=dc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var md=!1;if(qn)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){md=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{md=!1}function f_(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var oi=!1,gl=null,vl=!1,gd=null,h_={onError:function(e){oi=!0,gl=e}};function p_(e,t,n,r,s,o,i,l,c){oi=!1,gl=null,f_.apply(h_,arguments)}function m_(e,t,n,r,s,o,i,l,c){if(p_.apply(this,arguments),oi){if(oi){var u=gl;oi=!1,gl=null}else throw Error(F(198));vl||(vl=!0,gd=u)}}function js(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zp(e){if(js(e)!==e)throw Error(F(188))}function g_(e){var t=e.alternate;if(!t){if(t=js(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Zp(s),e;if(o===r)return Zp(s),t;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function qy(e){return e=g_(e),e!==null?Gy(e):null}function Gy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gy(e);if(t!==null)return t;e=e.sibling}return null}var Ky=Lt.unstable_scheduleCallback,em=Lt.unstable_cancelCallback,v_=Lt.unstable_shouldYield,y_=Lt.unstable_requestPaint,He=Lt.unstable_now,x_=Lt.unstable_getCurrentPriorityLevel,Xf=Lt.unstable_ImmediatePriority,Yy=Lt.unstable_UserBlockingPriority,yl=Lt.unstable_NormalPriority,w_=Lt.unstable_LowPriority,Jy=Lt.unstable_IdlePriority,ac=null,Sn=null;function j_(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(ac,e,void 0,(e.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:__,S_=Math.log,b_=Math.LN2;function __(e){return e>>>=0,e===0?32:31-(S_(e)/b_|0)|0}var ya=64,xa=4194304;function Zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Zo(l):(o&=i,o!==0&&(r=Zo(o)))}else i=n&~s,i!==0?r=Zo(i):o!==0&&(r=Zo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cn(t),s=1<<n,r|=e[n],t&=~s;return r}function C_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-cn(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=C_(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function vd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xy(){var e=ya;return ya<<=1,!(ya&4194240)&&(ya=64),e}function eu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=n}function k_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-cn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Qf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ke=0;function Qy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zy,Zf,ex,tx,nx,yd=!1,wa=[],yr=null,xr=null,wr=null,_i=new Map,Ci=new Map,ur=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tm(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":_i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function Vo(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ea(t),t!==null&&Zf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function P_(e,t,n,r,s){switch(t){case"focusin":return yr=Vo(yr,e,t,n,r,s),!0;case"dragenter":return xr=Vo(xr,e,t,n,r,s),!0;case"mouseover":return wr=Vo(wr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return _i.set(o,Vo(_i.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ci.set(o,Vo(Ci.get(o)||null,e,t,n,r,s)),!0}return!1}function rx(e){var t=ts(e.target);if(t!==null){var n=js(t);if(n!==null){if(t=n.tag,t===13){if(t=Hy(n),t!==null){e.blockedOn=t,nx(e.priority,function(){ex(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hd=r,n.target.dispatchEvent(r),hd=null}else return t=ea(n),t!==null&&Zf(t),e.blockedOn=n,!1;t.shift()}return!0}function nm(e,t,n){Qa(e)&&n.delete(t)}function T_(){yd=!1,yr!==null&&Qa(yr)&&(yr=null),xr!==null&&Qa(xr)&&(xr=null),wr!==null&&Qa(wr)&&(wr=null),_i.forEach(nm),Ci.forEach(nm)}function Uo(e,t){e.blockedOn===t&&(e.blockedOn=null,yd||(yd=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,T_)))}function Ei(e){function t(s){return Uo(s,e)}if(0<wa.length){Uo(wa[0],e);for(var n=1;n<wa.length;n++){var r=wa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yr!==null&&Uo(yr,e),xr!==null&&Uo(xr,e),wr!==null&&Uo(wr,e),_i.forEach(t),Ci.forEach(t),n=0;n<ur.length;n++)r=ur[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)rx(n),n.blockedOn===null&&ur.shift()}var so=tr.ReactCurrentBatchConfig,wl=!0;function A_(e,t,n,r){var s=ke,o=so.transition;so.transition=null;try{ke=1,eh(e,t,n,r)}finally{ke=s,so.transition=o}}function R_(e,t,n,r){var s=ke,o=so.transition;so.transition=null;try{ke=4,eh(e,t,n,r)}finally{ke=s,so.transition=o}}function eh(e,t,n,r){if(wl){var s=xd(e,t,n,r);if(s===null)uu(e,t,r,jl,n),tm(e,r);else if(P_(s,e,t,n,r))r.stopPropagation();else if(tm(e,r),t&4&&-1<N_.indexOf(e)){for(;s!==null;){var o=ea(s);if(o!==null&&Zy(o),o=xd(e,t,n,r),o===null&&uu(e,t,r,jl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else uu(e,t,r,null,n)}}var jl=null;function xd(e,t,n,r){if(jl=null,e=Jf(r),e=ts(e),e!==null)if(t=js(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jl=e,null}function sx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case Xf:return 1;case Yy:return 4;case yl:case w_:return 16;case Jy:return 536870912;default:return 16}default:return 16}}var hr=null,th=null,Za=null;function ox(){if(Za)return Za;var e,t=th,n=t.length,r,s="value"in hr?hr.value:hr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Za=s.slice(e,1<r?1-r:void 0)}function el(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ja(){return!0}function rm(){return!1}function Ft(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ja:rm,this.isPropagationStopped=rm,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),t}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=Ft(Eo),Zi=Be({},Eo,{view:0,detail:0}),O_=Ft(Zi),tu,nu,Bo,lc=Be({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bo&&(Bo&&e.type==="mousemove"?(tu=e.screenX-Bo.screenX,nu=e.screenY-Bo.screenY):nu=tu=0,Bo=e),tu)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),sm=Ft(lc),I_=Be({},lc,{dataTransfer:0}),L_=Ft(I_),M_=Be({},Zi,{relatedTarget:0}),ru=Ft(M_),D_=Be({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),$_=Ft(D_),F_=Be({},Eo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V_=Ft(F_),U_=Be({},Eo,{data:0}),om=Ft(U_),B_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W_[e])?!!t[e]:!1}function rh(){return H_}var q_=Be({},Zi,{key:function(e){if(e.key){var t=B_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=el(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(e){return e.type==="keypress"?el(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?el(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G_=Ft(q_),K_=Be({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=Ft(K_),Y_=Be({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),J_=Ft(Y_),X_=Be({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q_=Ft(X_),Z_=Be({},lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eC=Ft(Z_),tC=[9,13,27,32],sh=qn&&"CompositionEvent"in window,ii=null;qn&&"documentMode"in document&&(ii=document.documentMode);var nC=qn&&"TextEvent"in window&&!ii,ix=qn&&(!sh||ii&&8<ii&&11>=ii),am=String.fromCharCode(32),lm=!1;function ax(e,t){switch(e){case"keyup":return tC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function rC(e,t){switch(e){case"compositionend":return lx(t);case"keypress":return t.which!==32?null:(lm=!0,am);case"textInput":return e=t.data,e===am&&lm?null:e;default:return null}}function sC(e,t){if(Us)return e==="compositionend"||!sh&&ax(e,t)?(e=ox(),Za=th=hr=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ix&&t.locale!=="ko"?null:t.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oC[e.type]:t==="textarea"}function cx(e,t,n,r){Vy(r),t=Sl(t,"onChange"),0<t.length&&(n=new nh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ai=null,ki=null;function iC(e){wx(e,0)}function cc(e){var t=Ws(e);if(Oy(t))return e}function aC(e,t){if(e==="change")return t}var ux=!1;if(qn){var su;if(qn){var ou="oninput"in document;if(!ou){var um=document.createElement("div");um.setAttribute("oninput","return;"),ou=typeof um.oninput=="function"}su=ou}else su=!1;ux=su&&(!document.documentMode||9<document.documentMode)}function dm(){ai&&(ai.detachEvent("onpropertychange",dx),ki=ai=null)}function dx(e){if(e.propertyName==="value"&&cc(ki)){var t=[];cx(t,ki,e,Jf(e)),Wy(iC,t)}}function lC(e,t,n){e==="focusin"?(dm(),ai=t,ki=n,ai.attachEvent("onpropertychange",dx)):e==="focusout"&&dm()}function cC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(ki)}function uC(e,t){if(e==="click")return cc(t)}function dC(e,t){if(e==="input"||e==="change")return cc(t)}function fC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:fC;function Ni(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!td.call(t,s)||!dn(e[s],t[s]))return!1}return!0}function fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hm(e,t){var n=fm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fm(n)}}function fx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hx(){for(var e=window,t=ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ml(e.document)}return t}function oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hC(e){var t=hx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fx(n.ownerDocument.documentElement,n)){if(r!==null&&oh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=hm(n,o);var i=hm(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pC=qn&&"documentMode"in document&&11>=document.documentMode,Bs=null,wd=null,li=null,jd=!1;function pm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jd||Bs==null||Bs!==ml(r)||(r=Bs,"selectionStart"in r&&oh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),li&&Ni(li,r)||(li=r,r=Sl(wd,"onSelect"),0<r.length&&(t=new nh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bs)))}function Sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zs={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},iu={},px={};qn&&(px=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function uc(e){if(iu[e])return iu[e];if(!zs[e])return e;var t=zs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in px)return iu[e]=t[n];return e}var mx=uc("animationend"),gx=uc("animationiteration"),vx=uc("animationstart"),yx=uc("transitionend"),xx=new Map,mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){xx.set(e,t),ws(t,[e])}for(var au=0;au<mm.length;au++){var lu=mm[au],mC=lu.toLowerCase(),gC=lu[0].toUpperCase()+lu.slice(1);Dr(mC,"on"+gC)}Dr(mx,"onAnimationEnd");Dr(gx,"onAnimationIteration");Dr(vx,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(yx,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ei));function gm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,m_(r,t,void 0,e),e.currentTarget=null}function wx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;gm(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;gm(s,l,u),o=c}}}if(vl)throw e=gd,vl=!1,gd=null,e}function Le(e,t){var n=t[Ed];n===void 0&&(n=t[Ed]=new Set);var r=e+"__bubble";n.has(r)||(jx(t,e,2,!1),n.add(r))}function cu(e,t,n){var r=0;t&&(r|=4),jx(n,e,r,t)}var ba="_reactListening"+Math.random().toString(36).slice(2);function Pi(e){if(!e[ba]){e[ba]=!0,Ny.forEach(function(n){n!=="selectionchange"&&(vC.has(n)||cu(n,!1,e),cu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ba]||(t[ba]=!0,cu("selectionchange",!1,t))}}function jx(e,t,n,r){switch(sx(t)){case 1:var s=A_;break;case 4:s=R_;break;default:s=eh}n=s.bind(null,t,n,e),s=void 0,!md||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function uu(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ts(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Wy(function(){var u=o,d=Jf(n),f=[];e:{var h=xx.get(e);if(h!==void 0){var p=nh,w=e;switch(e){case"keypress":if(el(n)===0)break e;case"keydown":case"keyup":p=G_;break;case"focusin":w="focus",p=ru;break;case"focusout":w="blur",p=ru;break;case"beforeblur":case"afterblur":p=ru;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=L_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=J_;break;case mx:case gx:case vx:p=$_;break;case yx:p=Q_;break;case"scroll":p=O_;break;case"wheel":p=eC;break;case"copy":case"cut":case"paste":p=V_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=im}var x=(t&4)!==0,j=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=bi(g,y),S!=null&&x.push(Ti(g,S,v)))),j)break;g=g.return}0<x.length&&(h=new p(h,w,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==hd&&(w=n.relatedTarget||n.fromElement)&&(ts(w)||w[Gn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?ts(w):null,w!==null&&(j=js(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(x=sm,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=im,S="onPointerLeave",y="onPointerEnter",g="pointer"),j=p==null?h:Ws(p),v=w==null?h:Ws(w),h=new x(S,g+"leave",p,n,d),h.target=j,h.relatedTarget=v,S=null,ts(d)===u&&(x=new x(y,g+"enter",w,n,d),x.target=v,x.relatedTarget=j,S=x),j=S,p&&w)t:{for(x=p,y=w,g=0,v=x;v;v=Ps(v))g++;for(v=0,S=y;S;S=Ps(S))v++;for(;0<g-v;)x=Ps(x),g--;for(;0<v-g;)y=Ps(y),v--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=Ps(x),y=Ps(y)}x=null}else x=null;p!==null&&vm(f,h,p,x,!1),w!==null&&j!==null&&vm(f,j,w,x,!0)}}e:{if(h=u?Ws(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=aC;else if(cm(h))if(ux)b=dC;else{b=cC;var k=lC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=uC);if(b&&(b=b(e,u))){cx(f,b,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&ld(h,"number",h.value)}switch(k=u?Ws(u):window,e){case"focusin":(cm(k)||k.contentEditable==="true")&&(Bs=k,wd=u,li=null);break;case"focusout":li=wd=Bs=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,pm(f,n,d);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":pm(f,n,d)}var C;if(sh)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Us?ax(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ix&&n.locale!=="ko"&&(Us||_!=="onCompositionStart"?_==="onCompositionEnd"&&Us&&(C=ox()):(hr=d,th="value"in hr?hr.value:hr.textContent,Us=!0)),k=Sl(u,_),0<k.length&&(_=new om(_,e,null,n,d),f.push({event:_,listeners:k}),C?_.data=C:(C=lx(n),C!==null&&(_.data=C)))),(C=nC?rC(e,n):sC(e,n))&&(u=Sl(u,"onBeforeInput"),0<u.length&&(d=new om("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}wx(f,t)})}function Ti(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=bi(e,n),o!=null&&r.unshift(Ti(e,o,s)),o=bi(e,t),o!=null&&r.push(Ti(e,o,s))),e=e.return}return r}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vm(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=bi(n,o),c!=null&&i.unshift(Ti(n,c,l))):s||(c=bi(n,o),c!=null&&i.push(Ti(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var yC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function ym(e){return(typeof e=="string"?e:""+e).replace(yC,`
`).replace(xC,"")}function _a(e,t,n){if(t=ym(t),ym(e)!==t&&n)throw Error(F(425))}function bl(){}var Sd=null,bd=null;function _d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cd=typeof setTimeout=="function"?setTimeout:void 0,wC=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,jC=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(e){return xm.resolve(null).then(e).catch(SC)}:Cd;function SC(e){setTimeout(function(){throw e})}function du(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ei(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ei(t)}function jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ko=Math.random().toString(36).slice(2),xn="__reactFiber$"+ko,Ai="__reactProps$"+ko,Gn="__reactContainer$"+ko,Ed="__reactEvents$"+ko,bC="__reactListeners$"+ko,_C="__reactHandles$"+ko;function ts(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gn]||n[xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wm(e);e!==null;){if(n=e[xn])return n;e=wm(e)}return t}e=n,n=e.parentNode}return null}function ea(e){return e=e[xn]||e[Gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function dc(e){return e[Ai]||null}var kd=[],Hs=-1;function $r(e){return{current:e}}function Me(e){0>Hs||(e.current=kd[Hs],kd[Hs]=null,Hs--)}function Te(e,t){Hs++,kd[Hs]=e.current,e.current=t}var Ar={},ft=$r(Ar),Ct=$r(!1),us=Ar;function fo(e,t){var n=e.type.contextTypes;if(!n)return Ar;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Et(e){return e=e.childContextTypes,e!=null}function _l(){Me(Ct),Me(ft)}function jm(e,t,n){if(ft.current!==Ar)throw Error(F(168));Te(ft,t),Te(Ct,n)}function Sx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,l_(e)||"Unknown",s));return Be({},n,r)}function Cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,us=ft.current,Te(ft,e),Te(Ct,Ct.current),!0}function Sm(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Sx(e,t,us),r.__reactInternalMemoizedMergedChildContext=e,Me(Ct),Me(ft),Te(ft,e)):Me(Ct),Te(Ct,n)}var $n=null,fc=!1,fu=!1;function bx(e){$n===null?$n=[e]:$n.push(e)}function CC(e){fc=!0,bx(e)}function Fr(){if(!fu&&$n!==null){fu=!0;var e=0,t=ke;try{var n=$n;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$n=null,fc=!1}catch(s){throw $n!==null&&($n=$n.slice(e+1)),Ky(Xf,Fr),s}finally{ke=t,fu=!1}}return null}var qs=[],Gs=0,El=null,kl=0,Wt=[],Ht=0,ds=null,Fn=1,Vn="";function Kr(e,t){qs[Gs++]=kl,qs[Gs++]=El,El=e,kl=t}function _x(e,t,n){Wt[Ht++]=Fn,Wt[Ht++]=Vn,Wt[Ht++]=ds,ds=e;var r=Fn;e=Vn;var s=32-cn(r)-1;r&=~(1<<s),n+=1;var o=32-cn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Fn=1<<32-cn(t)+s|n<<s|r,Vn=o+e}else Fn=1<<o|n<<s|r,Vn=e}function ih(e){e.return!==null&&(Kr(e,1),_x(e,1,0))}function ah(e){for(;e===El;)El=qs[--Gs],qs[Gs]=null,kl=qs[--Gs],qs[Gs]=null;for(;e===ds;)ds=Wt[--Ht],Wt[Ht]=null,Vn=Wt[--Ht],Wt[Ht]=null,Fn=Wt[--Ht],Wt[Ht]=null}var Ot=null,Rt=null,De=!1,ln=null;function Cx(e,t){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Rt=jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ds!==null?{id:Fn,overflow:Vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Rt=null,!0):!1;default:return!1}}function Nd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pd(e){if(De){var t=Rt;if(t){var n=t;if(!bm(e,t)){if(Nd(e))throw Error(F(418));t=jr(n.nextSibling);var r=Ot;t&&bm(e,t)?Cx(r,n):(e.flags=e.flags&-4097|2,De=!1,Ot=e)}}else{if(Nd(e))throw Error(F(418));e.flags=e.flags&-4097|2,De=!1,Ot=e}}}function _m(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function Ca(e){if(e!==Ot)return!1;if(!De)return _m(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_d(e.type,e.memoizedProps)),t&&(t=Rt)){if(Nd(e))throw Ex(),Error(F(418));for(;t;)Cx(e,t),t=jr(t.nextSibling)}if(_m(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rt=jr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Ot?jr(e.stateNode.nextSibling):null;return!0}function Ex(){for(var e=Rt;e;)e=jr(e.nextSibling)}function ho(){Rt=Ot=null,De=!1}function lh(e){ln===null?ln=[e]:ln.push(e)}var EC=tr.ReactCurrentBatchConfig;function zo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Ea(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cm(e){var t=e._init;return t(e._payload)}function kx(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Cr(y,g),y.index=0,y.sibling=null,y}function o(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,v,S){return g===null||g.tag!==6?(g=xu(v,y.mode,S),g.return=y,g):(g=s(g,v),g.return=y,g)}function c(y,g,v,S){var b=v.type;return b===Vs?d(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ar&&Cm(b)===g.type)?(S=s(g,v.props),S.ref=zo(y,g,v),S.return=y,S):(S=al(v.type,v.key,v.props,null,y.mode,S),S.ref=zo(y,g,v),S.return=y,S)}function u(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=wu(v,y.mode,S),g.return=y,g):(g=s(g,v.children||[]),g.return=y,g)}function d(y,g,v,S,b){return g===null||g.tag!==7?(g=as(v,y.mode,S,b),g.return=y,g):(g=s(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=xu(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ma:return v=al(g.type,g.key,g.props,null,y.mode,v),v.ref=zo(y,null,g),v.return=y,v;case Fs:return g=wu(g,y.mode,v),g.return=y,g;case ar:var S=g._init;return f(y,S(g._payload),v)}if(Qo(g)||$o(g))return g=as(g,y.mode,v,null),g.return=y,g;Ea(y,g)}return null}function h(y,g,v,S){var b=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:l(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ma:return v.key===b?c(y,g,v,S):null;case Fs:return v.key===b?u(y,g,v,S):null;case ar:return b=v._init,h(y,g,b(v._payload),S)}if(Qo(v)||$o(v))return b!==null?null:d(y,g,v,S,null);Ea(y,v)}return null}function p(y,g,v,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,l(g,y,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ma:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,b);case Fs:return y=y.get(S.key===null?v:S.key)||null,u(g,y,S,b);case ar:var k=S._init;return p(y,g,v,k(S._payload),b)}if(Qo(S)||$o(S))return y=y.get(v)||null,d(g,y,S,b,null);Ea(g,S)}return null}function w(y,g,v,S){for(var b=null,k=null,C=g,_=g=0,E=null;C!==null&&_<v.length;_++){C.index>_?(E=C,C=null):E=C.sibling;var O=h(y,C,v[_],S);if(O===null){C===null&&(C=E);break}e&&C&&O.alternate===null&&t(y,C),g=o(O,g,_),k===null?b=O:k.sibling=O,k=O,C=E}if(_===v.length)return n(y,C),De&&Kr(y,_),b;if(C===null){for(;_<v.length;_++)C=f(y,v[_],S),C!==null&&(g=o(C,g,_),k===null?b=C:k.sibling=C,k=C);return De&&Kr(y,_),b}for(C=r(y,C);_<v.length;_++)E=p(C,y,_,v[_],S),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?_:E.key),g=o(E,g,_),k===null?b=E:k.sibling=E,k=E);return e&&C.forEach(function(R){return t(y,R)}),De&&Kr(y,_),b}function x(y,g,v,S){var b=$o(v);if(typeof b!="function")throw Error(F(150));if(v=b.call(v),v==null)throw Error(F(151));for(var k=b=null,C=g,_=g=0,E=null,O=v.next();C!==null&&!O.done;_++,O=v.next()){C.index>_?(E=C,C=null):E=C.sibling;var R=h(y,C,O.value,S);if(R===null){C===null&&(C=E);break}e&&C&&R.alternate===null&&t(y,C),g=o(R,g,_),k===null?b=R:k.sibling=R,k=R,C=E}if(O.done)return n(y,C),De&&Kr(y,_),b;if(C===null){for(;!O.done;_++,O=v.next())O=f(y,O.value,S),O!==null&&(g=o(O,g,_),k===null?b=O:k.sibling=O,k=O);return De&&Kr(y,_),b}for(C=r(y,C);!O.done;_++,O=v.next())O=p(C,y,_,O.value,S),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?_:O.key),g=o(O,g,_),k===null?b=O:k.sibling=O,k=O);return e&&C.forEach(function(I){return t(y,I)}),De&&Kr(y,_),b}function j(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===Vs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ma:e:{for(var b=v.key,k=g;k!==null;){if(k.key===b){if(b=v.type,b===Vs){if(k.tag===7){n(y,k.sibling),g=s(k,v.props.children),g.return=y,y=g;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ar&&Cm(b)===k.type){n(y,k.sibling),g=s(k,v.props),g.ref=zo(y,k,v),g.return=y,y=g;break e}n(y,k);break}else t(y,k);k=k.sibling}v.type===Vs?(g=as(v.props.children,y.mode,S,v.key),g.return=y,y=g):(S=al(v.type,v.key,v.props,null,y.mode,S),S.ref=zo(y,g,v),S.return=y,y=S)}return i(y);case Fs:e:{for(k=v.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=s(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=wu(v,y.mode,S),g.return=y,y=g}return i(y);case ar:return k=v._init,j(y,g,k(v._payload),S)}if(Qo(v))return w(y,g,v,S);if($o(v))return x(y,g,v,S);Ea(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,v),g.return=y,y=g):(n(y,g),g=xu(v,y.mode,S),g.return=y,y=g),i(y)):n(y,g)}return j}var po=kx(!0),Nx=kx(!1),Nl=$r(null),Pl=null,Ks=null,ch=null;function uh(){ch=Ks=Pl=null}function dh(e){var t=Nl.current;Me(Nl),e._currentValue=t}function Td(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oo(e,t){Pl=e,ch=Ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(ch!==e)if(e={context:e,memoizedValue:t,next:null},Ks===null){if(Pl===null)throw Error(F(308));Ks=e,Pl.dependencies={lanes:0,firstContext:e}}else Ks=Ks.next=e;return t}var ns=null;function fh(e){ns===null?ns=[e]:ns.push(e)}function Px(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,fh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kn(e,r)}function Kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var lr=!1;function hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Kn(e,n)}return s=r.interleaved,s===null?(t.next=t,fh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Kn(e,n)}function tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qf(e,n)}}function Em(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tl(e,t,n,r){var s=e.updateQueue;lr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(h=t,p=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=Be({},f,h);break e;case 2:lr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);hs|=i,e.lanes=i,e.memoizedState=f}}function km(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var ta={},bn=$r(ta),Ri=$r(ta),Oi=$r(ta);function rs(e){if(e===ta)throw Error(F(174));return e}function ph(e,t){switch(Te(Oi,t),Te(Ri,e),Te(bn,ta),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ud(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ud(t,e)}Me(bn),Te(bn,t)}function mo(){Me(bn),Me(Ri),Me(Oi)}function Ax(e){rs(Oi.current);var t=rs(bn.current),n=ud(t,e.type);t!==n&&(Te(Ri,e),Te(bn,n))}function mh(e){Ri.current===e&&(Me(bn),Me(Ri))}var Fe=$r(0);function Al(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hu=[];function gh(){for(var e=0;e<hu.length;e++)hu[e]._workInProgressVersionPrimary=null;hu.length=0}var nl=tr.ReactCurrentDispatcher,pu=tr.ReactCurrentBatchConfig,fs=0,Ue=null,Je=null,et=null,Rl=!1,ci=!1,Ii=0,kC=0;function lt(){throw Error(F(321))}function vh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function yh(e,t,n,r,s,o){if(fs=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=e===null||e.memoizedState===null?AC:RC,e=n(r,s),ci){o=0;do{if(ci=!1,Ii=0,25<=o)throw Error(F(301));o+=1,et=Je=null,t.updateQueue=null,nl.current=OC,e=n(r,s)}while(ci)}if(nl.current=Ol,t=Je!==null&&Je.next!==null,fs=0,et=Je=Ue=null,Rl=!1,t)throw Error(F(300));return e}function xh(){var e=Ii!==0;return Ii=0,e}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ue.memoizedState=et=e:et=et.next=e,et}function Jt(){if(Je===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=et===null?Ue.memoizedState:et.next;if(t!==null)et=t,Je=e;else{if(e===null)throw Error(F(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},et===null?Ue.memoizedState=et=e:et=et.next=e}return et}function Li(e,t){return typeof t=="function"?t(e):t}function mu(e){var t=Jt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Je,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((fs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Ue.lanes|=d,hs|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,dn(r,t.memoizedState)||(_t=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ue.lanes|=o,hs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gu(e){var t=Jt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);dn(o,t.memoizedState)||(_t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Rx(){}function Ox(e,t){var n=Ue,r=Jt(),s=t(),o=!dn(r.memoizedState,s);if(o&&(r.memoizedState=s,_t=!0),r=r.queue,wh(Mx.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Mi(9,Lx.bind(null,n,r,s,t),void 0,null),tt===null)throw Error(F(349));fs&30||Ix(n,t,s)}return s}function Ix(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lx(e,t,n,r){t.value=n,t.getSnapshot=r,Dx(t)&&$x(e)}function Mx(e,t,n){return n(function(){Dx(t)&&$x(e)})}function Dx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function $x(e){var t=Kn(e,1);t!==null&&un(t,e,1,-1)}function Nm(e){var t=yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},t.queue=e,e=e.dispatch=TC.bind(null,Ue,e),[t.memoizedState,e]}function Mi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fx(){return Jt().memoizedState}function rl(e,t,n,r){var s=yn();Ue.flags|=e,s.memoizedState=Mi(1|t,n,void 0,r===void 0?null:r)}function hc(e,t,n,r){var s=Jt();r=r===void 0?null:r;var o=void 0;if(Je!==null){var i=Je.memoizedState;if(o=i.destroy,r!==null&&vh(r,i.deps)){s.memoizedState=Mi(t,n,o,r);return}}Ue.flags|=e,s.memoizedState=Mi(1|t,n,o,r)}function Pm(e,t){return rl(8390656,8,e,t)}function wh(e,t){return hc(2048,8,e,t)}function Vx(e,t){return hc(4,2,e,t)}function Ux(e,t){return hc(4,4,e,t)}function Bx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zx(e,t,n){return n=n!=null?n.concat([e]):null,hc(4,4,Bx.bind(null,t,e),n)}function jh(){}function Wx(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hx(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qx(e,t,n){return fs&21?(dn(n,t)||(n=Xy(),Ue.lanes|=n,hs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=n)}function NC(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=pu.transition;pu.transition={};try{e(!1),t()}finally{ke=n,pu.transition=r}}function Gx(){return Jt().memoizedState}function PC(e,t,n){var r=_r(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kx(e))Yx(t,n);else if(n=Px(e,t,n,r),n!==null){var s=gt();un(n,e,r,s),Jx(n,t,r)}}function TC(e,t,n){var r=_r(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kx(e))Yx(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,dn(l,i)){var c=t.interleaved;c===null?(s.next=s,fh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Px(e,t,s,r),n!==null&&(s=gt(),un(n,e,r,s),Jx(n,t,r))}}function Kx(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Yx(e,t){ci=Rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qf(e,n)}}var Ol={readContext:Yt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},AC={readContext:Yt,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:Pm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rl(4194308,4,Bx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return rl(4,2,e,t)},useMemo:function(e,t){var n=yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=PC.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:Nm,useDebugValue:jh,useDeferredValue:function(e){return yn().memoizedState=e},useTransition:function(){var e=Nm(!1),t=e[0];return e=NC.bind(null,e[1]),yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,s=yn();if(De){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),tt===null)throw Error(F(349));fs&30||Ix(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Pm(Mx.bind(null,r,o,e),[e]),r.flags|=2048,Mi(9,Lx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yn(),t=tt.identifierPrefix;if(De){var n=Vn,r=Fn;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ii++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RC={readContext:Yt,useCallback:Wx,useContext:Yt,useEffect:wh,useImperativeHandle:zx,useInsertionEffect:Vx,useLayoutEffect:Ux,useMemo:Hx,useReducer:mu,useRef:Fx,useState:function(){return mu(Li)},useDebugValue:jh,useDeferredValue:function(e){var t=Jt();return qx(t,Je.memoizedState,e)},useTransition:function(){var e=mu(Li)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Rx,useSyncExternalStore:Ox,useId:Gx,unstable_isNewReconciler:!1},OC={readContext:Yt,useCallback:Wx,useContext:Yt,useEffect:wh,useImperativeHandle:zx,useInsertionEffect:Vx,useLayoutEffect:Ux,useMemo:Hx,useReducer:gu,useRef:Fx,useState:function(){return gu(Li)},useDebugValue:jh,useDeferredValue:function(e){var t=Jt();return Je===null?t.memoizedState=e:qx(t,Je.memoizedState,e)},useTransition:function(){var e=gu(Li)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Rx,useSyncExternalStore:Ox,useId:Gx,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ad(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pc={isMounted:function(e){return(e=e._reactInternals)?js(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),s=_r(e),o=Bn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Sr(e,o,s),t!==null&&(un(t,e,s,r),tl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),s=_r(e),o=Bn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Sr(e,o,s),t!==null&&(un(t,e,s,r),tl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=_r(e),s=Bn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Sr(e,s,r),t!==null&&(un(t,e,r,n),tl(t,e,r))}};function Tm(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ni(n,r)||!Ni(s,o):!0}function Xx(e,t,n){var r=!1,s=Ar,o=t.contextType;return typeof o=="object"&&o!==null?o=Yt(o):(s=Et(t)?us:ft.current,r=t.contextTypes,o=(r=r!=null)?fo(e,s):Ar),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Am(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pc.enqueueReplaceState(t,t.state,null)}function Rd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},hh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Yt(o):(o=Et(t)?us:ft.current,s.context=fo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ad(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pc.enqueueReplaceState(s,s.state,null),Tl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function go(e,t){try{var n="",r=t;do n+=a_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function vu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Od(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var IC=typeof WeakMap=="function"?WeakMap:Map;function Qx(e,t,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,zd=r),Od(e,t)},n}function Zx(e,t,n){n=Bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Od(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Od(e,t),typeof r!="function"&&(br===null?br=new Set([this]):br.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Rm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new IC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=KC.bind(null,e,t,n),t.then(e,e))}function Om(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Im(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bn(-1,1),t.tag=2,Sr(n,t,1))),n.lanes|=1),e)}var LC=tr.ReactCurrentOwner,_t=!1;function mt(e,t,n,r){t.child=e===null?Nx(t,null,n,r):po(t,e.child,n,r)}function Lm(e,t,n,r,s){n=n.render;var o=t.ref;return oo(t,s),r=yh(e,t,n,r,o,s),n=xh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yn(e,t,s)):(De&&n&&ih(t),t.flags|=1,mt(e,t,r,s),t.child)}function Mm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ph(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,e0(e,t,o,r,s)):(e=al(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ni,n(i,r)&&e.ref===t.ref)return Yn(e,t,s)}return t.flags|=1,e=Cr(o,r),e.ref=t.ref,e.return=t,t.child=e}function e0(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ni(o,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,Yn(e,t,s)}return Id(e,t,n,r,s)}function t0(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Js,Tt),Tt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Js,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Te(Js,Tt),Tt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Te(Js,Tt),Tt|=r;return mt(e,t,s,n),t.child}function n0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Id(e,t,n,r,s){var o=Et(n)?us:ft.current;return o=fo(t,o),oo(t,s),n=yh(e,t,n,r,o,s),r=xh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yn(e,t,s)):(De&&r&&ih(t),t.flags|=1,mt(e,t,n,s),t.child)}function Dm(e,t,n,r,s){if(Et(n)){var o=!0;Cl(t)}else o=!1;if(oo(t,s),t.stateNode===null)sl(e,t),Xx(t,n,r),Rd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yt(u):(u=Et(n)?us:ft.current,u=fo(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Am(t,i,r,u),lr=!1;var h=t.memoizedState;i.state=h,Tl(t,r,i,s),c=t.memoizedState,l!==r||h!==c||Ct.current||lr?(typeof d=="function"&&(Ad(t,n,d,r),c=t.memoizedState),(l=lr||Tm(t,n,l,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Tx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:rn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yt(c):(c=Et(n)?us:ft.current,c=fo(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Am(t,i,r,c),lr=!1,h=t.memoizedState,i.state=h,Tl(t,r,i,s);var w=t.memoizedState;l!==f||h!==w||Ct.current||lr?(typeof p=="function"&&(Ad(t,n,p,r),w=t.memoizedState),(u=lr||Tm(t,n,u,r,h,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ld(e,t,n,r,o,s)}function Ld(e,t,n,r,s,o){n0(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Sm(t,n,!1),Yn(e,t,o);r=t.stateNode,LC.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=po(t,e.child,null,o),t.child=po(t,null,l,o)):mt(e,t,l,o),t.memoizedState=r.state,s&&Sm(t,n,!0),t.child}function r0(e){var t=e.stateNode;t.pendingContext?jm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jm(e,t.context,!1),ph(e,t.containerInfo)}function $m(e,t,n,r,s){return ho(),lh(s),t.flags|=256,mt(e,t,n,r),t.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function Dd(e){return{baseLanes:e,cachePool:null,transitions:null}}function s0(e,t,n){var r=t.pendingProps,s=Fe.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(Fe,s&1),e===null)return Pd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=vc(i,r,0,null),e=as(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Dd(n),t.memoizedState=Md,e):Sh(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return MC(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Cr(l,o):(o=as(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Dd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Md,r}return o=e.child,e=o.sibling,r=Cr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sh(e,t){return t=vc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ka(e,t,n,r){return r!==null&&lh(r),po(t,e.child,null,n),e=Sh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MC(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=vu(Error(F(422))),ka(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=vc({mode:"visible",children:r.children},s,0,null),o=as(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&po(t,e.child,null,i),t.child.memoizedState=Dd(i),t.memoizedState=Md,o);if(!(t.mode&1))return ka(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(F(419)),r=vu(o,r,void 0),ka(e,t,i,r)}if(l=(i&e.childLanes)!==0,_t||l){if(r=tt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Kn(e,s),un(r,e,s,-1))}return Nh(),r=vu(Error(F(421))),ka(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=YC.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Rt=jr(s.nextSibling),Ot=t,De=!0,ln=null,e!==null&&(Wt[Ht++]=Fn,Wt[Ht++]=Vn,Wt[Ht++]=ds,Fn=e.id,Vn=e.overflow,ds=t),t=Sh(t,r.children),t.flags|=4096,t)}function Fm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Td(e.return,t,n)}function yu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function o0(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(mt(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fm(e,n,t);else if(e.tag===19)Fm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Al(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),yu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Al(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}yu(t,!0,n,null,o);break;case"together":yu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Cr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DC(e,t,n){switch(t.tag){case 3:r0(t),ho();break;case 5:Ax(t);break;case 1:Et(t.type)&&Cl(t);break;case 4:ph(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Te(Nl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?s0(e,t,n):(Te(Fe,Fe.current&1),e=Yn(e,t,n),e!==null?e.sibling:null);Te(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return o0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,t0(e,t,n)}return Yn(e,t,n)}var i0,$d,a0,l0;i0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$d=function(){};a0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,rs(bn.current);var o=null;switch(n){case"input":s=id(e,s),r=id(e,r),o=[];break;case"select":s=Be({},s,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":s=cd(e,s),r=cd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bl)}dd(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ji.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ji.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};l0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wo(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $C(e,t,n){var r=t.pendingProps;switch(ah(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Et(t.type)&&_l(),ct(t),null;case 3:return r=t.stateNode,mo(),Me(Ct),Me(ft),gh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ln!==null&&(qd(ln),ln=null))),$d(e,t),ct(t),null;case 5:mh(t);var s=rs(Oi.current);if(n=t.type,e!==null&&t.stateNode!=null)a0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return ct(t),null}if(e=rs(bn.current),Ca(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[xn]=t,r[Ai]=o,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<ei.length;s++)Le(ei[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Kp(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":Jp(r,o),Le("invalid",r)}dd(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&_a(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&_a(r.textContent,l,e),s=["children",""+l]):ji.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Le("scroll",r)}switch(n){case"input":ga(r),Yp(r,o,!0);break;case"textarea":ga(r),Xp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=My(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[xn]=t,e[Ai]=r,i0(e,t,!1,!1),t.stateNode=e;e:{switch(i=fd(n,r),n){case"dialog":Le("cancel",e),Le("close",e),s=r;break;case"iframe":case"object":case"embed":Le("load",e),s=r;break;case"video":case"audio":for(s=0;s<ei.length;s++)Le(ei[s],e);s=r;break;case"source":Le("error",e),s=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=r;break;case"details":Le("toggle",e),s=r;break;case"input":Kp(e,r),s=id(e,r),Le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Be({},r,{value:void 0}),Le("invalid",e);break;case"textarea":Jp(e,r),s=cd(e,r),Le("invalid",e);break;default:s=r}dd(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Fy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Dy(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Si(e,c):typeof c=="number"&&Si(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ji.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Le("scroll",e):c!=null&&qf(e,o,c,i))}switch(n){case"input":ga(e),Yp(e,r,!1);break;case"textarea":ga(e),Xp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?to(e,!!r.multiple,o,!1):r.defaultValue!=null&&to(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)l0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=rs(Oi.current),rs(bn.current),Ca(t)){if(r=t.stateNode,n=t.memoizedProps,r[xn]=t,(o=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:_a(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_a(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=t,t.stateNode=r}return ct(t),null;case 13:if(Me(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Rt!==null&&t.mode&1&&!(t.flags&128))Ex(),ho(),t.flags|=98560,o=!1;else if(o=Ca(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[xn]=t}else ho(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),o=!1}else ln!==null&&(qd(ln),ln=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?Xe===0&&(Xe=3):Nh())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return mo(),$d(e,t),e===null&&Pi(t.stateNode.containerInfo),ct(t),null;case 10:return dh(t.type._context),ct(t),null;case 17:return Et(t.type)&&_l(),ct(t),null;case 19:if(Me(Fe),o=t.memoizedState,o===null)return ct(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Wo(o,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Al(e),i!==null){for(t.flags|=128,Wo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&He()>vo&&(t.flags|=128,r=!0,Wo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Al(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!De)return ct(t),null}else 2*He()-o.renderingStartTime>vo&&n!==1073741824&&(t.flags|=128,r=!0,Wo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=He(),t.sibling=null,n=Fe.current,Te(Fe,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return kh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function FC(e,t){switch(ah(t),t.tag){case 1:return Et(t.type)&&_l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mo(),Me(Ct),Me(ft),gh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mh(t),null;case 13:if(Me(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Fe),null;case 4:return mo(),null;case 10:return dh(t.type._context),null;case 22:case 23:return kh(),null;case 24:return null;default:return null}}var Na=!1,dt=!1,VC=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ys(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function Fd(e,t,n){try{n()}catch(r){ze(e,t,r)}}var Vm=!1;function UC(e,t){if(Sd=wl,e=hx(),oh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=i),h===o&&++d===r&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bd={focusedElem:e,selectionRange:n},wl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:rn(t.type,x),j);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(S){ze(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return w=Vm,Vm=!1,w}function ui(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Fd(t,n,o)}s=s.next}while(s!==r)}}function mc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function c0(e){var t=e.alternate;t!==null&&(e.alternate=null,c0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[Ai],delete t[Ed],delete t[bC],delete t[_C])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u0(e){return e.tag===5||e.tag===3||e.tag===4}function Um(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ud(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bl));else if(r!==4&&(e=e.child,e!==null))for(Ud(e,t,n),e=e.sibling;e!==null;)Ud(e,t,n),e=e.sibling}function Bd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bd(e,t,n),e=e.sibling;e!==null;)Bd(e,t,n),e=e.sibling}var st=null,on=!1;function nr(e,t,n){for(n=n.child;n!==null;)d0(e,t,n),n=n.sibling}function d0(e,t,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 5:dt||Ys(n,t);case 6:var r=st,s=on;st=null,nr(e,t,n),st=r,on=s,st!==null&&(on?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(on?(e=st,n=n.stateNode,e.nodeType===8?du(e.parentNode,n):e.nodeType===1&&du(e,n),Ei(e)):du(st,n.stateNode));break;case 4:r=st,s=on,st=n.stateNode.containerInfo,on=!0,nr(e,t,n),st=r,on=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Fd(n,t,i),s=s.next}while(s!==r)}nr(e,t,n);break;case 1:if(!dt&&(Ys(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,t,l)}nr(e,t,n);break;case 21:nr(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,nr(e,t,n),dt=r):nr(e,t,n);break;default:nr(e,t,n)}}function Bm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VC),t.forEach(function(r){var s=JC.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:st=l.stateNode,on=!1;break e;case 3:st=l.stateNode.containerInfo,on=!0;break e;case 4:st=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(st===null)throw Error(F(160));d0(o,i,s),st=null,on=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ze(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f0(t,e),t=t.sibling}function f0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),gn(e),r&4){try{ui(3,e,e.return),mc(3,e)}catch(x){ze(e,e.return,x)}try{ui(5,e,e.return)}catch(x){ze(e,e.return,x)}}break;case 1:Zt(t,e),gn(e),r&512&&n!==null&&Ys(n,n.return);break;case 5:if(Zt(t,e),gn(e),r&512&&n!==null&&Ys(n,n.return),e.flags&32){var s=e.stateNode;try{Si(s,"")}catch(x){ze(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Iy(s,o),fd(l,i);var u=fd(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Fy(s,f):d==="dangerouslySetInnerHTML"?Dy(s,f):d==="children"?Si(s,f):qf(s,d,f,u)}switch(l){case"input":ad(s,o);break;case"textarea":Ly(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?to(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?to(s,!!o.multiple,o.defaultValue,!0):to(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ai]=o}catch(x){ze(e,e.return,x)}}break;case 6:if(Zt(t,e),gn(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){ze(e,e.return,x)}}break;case 3:if(Zt(t,e),gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ei(t.containerInfo)}catch(x){ze(e,e.return,x)}break;case 4:Zt(t,e),gn(e);break;case 13:Zt(t,e),gn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ch=He())),r&4&&Bm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||d,Zt(t,e),dt=u):Zt(t,e),gn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(q=e,d=e.child;d!==null;){for(f=q=d;q!==null;){switch(h=q,p=h.child,h.tag){case 0:case 11:case 14:case 15:ui(4,h,h.return);break;case 1:Ys(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){ze(r,n,x)}}break;case 5:Ys(h,h.return);break;case 22:if(h.memoizedState!==null){Wm(f);continue}}p!==null?(p.return=h,q=p):Wm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$y("display",i))}catch(x){ze(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ze(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zt(t,e),gn(e),r&4&&Bm(e);break;case 21:break;default:Zt(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(u0(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Si(s,""),r.flags&=-33);var o=Um(e);Bd(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Um(e);Ud(e,l,i);break;default:throw Error(F(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BC(e,t,n){q=e,h0(e)}function h0(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Na;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||dt;l=Na;var u=dt;if(Na=i,(dt=c)&&!u)for(q=s;q!==null;)i=q,c=i.child,i.tag===22&&i.memoizedState!==null?Hm(s):c!==null?(c.return=i,q=c):Hm(s);for(;o!==null;)q=o,h0(o),o=o.sibling;q=s,Na=l,dt=u}zm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,q=o):zm(e)}}function zm(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||mc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:rn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&km(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}km(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ei(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}dt||t.flags&512&&Vd(t)}catch(h){ze(t,t.return,h)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Wm(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Hm(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mc(4,t)}catch(c){ze(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ze(t,s,c)}}var o=t.return;try{Vd(t)}catch(c){ze(t,o,c)}break;case 5:var i=t.return;try{Vd(t)}catch(c){ze(t,i,c)}}}catch(c){ze(t,t.return,c)}if(t===e){q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,q=l;break}q=t.return}}var zC=Math.ceil,Il=tr.ReactCurrentDispatcher,bh=tr.ReactCurrentOwner,Gt=tr.ReactCurrentBatchConfig,je=0,tt=null,Ye=null,ot=0,Tt=0,Js=$r(0),Xe=0,Di=null,hs=0,gc=0,_h=0,di=null,St=null,Ch=0,vo=1/0,Ln=null,Ll=!1,zd=null,br=null,Pa=!1,pr=null,Ml=0,fi=0,Wd=null,ol=-1,il=0;function gt(){return je&6?He():ol!==-1?ol:ol=He()}function _r(e){return e.mode&1?je&2&&ot!==0?ot&-ot:EC.transition!==null?(il===0&&(il=Xy()),il):(e=ke,e!==0||(e=window.event,e=e===void 0?16:sx(e.type)),e):1}function un(e,t,n,r){if(50<fi)throw fi=0,Wd=null,Error(F(185));Qi(e,n,r),(!(je&2)||e!==tt)&&(e===tt&&(!(je&2)&&(gc|=n),Xe===4&&dr(e,ot)),kt(e,r),n===1&&je===0&&!(t.mode&1)&&(vo=He()+500,fc&&Fr()))}function kt(e,t){var n=e.callbackNode;E_(e,t);var r=xl(e,e===tt?ot:0);if(r===0)n!==null&&em(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&em(n),t===1)e.tag===0?CC(qm.bind(null,e)):bx(qm.bind(null,e)),jC(function(){!(je&6)&&Fr()}),n=null;else{switch(Qy(r)){case 1:n=Xf;break;case 4:n=Yy;break;case 16:n=yl;break;case 536870912:n=Jy;break;default:n=yl}n=j0(n,p0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function p0(e,t){if(ol=-1,il=0,je&6)throw Error(F(327));var n=e.callbackNode;if(io()&&e.callbackNode!==n)return null;var r=xl(e,e===tt?ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dl(e,r);else{t=r;var s=je;je|=2;var o=g0();(tt!==e||ot!==t)&&(Ln=null,vo=He()+500,is(e,t));do try{qC();break}catch(l){m0(e,l)}while(1);uh(),Il.current=o,je=s,Ye!==null?t=0:(tt=null,ot=0,t=Xe)}if(t!==0){if(t===2&&(s=vd(e),s!==0&&(r=s,t=Hd(e,s))),t===1)throw n=Di,is(e,0),dr(e,r),kt(e,He()),n;if(t===6)dr(e,r);else{if(s=e.current.alternate,!(r&30)&&!WC(s)&&(t=Dl(e,r),t===2&&(o=vd(e),o!==0&&(r=o,t=Hd(e,o))),t===1))throw n=Di,is(e,0),dr(e,r),kt(e,He()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Yr(e,St,Ln);break;case 3:if(dr(e,r),(r&130023424)===r&&(t=Ch+500-He(),10<t)){if(xl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Cd(Yr.bind(null,e,St,Ln),t);break}Yr(e,St,Ln);break;case 4:if(dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-cn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zC(r/1960))-r,10<r){e.timeoutHandle=Cd(Yr.bind(null,e,St,Ln),r);break}Yr(e,St,Ln);break;case 5:Yr(e,St,Ln);break;default:throw Error(F(329))}}}return kt(e,He()),e.callbackNode===n?p0.bind(null,e):null}function Hd(e,t){var n=di;return e.current.memoizedState.isDehydrated&&(is(e,t).flags|=256),e=Dl(e,t),e!==2&&(t=St,St=n,t!==null&&qd(t)),e}function qd(e){St===null?St=e:St.push.apply(St,e)}function WC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!dn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~_h,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cn(t),r=1<<n;e[n]=-1,t&=~r}}function qm(e){if(je&6)throw Error(F(327));io();var t=xl(e,0);if(!(t&1))return kt(e,He()),null;var n=Dl(e,t);if(e.tag!==0&&n===2){var r=vd(e);r!==0&&(t=r,n=Hd(e,r))}if(n===1)throw n=Di,is(e,0),dr(e,t),kt(e,He()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yr(e,St,Ln),kt(e,He()),null}function Eh(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(vo=He()+500,fc&&Fr())}}function ps(e){pr!==null&&pr.tag===0&&!(je&6)&&io();var t=je;je|=1;var n=Gt.transition,r=ke;try{if(Gt.transition=null,ke=1,e)return e()}finally{ke=r,Gt.transition=n,je=t,!(je&6)&&Fr()}}function kh(){Tt=Js.current,Me(Js)}function is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wC(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(ah(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:mo(),Me(Ct),Me(ft),gh();break;case 5:mh(r);break;case 4:mo();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:dh(r.type._context);break;case 22:case 23:kh()}n=n.return}if(tt=e,Ye=e=Cr(e.current,null),ot=Tt=t,Xe=0,Di=null,_h=gc=hs=0,St=di=null,ns!==null){for(t=0;t<ns.length;t++)if(n=ns[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}ns=null}return e}function m0(e,t){do{var n=Ye;try{if(uh(),nl.current=Ol,Rl){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rl=!1}if(fs=0,et=Je=Ue=null,ci=!1,Ii=0,bh.current=null,n===null||n.return===null){Xe=1,Di=t,Ye=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=ot,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Om(i);if(p!==null){p.flags&=-257,Im(p,i,l,o,t),p.mode&1&&Rm(o,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){Rm(o,u,t),Nh();break e}c=Error(F(426))}}else if(De&&l.mode&1){var j=Om(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Im(j,i,l,o,t),lh(go(c,l));break e}}o=c=go(c,l),Xe!==4&&(Xe=2),di===null?di=[o]:di.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Qx(o,c,t);Em(o,y);break e;case 1:l=c;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(br===null||!br.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=Zx(o,l,t);Em(o,S);break e}}o=o.return}while(o!==null)}y0(n)}catch(b){t=b,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function g0(){var e=Il.current;return Il.current=Ol,e===null?Ol:e}function Nh(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),tt===null||!(hs&268435455)&&!(gc&268435455)||dr(tt,ot)}function Dl(e,t){var n=je;je|=2;var r=g0();(tt!==e||ot!==t)&&(Ln=null,is(e,t));do try{HC();break}catch(s){m0(e,s)}while(1);if(uh(),je=n,Il.current=r,Ye!==null)throw Error(F(261));return tt=null,ot=0,Xe}function HC(){for(;Ye!==null;)v0(Ye)}function qC(){for(;Ye!==null&&!v_();)v0(Ye)}function v0(e){var t=w0(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?y0(e):Ye=t,bh.current=null}function y0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=FC(n,t),n!==null){n.flags&=32767,Ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ye=null;return}}else if(n=$C(n,t,Tt),n!==null){Ye=n;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Xe===0&&(Xe=5)}function Yr(e,t,n){var r=ke,s=Gt.transition;try{Gt.transition=null,ke=1,GC(e,t,n,r)}finally{Gt.transition=s,ke=r}return null}function GC(e,t,n,r){do io();while(pr!==null);if(je&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(k_(e,o),e===tt&&(Ye=tt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pa||(Pa=!0,j0(yl,function(){return io(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gt.transition,Gt.transition=null;var i=ke;ke=1;var l=je;je|=4,bh.current=null,UC(e,n),f0(n,e),hC(bd),wl=!!Sd,bd=Sd=null,e.current=n,BC(n),y_(),je=l,ke=i,Gt.transition=o}else e.current=n;if(Pa&&(Pa=!1,pr=e,Ml=s),o=e.pendingLanes,o===0&&(br=null),j_(n.stateNode),kt(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ll)throw Ll=!1,e=zd,zd=null,e;return Ml&1&&e.tag!==0&&io(),o=e.pendingLanes,o&1?e===Wd?fi++:(fi=0,Wd=e):fi=0,Fr(),null}function io(){if(pr!==null){var e=Qy(Ml),t=Gt.transition,n=ke;try{if(Gt.transition=null,ke=16>e?16:e,pr===null)var r=!1;else{if(e=pr,pr=null,Ml=0,je&6)throw Error(F(331));var s=je;for(je|=4,q=e.current;q!==null;){var o=q,i=o.child;if(q.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:ui(8,d,o)}var f=d.child;if(f!==null)f.return=d,q=f;else for(;q!==null;){d=q;var h=d.sibling,p=d.return;if(c0(d),d===u){q=null;break}if(h!==null){h.return=p,q=h;break}q=p}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}q=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,q=i;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ui(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,q=y;break e}q=o.return}}var g=e.current;for(q=g;q!==null;){i=q;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,q=v;else e:for(i=g;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mc(9,l)}}catch(b){ze(l,l.return,b)}if(l===i){q=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,q=S;break e}q=l.return}}if(je=s,Fr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(ac,e)}catch{}r=!0}return r}finally{ke=n,Gt.transition=t}}return!1}function Gm(e,t,n){t=go(n,t),t=Qx(e,t,1),e=Sr(e,t,1),t=gt(),e!==null&&(Qi(e,1,t),kt(e,t))}function ze(e,t,n){if(e.tag===3)Gm(e,e,n);else for(;t!==null;){if(t.tag===3){Gm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(br===null||!br.has(r))){e=go(n,e),e=Zx(t,e,1),t=Sr(t,e,1),e=gt(),t!==null&&(Qi(t,1,e),kt(t,e));break}}t=t.return}}function KC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(ot&n)===n&&(Xe===4||Xe===3&&(ot&130023424)===ot&&500>He()-Ch?is(e,0):_h|=n),kt(e,t)}function x0(e,t){t===0&&(e.mode&1?(t=xa,xa<<=1,!(xa&130023424)&&(xa=4194304)):t=1);var n=gt();e=Kn(e,t),e!==null&&(Qi(e,t,n),kt(e,n))}function YC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x0(e,n)}function JC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),x0(e,n)}var w0;w0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)_t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _t=!1,DC(e,t,n);_t=!!(e.flags&131072)}else _t=!1,De&&t.flags&1048576&&_x(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sl(e,t),e=t.pendingProps;var s=fo(t,ft.current);oo(t,n),s=yh(null,t,r,e,s,n);var o=xh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(r)?(o=!0,Cl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hh(t),s.updater=pc,t.stateNode=s,s._reactInternals=t,Rd(t,r,e,n),t=Ld(null,t,r,!0,o,n)):(t.tag=0,De&&o&&ih(t),mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=QC(r),e=rn(r,e),s){case 0:t=Id(null,t,r,e,n);break e;case 1:t=Dm(null,t,r,e,n);break e;case 11:t=Lm(null,t,r,e,n);break e;case 14:t=Mm(null,t,r,rn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rn(r,s),Id(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rn(r,s),Dm(e,t,r,s,n);case 3:e:{if(r0(t),e===null)throw Error(F(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Tx(e,t),Tl(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=go(Error(F(423)),t),t=$m(e,t,r,n,s);break e}else if(r!==s){s=go(Error(F(424)),t),t=$m(e,t,r,n,s);break e}else for(Rt=jr(t.stateNode.containerInfo.firstChild),Ot=t,De=!0,ln=null,n=Nx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),r===s){t=Yn(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return Ax(t),e===null&&Pd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,_d(r,s)?i=null:o!==null&&_d(r,o)&&(t.flags|=32),n0(e,t),mt(e,t,i,n),t.child;case 6:return e===null&&Pd(t),null;case 13:return s0(e,t,n);case 4:return ph(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=po(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rn(r,s),Lm(e,t,r,s,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Te(Nl,r._currentValue),r._currentValue=i,o!==null)if(dn(o.value,i)){if(o.children===s.children&&!Ct.current){t=Yn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Bn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Td(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(F(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Td(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,oo(t,n),s=Yt(s),r=r(s),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,s=rn(r,t.pendingProps),s=rn(r.type,s),Mm(e,t,r,s,n);case 15:return e0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rn(r,s),sl(e,t),t.tag=1,Et(r)?(e=!0,Cl(t)):e=!1,oo(t,n),Xx(t,r,s),Rd(t,r,s,n),Ld(null,t,r,!0,e,n);case 19:return o0(e,t,n);case 22:return t0(e,t,n)}throw Error(F(156,t.tag))};function j0(e,t){return Ky(e,t)}function XC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,n,r){return new XC(e,t,n,r)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QC(e){if(typeof e=="function")return Ph(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kf)return 11;if(e===Yf)return 14}return 2}function Cr(e,t){var n=e.alternate;return n===null?(n=qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function al(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Ph(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Vs:return as(n.children,s,o,t);case Gf:i=8,s|=8;break;case nd:return e=qt(12,n,t,s|2),e.elementType=nd,e.lanes=o,e;case rd:return e=qt(13,n,t,s),e.elementType=rd,e.lanes=o,e;case sd:return e=qt(19,n,t,s),e.elementType=sd,e.lanes=o,e;case Ay:return vc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Py:i=10;break e;case Ty:i=9;break e;case Kf:i=11;break e;case Yf:i=14;break e;case ar:i=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=qt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function as(e,t,n,r){return e=qt(7,e,r,t),e.lanes=n,e}function vc(e,t,n,r){return e=qt(22,e,r,t),e.elementType=Ay,e.lanes=n,e.stateNode={isHidden:!1},e}function xu(e,t,n){return e=qt(6,e,null,t),e.lanes=n,e}function wu(e,t,n){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZC(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eu(0),this.expirationTimes=eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Th(e,t,n,r,s,o,i,l,c){return e=new ZC(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=qt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(o),e}function eE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function S0(e){if(!e)return Ar;e=e._reactInternals;e:{if(js(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Et(n))return Sx(e,n,t)}return t}function b0(e,t,n,r,s,o,i,l,c){return e=Th(n,r,!0,e,s,o,i,l,c),e.context=S0(null),n=e.current,r=gt(),s=_r(n),o=Bn(r,s),o.callback=t??null,Sr(n,o,s),e.current.lanes=s,Qi(e,s,r),kt(e,r),e}function yc(e,t,n,r){var s=t.current,o=gt(),i=_r(s);return n=S0(n),t.context===null?t.context=n:t.pendingContext=n,t=Bn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sr(s,t,i),e!==null&&(un(e,s,i,o),tl(e,s,i)),i}function $l(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ah(e,t){Km(e,t),(e=e.alternate)&&Km(e,t)}function tE(){return null}var _0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rh(e){this._internalRoot=e}xc.prototype.render=Rh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));yc(e,t,null,null)};xc.prototype.unmount=Rh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ps(function(){yc(null,e,null,null)}),t[Gn]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=tx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ur.length&&t!==0&&t<ur[n].priority;n++);ur.splice(n,0,e),n===0&&rx(e)}};function Oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ym(){}function nE(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=$l(i);o.call(u)}}var i=b0(t,r,e,0,null,!1,!1,"",Ym);return e._reactRootContainer=i,e[Gn]=i.current,Pi(e.nodeType===8?e.parentNode:e),ps(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=$l(c);l.call(u)}}var c=Th(e,0,!1,null,null,!1,!1,"",Ym);return e._reactRootContainer=c,e[Gn]=c.current,Pi(e.nodeType===8?e.parentNode:e),ps(function(){yc(t,c,n,r)}),c}function jc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=$l(i);l.call(c)}}yc(t,i,e,s)}else i=nE(n,t,e,s,r);return $l(i)}Zy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zo(t.pendingLanes);n!==0&&(Qf(t,n|1),kt(t,He()),!(je&6)&&(vo=He()+500,Fr()))}break;case 13:ps(function(){var r=Kn(e,1);if(r!==null){var s=gt();un(r,e,1,s)}}),Ah(e,1)}};Zf=function(e){if(e.tag===13){var t=Kn(e,134217728);if(t!==null){var n=gt();un(t,e,134217728,n)}Ah(e,134217728)}};ex=function(e){if(e.tag===13){var t=_r(e),n=Kn(e,t);if(n!==null){var r=gt();un(n,e,t,r)}Ah(e,t)}};tx=function(){return ke};nx=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};pd=function(e,t,n){switch(t){case"input":if(ad(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=dc(r);if(!s)throw Error(F(90));Oy(r),ad(r,s)}}}break;case"textarea":Ly(e,n);break;case"select":t=n.value,t!=null&&to(e,!!n.multiple,t,!1)}};By=Eh;zy=ps;var rE={usingClientEntryPoint:!1,Events:[ea,Ws,dc,Vy,Uy,Eh]},Ho={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sE={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||tE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{ac=Ta.inject(sE),Sn=Ta}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rE;$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oh(t))throw Error(F(200));return eE(e,t,null,n)};$t.createRoot=function(e,t){if(!Oh(e))throw Error(F(299));var n=!1,r="",s=_0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Th(e,1,!1,null,null,n,!1,r,s),e[Gn]=t.current,Pi(e.nodeType===8?e.parentNode:e),new Rh(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=qy(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return ps(e)};$t.hydrate=function(e,t,n){if(!wc(t))throw Error(F(200));return jc(null,e,t,!0,n)};$t.hydrateRoot=function(e,t,n){if(!Oh(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=_0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=b0(t,null,e,1,n??null,s,!1,o,i),e[Gn]=t.current,Pi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new xc(t)};$t.render=function(e,t,n){if(!wc(t))throw Error(F(200));return jc(null,e,t,!1,n)};$t.unmountComponentAtNode=function(e){if(!wc(e))throw Error(F(40));return e._reactRootContainer?(ps(function(){jc(null,null,e,!1,function(){e._reactRootContainer=null,e[Gn]=null})}),!0):!1};$t.unstable_batchedUpdates=Eh;$t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wc(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return jc(e,t,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function C0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C0)}catch(e){console.error(e)}}C0(),Cy.exports=$t;var Ss=Cy.exports;const oE=hy(Ss);var Jm=Ss;ed.createRoot=Jm.createRoot,ed.hydrateRoot=Jm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(this,arguments)}var mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mr||(mr={}));const Xm="popstate";function iE(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return Gd("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Fl(s)}return lE(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function E0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aE(){return Math.random().toString(36).substr(2,8)}function Qm(e,t){return{usr:e.state,key:e.key,idx:t}}function Gd(e,t,n,r){return n===void 0&&(n=null),$i({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?No(t):t,{state:n,key:t&&t.key||r||aE()})}function Fl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function No(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lE(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=mr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState($i({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=mr.Pop;let j=d(),y=j==null?null:j-u;u=j,c&&c({action:l,location:x.location,delta:y})}function h(j,y){l=mr.Push;let g=Gd(x.location,j,y);n&&n(g,j),u=d()+1;let v=Qm(g,u),S=x.createHref(g);try{i.pushState(v,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(S)}o&&c&&c({action:l,location:x.location,delta:1})}function p(j,y){l=mr.Replace;let g=Gd(x.location,j,y);n&&n(g,j),u=d();let v=Qm(g,u),S=x.createHref(g);i.replaceState(v,"",S),o&&c&&c({action:l,location:x.location,delta:0})}function w(j){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof j=="string"?j:Fl(j);return g=g.replace(/ $/,"%20"),qe(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let x={get action(){return l},get location(){return e(s,i)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Xm,f),c=j,()=>{s.removeEventListener(Xm,f),c=null}},createHref(j){return t(s,j)},createURL:w,encodeLocation(j){let y=w(j);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(j){return i.go(j)}};return x}var Zm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zm||(Zm={}));function cE(e,t,n){return n===void 0&&(n="/"),uE(e,t,n,!1)}function uE(e,t,n,r){let s=typeof t=="string"?No(t):t,o=Ih(s.pathname||"/",n);if(o==null)return null;let i=k0(e);dE(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=SE(o);l=wE(i[c],u,r)}return l}function k0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Er([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),k0(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:yE(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of N0(o.path))s(o,i,c)}),t}function N0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=N0(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function dE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fE=/^:[\w-]+$/,hE=3,pE=2,mE=1,gE=10,vE=-2,eg=e=>e==="*";function yE(e,t){let n=e.split("/"),r=n.length;return n.some(eg)&&(r+=vE),t&&(r+=pE),n.filter(s=>!eg(s)).reduce((s,o)=>s+(fE.test(o)?hE:o===""?mE:gE),r)}function xE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function wE(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=tg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=tg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Er([o,f.pathname]),pathnameBase:EE(Er([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Er([o,f.pathnameBase]))}return i}function tg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jE(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let x=l[f]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[f];return p&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function jE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),E0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function SE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return E0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ih(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?No(e):e;return{pathname:n?n.startsWith("/")?n:_E(n,t):t,search:kE(r),hash:NE(s)}}function _E(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ju(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Lh(e,t){let n=CE(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=No(e):(s=$i({},e),qe(!s.pathname||!s.pathname.includes("?"),ju("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),ju("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),ju("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=bE(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Er=e=>e.join("/").replace(/\/\/+/g,"/"),EE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const P0=["post","put","patch","delete"];new Set(P0);const TE=["get",...P0];new Set(TE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fi.apply(this,arguments)}const Dh=m.createContext(null),AE=m.createContext(null),Vr=m.createContext(null),Sc=m.createContext(null),Rn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),T0=m.createContext(null);function RE(e,t){let{relative:n}=t===void 0?{}:t;Po()||qe(!1);let{basename:r,navigator:s}=m.useContext(Vr),{hash:o,pathname:i,search:l}=R0(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Er([r,i])),s.createHref({pathname:c,search:l,hash:o})}function Po(){return m.useContext(Sc)!=null}function To(){return Po()||qe(!1),m.useContext(Sc).location}function A0(e){m.useContext(Vr).static||m.useLayoutEffect(e)}function $h(){let{isDataRoute:e}=m.useContext(Rn);return e?KE():OE()}function OE(){Po()||qe(!1);let e=m.useContext(Dh),{basename:t,future:n,navigator:r}=m.useContext(Vr),{matches:s}=m.useContext(Rn),{pathname:o}=To(),i=JSON.stringify(Lh(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return A0(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Mh(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Er([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}const IE=m.createContext(null);function LE(e){let t=m.useContext(Rn).outlet;return t&&m.createElement(IE.Provider,{value:e},t)}function ME(){let{matches:e}=m.useContext(Rn),t=e[e.length-1];return t?t.params:{}}function R0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Vr),{matches:s}=m.useContext(Rn),{pathname:o}=To(),i=JSON.stringify(Lh(s,r.v7_relativeSplatPath));return m.useMemo(()=>Mh(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function DE(e,t){return $E(e,t)}function $E(e,t,n,r){Po()||qe(!1);let{navigator:s}=m.useContext(Vr),{matches:o}=m.useContext(Rn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=To(),d;if(t){var f;let j=typeof t=="string"?No(t):t;c==="/"||(f=j.pathname)!=null&&f.startsWith(c)||qe(!1),d=j}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let j=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=cE(e,{pathname:p}),x=zE(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Er([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Er([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,r);return t&&x?m.createElement(Sc.Provider,{value:{location:Fi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mr.Pop}},x):x}function FE(){let e=GE(),t=PE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,o)}const VE=m.createElement(FE,null);class UE extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Rn.Provider,{value:this.props.routeContext},m.createElement(T0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BE(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(Dh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Rn.Provider,{value:t},r)}function zE(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||qe(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,w=!1,x=null,j=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||VE,c&&(u<0&&h===0?(YE("route-fallback",!1),w=!0,j=null):u===h&&(w=!0,j=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),g=()=>{let v;return p?v=x:w?v=j:f.route.Component?v=m.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,m.createElement(BE,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(UE,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var O0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O0||{}),Vl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vl||{});function WE(e){let t=m.useContext(Dh);return t||qe(!1),t}function HE(e){let t=m.useContext(AE);return t||qe(!1),t}function qE(e){let t=m.useContext(Rn);return t||qe(!1),t}function I0(e){let t=qE(),n=t.matches[t.matches.length-1];return n.route.id||qe(!1),n.route.id}function GE(){var e;let t=m.useContext(T0),n=HE(Vl.UseRouteError),r=I0(Vl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function KE(){let{router:e}=WE(O0.UseNavigateStable),t=I0(Vl.UseNavigateStable),n=m.useRef(!1);return A0(()=>{n.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Fi({fromRouteId:t},o)))},[e,t])}const ng={};function YE(e,t,n){!t&&!ng[e]&&(ng[e]=!0)}function JE(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ul(e){let{to:t,replace:n,state:r,relative:s}=e;Po()||qe(!1);let{future:o,static:i}=m.useContext(Vr),{matches:l}=m.useContext(Rn),{pathname:c}=To(),u=$h(),d=Mh(t,Lh(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function XE(e){return LE(e.context)}function Pt(e){qe(!1)}function QE(e){let{basename:t="/",children:n=null,location:r,navigationType:s=mr.Pop,navigator:o,static:i=!1,future:l}=e;Po()&&qe(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Fi({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=No(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:w="default"}=r,x=m.useMemo(()=>{let j=Ih(d,c);return j==null?null:{location:{pathname:j,search:f,hash:h,state:p,key:w},navigationType:s}},[c,d,f,h,p,w,s]);return x==null?null:m.createElement(Vr.Provider,{value:u},m.createElement(Sc.Provider,{children:n,value:x}))}function ZE(e){let{children:t,location:n}=e;return DE(Kd(t),n)}new Promise(()=>{});function Kd(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let o=[...t,s];if(r.type===m.Fragment){n.push.apply(n,Kd(r.props.children,o));return}r.type!==Pt&&qe(!1),!r.props.index||!r.props.children||qe(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Kd(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yd.apply(this,arguments)}function ek(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function tk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nk(e,t){return e.button===0&&(!t||t==="_self")&&!tk(e)}const rk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sk="6";try{window.__reactRouterVersion=sk}catch{}const ok="startTransition",rg=zf[ok];function ik(e){let{basename:t,children:n,future:r,window:s}=e,o=m.useRef();o.current==null&&(o.current=iE({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&rg?rg(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>JE(r),[r]),m.createElement(QE,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const ak=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vi=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=ek(t,rk),{basename:p}=m.useContext(Vr),w,x=!1;if(typeof u=="string"&&lk.test(u)&&(w=u,ak))try{let v=new URL(window.location.href),S=u.startsWith("//")?new URL(v.protocol+u):new URL(u),b=Ih(S.pathname,p);S.origin===v.origin&&b!=null?u=b+S.search+S.hash:x=!0}catch{}let j=RE(u,{relative:s}),y=ck(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(v){r&&r(v),v.defaultPrevented||y(v)}return m.createElement("a",Yd({},h,{href:w||j,onClick:x||o?r:g,ref:n,target:c}))});var sg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sg||(sg={}));var og;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(og||(og={}));function ck(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=$h(),u=To(),d=R0(e,{relative:i});return m.useCallback(f=>{if(nk(f,n)){f.preventDefault();let h=r!==void 0?r:Fl(u)===Fl(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,s,n,e,o,i,l])}function L0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=L0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function M0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=L0(e))&&(r&&(r+=" "),r+=t);return r}function uk(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=D0(t))&&(r&&(r+=" "),r+=n);return r}function D0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=D0(e[r]))&&(n&&(n+=" "),n+=t);return n}var Fh="-";function dk(e){var t=hk(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(Fh);return c[0]===""&&c.length!==1&&c.shift(),$0(c,t)||fk(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function $0(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?$0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(Fh);return(i=t.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var ig=/^\[(.+)\]$/;function fk(e){if(ig.test(e)){var t=ig.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function hk(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=mk(Object.entries(e.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];Jd(l,r,i,t)}),r}function Jd(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var o=s===""?t:ag(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(pk(s)){Jd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];Jd(c,ag(t,l),n,r)})})}function ag(e,t){var n=e;return t.split(Fh).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function pk(e){return e.isThemeGetter}function mk(e,t){return t?e.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,o]}):e}function gk(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var F0="!";function vk(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var h=i[f];if(c===0){if(h===r&&(n||i.slice(f,f+s)===t)){l.push(i.slice(u,f)),u=f+s;continue}if(h==="/"){d=f;continue}}h==="["?c++:h==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith(F0),x=w?p.substring(1):p,j=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:j}}}function yk(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function xk(e){return{cache:gk(e.cacheSize),splitModifiers:vk(e),...dk(e)}}var wk=/\s+/;function jk(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(wk).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,h=r(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:i};if(h=r(d),!h)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=yk(c).join(":"),x=u?w+F0:w;return{isTailwindClass:!0,modifierId:x,classGroupId:h,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function Sk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,o,i=l;function l(u){var d=t[0],f=t.slice(1),h=f.reduce(function(p,w){return w(p)},d());return r=xk(h),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=jk(u,r);return o(u,f),f}return function(){return i(uk.apply(null,arguments))}}function Ie(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var V0=/^\[(?:([a-z-]+):)?(.+)\]$/i,bk=/^\d+\/\d+$/,_k=new Set(["px","full","screen"]),Ck=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ek=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kk=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function en(e){return ss(e)||_k.has(e)||bk.test(e)||Xd(e)}function Xd(e){return bs(e,"length",Ok)}function Nk(e){return bs(e,"size",U0)}function Pk(e){return bs(e,"position",U0)}function Tk(e){return bs(e,"url",Ik)}function Aa(e){return bs(e,"number",ss)}function ss(e){return!Number.isNaN(Number(e))}function Ak(e){return e.endsWith("%")&&ss(e.slice(0,-1))}function qo(e){return lg(e)||bs(e,"number",lg)}function me(e){return V0.test(e)}function Go(){return!0}function rr(e){return Ck.test(e)}function Rk(e){return bs(e,"",Lk)}function bs(e,t,n){var r=V0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Ok(e){return Ek.test(e)}function U0(){return!1}function Ik(e){return e.startsWith("url(")}function lg(e){return Number.isInteger(Number(e))}function Lk(e){return kk.test(e)}function Mk(){var e=Ie("colors"),t=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),o=Ie("borderRadius"),i=Ie("borderSpacing"),l=Ie("borderWidth"),c=Ie("contrast"),u=Ie("grayscale"),d=Ie("hueRotate"),f=Ie("invert"),h=Ie("gap"),p=Ie("gradientColorStops"),w=Ie("gradientColorStopPositions"),x=Ie("inset"),j=Ie("margin"),y=Ie("opacity"),g=Ie("padding"),v=Ie("saturate"),S=Ie("scale"),b=Ie("sepia"),k=Ie("skew"),C=Ie("space"),_=Ie("translate"),E=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},R=function(){return["auto",me,t]},I=function(){return[me,t]},V=function(){return["",en]},L=function(){return["auto",ss,me]},$=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},M=function(){return["solid","dashed","dotted","double","none"]},N=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},T=function(){return["","0",me]},D=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},A=function(){return[ss,Aa]},U=function(){return[ss,me]};return{cacheSize:500,theme:{colors:[Go],spacing:[en],blur:["none","",rr,me],brightness:A(),borderColor:[e],borderRadius:["none","","full",rr,me],borderSpacing:I(),borderWidth:V(),contrast:A(),grayscale:T(),hueRotate:U(),invert:T(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[Ak,Xd],inset:R(),margin:R(),opacity:A(),padding:I(),saturate:A(),scale:A(),sepia:T(),skew:U(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[rr]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat($(),[me])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qo]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",qo]}],"grid-cols":[{"grid-cols":[Go]}],"col-start-end":[{col:["auto",{span:["full",qo]},me]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Go]}],"row-start-end":[{row:["auto",{span:[qo]},me]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",me,t]}],"min-w":[{"min-w":["min","max","fit",me,en]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[rr]},rr,me]}],h:[{h:[me,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",me,en]}],"max-h":[{"max-h":[me,t,"min","max","fit"]}],"font-size":[{text:["base",rr,Xd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Aa]}],"font-family":[{font:[Go]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",ss,Aa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",me,en]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(M(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",en]}],"underline-offset":[{"underline-offset":["auto",me,en]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat($(),[Pk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Tk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(M(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(M())}],"outline-offset":[{"outline-offset":[me,en]}],"outline-w":[{outline:[en]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[en]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",rr,Rk]}],"shadow-color":[{shadow:[Go]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":N()}],"bg-blend":[{"bg-blend":N()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",rr,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[qo,me]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[en,Aa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Dk=Sk(Mk);function _e(...e){return Dk(M0(e))}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function cg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function B0(...e){return t=>{let n=!1;const r=e.map(s=>{const o=cg(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():cg(e[s],null)}}}}function $e(...e){return m.useCallback(B0(...e),e)}function $k(e,t){const n=m.createContext(t),r=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function _s(e,t=[]){let n=[];function r(o,i){const l=m.createContext(i),c=n.length;n=[...n,i];const u=f=>{var y;const{scope:h,children:p,...w}=f,x=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,j=m.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:j,children:p})};u.displayName=o+"Provider";function d(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=m.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Fk(s,...t)]}function Fk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function yo(e){const t=Uk(e),n=m.forwardRef((r,s)=>{const{children:o,...i}=r,l=m.Children.toArray(o),c=l.find(zk);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var Vk=yo("Slot");function Uk(e){const t=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const i=Hk(s),l=Wk(o,s.props);return s.type!==m.Fragment&&(l.ref=r?B0(r,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bk=Symbol("radix.slottable");function zk(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bk}function Wk(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Hk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Vh(e){const t=e+"CollectionProvider",[n,r]=_s(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:j,children:y}=x,g=ae.useRef(null),v=ae.useRef(new Map).current;return a.jsx(s,{scope:j,itemMap:v,collectionRef:g,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=yo(l),u=ae.forwardRef((x,j)=>{const{scope:y,children:g}=x,v=o(l,y),S=$e(j,v.collectionRef);return a.jsx(c,{ref:S,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=yo(d),p=ae.forwardRef((x,j)=>{const{scope:y,children:g,...v}=x,S=ae.useRef(null),b=$e(j,S),k=o(d,y);return ae.useEffect(()=>(k.itemMap.set(S,{ref:S,...v}),()=>void k.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:b,children:g})});p.displayName=d;function w(x){const j=o(e+"CollectionConsumer",x);return ae.useCallback(()=>{const g=j.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((k,C)=>v.indexOf(k.ref.current)-v.indexOf(C.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var qk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=qk.reduce((e,t)=>{const n=yo(`Primitive.${t}`),r=m.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function z0(e,t){e&&Ss.flushSync(()=>e.dispatchEvent(t))}function Xt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Gk(e,t=globalThis==null?void 0:globalThis.document){const n=Xt(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Kk="DismissableLayer",Qd="dismissableLayer.update",Yk="dismissableLayer.pointerDownOutside",Jk="dismissableLayer.focusOutside",ug,W0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bc=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(W0),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=$e(t,C=>f(C)),x=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(j),g=d?x.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=y,b=Qk(C=>{const _=C.target,E=[...u.branches].some(O=>O.contains(_));!S||E||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},h),k=Zk(C=>{const _=C.target;[...u.branches].some(O=>O.contains(_))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},h);return Gk(C=>{g===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ug=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),dg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ug)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),dg())},[d,u]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(Qd,C),()=>document.removeEventListener(Qd,C)},[]),a.jsx(le.div,{...c,ref:w,style:{pointerEvents:v?S?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,k.onFocusCapture),onBlurCapture:re(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,b.onPointerDownCapture)})});bc.displayName=Kk;var Xk="DismissableLayerBranch",H0=m.forwardRef((e,t)=>{const n=m.useContext(W0),r=m.useRef(null),s=$e(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(le.div,{...e,ref:s})});H0.displayName=Xk;function Qk(e,t=globalThis==null?void 0:globalThis.document){const n=Xt(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){q0(Yk,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Zk(e,t=globalThis==null?void 0:globalThis.document){const n=Xt(e),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&q0(Jk,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function dg(){const e=new CustomEvent(Qd);document.dispatchEvent(e)}function q0(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?z0(s,o):s.dispatchEvent(o)}var eN=bc,tN=H0,at=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},nN="Portal",_c=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=m.useState(!1);at(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?oE.createPortal(a.jsx(le.div,{...r,ref:t}),i):null});_c.displayName=nN;function rN(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Ao=e=>{const{present:t,children:n}=e,r=sN(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=$e(r.ref,oN(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};Ao.displayName="Presence";function sN(e){const[t,n]=m.useState(),r=m.useRef(null),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=rN(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Ra(r.current);o.current=l==="mounted"?u:"none"},[l]),at(()=>{const u=r.current,d=s.current;if(d!==e){const h=o.current,p=Ra(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),at(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const x=Ra(r.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},h=p=>{p.target===t&&(o.current=Ra(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ra(e){return(e==null?void 0:e.animationName)||"none"}function oN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var iN=zf[" useInsertionEffect ".trim().toString()]||at;function xo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=aN({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=m.useCallback(d=>{var f;if(l){const h=lN(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else o(d)},[l,e,o,i]);return[c,u]}function aN({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),s=m.useRef(n),o=m.useRef(t);return iN(()=>{o.current=t},[t]),m.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function lN(e){return typeof e=="function"}var G0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cN="VisuallyHidden",Uh=m.forwardRef((e,t)=>a.jsx(le.span,{...e,ref:t,style:{...G0,...e.style}}));Uh.displayName=cN;var Bh="ToastProvider",[zh,uN,dN]=Vh("Toast"),[K0,cF]=_s("Toast",[dN]),[fN,Cc]=K0(Bh),Y0=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Bh}\`. Expected non-empty \`string\`.`),a.jsx(zh.Provider,{scope:t,children:a.jsx(fN,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};Y0.displayName=Bh;var J0="ToastViewport",hN=["F8"],Zd="toast.viewportPause",ef="toast.viewportResume",X0=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=hN,label:s="Notifications ({hotkey})",...o}=e,i=Cc(J0,n),l=uN(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=$e(t,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;m.useEffect(()=>{const j=y=>{var v;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[r]),m.useEffect(()=>{const j=c.current,y=f.current;if(w&&j&&y){const g=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(Zd);y.dispatchEvent(k),i.isClosePausedRef.current=!0}},v=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(ef);y.dispatchEvent(k),i.isClosePausedRef.current=!1}},S=k=>{!j.contains(k.relatedTarget)&&v()},b=()=>{j.contains(document.activeElement)||v()};return j.addEventListener("focusin",g),j.addEventListener("focusout",S),j.addEventListener("pointermove",g),j.addEventListener("pointerleave",b),window.addEventListener("blur",g),window.addEventListener("focus",v),()=>{j.removeEventListener("focusin",g),j.removeEventListener("focusout",S),j.removeEventListener("pointermove",g),j.removeEventListener("pointerleave",b),window.removeEventListener("blur",g),window.removeEventListener("focus",v)}}},[w,i.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:j})=>{const g=l().map(v=>{const S=v.ref.current,b=[S,...EN(S)];return j==="forwards"?b:b.reverse()});return(j==="forwards"?g.reverse():g).flat()},[l]);return m.useEffect(()=>{const j=f.current;if(j){const y=g=>{var b,k,C;const v=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!v){const _=document.activeElement,E=g.shiftKey;if(g.target===j&&E){(b=u.current)==null||b.focus();return}const I=x({tabbingDirection:E?"backwards":"forwards"}),V=I.findIndex(L=>L===_);Su(I.slice(V+1))?g.preventDefault():E?(k=u.current)==null||k.focus():(C=d.current)==null||C.focus()}};return j.addEventListener("keydown",y),()=>j.removeEventListener("keydown",y)}},[l,x]),a.jsxs(tN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(tf,{ref:u,onFocusFromOutsideViewport:()=>{const j=x({tabbingDirection:"forwards"});Su(j)}}),a.jsx(zh.Slot,{scope:n,children:a.jsx(le.ol,{tabIndex:-1,...o,ref:h})}),w&&a.jsx(tf,{ref:d,onFocusFromOutsideViewport:()=>{const j=x({tabbingDirection:"backwards"});Su(j)}})]})});X0.displayName=J0;var Q0="ToastFocusProxy",tf=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Cc(Q0,n);return a.jsx(Uh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});tf.displayName=Q0;var na="Toast",pN="toast.swipeStart",mN="toast.swipeMove",gN="toast.swipeCancel",vN="toast.swipeEnd",Z0=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=xo({prop:r,defaultProp:s??!0,onChange:o,caller:na});return a.jsx(Ao,{present:n||l,children:a.jsx(wN,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Xt(e.onPause),onResume:Xt(e.onResume),onSwipeStart:re(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:re(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Z0.displayName=na;var[yN,xN]=K0(na,{onClose(){}}),wN=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...w}=e,x=Cc(na,n),[j,y]=m.useState(null),g=$e(t,L=>y(L)),v=m.useRef(null),S=m.useRef(null),b=s||x.duration,k=m.useRef(0),C=m.useRef(b),_=m.useRef(0),{onToastAdd:E,onToastRemove:O}=x,R=Xt(()=>{var $;(j==null?void 0:j.contains(document.activeElement))&&(($=x.viewport)==null||$.focus()),i()}),I=m.useCallback(L=>{!L||L===1/0||(window.clearTimeout(_.current),k.current=new Date().getTime(),_.current=window.setTimeout(R,L))},[R]);m.useEffect(()=>{const L=x.viewport;if(L){const $=()=>{I(C.current),u==null||u()},M=()=>{const N=new Date().getTime()-k.current;C.current=C.current-N,window.clearTimeout(_.current),c==null||c()};return L.addEventListener(Zd,M),L.addEventListener(ef,$),()=>{L.removeEventListener(Zd,M),L.removeEventListener(ef,$)}}},[x.viewport,b,c,u,I]),m.useEffect(()=>{o&&!x.isClosePausedRef.current&&I(b)},[o,b,x.isClosePausedRef,I]),m.useEffect(()=>(E(),()=>O()),[E,O]);const V=m.useMemo(()=>j?iw(j):null,[j]);return x.viewport?a.jsxs(a.Fragment,{children:[V&&a.jsx(jN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),a.jsx(yN,{scope:n,onClose:R,children:Ss.createPortal(a.jsx(zh.ItemSlot,{scope:n,children:a.jsx(eN,{asChild:!0,onEscapeKeyDown:re(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||R(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:re(e.onPointerDown,L=>{L.button===0&&(v.current={x:L.clientX,y:L.clientY})}),onPointerMove:re(e.onPointerMove,L=>{if(!v.current)return;const $=L.clientX-v.current.x,M=L.clientY-v.current.y,N=!!S.current,P=["left","right"].includes(x.swipeDirection),T=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,D=P?T(0,$):0,A=P?0:T(0,M),U=L.pointerType==="touch"?10:2,X={x:D,y:A},se={originalEvent:L,delta:X};N?(S.current=X,Oa(mN,f,se,{discrete:!1})):fg(X,x.swipeDirection,U)?(S.current=X,Oa(pN,d,se,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs($)>U||Math.abs(M)>U)&&(v.current=null)}),onPointerUp:re(e.onPointerUp,L=>{const $=S.current,M=L.target;if(M.hasPointerCapture(L.pointerId)&&M.releasePointerCapture(L.pointerId),S.current=null,v.current=null,$){const N=L.currentTarget,P={originalEvent:L,delta:$};fg($,x.swipeDirection,x.swipeThreshold)?Oa(vN,p,P,{discrete:!0}):Oa(gN,h,P,{discrete:!0}),N.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),jN=e=>{const{__scopeToast:t,children:n,...r}=e,s=Cc(na,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return _N(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(_c,{asChild:!0,children:a.jsx(Uh,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},SN="ToastTitle",ew=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(le.div,{...r,ref:t})});ew.displayName=SN;var bN="ToastDescription",tw=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(le.div,{...r,ref:t})});tw.displayName=bN;var nw="ToastAction",rw=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(ow,{altText:n,asChild:!0,children:a.jsx(Wh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${nw}\`. Expected non-empty \`string\`.`),null)});rw.displayName=nw;var sw="ToastClose",Wh=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=xN(sw,n);return a.jsx(ow,{asChild:!0,children:a.jsx(le.button,{type:"button",...r,ref:t,onClick:re(e.onClick,s.onClose)})})});Wh.displayName=sw;var ow=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function iw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),CN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...iw(r))}}),t}function Oa(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?z0(s,o):s.dispatchEvent(o)}var fg=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function _N(e=()=>{}){const t=Xt(e);at(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function CN(e){return e.nodeType===e.ELEMENT_NODE}function EN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Su(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var kN=Y0,aw=X0,lw=Z0,cw=ew,uw=tw,dw=rw,fw=Wh;const hg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pg=M0,Hh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return pg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=hg(d)||hg(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(w=>{let[x,j]=w;return Array.isArray(j)?j.includes({...o,...l}[x]):{...o,...l}[x]===j})?[...u,f,h]:u},[]);return pg(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};var NN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>m.createElement("svg",{ref:u,...NN,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${PN(e)}`,...c},[...t.map(([d,f])=>m.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},TN=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),mg=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),hw=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),AN=Q("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),gg=Q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),RN=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ON=Q("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),pw=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),IN=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),mw=Q("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]),LN=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ms=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),MN=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),DN=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),gw=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$N=Q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),FN=Q("GalleryHorizontalEnd",[["path",{d:"M2 7v10",key:"a2pl2d"}],["path",{d:"M6 5v14",key:"1kq3d7"}],["rect",{width:"12",height:"18",x:"10",y:"3",rx:"2",key:"13i7bc"}]]),ll=Q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),bu=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),VN=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),UN=Q("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),nf=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),BN=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),zN=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),WN=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ui=Q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),HN=Q("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Rr=Q("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),qh=Q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),qN=Q("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),GN=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),fn=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),KN=Q("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),vg=Q("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),YN=Q("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),vw=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),JN=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),XN=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),QN=Q("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Bi=Q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),ZN=Q("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),zi=Q("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),ra=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),eP=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Wi=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),yg=Q("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),ls=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),cs=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),tP=Q("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),xg=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Gh=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nP=kN,yw=ae.forwardRef(({className:e,...t},n)=>a.jsx(aw,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));yw.displayName=aw.displayName;const rP=Hh("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xw=ae.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(lw,{ref:r,className:_e(rP({variant:t}),e),...n}));xw.displayName=lw.displayName;const sP=ae.forwardRef(({className:e,...t},n)=>a.jsx(dw,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));sP.displayName=dw.displayName;const ww=ae.forwardRef(({className:e,...t},n)=>a.jsx(fw,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Gh,{className:"h-4 w-4"})}));ww.displayName=fw.displayName;const jw=ae.forwardRef(({className:e,...t},n)=>a.jsx(cw,{ref:n,className:_e("text-sm font-semibold",e),...t}));jw.displayName=cw.displayName;const Sw=ae.forwardRef(({className:e,...t},n)=>a.jsx(uw,{ref:n,className:_e("text-sm opacity-90",e),...t}));Sw.displayName=uw.displayName;const oP=1;let _u=0;function iP(){return _u=(_u+1)%Number.MAX_VALUE,_u.toString()}const ht={state:{toasts:[]},listeners:[],getState:()=>ht.state,setState:e=>{typeof e=="function"?ht.state=e(ht.state):ht.state={...ht.state,...e},ht.listeners.forEach(t=>t(ht.state))},subscribe:e=>(ht.listeners.push(e),()=>{ht.listeners=ht.listeners.filter(t=>t!==e)})},aP=({...e})=>{const t=iP(),n=s=>ht.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...s}:i)})),r=()=>ht.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==t)}));return ht.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,oP)})),{id:t,dismiss:r,update:n}};function Vt(){const[e,t]=m.useState(ht.getState());return m.useEffect(()=>ht.subscribe(r=>{t(r)}),[]),m.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:aP,toasts:e.toasts}}function lP(){const{toasts:e}=Vt();return a.jsxs(nP,{children:[e.map(({id:t,title:n,description:r,action:s,dismiss:o,...i})=>a.jsxs(xw,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(jw,{children:n}),r&&a.jsx(Sw,{children:r})]}),s,a.jsx(ww,{})]},t)),a.jsx(yw,{})]})}const bw=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ec=m.createContext({}),kc=m.createContext(null),Nc=typeof document<"u",Kh=Nc?m.useLayoutEffect:m.useEffect,_w=m.createContext({strict:!1}),Yh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),cP="framerAppearId",Cw="data-"+Yh(cP);function uP(e,t,n,r){const{visualElement:s}=m.useContext(Ec),o=m.useContext(_w),i=m.useContext(kc),l=m.useContext(bw).reducedMotion,c=m.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;m.useInsertionEffect(()=>{u&&u.update(n,i)});const d=m.useRef(!!(n[Cw]&&!window.HandoffComplete));return Kh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Xs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dP(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xs(n)&&(n.current=r))},[t])}function Hi(e){return typeof e=="string"||Array.isArray(e)}function Pc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Jh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xh=["initial",...Jh];function Tc(e){return Pc(e.animate)||Xh.some(t=>Hi(e[t]))}function Ew(e){return!!(Tc(e)||e.variants)}function fP(e,t){if(Tc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Hi(n)?n:void 0,animate:Hi(r)?r:void 0}}return e.inherit!==!1?t:{}}function hP(e){const{initial:t,animate:n}=fP(e,m.useContext(Ec));return m.useMemo(()=>({initial:t,animate:n}),[wg(t),wg(n)])}function wg(e){return Array.isArray(e)?e.join(" "):e}const jg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qi={};for(const e in jg)qi[e]={isEnabled:t=>jg[e].some(n=>!!t[n])};function pP(e){for(const t in e)qi[t]={...qi[t],...e[t]}}const Qh=m.createContext({}),kw=m.createContext({}),mP=Symbol.for("motionComponentSymbol");function gP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&pP(e);function o(l,c){let u;const d={...m.useContext(bw),...l,layoutId:vP(l)},{isStatic:f}=d,h=hP(l),p=r(l,f);if(!f&&Nc){h.visualElement=uP(s,p,d,t);const w=m.useContext(kw),x=m.useContext(_w).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,x,e,w))}return m.createElement(Ec.Provider,{value:h},u&&h.visualElement?m.createElement(u,{visualElement:h.visualElement,...d}):null,n(s,l,dP(p,h.visualElement,c),p,f,h.visualElement))}const i=m.forwardRef(o);return i[mP]=s,i}function vP({layoutId:e}){const t=m.useContext(Qh).id;return t&&e!==void 0?t+"-"+e:e}function yP(e){function t(r,s={}){return gP(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const xP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zh(e){return typeof e!="string"||e.includes("-")?!1:!!(xP.indexOf(e)>-1||/[A-Z]/.test(e))}const Bl={};function wP(e){Object.assign(Bl,e)}const sa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cs=new Set(sa);function Nw(e,{layout:t,layoutId:n}){return Cs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Bl[e]||e==="opacity")}const Nt=e=>!!(e&&e.getVelocity),jP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SP=sa.length;function bP(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<SP;i++){const l=sa[i];if(e[l]!==void 0){const c=jP[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const Pw=e=>t=>typeof t=="string"&&t.startsWith(e),Tw=Pw("--"),rf=Pw("var(--"),_P=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,CP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Or=(e,t,n)=>Math.min(Math.max(n,e),t),Es={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hi={...Es,transform:e=>Or(0,1,e)},Ia={...Es,default:1},pi=e=>Math.round(e*1e5)/1e5,Ac=/(-)?([\d]*\.?[\d])+/g,Aw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,EP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function oa(e){return typeof e=="string"}const ia=e=>({test:t=>oa(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),sr=ia("deg"),_n=ia("%"),ee=ia("px"),kP=ia("vh"),NP=ia("vw"),Sg={..._n,parse:e=>_n.parse(e)/100,transform:e=>_n.transform(e*100)},bg={...Es,transform:Math.round},Rw={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,size:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,rotate:sr,rotateX:sr,rotateY:sr,rotateZ:sr,scale:Ia,scaleX:Ia,scaleY:Ia,scaleZ:Ia,skew:sr,skewX:sr,skewY:sr,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:hi,originX:Sg,originY:Sg,originZ:ee,zIndex:bg,fillOpacity:hi,strokeOpacity:hi,numOctaves:bg};function ep(e,t,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(Tw(f)){o[f]=h;continue}const p=Rw[f],w=CP(h,p);if(Cs.has(f)){if(c=!0,i[f]=w,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=w):s[f]=w}if(t.transform||(c||r?s.transform=bP(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const tp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ow(e,t,n){for(const r in t)!Nt(t[r])&&!Nw(r,n)&&(e[r]=t[r])}function PP({transformTemplate:e},t,n){return m.useMemo(()=>{const r=tp();return ep(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function TP(e,t,n){const r=e.style||{},s={};return Ow(s,r,e),Object.assign(s,PP(e,t,n)),e.transformValues?e.transformValues(s):s}function AP(e,t,n){const r={},s=TP(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const RP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||RP.has(e)}let Iw=e=>!zl(e);function OP(e){e&&(Iw=t=>t.startsWith("on")?!zl(t):e(t))}try{OP(require("@emotion/is-prop-valid").default)}catch{}function IP(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Iw(s)||n===!0&&zl(s)||!t&&!zl(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function _g(e,t,n){return typeof e=="string"?e:ee.transform(t+n*e)}function LP(e,t,n){const r=_g(t,e.x,e.width),s=_g(n,e.y,e.height);return`${r} ${s}`}const MP={offset:"stroke-dashoffset",array:"stroke-dasharray"},DP={offset:"strokeDashoffset",array:"strokeDasharray"};function $P(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?MP:DP;e[o.offset]=ee.transform(-r);const i=ee.transform(t),l=ee.transform(n);e[o.array]=`${i} ${l}`}function np(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(ep(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w,dimensions:x}=e;p.transform&&(x&&(w.transform=p.transform),delete p.transform),x&&(s!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=LP(x,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&$P(p,i,l,c,!1)}const Lw=()=>({...tp(),attrs:{}}),rp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function FP(e,t,n,r){const s=m.useMemo(()=>{const o=Lw();return np(o,t,{enableHardwareAcceleration:!1},rp(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Ow(o,e.style,e),s.style={...o,...s.style}}return s}function VP(e=!1){return(n,r,s,{latestValues:o},i)=>{const c=(Zh(n)?FP:AP)(r,o,i,n),d={...IP(r,typeof n=="string",e),...c,ref:s},{children:f}=r,h=m.useMemo(()=>Nt(f)?f.get():f,[f]);return m.createElement(n,{...d,children:h})}}function Mw(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const Dw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $w(e,t,n,r){Mw(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Dw.has(s)?s:Yh(s),t.attrs[s])}function sp(e,t){const{style:n}=e,r={};for(const s in n)(Nt(n[s])||t.style&&Nt(t.style[s])||Nw(s,e))&&(r[s]=n[s]);return r}function Fw(e,t){const n=sp(e,t);for(const r in e)if(Nt(e[r])||Nt(t[r])){const s=sa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function op(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function Vw(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wl=e=>Array.isArray(e),UP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),BP=e=>Wl(e)?e[e.length-1]||0:e;function cl(e){const t=Nt(e)?e.get():e;return UP(t)?t.toValue():t}function zP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const i={latestValues:WP(r,s,o,e),renderState:t()};return n&&(i.mount=l=>n(r,l,i)),i}const Uw=e=>(t,n)=>{const r=m.useContext(Ec),s=m.useContext(kc),o=()=>zP(e,t,r,s);return n?o():Vw(o)};function WP(e,t,n,r){const s={},o=r(e,{});for(const h in o)s[h]=cl(o[h]);let{initial:i,animate:l}=e;const c=Tc(e),u=Ew(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!Pc(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const w=op(e,p);if(!w)return;const{transitionEnd:x,transition:j,...y}=w;for(const g in y){let v=y[g];if(Array.isArray(v)){const S=d?v.length-1:0;v=v[S]}v!==null&&(s[g]=v)}for(const g in x)s[g]=x[g]}),s}const We=e=>e;class Cg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function HP(e){let t=new Cg,n=new Cg,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:n;return u&&i.add(c),h.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),i.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const La=["prepare","read","update","preRender","render","postRender"],qP=40;function GP(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=La.reduce((f,h)=>(f[h]=HP(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,qP),1),s.timestamp=f,s.isProcessing=!0,La.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:La.reduce((f,h)=>{const p=o[h];return f[h]=(w,x=!1,j=!1)=>(n||c(),p.schedule(w,x,j)),f},{}),cancel:f=>La.forEach(h=>o[h].cancel(f)),state:s,steps:o}}const{schedule:Ae,cancel:Jn,state:ut,steps:Cu}=GP(typeof requestAnimationFrame<"u"?requestAnimationFrame:We,!0),KP={useVisualState:Uw({scrapeMotionValuesFromProps:Fw,createRenderState:Lw,onMount:(e,t,{renderState:n,latestValues:r})=>{Ae.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ae.render(()=>{np(n,r,{enableHardwareAcceleration:!1},rp(t.tagName),e.transformTemplate),$w(t,n)})}})},YP={useVisualState:Uw({scrapeMotionValuesFromProps:sp,createRenderState:tp})};function JP(e,{forwardMotionProps:t=!1},n,r){return{...Zh(e)?KP:YP,preloadedFeatures:n,useRender:VP(t),createVisualElement:r,Component:e}}function Un(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Bw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Rc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const XP=e=>t=>Bw(t)&&e(t,Rc(t));function zn(e,t,n,r){return Un(e,t,XP(n),r)}const QP=(e,t)=>n=>t(e(n)),kr=(...e)=>e.reduce(QP);function zw(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Eg=zw("dragHorizontal"),kg=zw("dragVertical");function Ww(e){let t=!1;if(e==="y")t=kg();else if(e==="x")t=Eg();else{const n=Eg(),r=kg();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Hw(){const e=Ww(!0);return e?(e(),!1):!0}class Ur{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Ng(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||Hw())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Ae.update(()=>l[r](o,i))};return zn(e.current,n,s,{passive:!e.getProps()[r]})}class ZP extends Ur{mount(){this.unmount=kr(Ng(this.node,!0),Ng(this.node,!1))}unmount(){}}class eT extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kr(Un(this.node.current,"focus",()=>this.onFocus()),Un(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qw=(e,t)=>t?e===t?!0:qw(e,t.parentElement):!1;function Eu(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Rc(n))}class tT extends Ur{constructor(){super(...arguments),this.removeStartListeners=We,this.removeEndListeners=We,this.removeAccessibleListeners=We,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=zn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Ae.update(()=>{!f&&!qw(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=zn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=kr(o,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Eu("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Ae.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Un(this.node.current,"keyup",i),Eu("down",(l,c)=>{this.startPress(l,c)})},n=Un(this.node.current,"keydown",t),r=()=>{this.isPressing&&Eu("cancel",(o,i)=>this.cancelPress(o,i))},s=Un(this.node.current,"blur",r);this.removeAccessibleListeners=kr(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ae.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Hw()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ae.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=zn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Un(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=kr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sf=new WeakMap,ku=new WeakMap,nT=e=>{const t=sf.get(e.target);t&&t(e)},rT=e=>{e.forEach(nT)};function sT({root:e,...t}){const n=e||document;ku.has(n)||ku.set(n,{});const r=ku.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(rT,{root:e,...t})),r[s]}function oT(e,t,n){const r=sT(t);return sf.set(e,n),r.observe(e),()=>{sf.delete(e),r.unobserve(e)}}const iT={some:0,all:1};class aT extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:iT[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return oT(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(lT(t,n))&&this.startObserver()}unmount(){}}function lT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const cT={inView:{Feature:aT},tap:{Feature:tT},focus:{Feature:eT},hover:{Feature:ZP}};function Gw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function uT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function dT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Oc(e,t,n){const r=e.getProps();return op(r,t,n!==void 0?n:r.custom,uT(e),dT(e))}let fT=We,ip=We;const Nr=e=>e*1e3,Wn=e=>e/1e3,hT={current:!1},Kw=e=>Array.isArray(e)&&typeof e[0]=="number";function Yw(e){return!!(!e||typeof e=="string"&&Jw[e]||Kw(e)||Array.isArray(e)&&e.every(Yw))}const ti=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Jw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ti([0,.65,.55,1]),circOut:ti([.55,0,1,.45]),backIn:ti([.31,.01,.66,-.59]),backOut:ti([.33,1.53,.69,.99])};function Xw(e){if(e)return Kw(e)?ti(e):Array.isArray(e)?e.map(Xw):Jw[e]}function pT(e,t,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=Xw(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function mT(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Qw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,gT=1e-7,vT=12;function yT(e,t,n,r,s){let o,i,l=0;do i=t+(n-t)/2,o=Qw(i,r,s)-e,o>0?n=i:t=i;while(Math.abs(o)>gT&&++l<vT);return i}function aa(e,t,n,r){if(e===t&&n===r)return We;const s=o=>yT(o,0,1,e,n);return o=>o===0||o===1?o:Qw(s(o),t,r)}const xT=aa(.42,0,1,1),wT=aa(0,0,.58,1),Zw=aa(.42,0,.58,1),jT=e=>Array.isArray(e)&&typeof e[0]!="number",e1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,t1=e=>t=>1-e(1-t),ap=e=>1-Math.sin(Math.acos(e)),n1=t1(ap),ST=e1(ap),r1=aa(.33,1.53,.69,.99),lp=t1(r1),bT=e1(lp),_T=e=>(e*=2)<1?.5*lp(e):.5*(2-Math.pow(2,-10*(e-1))),CT={linear:We,easeIn:xT,easeInOut:Zw,easeOut:wT,circIn:ap,circInOut:ST,circOut:n1,backIn:lp,backInOut:bT,backOut:r1,anticipate:_T},Pg=e=>{if(Array.isArray(e)){ip(e.length===4);const[t,n,r,s]=e;return aa(t,n,r,s)}else if(typeof e=="string")return CT[e];return e},cp=(e,t)=>n=>!!(oa(n)&&EP.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),s1=(e,t,n)=>r=>{if(!oa(r))return r;const[s,o,i,l]=r.match(Ac);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},ET=e=>Or(0,255,e),Nu={...Es,transform:e=>Math.round(ET(e))},os={test:cp("rgb","red"),parse:s1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Nu.transform(e)+", "+Nu.transform(t)+", "+Nu.transform(n)+", "+pi(hi.transform(r))+")"};function kT(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const of={test:cp("#"),parse:kT,transform:os.transform},Qs={test:cp("hsl","hue"),parse:s1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+_n.transform(pi(t))+", "+_n.transform(pi(n))+", "+pi(hi.transform(r))+")"},pt={test:e=>os.test(e)||of.test(e)||Qs.test(e),parse:e=>os.test(e)?os.parse(e):Qs.test(e)?Qs.parse(e):of.parse(e),transform:e=>oa(e)?e:e.hasOwnProperty("red")?os.transform(e):Qs.transform(e)},Ve=(e,t,n)=>-n*e+n*t+e;function Pu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NT({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,i=0;if(!t)s=o=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Pu(c,l,e+1/3),o=Pu(c,l,e),i=Pu(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Tu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},PT=[of,os,Qs],TT=e=>PT.find(t=>t.test(e));function Tg(e){const t=TT(e);let n=t.parse(e);return t===Qs&&(n=NT(n)),n}const o1=(e,t)=>{const n=Tg(e),r=Tg(t),s={...n};return o=>(s.red=Tu(n.red,r.red,o),s.green=Tu(n.green,r.green,o),s.blue=Tu(n.blue,r.blue,o),s.alpha=Ve(n.alpha,r.alpha,o),os.transform(s))};function AT(e){var t,n;return isNaN(e)&&oa(e)&&(((t=e.match(Ac))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Aw))===null||n===void 0?void 0:n.length)||0)>0}const i1={regex:_P,countKey:"Vars",token:"${v}",parse:We},a1={regex:Aw,countKey:"Colors",token:"${c}",parse:pt.parse},l1={regex:Ac,countKey:"Numbers",token:"${n}",parse:Es.parse};function Au(e,{regex:t,countKey:n,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function Hl(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Au(n,i1),Au(n,a1),Au(n,l1),n}function c1(e){return Hl(e).values}function u1(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Hl(e),o=t.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(i1.token,i[c]):c<r+n?l=l.replace(a1.token,pt.transform(i[c])):l=l.replace(l1.token,pi(i[c]));return l}}const RT=e=>typeof e=="number"?0:e;function OT(e){const t=c1(e);return u1(e)(t.map(RT))}const Ir={test:AT,parse:c1,createTransformer:u1,getAnimatableNone:OT},d1=(e,t)=>n=>`${n>0?t:e}`;function f1(e,t){return typeof e=="number"?n=>Ve(e,t,n):pt.test(e)?o1(e,t):e.startsWith("var(")?d1(e,t):p1(e,t)}const h1=(e,t)=>{const n=[...e],r=n.length,s=e.map((o,i)=>f1(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},IT=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=f1(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},p1=(e,t)=>{const n=Ir.createTransformer(t),r=Hl(e),s=Hl(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?kr(h1(r.values,s.values),n):d1(e,t)},Gi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ag=(e,t)=>n=>Ve(e,t,n);function LT(e){return typeof e=="number"?Ag:typeof e=="string"?pt.test(e)?o1:p1:Array.isArray(e)?h1:typeof e=="object"?IT:Ag}function MT(e,t,n){const r=[],s=n||LT(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||We:t;l=kr(c,l)}r.push(l)}return r}function m1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(ip(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=MT(t,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Gi(e[d],e[d+1],u);return i[d](f)};return n?u=>c(Or(e[0],e[o-1],u)):c}function DT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Gi(0,t,r);e.push(Ve(n,1,s))}}function $T(e){const t=[0];return DT(t,e.length-1),t}function FT(e,t){return e.map(n=>n*t)}function VT(e,t){return e.map(()=>t||Zw).splice(0,e.length-1)}function ql({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=jT(r)?r.map(Pg):Pg(r),o={done:!1,value:t[0]},i=FT(n&&n.length===t.length?n:$T(t),e),l=m1(i,t,{ease:Array.isArray(s)?s:VT(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function g1(e,t){return t?e*(1e3/t):0}const UT=5;function v1(e,t,n){const r=Math.max(t-UT,0);return g1(n-e(r),t-r)}const Ru=.001,BT=.01,Rg=10,zT=.05,WT=1;function HT({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o;fT(e<=Nr(Rg));let i=1-t;i=Or(zT,WT,i),e=Or(BT,Rg,Wn(e)),i<1?(s=u=>{const d=u*i,f=d*e,h=d-n,p=af(u,i),w=Math.exp(-f);return Ru-h/p*w},o=u=>{const f=u*i*e,h=f*n+n,p=Math.pow(i,2)*Math.pow(u,2)*e,w=Math.exp(-f),x=af(Math.pow(u,2),i);return(-s(u)+Ru>0?-1:1)*((h-p)*w)/x}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Ru+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=GT(s,o,l);if(e=Nr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const qT=12;function GT(e,t,n){let r=n;for(let s=1;s<qT;s++)r=r-e(r)/t(r);return r}function af(e,t){return e*Math.sqrt(1-t*t)}const KT=["duration","bounce"],YT=["stiffness","damping","mass"];function Og(e,t){return t.some(n=>e[n]!==void 0)}function JT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Og(e,YT)&&Og(e,KT)){const n=HT(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function y1({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=JT({...r,velocity:-Wn(r.velocity||0)}),p=f||0,w=c/(2*Math.sqrt(l*u)),x=o-s,j=Wn(Math.sqrt(l/u)),y=Math.abs(x)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let g;if(w<1){const v=af(j,w);g=S=>{const b=Math.exp(-w*j*S);return o-b*((p+w*j*x)/v*Math.sin(v*S)+x*Math.cos(v*S))}}else if(w===1)g=v=>o-Math.exp(-j*v)*(x+(p+j*x)*v);else{const v=j*Math.sqrt(w*w-1);g=S=>{const b=Math.exp(-w*j*S),k=Math.min(v*S,300);return o-b*((p+w*j*x)*Math.sinh(k)+v*x*Math.cosh(k))/v}}return{calculatedDuration:h&&d||null,next:v=>{const S=g(v);if(h)i.done=v>=d;else{let b=p;v!==0&&(w<1?b=v1(g,v,S):b=0);const k=Math.abs(b)<=n,C=Math.abs(o-S)<=t;i.done=k&&C}return i.value=i.done?o:S,i}}}function Ig({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,w=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let x=n*t;const j=f+x,y=i===void 0?j:i(j);y!==j&&(x=y-f);const g=_=>-x*Math.exp(-_/r),v=_=>y+g(_),S=_=>{const E=g(_),O=v(_);h.done=Math.abs(E)<=u,h.value=h.done?y:O};let b,k;const C=_=>{p(h.value)&&(b=_,k=y1({keyframes:[h.value,w(h.value)],velocity:v1(v,_,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:_=>{let E=!1;return!k&&b===void 0&&(E=!0,S(_),C(_)),b!==void 0&&_>b?k.next(_-b):(!E&&S(_),h)}}}const XT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ae.update(t,!0),stop:()=>Jn(t),now:()=>ut.isProcessing?ut.timestamp:performance.now()}},Lg=2e4;function Mg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Lg;)t+=n,r=e.next(t);return t>=Lg?1/0:t}const QT={decay:Ig,inertia:Ig,tween:ql,keyframes:ql,spring:y1};function Gl({autoplay:e=!0,delay:t=0,driver:n=XT,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,w=!1,x,j;const y=()=>{j=new Promise(A=>{x=A})};y();let g;const v=QT[s]||ql;let S;v!==ql&&typeof r[0]!="number"&&(S=m1([0,100],r,{clamp:!1}),r=[0,100]);const b=v({...h,keyframes:r});let k;l==="mirror"&&(k=v({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let C="idle",_=null,E=null,O=null;b.calculatedDuration===null&&o&&(b.calculatedDuration=Mg(b));const{calculatedDuration:R}=b;let I=1/0,V=1/0;R!==null&&(I=R+i,V=I*(o+1)-i);let L=0;const $=A=>{if(E===null)return;p>0&&(E=Math.min(E,A)),p<0&&(E=Math.min(A-V/p,E)),_!==null?L=_:L=Math.round(A-E)*p;const U=L-t*(p>=0?1:-1),X=p>=0?U<0:U>V;L=Math.max(U,0),C==="finished"&&_===null&&(L=V);let se=L,ve=b;if(o){const Re=Math.min(L,V)/I;let ce=Math.floor(Re),oe=Re%1;!oe&&Re>=1&&(oe=1),oe===1&&ce--,ce=Math.min(ce,o+1),!!(ce%2)&&(l==="reverse"?(oe=1-oe,i&&(oe-=i/I)):l==="mirror"&&(ve=k)),se=Or(0,1,oe)*I}const ye=X?{done:!1,value:r[0]}:ve.next(se);S&&(ye.value=S(ye.value));let{done:Y}=ye;!X&&R!==null&&(Y=p>=0?L>=V:L<=0);const xe=_===null&&(C==="finished"||C==="running"&&Y);return f&&f(ye.value),xe&&P(),ye},M=()=>{g&&g.stop(),g=void 0},N=()=>{C="idle",M(),x(),y(),E=O=null},P=()=>{C="finished",d&&d(),M(),x()},T=()=>{if(w)return;g||(g=n($));const A=g.now();c&&c(),_!==null?E=A-_:(!E||C==="finished")&&(E=A),C==="finished"&&y(),O=E,_=null,C="running",g.start()};e&&T();const D={then(A,U){return j.then(A,U)},get time(){return Wn(L)},set time(A){A=Nr(A),L=A,_!==null||!g||p===0?_=A:E=g.now()-A/p},get duration(){const A=b.calculatedDuration===null?Mg(b):b.calculatedDuration;return Wn(A)},get speed(){return p},set speed(A){A===p||!g||(p=A,D.time=Wn(L))},get state(){return C},play:T,pause:()=>{C="paused",_=L},stop:()=>{w=!0,C!=="idle"&&(C="idle",u&&u(),N())},cancel:()=>{O!==null&&$(O),N()},complete:()=>{C="finished"},sample:A=>(E=0,$(A))};return D}function ZT(e){let t;return()=>(t===void 0&&(t=e()),t)}const e2=ZT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),t2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ma=10,n2=2e4,r2=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Yw(t.ease);function s2(e,t,{onUpdate:n,onComplete:r,...s}){if(!(e2()&&t2.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(v=>{l=v})};d();let{keyframes:f,duration:h=300,ease:p,times:w}=s;if(r2(t,s)){const v=Gl({...s,repeat:0,delay:0});let S={done:!1,value:f[0]};const b=[];let k=0;for(;!S.done&&k<n2;)S=v.sample(k),b.push(S.value),k+=Ma;w=void 0,f=b,h=k-Ma,p="linear"}const x=pT(e.owner.current,t,f,{...s,duration:h,ease:p,times:w}),j=()=>{u=!1,x.cancel()},y=()=>{u=!0,Ae.update(j),l(),d()};return x.onfinish=()=>{u||(e.set(mT(f,s)),r&&r(),y())},{then(v,S){return c.then(v,S)},attachTimeline(v){return x.timeline=v,x.onfinish=null,We},get time(){return Wn(x.currentTime||0)},set time(v){x.currentTime=Nr(v)},get speed(){return x.playbackRate},set speed(v){x.playbackRate=v},get duration(){return Wn(h)},play:()=>{i||(x.play(),Jn(j))},pause:()=>x.pause(),stop:()=>{if(i=!0,x.playState==="idle")return;const{currentTime:v}=x;if(v){const S=Gl({...s,autoplay:!1});e.setWithVelocity(S.sample(v-Ma).value,S.sample(v).value,Ma)}y()},complete:()=>{u||x.finish()},cancel:y}}function o2({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:We,pause:We,stop:We,then:o=>(o(),Promise.resolve()),cancel:We,complete:We});return t?Gl({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const i2={type:"spring",stiffness:500,damping:25,restSpeed:10},a2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),l2={type:"keyframes",duration:.8},c2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},u2=(e,{keyframes:t})=>t.length>2?l2:Cs.has(e)?e.startsWith("scale")?a2(t[1]):i2:c2,lf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ir.test(t)||t==="0")&&!t.startsWith("url(")),d2=new Set(["brightness","contrast","saturate","opacity"]);function f2(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ac)||[];if(!r)return e;const s=n.replace(r,"");let o=d2.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const h2=/([a-z-]*)\(.*?\)/g,cf={...Ir,getAnimatableNone:e=>{const t=e.match(h2);return t?t.map(f2).join(" "):e}},p2={...Rw,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:cf,WebkitFilter:cf},up=e=>p2[e];function x1(e,t){let n=up(e);return n!==cf&&(n=Ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const w1=e=>/^0[^.\s]+$/.test(e);function m2(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||w1(e)}function g2(e,t,n,r){const s=lf(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),m2(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=x1(t,l)}return o}function v2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function dp(e,t){return e[t]||e.default||e}const y2={skipAnimations:!1},fp=(e,t,n,r={})=>s=>{const o=dp(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Nr(i);const c=g2(t,e,n,o),u=c[0],d=c[c.length-1],f=lf(e,u),h=lf(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:w=>{t.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(v2(o)||(p={...p,...u2(e,p)}),p.duration&&(p.duration=Nr(p.duration)),p.repeatDelay&&(p.repeatDelay=Nr(p.repeatDelay)),!f||!h||hT.current||o.type===!1||y2.skipAnimations)return o2(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=s2(t,e,p);if(w)return w}return Gl(p)};function Kl(e){return!!(Nt(e)&&e.add)}const j1=e=>/^\-?\d*\.?\d+$/.test(e);function hp(e,t){e.indexOf(t)===-1&&e.push(t)}function pp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class mp{constructor(){this.subscriptions=[]}add(t){return hp(this.subscriptions,t),()=>pp(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const x2=e=>!isNaN(parseFloat(e));class w2{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=ut;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,Ae.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ae.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=x2(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new mp);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?g1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wo(e,t){return new w2(e,t)}const S1=e=>t=>t.test(e),j2={test:e=>e==="auto",parse:e=>e},b1=[Es,ee,_n,sr,NP,kP,j2],Ko=e=>b1.find(S1(e)),S2=[...b1,pt,Ir],b2=e=>S2.find(S1(e));function _2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wo(n))}function C2(e,t){const n=Oc(e,t);let{transitionEnd:r={},transition:s={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=BP(o[i]);_2(e,i,l)}}function E2(e,t,n){var r,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(j1(d)||w1(d))?d=parseFloat(d):!b2(d)&&Ir.test(u)&&(d=x1(c,u)),e.addValue(c,wo(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function k2(e,t){return t?(t[e]||t.default||t).from:void 0}function N2(e,t,n){const r={};for(const s in e){const o=k2(s,t);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function P2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function T2(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function _1(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&P2(d,f))continue;const w={delay:n,elapsed:0,...dp(o||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[Cw];if(y){const g=window.HandoffAppearAnimations(y,f,h,Ae);g!==null&&(w.elapsed=g,w.isHandoff=!0)}}let x=!w.isHandoff&&!T2(h,p);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(x=!1),h.animation&&(x=!1),x)continue;h.start(fp(f,h,p,e.shouldReduceMotion&&Cs.has(f)?{type:!1}:w));const j=h.animation;Kl(c)&&(c.add(f),j.then(()=>c.remove(f))),u.push(j)}return i&&Promise.all(u).then(()=>{i&&C2(e,i)}),u}function uf(e,t,n={}){const r=Oc(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(_1(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return A2(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function A2(e,t,n=0,r=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(R2).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(uf(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function R2(e,t){return e.sortNodePosition(t)}function O2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>uf(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=uf(e,t,n);else{const s=typeof t=="function"?Oc(e,t,n.custom):t;r=Promise.all(_1(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const I2=[...Jh].reverse(),L2=Jh.length;function M2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>O2(e,n,r)))}function D2(e){let t=M2(e);const n=F2();let r=!0;const s=(c,u)=>{const d=Oc(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function o(c){t=c(e)}function i(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let w={},x=1/0;for(let y=0;y<L2;y++){const g=I2[y],v=n[g],S=d[g]!==void 0?d[g]:f[g],b=Hi(S),k=g===u?v.isActive:null;k===!1&&(x=y);let C=S===f[g]&&S!==d[g]&&b;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...w},!v.isActive&&k===null||!S&&!v.prevProp||Pc(S)||typeof S=="boolean")continue;let E=$2(v.prevProp,S)||g===u&&v.isActive&&!C&&b||y>x&&b,O=!1;const R=Array.isArray(S)?S:[S];let I=R.reduce(s,{});k===!1&&(I={});const{prevResolvedValues:V={}}=v,L={...V,...I},$=M=>{E=!0,p.has(M)&&(O=!0,p.delete(M)),v.needsAnimating[M]=!0};for(const M in L){const N=I[M],P=V[M];if(w.hasOwnProperty(M))continue;let T=!1;Wl(N)&&Wl(P)?T=!Gw(N,P):T=N!==P,T?N!==void 0?$(M):p.add(M):N!==void 0&&p.has(M)?$(M):v.protectedKeys[M]=!0}v.prevProp=S,v.prevResolvedValues=I,v.isActive&&(w={...w,...I}),r&&e.blockInitialAnimation&&(E=!1),E&&(!C||O)&&h.push(...R.map(M=>({animation:M,options:{type:g,...c}})))}if(p.size){const y={};p.forEach(g=>{const v=e.getBaseTarget(g);v!==void 0&&(y[g]=v)}),h.push({animation:y})}let j=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const h=i(d,c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function $2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Gw(t,e):!1}function qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function F2(){return{animate:qr(!0),whileInView:qr(),whileHover:qr(),whileTap:qr(),whileDrag:qr(),whileFocus:qr(),exit:qr()}}class V2 extends Ur{constructor(t){super(t),t.animationState||(t.animationState=D2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Pc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let U2=0;class B2 extends Ur{constructor(){super(...arguments),this.id=U2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const z2={animation:{Feature:V2},exit:{Feature:B2}},Dg=(e,t)=>Math.abs(e-t);function W2(e,t){const n=Dg(e.x,t.x),r=Dg(e.y,t.y);return Math.sqrt(n**2+r**2)}class C1{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Iu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=W2(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:w}=f,{timestamp:x}=ut;this.history.push({...w,timestamp:x});const{onStart:j,onMove:y}=this.handlers;h||(j&&j(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ou(h,this.transformPagePoint),Ae.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Iu(f.type==="pointercancel"?this.lastMoveEventInfo:Ou(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,j),w&&w(f,j)},!Bw(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=Rc(t),l=Ou(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=ut;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Iu(l,this.history)),this.removeListeners=kr(zn(this.contextWindow,"pointermove",this.handlePointerMove),zn(this.contextWindow,"pointerup",this.handlePointerUp),zn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Jn(this.updatePoint)}}function Ou(e,t){return t?{point:t(e.point)}:e}function $g(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Iu({point:e},t){return{point:e,delta:$g(e,E1(t)),offset:$g(e,H2(t)),velocity:q2(t,.1)}}function H2(e){return e[0]}function E1(e){return e[e.length-1]}function q2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=E1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Nr(t)));)n--;if(!r)return{x:0,y:0};const o=Wn(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Mt(e){return e.max-e.min}function df(e,t=0,n=.01){return Math.abs(e-t)<=n}function Fg(e,t,n,r=.5){e.origin=r,e.originPoint=Ve(t.min,t.max,e.origin),e.scale=Mt(n)/Mt(t),(df(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ve(n.min,n.max,e.origin)-e.originPoint,(df(e.translate)||isNaN(e.translate))&&(e.translate=0)}function mi(e,t,n,r){Fg(e.x,t.x,n.x,r?r.originX:void 0),Fg(e.y,t.y,n.y,r?r.originY:void 0)}function Vg(e,t,n){e.min=n.min+t.min,e.max=e.min+Mt(t)}function G2(e,t,n){Vg(e.x,t.x,n.x),Vg(e.y,t.y,n.y)}function Ug(e,t,n){e.min=t.min-n.min,e.max=e.min+Mt(t)}function gi(e,t,n){Ug(e.x,t.x,n.x),Ug(e.y,t.y,n.y)}function K2(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ve(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ve(n,e,r.max):Math.min(e,n)),e}function Bg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Y2(e,{top:t,left:n,bottom:r,right:s}){return{x:Bg(e.x,n,s),y:Bg(e.y,t,r)}}function zg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function J2(e,t){return{x:zg(e.x,t.x),y:zg(e.y,t.y)}}function X2(e,t){let n=.5;const r=Mt(e),s=Mt(t);return s>r?n=Gi(t.min,t.max-r,e.min):r>s&&(n=Gi(e.min,e.max-s,t.min)),Or(0,1,n)}function Q2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ff=.35;function Z2(e=ff){return e===!1?e=0:e===!0&&(e=ff),{x:Wg(e,"left","right"),y:Wg(e,"top","bottom")}}function Wg(e,t,n){return{min:Hg(e,t),max:Hg(e,n)}}function Hg(e,t){return typeof e=="number"?e:e[t]||0}const qg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zs=()=>({x:qg(),y:qg()}),Gg=()=>({min:0,max:0}),Ge=()=>({x:Gg(),y:Gg()});function zt(e){return[e("x"),e("y")]}function k1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function eA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lu(e){return e===void 0||e===1}function hf({scale:e,scaleX:t,scaleY:n}){return!Lu(e)||!Lu(t)||!Lu(n)}function Jr(e){return hf(e)||N1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function N1(e){return Kg(e.x)||Kg(e.y)}function Kg(e){return e&&e!=="0%"}function Yl(e,t,n){const r=e-n,s=t*r;return n+s}function Yg(e,t,n,r,s){return s!==void 0&&(e=Yl(e,s,r)),Yl(e,n,r)+t}function pf(e,t=0,n=1,r,s){e.min=Yg(e.min,t,n,r,s),e.max=Yg(e.max,t,n,r,s)}function P1(e,{x:t,y:n}){pf(e.x,t.translate,t.scale,t.originPoint),pf(e.y,n.translate,n.scale,n.originPoint)}function nA(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&eo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,P1(e,i)),r&&Jr(o.latestValues)&&eo(e,o.latestValues))}t.x=Jg(t.x),t.y=Jg(t.y)}function Jg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function cr(e,t){e.min=e.min+t,e.max=e.max+t}function Xg(e,t,[n,r,s]){const o=t[s]!==void 0?t[s]:.5,i=Ve(e.min,e.max,o);pf(e,t[n],t[r],i,t.scale)}const rA=["x","scaleX","originX"],sA=["y","scaleY","originY"];function eo(e,t){Xg(e.x,t,rA),Xg(e.y,t,sA)}function T1(e,t){return k1(tA(e.getBoundingClientRect(),t))}function oA(e,t,n){const r=T1(e,n),{scroll:s}=t;return s&&(cr(r.x,s.offset.x),cr(r.y,s.offset.y)),r}const A1=({current:e})=>e?e.ownerDocument.defaultView:null,iA=new WeakMap;class aA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rc(d,"page").point)},o=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:w}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ww(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(j=>{let y=this.getAxisMotionValue(j).get()||0;if(_n.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[j];v&&(y=Mt(v)*(parseFloat(y)/100))}}this.originPoint[j]=y}),w&&Ae.update(()=>w(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:w,onDrag:x}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:j}=f;if(p&&this.currentDirection===null){this.currentDirection=lA(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,j),this.updateAxis("y",f.point,j),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>zt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new C1(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:A1(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ae.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Da(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=K2(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Xs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Y2(s.layoutBox,n):this.constraints=!1,this.elastic=Z2(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=Q2(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xs(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=oA(r,s.root,this.visualElement.getTransformPagePoint());let i=J2(s.layout.layoutBox,o);if(n){const l=n(eA(i));this.hasMutatedConstraints=!!l,l&&(i=k1(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=zt(d=>{if(!Da(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(fp(t,r,0,n))}stopAnimation(){zt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){zt(n=>{const{drag:r}=this.getProps();if(!Da(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(t[n]-Ve(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xs(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zt(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=X2({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zt(i=>{if(!Da(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Ve(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;iA.set(this.visualElement,this);const t=this.visualElement.current,n=zn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Xs(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=Un(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(zt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=ff,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Da(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function lA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class cA extends Ur{constructor(t){super(t),this.removeGroupControls=We,this.removeListeners=We,this.controls=new aA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||We}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qg=e=>(t,n)=>{e&&Ae.update(()=>e(t,n))};class uA extends Ur{constructor(){super(...arguments),this.removePointerDownListener=We}onPointerDown(t){this.session=new C1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Qg(t),onStart:Qg(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&Ae.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=zn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function dA(){const e=m.useContext(kc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=m.useId();return m.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const ul={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=Zg(e,t.target.x),r=Zg(e,t.target.y);return`${n}% ${r}%`}},fA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ir.parse(e);if(s.length>5)return r;const o=Ir.createTransformer(e),i=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=Ve(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class hA extends ae.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;wP(pA),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ul.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Ae.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function R1(e){const[t,n]=dA(),r=m.useContext(Qh);return ae.createElement(hA,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(kw),isPresent:t,safeToRemove:n})}const pA={borderRadius:{...Yo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yo,borderTopRightRadius:Yo,borderBottomLeftRadius:Yo,borderBottomRightRadius:Yo,boxShadow:fA},O1=["TopLeft","TopRight","BottomLeft","BottomRight"],mA=O1.length,ev=e=>typeof e=="string"?parseFloat(e):e,tv=e=>typeof e=="number"||ee.test(e);function gA(e,t,n,r,s,o){s?(e.opacity=Ve(0,n.opacity!==void 0?n.opacity:1,vA(r)),e.opacityExit=Ve(t.opacity!==void 0?t.opacity:1,0,yA(r))):o&&(e.opacity=Ve(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<mA;i++){const l=`border${O1[i]}Radius`;let c=nv(t,l),u=nv(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||tv(c)===tv(u)?(e[l]=Math.max(Ve(ev(c),ev(u),r),0),(_n.test(u)||_n.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ve(t.rotate||0,n.rotate||0,r))}function nv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vA=I1(0,.5,n1),yA=I1(.5,.95,We);function I1(e,t,n){return r=>r<e?0:r>t?1:n(Gi(e,t,r))}function rv(e,t){e.min=t.min,e.max=t.max}function Bt(e,t){rv(e.x,t.x),rv(e.y,t.y)}function sv(e,t,n,r,s){return e-=t,e=Yl(e,1/n,r),s!==void 0&&(e=Yl(e,1/s,r)),e}function xA(e,t=0,n=1,r=.5,s,o=e,i=e){if(_n.test(t)&&(t=parseFloat(t),t=Ve(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Ve(o.min,o.max,r);e===o&&(l-=t),e.min=sv(e.min,t,n,l,s),e.max=sv(e.max,t,n,l,s)}function ov(e,t,[n,r,s],o,i){xA(e,t[n],t[r],t[s],t.scale,o,i)}const wA=["x","scaleX","originX"],jA=["y","scaleY","originY"];function iv(e,t,n,r){ov(e.x,t,wA,n?n.x:void 0,r?r.x:void 0),ov(e.y,t,jA,n?n.y:void 0,r?r.y:void 0)}function av(e){return e.translate===0&&e.scale===1}function L1(e){return av(e.x)&&av(e.y)}function SA(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function M1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function lv(e){return Mt(e.x)/Mt(e.y)}class bA{constructor(){this.members=[]}add(t){hp(this.members,t),t.scheduleRender()}remove(t){if(pp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cv(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const _A=(e,t)=>e.depth-t.depth;class CA{constructor(){this.children=[],this.isDirty=!1}add(t){hp(this.children,t),this.isDirty=!0}remove(t){pp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_A),this.isDirty=!1,this.children.forEach(t)}}function EA(e,t){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(Jn(r),e(o-t))};return Ae.read(r,!0),()=>Jn(r)}function kA(e){window.MotionDebug&&window.MotionDebug.record(e)}function NA(e){return e instanceof SVGElement&&e.tagName!=="svg"}function PA(e,t,n){const r=Nt(e)?e:wo(e);return r.start(fp("",r,t,n)),r.animation}const uv=["","X","Y","Z"],TA={visibility:"hidden"},dv=1e3;let AA=0;const Xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function D1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=AA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xr.totalNodes=Xr.resolvedTargetDeltas=Xr.recalculatedProjection=0,this.nodes.forEach(IA),this.nodes.forEach(FA),this.nodes.forEach(VA),this.nodes.forEach(LA),kA(Xr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new CA)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new mp),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=NA(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=EA(h,250),ul.hasAnimatedSinceResize&&(ul.hasAnimatedSinceResize=!1,this.nodes.forEach(hv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||HA,{onLayoutAnimationStart:j,onLayoutAnimationComplete:y}=d.getProps(),g=!this.targetLayout||!M1(this.targetLayout,w)||p,v=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const S={...dp(x,"layout"),onPlay:j,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||hv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Jn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UA),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fv);return}this.isUpdating||this.nodes.forEach(DA),this.isUpdating=!1,this.nodes.forEach($A),this.nodes.forEach(RA),this.nodes.forEach(OA),this.clearAllSnapshots();const l=performance.now();ut.delta=Or(0,1e3/60,l-ut.timestamp),ut.timestamp=l,ut.isProcessing=!0,Cu.update.process(ut),Cu.preRender.process(ut),Cu.render.process(ut),ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(MA),this.sharedNodes.forEach(BA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!L1(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||Jr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),qA(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Ge();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(cr(l.x,c.offset.x),cr(l.y,c.offset.y)),l}removeElementScroll(i){const l=Ge();Bt(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Bt(l,i);const{scroll:h}=this.root;h&&(cr(l.x,-h.offset.x),cr(l.y,-h.offset.y))}cr(l.x,d.offset.x),cr(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=Ge();Bt(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&eo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Jr(d.latestValues)&&eo(c,d.latestValues)}return Jr(this.latestValues)&&eo(c,this.latestValues),c}removeTransform(i){const l=Ge();Bt(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Jr(u.latestValues))continue;hf(u.latestValues)&&u.updateSnapshot();const d=Ge(),f=u.measurePageBox();Bt(d,f),iv(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Jr(this.latestValues)&&iv(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ut.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),gi(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bt(this.target,this.layout.layoutBox),P1(this.target,this.targetDelta)):Bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),gi(this.relativeTargetOrigin,this.target,p.target),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hf(this.parent.latestValues)||N1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ut.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Bt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;nA(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=Zs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zs(),this.projectionDeltaWithTransform=Zs());const x=this.projectionTransform;mi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=cv(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Zs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ge(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,x=p!==w,j=this.getStack(),y=!j||j.members.length<=1,g=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(WA));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const b=S/1e3;pv(f.x,i.x,b),pv(f.y,i.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zA(this.relativeTarget,this.relativeTargetOrigin,h,b),v&&SA(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Ge()),Bt(v,this.relativeTarget)),x&&(this.animationValues=d,gA(d,u,this.latestValues,b,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Jn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ae.update(()=>{ul.hasAnimatedSinceResize=!0,this.currentAnimation=PA(0,dv,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&$1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ge();const f=Mt(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=Mt(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Bt(l,c),eo(l,d),mi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new bA),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<uv.length;d++){const f="rotate"+uv[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return TA;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=cl(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=cl(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Jr(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=cv(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:w}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Bl){if(h[x]===void 0)continue;const{correct:j,applyTo:y}=Bl[x],g=u.transform==="none"?h[x]:j(h[x],f);if(y){const v=y.length;for(let S=0;S<v;S++)u[y[S]]=g}else u[x]=g}return this.options.layoutId&&(u.pointerEvents=f===this?cl(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(fv),this.root.sharedNodes.clear()}}}function RA(e){e.updateLayout()}function OA(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;o==="size"?zt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],p=Mt(h);h.min=r[f].min,h.max=h.min+p}):$1(o,n.layoutBox,r)&&zt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],p=Mt(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Zs();mi(l,r,n.layoutBox);const c=Zs();i?mi(c,e.applyTransform(s,!0),n.measuredBox):mi(c,r,n.layoutBox);const u=!L1(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const w=Ge();gi(w,n.layoutBox,h.layoutBox);const x=Ge();gi(x,r,p.layoutBox),M1(w,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function IA(e){Xr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function LA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function MA(e){e.clearSnapshot()}function fv(e){e.clearMeasurements()}function DA(e){e.isLayoutDirty=!1}function $A(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function FA(e){e.resolveTargetDelta()}function VA(e){e.calcProjection()}function UA(e){e.resetRotation()}function BA(e){e.removeLeadSnapshot()}function pv(e,t,n){e.translate=Ve(t.translate,0,n),e.scale=Ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mv(e,t,n,r){e.min=Ve(t.min,n.min,r),e.max=Ve(t.max,n.max,r)}function zA(e,t,n,r){mv(e.x,t.x,n.x,r),mv(e.y,t.y,n.y,r)}function WA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const HA={duration:.45,ease:[.4,0,.1,1]},gv=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),vv=gv("applewebkit/")&&!gv("chrome/")?Math.round:We;function yv(e){e.min=vv(e.min),e.max=vv(e.max)}function qA(e){yv(e.x),yv(e.y)}function $1(e,t,n){return e==="position"||e==="preserve-aspect"&&!df(lv(t),lv(n),.2)}const GA=D1({attachResizeListener:(e,t)=>Un(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mu={current:void 0},F1=D1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mu.current){const e=new GA({});e.mount(window),e.setOptions({layoutScroll:!0}),Mu.current=e}return Mu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KA={pan:{Feature:uA},drag:{Feature:cA,ProjectionNode:F1,MeasureLayout:R1}},YA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function JA(e){const t=YA.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function mf(e,t,n=1){const[r,s]=JA(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return j1(i)?parseFloat(i):i}else return rf(s)?mf(s,t,n+1):s}function XA(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const o=s.get();if(!rf(o))return;const i=mf(o,r);i&&s.set(i)});for(const s in t){const o=t[s];if(!rf(o))continue;const i=mf(o,r);i&&(t[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:t,transitionEnd:n}}const QA=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),V1=e=>QA.has(e),ZA=e=>Object.keys(e).some(V1),xv=e=>e===Es||e===ee,wv=(e,t)=>parseFloat(e.split(", ")[t]),jv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return wv(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?wv(o[1],e):0}},eR=new Set(["x","y","z"]),tR=sa.filter(e=>!eR.has(e));function nR(e){const t=[];return tR.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const jo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:jv(4,13),y:jv(5,14)};jo.translateX=jo.x;jo.translateY=jo.y;const rR=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=jo[u](r,o)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=jo[u](c,o)}),e},sR=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(V1);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=Ko(d);const h=t[c];let p;if(Wl(h)){const w=h.length,x=h[0]===null?1:0;d=h[x],f=Ko(d);for(let j=x;j<w&&h[j]!==null;j++)p?ip(Ko(h[j])===p):p=Ko(h[j])}else p=Ko(h);if(f!==p)if(xv(f)&&xv(p)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===ee&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(i||(o=nR(e),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=rR(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Nc&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function oR(e,t,n,r){return ZA(t)?sR(e,t,n,r):{target:t,transitionEnd:r}}const iR=(e,t,n,r)=>{const s=XA(e,t,r);return t=s.target,r=s.transitionEnd,oR(e,t,n,r)},gf={current:null},U1={current:!1};function aR(){if(U1.current=!0,!!Nc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gf.current=e.matches;e.addListener(t),t()}else gf.current=!1}function lR(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],i=n[s];if(Nt(o))e.addValue(s,o),Kl(r)&&r.add(s);else if(Nt(i))e.addValue(s,wo(o,{owner:e})),Kl(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,wo(l!==void 0?l:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Sv=new WeakMap,B1=Object.keys(qi),cR=B1.length,bv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uR=Xh.length;class dR{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ae.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Tc(n),this.isVariantNode=Ew(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&Nt(h)&&(h.set(l[f],!1),Kl(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Sv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),U1.current||aR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Sv.delete(this.current),this.projection&&this.projection.unmount(),Jn(this.notifyUpdate),Jn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Cs.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Ae.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let i,l;for(let c=0;c<cR;c++){const u=B1[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=qi[u];h&&(i=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Xs(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bv.length;r++){const s=bv[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=lR(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<uR;r++){const s=Xh[r],o=this.props[s];(Hi(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=wo(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=op(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Nt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new mp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class z1 extends dR{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},o){let i=N2(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){E2(this,r,i);const l=iR(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function fR(e){return window.getComputedStyle(e)}class hR extends z1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Cs.has(n)){const r=up(n);return r&&r.default||0}else{const r=fR(t),s=(Tw(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return T1(t,n)}build(t,n,r,s){ep(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return sp(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){Mw(t,n,r,s)}}class pR extends z1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cs.has(n)){const r=up(n);return r&&r.default||0}return n=Dw.has(n)?n:Yh(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ge()}scrapeMotionValuesFromProps(t,n){return Fw(t,n)}build(t,n,r,s){np(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){$w(t,n,r,s)}mount(t){this.isSVGTag=rp(t.tagName),super.mount(t)}}const mR=(e,t)=>Zh(e)?new pR(t,{enableHardwareAcceleration:!1}):new hR(t,{enableHardwareAcceleration:!0}),gR={layout:{ProjectionNode:F1,MeasureLayout:R1}},vR={...z2,...cT,...KA,...gR},ks=yP((e,t)=>JP(e,t,vR,mR));function W1(){const e=m.useRef(!1);return Kh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function yR(){const e=W1(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>Ae.postRender(r),[r]),t]}class xR extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function wR({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),m.createElement(xR,{isPresent:t,childRef:r,sizeRef:s},m.cloneElement(e,{ref:r}))}const Du=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=Vw(jR),c=m.useId(),u=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return m.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(e=m.createElement(wR,{isPresent:n},e)),m.createElement(kc.Provider,{value:u},e)};function jR(){return new Map}function SR(e){return m.useEffect(()=>()=>e(),[])}const Qr=e=>e.key||"";function bR(e,t){e.forEach(n=>{const r=Qr(n);t.set(r,n)})}function _R(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const CR=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=m.useContext(Qh).forceRender||yR()[0],c=W1(),u=_R(e);let d=u;const f=m.useRef(new Map).current,h=m.useRef(d),p=m.useRef(new Map).current,w=m.useRef(!0);if(Kh(()=>{w.current=!1,bR(u,p),h.current=d}),SR(()=>{w.current=!0,p.clear(),f.clear()}),w.current)return m.createElement(m.Fragment,null,d.map(g=>m.createElement(Du,{key:Qr(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},g)));d=[...d];const x=h.current.map(Qr),j=u.map(Qr),y=x.length;for(let g=0;g<y;g++){const v=x[g];j.indexOf(v)===-1&&!f.has(v)&&f.set(v,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((g,v)=>{if(j.indexOf(v)!==-1)return;const S=p.get(v);if(!S)return;const b=x.indexOf(v);let k=g;if(!k){const C=()=>{f.delete(v);const _=Array.from(p.keys()).filter(E=>!j.includes(E));if(_.forEach(E=>p.delete(E)),h.current=u.filter(E=>{const O=Qr(E);return O===v||_.includes(O)}),!f.size){if(c.current===!1)return;l(),r&&r()}};k=m.createElement(Du,{key:Qr(S),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:o,mode:i},S),f.set(v,k)}d.splice(b,0,k)}),d=d.map(g=>{const v=g.key;return f.has(v)?g:m.createElement(Du,{key:Qr(g),isPresent:!0,presenceAffectsLayout:o,mode:i},g)}),m.createElement(m.Fragment,null,f.size?d:d.map(g=>m.cloneElement(g)))},ER=Hh("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=ae.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Vk:"button";return a.jsx(i,{className:_e(ER({variant:t,size:n,className:e})),ref:o,...s})});z.displayName="Button";const G=ae.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));G.displayName="Input";var kR="Label",H1=m.forwardRef((e,t)=>a.jsx(le.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));H1.displayName=kR;var q1=H1;const NR=Hh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=ae.forwardRef(({className:e,...t},n)=>a.jsx(q1,{ref:n,className:_e(NR(),e),...t}));K.displayName=q1.displayName;const te=ae.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));te.displayName="Card";const Se=ae.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));Se.displayName="CardHeader";const be=ae.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));be.displayName="CardTitle";const G1=ae.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));G1.displayName="CardDescription";const ne=ae.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:_e("p-6 pt-0",e),...t}));ne.displayName="CardContent";const PR=ae.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",e),...t}));PR.displayName="CardFooter";const TR="modulepreload",AR=function(e){return"/"+e},_v={},la=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=AR(o),o in _v)return;_v[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":TR,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},RR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>la(()=>Promise.resolve().then(()=>Ro),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class gp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class OR extends gp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cv extends gp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ev extends gp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vf||(vf={}));var IR=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class LR{constructor(t,{headers:n={},customFetch:r,region:s=vf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=RR(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return IR(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new OR(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Cv(f);if(!f.ok)throw new Ev(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield f.json():p==="application/octet-stream"?w=yield f.blob():p==="text/event-stream"?w=f:p==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Ev||s instanceof Cv?s.context:void 0}}})}}var bt={},vp={},Ic={},ca={},Lc={},Mc={},MR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},So=MR();const DR=So.fetch,K1=So.fetch.bind(So),Y1=So.Headers,$R=So.Request,FR=So.Response,Ro=Object.freeze(Object.defineProperty({__proto__:null,Headers:Y1,Request:$R,Response:FR,default:K1,fetch:DR},Symbol.toStringTag,{value:"Module"})),VR=Ob(Ro);var Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});let UR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Dc.default=UR;var J1=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mc,"__esModule",{value:!0});const BR=J1(VR),zR=J1(Dc);let WR=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=BR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,u;let d=null,f=null,h=null,p=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=g:f=JSON.parse(g))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const j=await o.text();try{d=JSON.parse(j),Array.isArray(d)&&o.status===404&&(f=[],d=null,p=200,w="OK")}catch{o.status===404&&j===""?(p=204,w="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,w="OK"),d&&this.shouldThrowOnError)throw new zR.default(d)}return{error:d,data:f,count:h,status:p,statusText:w}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Mc.default=WR;var HR=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lc,"__esModule",{value:!0});const qR=HR(Mc);let GR=class extends qR.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Lc.default=GR;var KR=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ca,"__esModule",{value:!0});const YR=KR(Lc);let JR=class extends YR.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ca.default=JR;var XR=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ic,"__esModule",{value:!0});const Jo=XR(ca);let QR=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ic.default=QR;var X1=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vp,"__esModule",{value:!0});const ZR=X1(Ic),eO=X1(ca);let tO=class Q1{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new ZR.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Q1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new eO.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};vp.default=tO;var Oo=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bt,"__esModule",{value:!0});bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const Z1=Oo(vp);bt.PostgrestClient=Z1.default;const ej=Oo(Ic);bt.PostgrestQueryBuilder=ej.default;const tj=Oo(ca);bt.PostgrestFilterBuilder=tj.default;const nj=Oo(Lc);bt.PostgrestTransformBuilder=nj.default;const rj=Oo(Mc);bt.PostgrestBuilder=rj.default;const sj=Oo(Dc);bt.PostgrestError=sj.default;var nO=bt.default={PostgrestClient:Z1.default,PostgrestQueryBuilder:ej.default,PostgrestFilterBuilder:tj.default,PostgrestTransformBuilder:nj.default,PostgrestBuilder:rj.default,PostgrestError:sj.default};const{PostgrestClient:rO,PostgrestQueryBuilder:gF,PostgrestFilterBuilder:vF,PostgrestTransformBuilder:yF,PostgrestBuilder:xF,PostgrestError:wF}=nO;function sO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const oO=sO(),iO="2.12.2",aO=`realtime-js/${iO}`,lO="1.0.0",oj=1e4,cO=1e3;var vi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vi||(vi={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var an;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(an||(an={}));var yf;(function(e){e.websocket="websocket"})(yf||(yf={}));var es;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(es||(es={}));class uO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class ij{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pe||(Pe={}));const kv=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=dO(i,e,t,s),o),{})},dO=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?aj(o,i):xf(i)},aj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return mO(t,n)}switch(e){case Pe.bool:return fO(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return hO(t);case Pe.json:case Pe.jsonb:return pO(t);case Pe.timestamp:return gO(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return xf(t);default:return xf(t)}},xf=e=>e,fO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>aj(t,l))}return e},gO=e=>typeof e=="string"?e.replace(" ","T"):e,lj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $u{constructor(t,n,r={},s=oj){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nv||(Nv={}));class yi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=yi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yi.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(j=>j.presence_ref),p=f.map(j=>j.presence_ref),w=d.filter(j=>p.indexOf(j.presence_ref)<0),x=f.filter(j=>h.indexOf(j.presence_ref)<0);w.length>0&&(l[u]=w),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Pv||(Pv={}));var Jl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jl||(Jl={}));var Mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class yp{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,an.join,this.params,this.timeout),this.rejoinTimer=new ij(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new yi(this),this.broadcastEndpointURL=lj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Jl.PRESENCE],d={},f={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Mn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Mn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(Mn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,j=[];for(let y=0;y<x;y++){const g=w[y],{filter:{event:v,schema:S,table:b,filter:k}}=g,C=h&&h[y];if(C&&C.event===v&&C.schema===S&&C.table===b&&C.filter===k)j.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Mn.SUBSCRIBED);return}}).receive("error",h=>{this.state=rt.errored,t==null||t(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===rt.joined&&t===Jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new $u(this,an.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $u(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=an;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,x,j;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(x=p.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===i}).map(p=>p.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var w,x,j,y,g,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const S=p.id,b=(w=p.filter)===null||w===void 0?void 0:w.event;return S&&((x=n.ids)===null||x===void 0?void 0:x.includes(S))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const S=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:x,table:j,commit_timestamp:y,type:g,errors:v}=w;h=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:y,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(w))}p.callback(h,r)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&yp.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=kv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=kv(t.columns,t.old_record)),n}}const Tv=()=>{},vO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yO{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oj,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tv,this.ref=0,this.logger=Tv,this.conn=null,this.sendBuffer=[],this.serializer=new uO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>la(()=>Promise.resolve().then(()=>Ro),void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${yf.websocket}`,this.httpEndpoint=lj(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ij(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(setTimeout(()=>{this.setAuth().catch(t=>{this.log("error","error setting auth",t)})},0),!this.conn){if(this.transport||(this.transport=oO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vi.connecting:return es.Connecting;case vi.open:return es.Open;case vi.closing:return es.Closing;default:return es.Closed}}isConnected(){return this.connectionState()===es.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new yp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:aO};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(an.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(cO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([vO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class xp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class xO extends xp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wf extends xp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var wO=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const cj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>la(()=>Promise.resolve().then(()=>Ro),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},jO=()=>wO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield la(()=>Promise.resolve().then(()=>Ro),void 0)).Response:Response}),jf=e=>{if(Array.isArray(e))return e.map(n=>jf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=jf(r)}),t},SO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ns=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Fu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bO=(e,t,n)=>Ns(void 0,void 0,void 0,function*(){const r=yield jO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new xO(Fu(s),o,i))}).catch(s=>{t(new wf(Fu(s),s))}):t(new wf(Fu(e),e))}),_O=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(SO(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function ua(e,t,n,r,s,o){return Ns(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,_O(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>bO(c,l,r))})})}function Xl(e,t,n,r){return Ns(this,void 0,void 0,function*(){return ua(e,"GET",t,n,r)})}function Dn(e,t,n,r,s){return Ns(this,void 0,void 0,function*(){return ua(e,"POST",t,r,s,n)})}function Sf(e,t,n,r,s){return Ns(this,void 0,void 0,function*(){return ua(e,"PUT",t,r,s,n)})}function CO(e,t,n,r){return Ns(this,void 0,void 0,function*(){return ua(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uj(e,t,n,r,s){return Ns(this,void 0,void 0,function*(){return ua(e,"DELETE",t,r,s,n)})}var jt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const EO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Av={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kO{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=cj(s)}uploadOrUpdate(t,n,r,s){return jt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Av),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Sf:Dn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}upload(t,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return jt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Av.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Sf(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Dn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new xp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}update(t,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return jt(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}copy(t,n,r){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return jt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Dn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return jt(this,void 0,void 0,function*(){try{const s=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}download(t,n){return jt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Xl(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}info(t){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Xl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:jf(r),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}exists(t){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield CO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ze(r)&&r instanceof wf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return jt(this,void 0,void 0,function*(){try{return{data:yield uj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}list(t,n,r){return jt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},EO),n),{prefix:t||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const NO="2.10.2",PO={"X-Client-Info":`storage-js/${NO}`};var Ts=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class TO{constructor(t,n={},r,s){const o=new URL(t);if(s!=null&&s.useNewHostname){const i=/supabase\.(co|in|red)$/.test(o.hostname),l="/storage";i&&!o.hostname.includes("storage.supabase.")&&o.pathname.startsWith(l)&&(o.pathname=o.pathname.substring(l.length),o.hostname=o.hostname.replace("supabase.","storage.supabase."))}this.url=o.href,this.headers=Object.assign(Object.assign({},PO),n),this.fetch=cj(r)}listBuckets(){return Ts(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ze(t))return{data:null,error:t};throw t}})}getBucket(t){return Ts(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ts(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ts(this,void 0,void 0,function*(){try{return{data:yield Sf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ts(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ts(this,void 0,void 0,function*(){try{return{data:yield uj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}}class AO extends TO{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new kO(this.url,this.headers,t,this.fetch)}}const RO="2.39.0";let ni="";typeof Deno<"u"?ni="deno":typeof document<"u"?ni="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ni="react-native":ni="node";const OO={"X-Client-Info":`supabase-js-${ni}/${RO}`};var IO=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const LO=e=>{let t;return e?t=e:typeof fetch>"u"?t=K1:t=fetch,(...n)=>t(...n)},MO=()=>typeof Headers>"u"?Y1:Headers,DO=(e,t,n)=>{const r=LO(n),s=MO();return(o,i)=>IO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};function $O(e){return e.replace(/\/$/,"")}function FO(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o)}}const dj="2.70.0",$s=30*1e3,bf=3,Vu=bf*$s,VO="http://localhost:9999",UO="supabase.auth.token",BO={"X-Client-Info":`gotrue-js/${dj}`},_f="X-Supabase-Api-Version",fj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WO=6e5;class wp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HO extends wp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qO(e){return ie(e)&&e.name==="AuthApiError"}class hj extends wp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Br extends wp{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class or extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GO(e){return ie(e)&&e.name==="AuthSessionMissingError"}class $a extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fa extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Va extends Br{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KO(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class Rv extends Br{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cf extends Br{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Uu(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class Ov extends Br{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class xi extends Br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iv=` 	
\r=`.split(""),YO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Iv.length;t+=1)e[Iv[t].charCodeAt(0)]=-2;for(let t=0;t<Ql.length;t+=1)e[Ql[t].charCodeAt(0)]=t;return e})();function Lv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ql[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ql[r]),t.queuedBits-=6}}function pj(e,t,n){const r=YO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mv(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{QO(i,r,n)};for(let i=0;i<e.length;i+=1)pj(e.charCodeAt(i),s,o);return t.join("")}function JO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}JO(r,t)}}function QO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ZO(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)pj(e.charCodeAt(s),n,r);return new Uint8Array(t)}function eI(e){const t=[];return XO(e,n=>t.push(n)),new Uint8Array(t)}function tI(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Lv(s,n,r)),Lv(null,n,r),t.join("")}function nI(e){return Math.round(Date.now()/1e3)+e}function rI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",Gr={tested:!1,writable:!1},wi=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gr.tested)return Gr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gr.tested=!0,Gr.writable=!0}catch{Gr.tested=!0,Gr.writable=!1}return Gr.writable};function sI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const mj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>la(()=>Promise.resolve().then(()=>Ro),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},oI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gj=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ua=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ba=async(e,t)=>{await e.removeItem(t)};class $c{constructor(){this.promise=new $c.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$c.promiseConstructor=Promise;function Bu(e){const t=e.split(".");if(t.length!==3)throw new xi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!zO.test(t[r]))throw new xi("JWT not in base64url format");return{header:JSON.parse(Mv(t[0])),payload:JSON.parse(Mv(t[1])),signature:ZO(t[2]),raw:{header:t[0],payload:t[1]}}}async function iI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function aI(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function lI(e){return("0"+e.toString(16)).substr(-2)}function cI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,lI).join("")}async function uI(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function dI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uI(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function As(e,t,n=!1){const r=cI();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gj(e,`${t}-code-verifier`,s);const o=await dI(r);return[o,r===o?"plain":"s256"]}const fI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hI(e){const t=e.headers.get(_f);if(!t||!t.match(fI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rs(e){if(!gI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var vI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yI=[502,503,504];async function Dv(e){var t;if(!oI(e))throw new Cf(Zr(e),0);if(yI.includes(e.status))throw new Cf(Zr(e),e.status);let n;try{n=await e.json()}catch(o){throw new hj(Zr(o),o)}let r;const s=hI(e);if(s&&s.getTime()>=fj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ov(Zr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new or}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Ov(Zr(n),e.status,n.weak_password.reasons);throw new HO(Zr(n),e.status||500,r)}const xI=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ue(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[_f]||(o[_f]=fj["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await wI(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function wI(e,t,n,r,s,o){const i=xI(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Cf(Zr(c),0)}if(l.ok||await Dv(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Dv(c)}}function In(e){var t;let n=null;_I(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=nI(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function $v(e){const t=In(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jI(e){return{data:e,error:null}}function SI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=vI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function bI(e){return e}function _I(e){return e.access_token&&e.refresh_token&&e.expires_in}const zu=["global","local","others"];var CI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class EI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=mj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=zu[0]){if(zu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zu.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=CI(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:SI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:bI});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Rs(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Rs(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Rs(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Rs(t.userId);try{const{data:n,error:r}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Rs(t.userId),Rs(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}}const kI={getItem:e=>wi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{wi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{wi()&&globalThis.localStorage.removeItem(e)}};function Fv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function NI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Os={debug:!!(globalThis&&wi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class PI extends vj{}async function TI(e,t,n){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new PI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Os.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}NI();const AI={url:VO,storageKey:UO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vv(e,t,n){return await n()}class Ki{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ki.nextInstanceID,Ki.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},AI),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new EI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mj(s.fetch),this.lock=s.lock||Vv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=TI:this.lock=Vv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:wi()?this.storage=kI:(this.memoryStorage={},this.storage=Fv(this.memoryStorage)):(this.memoryStorage={},this.storage=Fv(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dj}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=sI(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),tn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),KO(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ie(n)?{error:n}:{error:new hj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:In}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await As(this.storage,this.storageKey)),o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:In})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:In})}else throw new Fa("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$v})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$v})}else throw new Fa("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new $a}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,l,c,u,d,f,h,p;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:j,wallet:y,statement:g,options:v}=t;let S;if(tn())if(typeof y=="object")S=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const b=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),g?{statement:g}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${b.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:j,error:y}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:tI(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:In});if(y)throw y;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new $a}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:y})}catch(j){if(ie(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await Ua(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:In});if(await Ba(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new $a}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ie(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:In}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $a}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await As(this.storage,this.storageKey));const{error:f}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Fa("You must provide either an email or phone number.")}catch(l){if(ie(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:In});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await As(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:jI})}catch(o){if(ie(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new or;const{error:s}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Fa("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Vu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new or}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:fr})})}catch(n){if(ie(n))return GO(n)&&(await this._removeSession(),await Ba(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new or;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await As(this.storage,this.storageKey));const{data:u,error:d}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:fr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new or;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Bu(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ie(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new or;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!tn())throw new Va("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Va(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Rv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Va("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Rv("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new Va("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:x,error:j}=await this._getUser(o);if(j)throw j;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(ie(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ua(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(qO(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ba(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=rI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await As(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ie(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return tn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ie(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await aI(async s=>(s>0&&await iI(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:In})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Uu(o)&&Date.now()+i-r<$s})}catch(r){if(this._debug(n,"error",r),ie(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),tn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ua(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vu;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Vu}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Uu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $c;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new or;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ie(o)){const i={session:null,error:o};return Uu(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gj(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ba(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$s}ms, refresh threshold is ${bf} ticks`),s<=bf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await As(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(ie(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bu(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+WO>Date.now()))return r;const{data:s,error:o}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new xi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new xi("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};r=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Bu(r);if(pI(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=mI(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,eI(`${l}.${c}`)))throw new xi("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}Ki.nextInstanceID=0;class RI extends Ki{constructor(t){super(t)}}var OI=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const II={headers:OO},LI={schema:"public"},MI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DI={};class $I{constructor(t,n,r){var s,o,i,l,c,u,d,f;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=$O(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:LI,realtime:DI,auth:Object.assign(Object.assign({},MI),{storageKey:p}),global:II},x=FO(r??{},w);this.storageKey=(o=(s=x.auth)===null||s===void 0?void 0:s.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=(i=x.global)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=x.auth)!==null&&c!==void 0?c:{},this.headers,(u=x.global)===null||u===void 0?void 0:u.fetch),this.fetch=DO(n,this._getAccessToken.bind(this),(d=x.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new rO(`${h}/rest/v1`,{headers:this.headers,schema:(f=x.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new LR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AO(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return OI(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RI({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,debug:l,fetch:u})}_initRealtimeClient(t){return new yO(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FI=(e,t,n)=>new $I(e,t,n),VI="https://ovpfcyqudltassvckvxk.supabase.co",UI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im92cGZjeXF1ZGx0YXNzdmNrdnhrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNzc0NTMsImV4cCI6MjA2NTg1MzQ1M30.0VVPA3XWy0nk5BQFa9e2KlFxqoMhU7MVkbBXq_q8XrM",de=FI(VI,UI),Ne={ADMIN:"admin",MANAGER:"manager",CASHIER:"cashier",STOCK:"stock",SALESPERSON:"salesperson",NONE:"none"},Z={MANAGE_USERS:"manage_users",MANAGE_PRODUCTS:"manage_products",MANAGE_STOCK:"manage_stock",APPLY_DISCOUNTS:"apply_discounts",CANCEL_SALES:"cancel_sales",VIEW_REPORTS:"view_reports",PROCESS_SALES:"process_sales",VIEW_ALL_STORES_DATA:"view_all_stores_data",SHARE_STOCK:"share_stock",CASH_REGISTER_MANAGEMENT:"cash_register_management"},dl={[Ne.ADMIN]:[Z.MANAGE_USERS,Z.MANAGE_PRODUCTS,Z.MANAGE_STOCK,Z.APPLY_DISCOUNTS,Z.CANCEL_SALES,Z.VIEW_REPORTS,Z.PROCESS_SALES,Z.VIEW_ALL_STORES_DATA,Z.SHARE_STOCK,Z.CASH_REGISTER_MANAGEMENT],[Ne.MANAGER]:[Z.MANAGE_PRODUCTS,Z.MANAGE_STOCK,Z.APPLY_DISCOUNTS,Z.CANCEL_SALES,Z.VIEW_REPORTS,Z.PROCESS_SALES,Z.SHARE_STOCK,Z.CASH_REGISTER_MANAGEMENT],[Ne.CASHIER]:[Z.PROCESS_SALES],[Ne.STOCK]:[Z.MANAGE_STOCK,Z.MANAGE_PRODUCTS,Z.SHARE_STOCK],[Ne.SALESPERSON]:[Z.PROCESS_SALES],[Ne.NONE]:[]},Dt=(e,t)=>{var n;return((n=dl[e])==null?void 0:n.includes(t))||!1},xt=()=>{const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null},Uv=e=>{localStorage.setItem("currentUser",JSON.stringify(e))},Ef=()=>{localStorage.removeItem("currentUser")},yj=async()=>{try{console.log(" Buscando usurios...");const e=await fetch("/api/usuarios",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Erro ao buscar usurios");const t=await e.json();console.log(" Usurios do backend:",t.users.length);const{data:n,error:r}=await de.from("user_roles").select("*");if(r)return console.error("Erro ao buscar roles:",r),[];console.log(" Roles encontradas:",n.length),console.log(" Detalhes das roles:",n);const{data:s,error:o}=await de.from("stores").select("*");if(o)return console.error("Erro ao buscar stores:",o),[];console.log(" Stores encontradas:",s.length);const i={};return s.forEach(c=>{i[c.id]=c}),t.users.map(c=>{var h,p,w;console.log(" Processando usurio:",c.id,"Nome:",((h=c.user_metadata)==null?void 0:h.name)||c.email.split("@")[0]);const u=n.find(x=>x.user_id===c.id);console.log(" Role encontrada para usurio:",c.id,":",u);const d=u!=null&&u.store_id?i[u.store_id]:null;console.log(" Store encontrada para usurio:",c.id,"store_id:",u==null?void 0:u.store_id,"store:",d);const f={id:c.id,username:c.email,name:((p=c.user_metadata)==null?void 0:p.name)||c.email.split("@")[0],role:u?u.role:"none",store_id:u?u.store_id:null,active:u?u.active:!0,created_at:c.created_at,stores:d};return console.log(" Usurio processado:",f.name,"Role:",f.role,"Loja:",((w=f.stores)==null?void 0:w.name)||"No definida","Ativo:",f.active),f})}catch(e){return console.error("Erro ao buscar usurios:",e),[]}},BI=async(e,t)=>{var n;try{const{data:r,error:s}=await de.auth.signInWithPassword({email:e,password:t});if(s||!(r!=null&&r.user))return console.error("[AUTH] Erro ao autenticar:",s),null;let o="none";return r.user.email==="admin@server.com"&&(o="admin"),{id:r.user.id,email:r.user.email,name:((n=r.user.user_metadata)==null?void 0:n.name)||e.split("@")[0],role:o,store_id:null,active:!0,created_at:r.user.created_at,stores:null}}catch(r){return console.error("[AUTH] Erro inesperado:",r),null}},zI=async(e,t)=>{try{const n=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,role:t.role,store_id:t.store_id,password:t.password||void 0})});if(!n.ok){const s=await n.json();throw console.error(" Erro do backend (update):",s),new Error(s.error||"Erro ao atualizar usurio")}return await n.json()}catch(n){throw console.error(" Erro na comunicao (update):",n),new Error(`Erro na comunicao com o backend: ${n.message}`)}},WI=async e=>{try{const t=await fetch(`/api/usuarios/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const n=await t.json();throw new Error(n.error||"Erro ao deletar usurio")}return await t.json()}catch(t){throw new Error(`Erro na comunicao com o backend: ${t.message}`)}},zr=async(e=!1)=>{let t=de.from("stores").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_online_store",!1));const{data:n,error:r}=await t;return r?[]:n},HI=async(e,t)=>{try{const n=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:t})});if(!n.ok){const s=await n.json();throw console.error(" Erro do backend:",s),new Error(s.error||"Erro ao alterar status do usurio")}return await n.json()}catch(n){throw console.error(" Erro na comunicao:",n),new Error(`Erro na comunicao com o backend: ${n.message}`)}},qI=({onLogin:e})=>{const[t,n]=m.useState(""),[r,s]=m.useState(""),[o,i]=m.useState(!1),{toast:l}=Vt(),c=async u=>{u.preventDefault(),console.log("[LOGIN] handleSubmit chamado"),i(!0);try{console.log("[LOGIN] Antes do authenticateUser");const d=await BI(t,r);console.log("[LOGIN] Resultado do login:",d),d?d.role==="none"?(l({title:"Acesso restrito",description:"Seu usurio ainda no possui permisso de acesso. Solicite a um administrador para atribuir uma funo (role).",variant:"destructive"}),console.warn("[LOGIN] Usurio sem role, acesso bloqueado:",d)):(l({title:"Login realizado com sucesso!",description:`Bem-vindo, ${d.email}!`}),e(d)):(l({title:"Erro no login",description:"Usurio ou senha incorretos, ou usurio sem permisso ativa.",variant:"destructive"}),console.error("[LOGIN] Falha no login: usurio no encontrado ou sem permisso."))}catch(d){console.error("[LOGIN] Erro inesperado:",d),l({title:"Erro no sistema",description:"Ocorreu um problema ao tentar fazer login. Tente novamente.",variant:"destructive"})}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg-fdg p-4",children:a.jsx(ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:a.jsxs(te,{className:"glass-effect neon-glow",children:[a.jsxs(Se,{className:"text-center",children:[a.jsx("img",{src:"/images/logobranca fdg.png",alt:"Fio de Gala",className:"mx-auto mb-4 w-32 h-32 object-contain"}),a.jsx(be,{className:"text-2xl font-bold text-white",children:"FDG System"}),a.jsx(G1,{className:"text-gray-300",children:"Faa login para acessar o sistema"})]}),a.jsxs(ne,{children:[a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"email",className:"text-white",children:"E-mail"}),a.jsxs("div",{className:"relative",children:[a.jsx(ls,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(G,{id:"email",type:"email",placeholder:"Digite seu e-mail",value:t,onChange:u=>n(u.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"password",className:"text-white",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(nf,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(G,{id:"password",type:"password",placeholder:"Digite sua senha",value:r,onChange:u=>s(u.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),a.jsx(z,{type:"submit",className:"w-full bg-[#3B657B] hover:bg-[#33566a] text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105",disabled:o,children:o?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"loading-spinner w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Entrando..."]}):"Entrar"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-background/20 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Use o e-mail cadastrado no Supabase Authentication:"}),a.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[a.jsx("div",{children:"Exemplo: admin@admin.com / sua senha"}),a.jsx("div",{children:"Exemplo: gerente@empresa.com / sua senha"})]})]})]})]})})})},GI=({onLogout:e})=>{var p;const[t,n]=m.useState(!1),r=xt(),s=$h(),o=To(),l=[{id:"pos",label:"Frente de Caixa",icon:Bi,path:"/pos",permission:Z.PROCESS_SALES},{id:"products",label:"Produtos",icon:Rr,path:"/products",permission:Z.MANAGE_PRODUCTS},{id:"stock",label:"Estoque",icon:tP,path:"/stock",permission:Z.MANAGE_STOCK},{id:"customers",label:"Clientes",icon:cs,path:"/customers",permission:Z.MANAGE_PRODUCTS},{id:"reports",label:"Relatrios",icon:hw,path:"/reports",permission:Z.VIEW_REPORTS},{id:"users",label:"Usurios",icon:JN,path:"/users",permission:Z.MANAGE_USERS},{id:"cash-register",label:"Controle de Caixa",icon:ms,path:"/cash-register",permission:Z.CASH_REGISTER_MANAGEMENT}].filter(w=>Dt(r==null?void 0:r.role,w.permission)),c=()=>{Ef(),e(),s("/login")},u=()=>{const w=o.pathname==="/"?"/pos":o.pathname,x=l.find(j=>j.path===w);return(x==null?void 0:x.label)||"Dashboard"};m.useEffect(()=>{const w=()=>{window.innerWidth>=1024?n(!0):n(!1)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const d={open:{x:0},closed:{x:"-100%"}},f={type:"spring",stiffness:300,damping:30},h=((p=r==null?void 0:r.stores)==null?void 0:p.name)||(Dt(r==null?void 0:r.role,Z.VIEW_ALL_STORES_DATA)?"Todas as Lojas":"Loja no definida");return a.jsxs("div",{className:"min-h-screen bg-background flex",children:[a.jsx(CR,{children:t&&a.jsx(ks.div,{variants:d,initial:"closed",animate:"open",exit:"closed",transition:f,className:"fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border shadow-lg lg:static lg:translate-x-0",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs(Vi,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("img",{src:"/images/logobranca fdg.png",alt:"FDG System",className:"w-8 h-8 object-contain"}),a.jsx("span",{className:"font-bold text-lg",children:"FDG System"})]}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>n(!1),className:"lg:hidden",children:a.jsx(Gh,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Logado como:"}),a.jsx("p",{className:"font-semibold",children:r==null?void 0:r.name}),a.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:r==null?void 0:r.role}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[a.jsx(zi,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:h})]})]}),a.jsx("nav",{className:"space-y-2",children:l.map(w=>{const x=w.icon,j=o.pathname===w.path||o.pathname==="/"&&w.path==="/pos";return a.jsx(z,{variant:j?"default":"ghost",className:`w-full justify-start ${j?"bg-primary text-primary-foreground":""}`,asChild:!0,onClick:()=>{window.innerWidth<1024&&n(!1)},children:a.jsxs(Vi,{to:w.path,children:[a.jsx(x,{className:"w-5 h-5 mr-3"}),w.label]})},w.id)})})]}),a.jsx("div",{className:"p-4 border-t border-border",children:a.jsxs(z,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:c,children:[a.jsx(BN,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})},"sidebar")}),t&&window.innerWidth<1024&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>n(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[a.jsx("header",{className:"bg-card border-b border-border p-4 flex items-center justify-between sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>n(!0),className:"lg:hidden",children:a.jsx(WN,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-xl font-semibold",children:u()}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(zi,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:h})]})]})]})}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(XE,{})})]})]})},KI=async()=>{var s;const e=xt();let t=de.from("stock_movements").select(`
      *,
      products (name, barcode),
      stores (name, is_online_store),
      product_store_stock (id)
    `).order("created_at",{ascending:!1});e&&e.store_id&&!((s=e.stores)!=null&&s.is_online_store)&&!Dt(e.role,Z.VIEW_ALL_STORES_DATA)&&(t=t.or(`store_id.eq.${e.store_id},stock_type.eq.online`));const{data:n,error:r}=await t;return r?(console.error("Error fetching stock movements:",r),[]):n.map(o=>{var i,l;return{...o,productName:((i=o.products)==null?void 0:i.name)||"Produto Desconhecido",userName:"Usurio do Sistema",storeName:((l=o.stores)==null?void 0:l.name)||(o.stock_type==="online"?"Estoque Online":"Loja Desconhecida")}})},xj=async e=>{const t=xt();let n={...e};if(n.user_id=n.user_id||(t==null?void 0:t.id),!n.store_id&&n.stock_type!=="online")n.store_id=t==null?void 0:t.store_id;else if(n.stock_type==="online"){const i=(await zr()).find(l=>l.is_online_store);i&&(n.store_id=i.id)}if(!n.store_id&&n.stock_type==="physical_store"&&!Dt(t==null?void 0:t.role,Z.VIEW_ALL_STORES_DATA))throw console.error("Error: store_id is required for this user to add stock movement for a physical store."),new Error("store_id  obrigatrio para movimentao em loja fsica.");const{data:r,error:s}=await de.from("stock_movements").insert([n]).select().single();if(s)throw console.error("Error adding stock movement:",s),s;return r},wj=async(e=!1)=>{xt();let t=de.from("products").select("*, stores(name, is_online_store)").eq("active",!0).order("name",{ascending:!0});const{data:n,error:r}=await t;if(r)return console.error("Error fetching products:",r),[];if(e&&n){for(let s of n)if(s.product_type==="variable"){const{data:o,error:i}=await de.from("product_variations").select("*").eq("product_id",s.id);i&&console.error(`Error fetching variations for product ${s.id}:`,i),s.variations=o||[]}}return n},YI=async(e=!1)=>{console.log(" getAllProducts iniciado, includeVariations:",e);let t=de.from("products").select("*, stores(name, is_online_store)").order("name",{ascending:!0});const{data:n,error:r}=await t;if(r)return console.error(" Erro ao buscar todos os produtos:",r),[];if(console.log(" Produtos encontrados:",(n==null?void 0:n.length)||0),e&&n){for(let s of n)if(s.product_type==="variable"){const{data:o,error:i}=await de.from("product_variations").select("*").eq("product_id",s.id);i&&console.error(` Erro ao buscar variaes do produto ${s.id}:`,i),s.variations=o||[]}}return console.log(" getAllProducts concludo"),n},JI=async e=>{console.log(" addProduct iniciado com dados:",e);const t=xt();console.log(" Usurio atual:",t);const{variations:n,...r}=e;let s={...r};if(console.log(" Dados principais para insero:",s),!s.store_id){console.log(" Buscando loja online...");const l=await zr();console.log(" Lojas disponveis:",l);const c=l.find(u=>u.is_online_store);if(c)s.store_id=c.id,console.log(" Loja online associada:",c.id);else throw console.error(" Loja online principal no encontrada para associar o produto."),new Error("Loja online principal no encontrada.")}console.log(" Inserindo produto no Supabase...");const{data:o,error:i}=await de.from("products").insert([s]).select("*, stores(name, is_online_store)").single();if(i)throw console.error(" Erro ao inserir produto:",i),i;if(console.log(" Produto inserido com sucesso:",o),o&&o.product_type==="variable"&&n&&n.length>0){console.log(" Inserindo variaes...");const l=n.map(u=>({...u,product_id:o.id}));console.log(" Variaes para inserir:",l);const{error:c}=await de.from("product_variations").insert(l);if(c)throw console.error(" Erro ao inserir variaes:",c),await de.from("products").delete().eq("id",o.id),c;console.log(" Variaes inseridas com sucesso")}return console.log(" Produto criado completamente:",o),o},kf=async(e,t)=>{const{variations:n,...r}=t,{data:s,error:o}=await de.from("products").update(r).eq("id",e).select("*, stores(name, is_online_store)").single();if(o)throw console.error("Error updating product:",o),o;if(s&&s.product_type==="variable"){if(await de.from("product_variations").delete().eq("product_id",e),n&&n.length>0){const i=n.map(c=>({...c,product_id:e,id:void 0})),{error:l}=await de.from("product_variations").insert(i);if(l)throw console.error("Error updating product variations:",l),l}}else s&&s.product_type==="simple"&&await de.from("product_variations").delete().eq("product_id",e);return s},bo=async(e,t=null,n=null)=>{let r=de.from("product_store_stock").select("*, stores(name, is_online_store), product_variations(id, attributes)").eq("product_id",e);t&&(r=r.eq("store_id",t)),n&&(r=r.eq("variation_id",n));const{data:s,error:o}=await r;return o?(console.error("Error fetching product store stock:",o),t&&n?null:[]):t&&n?s[0]||null:s},XI=async(e,t,n,r=null)=>{const s=await bo(e,t,r);let o,i=s==null?void 0:s.id;if(s){o=s.quantity+n;const{error:l}=await de.from("product_store_stock").update({quantity:o}).eq("id",s.id);if(l)throw l}else{o=n;const{data:l,error:c}=await de.from("product_store_stock").insert({product_id:e,store_id:t,variation_id:r,quantity:o}).select("id").single();if(c)throw c;i=l==null?void 0:l.id}return await jj(e),await xj({product_id:e,variation_id:r,store_id:t,type:"transfer_in",quantity:n,previous_stock:s?s.quantity:0,new_stock:o,reason:"Compartilhamento de estoque para loja fsica.",stock_type:"physical_store",product_store_stock_id:i}),{success:!0}},jj=async e=>{const{data:t,error:n}=await de.from("products").select("product_type, stock").eq("id",e).single();if(n||!t){console.error("Error fetching product for stock recalculation:",n);return}let r=0;if(t.product_type==="variable"){const{data:s,error:o}=await de.from("product_variations").select("stock").eq("product_id",e);if(o){console.error("Error fetching variations for stock recalculation:",o);return}r=s.reduce((i,l)=>i+l.stock,0)}else{const{data:s,error:o}=await de.from("product_store_stock").select("quantity").eq("product_id",e).is("variation_id",null);if(o){console.error("Error fetching physical stocks for simple product:",o);return}r=s.reduce((i,l)=>i+l.quantity,0)}if(t.stock!==r){const{error:s}=await de.from("products").update({stock:r}).eq("id",e);s&&console.error("Error updating online/general stock:",s)}},QI=(e,t=null,n={specificStoreId:null})=>{var o;const r=xt(),s=t?`${t}.`:"";return n.specificStoreId?e.eq(`${s}store_id`,n.specificStoreId):r&&r.store_id&&!((o=r.stores)!=null&&o.is_online_store)&&!Dt(r.role,Z.VIEW_ALL_STORES_DATA)?e.eq(`${s}store_id`,r.store_id):e},Sj=async()=>{let e=de.from("sales").select("*, customers(name), stores(name, is_online_store)").order("created_at",{ascending:!1});e=QI(e,"sales");const{data:t,error:n}=await e;return n?(console.error("Error fetching sales:",n),[]):t},ZI=async()=>{const{data:e,error:t}=await de.from("customers").select("*").order("name",{ascending:!0});return t?(console.error("Error fetching customers:",t),[]):e},eL=async e=>{const{data:t,error:n}=await de.from("customers").insert([e]).select();return n?(console.error("Error adding customer:",n),null):t?t[0]:null},tL=async(e,t)=>{const{data:n,error:r}=await de.from("customers").update(t).eq("id",e).select();return r?(console.error("Error updating customer:",r),null):n?n[0]:null},nL=async e=>{const{error:t}=await de.from("customers").delete().eq("id",e);return t?(console.error("Error deleting customer:",t),!1):!0},rL=async()=>{var i,l;const e=xt();let t=de.from("cash_register_logs").select("*, stores(name, is_online_store)").order("created_at",{ascending:!1}),n=null;if(e&&e.store_id&&!((i=e.stores)!=null&&i.is_online_store)&&!Dt(e.role,Z.VIEW_ALL_STORES_DATA))n=e.store_id;else if(e&&((l=e.stores)!=null&&l.is_online_store))n=e.store_id;else if(e&&e.role===Ne.ADMIN&&!e.store_id){const u=(await zr()).find(d=>d.is_online_store);u&&(n=u.id)}if(n)t=t.eq("store_id",n);else if(!Dt(e==null?void 0:e.role,Z.VIEW_ALL_STORES_DATA))return console.warn("Usurio sem loja definida e sem permisso para ver todos os caixas. Retornando caixa fechado."),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};const{data:r,error:s}=await t.limit(1).maybeSingle();if(s)return console.error("Error fetching current cash register state:",s),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};if(!r)return{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:n,store:e==null?void 0:e.stores};const o=r.type!=="close";return{id:r.id,isOpen:o,openingAmount:r.type==="open"||o?r.initial_amount:0,currentAmount:r.current_amount,openedBy:o&&r.type==="open"||o?r.user_id:null,openedAt:o&&r.type==="open"||o?r.created_at:null,closedAt:r.type==="close"?r.created_at:null,store_id:r.store_id,store:r.stores}},bj="http://localhost:4000/api",Nf=async(e,t=null,n="varejo")=>{try{const r=new URLSearchParams;r.append("code",e),t&&r.append("store_id",t),n&&r.append("modalidade",n);const s=await fetch(`${bj}/sales/products/barcode/${e}?${r}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){const o=await s.json();throw new Error(o.error||"Erro ao buscar produto")}return await s.json()}catch(r){throw new Error(`Erro na comunicao com o backend: ${r.message}`)}},sL=async e=>{try{const t=await fetch(`${bj}/sales`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.error||"Erro ao criar venda")}return await t.json()}catch(t){throw new Error(`Erro na comunicao com o backend: ${t.message}`)}},oL=({onProductFound:e})=>{const[t,n]=m.useState(""),{toast:r}=Vt(),s=async i=>{if(i.preventDefault(),!!t.trim())try{const l=await Nf(t);l&&l.product?(e(l.product),n("")):r({title:"Produto no encontrado",description:`Cdigo de barras: ${t}`,variant:"destructive"})}catch(l){r({title:"Erro ao buscar produto",description:l.message,variant:"destructive"})}},o=async i=>{try{const l=await Nf(i);l&&l.product?e(l.product):r({title:"Produto de teste no encontrado",description:`Cdigo: ${i}`,variant:"destructive"})}catch(l){r({title:"Erro ao buscar produto de teste",description:l.message,variant:"destructive"})}};return a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(YN,{className:"w-5 h-5"}),a.jsx("span",{children:"Leitor de Cdigo de Barras"})]})}),a.jsxs(ne,{children:[a.jsxs("form",{onSubmit:s,className:"flex space-x-2",children:[a.jsx(G,{placeholder:"Escaneie ou digite o cdigo de barras",value:t,onChange:i=>n(i.target.value),className:"flex-1 barcode-scanner",autoFocus:!0}),a.jsx(z,{type:"submit",children:a.jsx(fn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-2",children:[a.jsx(z,{variant:"outline",onClick:()=>o("7891234567890"),className:"text-sm",children:"Camiseta Bsica"}),a.jsx(z,{variant:"outline",onClick:()=>o("7891234567891"),className:"text-sm",children:"Cala Jeans"}),a.jsx(z,{variant:"outline",onClick:()=>o("7891234567892"),className:"text-sm",children:"Vestido Floral"})]})]})]})},iL=({cart:e,onUpdateQuantity:t,onRemoveFromCart:n,onClearCart:r})=>a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bi,{className:"w-5 h-5"}),a.jsxs("span",{children:["Carrinho (",e.length," itens)"]})]}),e.length>0&&a.jsx(z,{variant:"outline",size:"sm",onClick:r,children:"Limpar"})]})}),a.jsx(ne,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Bi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Carrinho vazio"}),a.jsx("p",{className:"text-sm",children:"Escaneie um produto para comear"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(s=>a.jsxs(ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:s.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",s.price.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(s.id,s.quantity-1),children:a.jsx(Ui,{className:"w-3 h-3"})}),a.jsx("span",{className:"w-8 text-center",children:s.quantity}),a.jsx(z,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(s.id,s.quantity+1),children:a.jsx(fn,{className:"w-3 h-3"})}),a.jsxs("span",{className:"w-20 text-right font-medium",children:["R$ ",s.subtotal.toFixed(2)]}),a.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>n(s.id),children:a.jsx(ra,{className:"w-3 h-3"})})]})]},s.id))})})]}),aL=({subtotal:e,discountAmount:t,total:n,onApplyDiscount:r})=>{const s=xt();return a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(AN,{className:"w-5 h-5"}),a.jsx("span",{children:"Totais"})]})}),a.jsxs(ne,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["R$ ",e.toFixed(2)]})]}),t>0&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Desconto:"}),a.jsxs("span",{children:["- R$ ",t.toFixed(2)]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["R$ ",n.toFixed(2)]})]})}),Dt(s==null?void 0:s.role,Z.APPLY_DISCOUNTS)&&a.jsx("div",{className:"pt-2 border-t",children:a.jsxs(z,{variant:"outline",size:"sm",className:"w-full",onClick:r,children:[a.jsx(qN,{className:"w-4 h-4 mr-2"}),"Aplicar Desconto"]})})]})]})},za={CASH:"cash",DEBIT:"debit",CREDIT:"credit",PIX:"pix"},Zl={[za.CASH]:"Dinheiro",[za.DEBIT]:"Carto Dbito",[za.CREDIT]:"Carto Crdito",[za.PIX]:"PIX"},lL=({cartLength:e,payments:t,totalPaid:n,remainingAmount:r,onAddPayment:s,onFinalizeSale:o,canFinalize:i})=>e===0?null:a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(LN,{className:"w-5 h-5"}),a.jsx("span",{children:"Pagamento"})]})}),a.jsxs(ne,{className:"space-y-4",children:[t.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Pagamentos:"}),t.map(l=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:Zl[l.method]}),a.jsxs("span",{children:["R$ ",l.amount.toFixed(2)]})]},l.id)),a.jsxs("div",{className:"border-t pt-2",children:[a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"Total Pago:"}),a.jsxs("span",{children:["R$ ",n.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"Restante:"}),a.jsxs("span",{children:["R$ ",r.toFixed(2)]})]})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Zl).map(([l,c])=>a.jsx(z,{variant:"outline",size:"sm",onClick:()=>{r>0&&s(l,r)},disabled:r<=0,children:c},l))}),a.jsxs(z,{className:"w-full",size:"lg",onClick:o,disabled:!i,children:[a.jsx(KN,{className:"w-4 h-4 mr-2"}),"Finalizar Venda"]})]})]});function Bv(e,[t,n]){return Math.min(n,Math.max(t,e))}var cL=m.createContext(void 0);function jp(e){const t=m.useContext(cL);return e||t||"ltr"}var Wu=0;function _j(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zv()),document.body.insertAdjacentElement("beforeend",e[1]??zv()),Wu++,()=>{Wu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wu--}},[])}function zv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hu="focusScope.autoFocusOnMount",qu="focusScope.autoFocusOnUnmount",Wv={bubbles:!1,cancelable:!0},uL="FocusScope",Sp=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=Xt(s),d=Xt(o),f=m.useRef(null),h=$e(t,x=>c(x)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(v){if(p.paused||!l)return;const S=v.target;l.contains(S)?f.current=S:ir(f.current,{select:!0})},j=function(v){if(p.paused||!l)return;const S=v.relatedTarget;S!==null&&(l.contains(S)||ir(f.current,{select:!0}))},y=function(v){if(document.activeElement===document.body)for(const b of v)b.removedNodes.length>0&&ir(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",j);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",j),g.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){qv.add(p);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(Hu,Wv);l.addEventListener(Hu,u),l.dispatchEvent(y),y.defaultPrevented||(dL(gL(Cj(l)),{select:!0}),document.activeElement===x&&ir(l))}return()=>{l.removeEventListener(Hu,u),setTimeout(()=>{const y=new CustomEvent(qu,Wv);l.addEventListener(qu,d),l.dispatchEvent(y),y.defaultPrevented||ir(x??document.body,{select:!0}),l.removeEventListener(qu,d),qv.remove(p)},0)}}},[l,u,d,p]);const w=m.useCallback(x=>{if(!n&&!r||p.paused)return;const j=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(j&&y){const g=x.currentTarget,[v,S]=fL(g);v&&S?!x.shiftKey&&y===S?(x.preventDefault(),n&&ir(v,{select:!0})):x.shiftKey&&y===v&&(x.preventDefault(),n&&ir(S,{select:!0})):y===g&&x.preventDefault()}},[n,r,p.paused]);return a.jsx(le.div,{tabIndex:-1,...i,ref:h,onKeyDown:w})});Sp.displayName=uL;function dL(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ir(r,{select:t}),document.activeElement!==n)return}function fL(e){const t=Cj(e),n=Hv(t,e),r=Hv(t.reverse(),e);return[n,r]}function Cj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hv(e,t){for(const n of e)if(!hL(n,{upTo:t}))return n}function hL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pL(e){return e instanceof HTMLInputElement&&"select"in e}function ir(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&pL(e)&&t&&e.select()}}var qv=mL();function mL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Gv(e,t),e.unshift(t)},remove(t){var n;e=Gv(e,t),(n=e[0])==null||n.resume()}}}function Gv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function gL(e){return e.filter(t=>t.tagName!=="A")}var vL=zf[" useId ".trim().toString()]||(()=>{}),yL=0;function Pr(e){const[t,n]=m.useState(vL());return at(()=>{e||n(r=>r??String(yL++))},[e]),e||(t?`radix-${t}`:"")}const xL=["top","right","bottom","left"],Lr=Math.min,At=Math.max,ec=Math.round,Wa=Math.floor,Cn=e=>({x:e,y:e}),wL={left:"right",right:"left",bottom:"top",top:"bottom"},jL={start:"end",end:"start"};function Pf(e,t,n){return At(e,Lr(t,n))}function Xn(e,t){return typeof e=="function"?e(t):e}function Qn(e){return e.split("-")[0]}function Io(e){return e.split("-")[1]}function bp(e){return e==="x"?"y":"x"}function _p(e){return e==="y"?"height":"width"}const SL=new Set(["top","bottom"]);function jn(e){return SL.has(Qn(e))?"y":"x"}function Cp(e){return bp(jn(e))}function bL(e,t,n){n===void 0&&(n=!1);const r=Io(e),s=Cp(e),o=_p(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=tc(i)),[i,tc(i)]}function _L(e){const t=tc(e);return[Tf(e),t,Tf(t)]}function Tf(e){return e.replace(/start|end/g,t=>jL[t])}const Kv=["left","right"],Yv=["right","left"],CL=["top","bottom"],EL=["bottom","top"];function kL(e,t,n){switch(e){case"top":case"bottom":return n?t?Yv:Kv:t?Kv:Yv;case"left":case"right":return t?CL:EL;default:return[]}}function NL(e,t,n,r){const s=Io(e);let o=kL(Qn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Tf)))),o}function tc(e){return e.replace(/left|right|bottom|top/g,t=>wL[t])}function PL(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ej(e){return typeof e!="number"?PL(e):{top:e,right:e,bottom:e,left:e}}function nc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Jv(e,t,n){let{reference:r,floating:s}=e;const o=jn(t),i=Cp(t),l=_p(i),c=Qn(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Io(t)){case"start":p[i]-=h*(n&&u?-1:1);break;case"end":p[i]+=h*(n&&u?-1:1);break}return p}const TL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Jv(u,r,c),h=r,p={},w=0;for(let x=0;x<l.length;x++){const{name:j,fn:y}=l[x],{x:g,y:v,data:S,reset:b}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=g??d,f=v??f,p={...p,[j]:{...p[j],...S}},b&&w<=50&&(w++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(u=b.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):b.rects),{x:d,y:f}=Jv(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Yi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Xn(t,e),w=Ej(p),j=l[h?f==="floating"?"reference":"floating":f],y=nc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(j)))==null||n?j:j.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},b=nc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:c}):g);return{top:(y.top-b.top+w.top)/S.y,bottom:(b.bottom-y.bottom+w.bottom)/S.y,left:(y.left-b.left+w.left)/S.x,right:(b.right-y.right+w.right)/S.x}}const AL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Xn(e,t)||{};if(u==null)return{};const f=Ej(d),h={x:n,y:r},p=Cp(s),w=_p(p),x=await i.getDimensions(u),j=p==="y",y=j?"top":"left",g=j?"bottom":"right",v=j?"clientHeight":"clientWidth",S=o.reference[w]+o.reference[p]-h[p]-o.floating[w],b=h[p]-o.reference[p],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=k?k[v]:0;(!C||!await(i.isElement==null?void 0:i.isElement(k)))&&(C=l.floating[v]||o.floating[w]);const _=S/2-b/2,E=C/2-x[w]/2-1,O=Lr(f[y],E),R=Lr(f[g],E),I=O,V=C-x[w]-R,L=C/2-x[w]/2+_,$=Pf(I,L,V),M=!c.arrow&&Io(s)!=null&&L!==$&&o.reference[w]/2-(L<I?O:R)-x[w]/2<0,N=M?L<I?L-I:L-V:0;return{[p]:h[p]+N,data:{[p]:$,centerOffset:L-$-N,...M&&{alignmentOffset:N}},reset:M}}}),RL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...j}=Xn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Qn(s),g=jn(l),v=Qn(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),b=h||(v||!x?[tc(l)]:_L(l)),k=w!=="none";!h&&k&&b.push(...NL(l,x,w,S));const C=[l,...b],_=await Yi(t,j),E=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&E.push(_[y]),f){const L=bL(s,i,S);E.push(_[L[0]],_[L[1]])}if(O=[...O,{placement:s,overflows:E}],!E.every(L=>L<=0)){var R,I;const L=(((R=o.flip)==null?void 0:R.index)||0)+1,$=C[L];if($&&(!(f==="alignment"?g!==jn($):!1)||O.every(P=>P.overflows[0]>0&&jn(P.placement)===g)))return{data:{index:L,overflows:O},reset:{placement:$}};let M=(I=O.filter(N=>N.overflows[0]<=0).sort((N,P)=>N.overflows[1]-P.overflows[1])[0])==null?void 0:I.placement;if(!M)switch(p){case"bestFit":{var V;const N=(V=O.filter(P=>{if(k){const T=jn(P.placement);return T===g||T==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(T=>T>0).reduce((T,D)=>T+D,0)]).sort((P,T)=>P[1]-T[1])[0])==null?void 0:V[0];N&&(M=N);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function Xv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qv(e){return xL.some(t=>e[t]>=0)}const OL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Xn(e,t);switch(r){case"referenceHidden":{const o=await Yi(t,{...s,elementContext:"reference"}),i=Xv(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Qv(i)}}}case"escaped":{const o=await Yi(t,{...s,altBoundary:!0}),i=Xv(o,n.floating);return{data:{escapedOffsets:i,escaped:Qv(i)}}}default:return{}}}}},kj=new Set(["left","top"]);async function IL(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Qn(n),l=Io(n),c=jn(n)==="y",u=kj.has(i)?-1:1,d=o&&c?-1:1,f=Xn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const LL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await IL(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},ML=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:j=>{let{x:y,y:g}=j;return{x:y,y:g}}},...c}=Xn(e,t),u={x:n,y:r},d=await Yi(t,c),f=jn(Qn(s)),h=bp(f);let p=u[h],w=u[f];if(o){const j=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=p+d[j],v=p-d[y];p=Pf(g,p,v)}if(i){const j=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=w+d[j],v=w-d[y];w=Pf(g,w,v)}const x=l.fn({...t,[h]:p,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:o,[f]:i}}}}}},DL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Xn(e,t),d={x:n,y:r},f=jn(s),h=bp(f);let p=d[h],w=d[f];const x=Xn(l,t),j=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=h==="y"?"height":"width",S=o.reference[h]-o.floating[v]+j.mainAxis,b=o.reference[h]+o.reference[v]-j.mainAxis;p<S?p=S:p>b&&(p=b)}if(u){var y,g;const v=h==="y"?"width":"height",S=kj.has(Qn(s)),b=o.reference[f]-o.floating[v]+(S&&((y=i.offset)==null?void 0:y[f])||0)+(S?0:j.crossAxis),k=o.reference[f]+o.reference[v]+(S?0:((g=i.offset)==null?void 0:g[f])||0)-(S?j.crossAxis:0);w<b?w=b:w>k&&(w=k)}return{[h]:p,[f]:w}}}},$L=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Xn(e,t),d=await Yi(t,u),f=Qn(s),h=Io(s),p=jn(s)==="y",{width:w,height:x}=o.floating;let j,y;f==="top"||f==="bottom"?(j=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,j=h==="end"?"top":"bottom");const g=x-d.top-d.bottom,v=w-d.left-d.right,S=Lr(x-d[j],g),b=Lr(w-d[y],v),k=!t.middlewareData.shift;let C=S,_=b;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=g),k&&!h){const O=At(d.left,0),R=At(d.right,0),I=At(d.top,0),V=At(d.bottom,0);p?_=w-2*(O!==0||R!==0?O+R:At(d.left,d.right)):C=x-2*(I!==0||V!==0?I+V:At(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:C});const E=await i.getDimensions(l.floating);return w!==E.width||x!==E.height?{reset:{rects:!0}}:{}}}};function Fc(){return typeof window<"u"}function Lo(e){return Nj(e)?(e.nodeName||"").toLowerCase():"#document"}function It(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function On(e){var t;return(t=(Nj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Nj(e){return Fc()?e instanceof Node||e instanceof It(e).Node:!1}function hn(e){return Fc()?e instanceof Element||e instanceof It(e).Element:!1}function Pn(e){return Fc()?e instanceof HTMLElement||e instanceof It(e).HTMLElement:!1}function Zv(e){return!Fc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof It(e).ShadowRoot}const FL=new Set(["inline","contents"]);function da(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=pn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!FL.has(s)}const VL=new Set(["table","td","th"]);function UL(e){return VL.has(Lo(e))}const BL=[":popover-open",":modal"];function Vc(e){return BL.some(t=>{try{return e.matches(t)}catch{return!1}})}const zL=["transform","translate","scale","rotate","perspective"],WL=["transform","translate","scale","rotate","perspective","filter"],HL=["paint","layout","strict","content"];function Ep(e){const t=kp(),n=hn(e)?pn(e):e;return zL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||WL.some(r=>(n.willChange||"").includes(r))||HL.some(r=>(n.contain||"").includes(r))}function qL(e){let t=Mr(e);for(;Pn(t)&&!_o(t);){if(Ep(t))return t;if(Vc(t))return null;t=Mr(t)}return null}function kp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GL=new Set(["html","body","#document"]);function _o(e){return GL.has(Lo(e))}function pn(e){return It(e).getComputedStyle(e)}function Uc(e){return hn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mr(e){if(Lo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zv(e)&&e.host||On(e);return Zv(t)?t.host:t}function Pj(e){const t=Mr(e);return _o(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pn(t)&&da(t)?t:Pj(t)}function Ji(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Pj(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=It(s);if(o){const l=Af(i);return t.concat(i,i.visualViewport||[],da(s)?s:[],l&&n?Ji(l):[])}return t.concat(s,Ji(s,[],n))}function Af(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Tj(e){const t=pn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Pn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=ec(n)!==o||ec(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Np(e){return hn(e)?e:e.contextElement}function ao(e){const t=Np(e);if(!Pn(t))return Cn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Tj(t);let i=(o?ec(n.width):n.width)/r,l=(o?ec(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const KL=Cn(0);function Aj(e){const t=It(e);return!kp()||!t.visualViewport?KL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==It(e)?!1:t}function gs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Np(e);let i=Cn(1);t&&(r?hn(r)&&(i=ao(r)):i=ao(e));const l=YL(o,n,r)?Aj(o):Cn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=It(o),p=r&&hn(r)?It(r):r;let w=h,x=Af(w);for(;x&&r&&p!==w;){const j=ao(x),y=x.getBoundingClientRect(),g=pn(x),v=y.left+(x.clientLeft+parseFloat(g.paddingLeft))*j.x,S=y.top+(x.clientTop+parseFloat(g.paddingTop))*j.y;c*=j.x,u*=j.y,d*=j.x,f*=j.y,c+=v,u+=S,w=It(x),x=Af(w)}}return nc({width:d,height:f,x:c,y:u})}function Pp(e,t){const n=Uc(e).scrollLeft;return t?t.left+n:gs(On(e)).left+n}function Rj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Pp(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function JL(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=On(r),l=t?Vc(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Cn(1);const d=Cn(0),f=Pn(r);if((f||!f&&!o)&&((Lo(r)!=="body"||da(i))&&(c=Uc(r)),Pn(r))){const p=gs(r);u=ao(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=i&&!f&&!o?Rj(i,c,!0):Cn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function XL(e){return Array.from(e.getClientRects())}function QL(e){const t=On(e),n=Uc(e),r=e.ownerDocument.body,s=At(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=At(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Pp(e);const l=-n.scrollTop;return pn(r).direction==="rtl"&&(i+=At(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function ZL(e,t){const n=It(e),r=On(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=kp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const eM=new Set(["absolute","fixed"]);function tM(e,t){const n=gs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Pn(e)?ao(e):Cn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function ey(e,t,n){let r;if(t==="viewport")r=ZL(e,n);else if(t==="document")r=QL(On(e));else if(hn(t))r=tM(t,n);else{const s=Aj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return nc(r)}function Oj(e,t){const n=Mr(e);return n===t||!hn(n)||_o(n)?!1:pn(n).position==="fixed"||Oj(n,t)}function nM(e,t){const n=t.get(e);if(n)return n;let r=Ji(e,[],!1).filter(l=>hn(l)&&Lo(l)!=="body"),s=null;const o=pn(e).position==="fixed";let i=o?Mr(e):e;for(;hn(i)&&!_o(i);){const l=pn(i),c=Ep(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&eM.has(s.position)||da(i)&&!c&&Oj(e,i))?r=r.filter(d=>d!==i):s=l,i=Mr(i)}return t.set(e,r),r}function rM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Vc(t)?[]:nM(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=ey(t,d,s);return u.top=At(f.top,u.top),u.right=Lr(f.right,u.right),u.bottom=Lr(f.bottom,u.bottom),u.left=At(f.left,u.left),u},ey(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sM(e){const{width:t,height:n}=Tj(e);return{width:t,height:n}}function oM(e,t,n){const r=Pn(t),s=On(t),o=n==="fixed",i=gs(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Cn(0);function u(){c.x=Pp(s)}if(r||!r&&!o)if((Lo(t)!=="body"||da(s))&&(l=Uc(t)),r){const p=gs(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Rj(s,l):Cn(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Gu(e){return pn(e).position==="static"}function ty(e,t){if(!Pn(e)||pn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return On(e)===n&&(n=n.ownerDocument.body),n}function Ij(e,t){const n=It(e);if(Vc(e))return n;if(!Pn(e)){let s=Mr(e);for(;s&&!_o(s);){if(hn(s)&&!Gu(s))return s;s=Mr(s)}return n}let r=ty(e,t);for(;r&&UL(r)&&Gu(r);)r=ty(r,t);return r&&_o(r)&&Gu(r)&&!Ep(r)?n:r||qL(e)||n}const iM=async function(e){const t=this.getOffsetParent||Ij,n=this.getDimensions,r=await n(e.floating);return{reference:oM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aM(e){return pn(e).direction==="rtl"}const lM={convertOffsetParentRelativeRectToViewportRelativeRect:JL,getDocumentElement:On,getClippingRect:rM,getOffsetParent:Ij,getElementRects:iM,getClientRects:XL,getDimensions:sM,getScale:ao,isElement:hn,isRTL:aM};function Lj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cM(e,t){let n=null,r;const s=On(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const w=Wa(f),x=Wa(s.clientWidth-(d+h)),j=Wa(s.clientHeight-(f+p)),y=Wa(d),v={rootMargin:-w+"px "+-x+"px "+-j+"px "+-y+"px",threshold:At(0,Lr(1,c))||1};let S=!0;function b(k){const C=k[0].intersectionRatio;if(C!==c){if(!S)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!Lj(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(b,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return i(!0),o}function uM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Np(e),d=s||o?[...u?Ji(u):[],...Ji(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&l?cM(u,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,x=c?gs(e):null;c&&j();function j(){const y=gs(e);x&&!Lj(x,y)&&n(),x=y,w=requestAnimationFrame(j)}return n(),()=>{var y;d.forEach(g=>{s&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const dM=LL,fM=ML,hM=RL,pM=$L,mM=OL,ny=AL,gM=DL,vM=(e,t,n)=>{const r=new Map,s={platform:lM,...n},o={...s.platform,_c:r};return TL(e,t,{...s,platform:o})};var yM=typeof document<"u",xM=function(){},fl=yM?m.useLayoutEffect:xM;function rc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!rc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!rc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Mj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ry(e,t){const n=Mj(e);return Math.round(t*n)/n}function Ku(e){const t=m.useRef(e);return fl(()=>{t.current=e}),t}function wM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);rc(h,r)||p(r);const[w,x]=m.useState(null),[j,y]=m.useState(null),g=m.useCallback(P=>{P!==k.current&&(k.current=P,x(P))},[]),v=m.useCallback(P=>{P!==C.current&&(C.current=P,y(P))},[]),S=o||w,b=i||j,k=m.useRef(null),C=m.useRef(null),_=m.useRef(d),E=c!=null,O=Ku(c),R=Ku(s),I=Ku(u),V=m.useCallback(()=>{if(!k.current||!C.current)return;const P={placement:t,strategy:n,middleware:h};R.current&&(P.platform=R.current),vM(k.current,C.current,P).then(T=>{const D={...T,isPositioned:I.current!==!1};L.current&&!rc(_.current,D)&&(_.current=D,Ss.flushSync(()=>{f(D)}))})},[h,t,n,R,I]);fl(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const L=m.useRef(!1);fl(()=>(L.current=!0,()=>{L.current=!1}),[]),fl(()=>{if(S&&(k.current=S),b&&(C.current=b),S&&b){if(O.current)return O.current(S,b,V);V()}},[S,b,V,O,E]);const $=m.useMemo(()=>({reference:k,floating:C,setReference:g,setFloating:v}),[g,v]),M=m.useMemo(()=>({reference:S,floating:b}),[S,b]),N=m.useMemo(()=>{const P={position:n,left:0,top:0};if(!M.floating)return P;const T=ry(M.floating,d.x),D=ry(M.floating,d.y);return l?{...P,transform:"translate("+T+"px, "+D+"px)",...Mj(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:D}},[n,l,M.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:V,refs:$,elements:M,floatingStyles:N}),[d,V,$,M,N])}const jM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ny({element:r.current,padding:s}).fn(n):{}:r?ny({element:r,padding:s}).fn(n):{}}}},SM=(e,t)=>({...dM(e),options:[e,t]}),bM=(e,t)=>({...fM(e),options:[e,t]}),_M=(e,t)=>({...gM(e),options:[e,t]}),CM=(e,t)=>({...hM(e),options:[e,t]}),EM=(e,t)=>({...pM(e),options:[e,t]}),kM=(e,t)=>({...mM(e),options:[e,t]}),NM=(e,t)=>({...jM(e),options:[e,t]});var PM="Arrow",Dj=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(le.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dj.displayName=PM;var TM=Dj;function AM(e){const[t,n]=m.useState(void 0);return at(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Tp="Popper",[$j,Fj]=_s(Tp),[RM,Vj]=$j(Tp),Uj=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return a.jsx(RM,{scope:t,anchor:r,onAnchorChange:s,children:n})};Uj.displayName=Tp;var Bj="PopperAnchor",zj=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Vj(Bj,n),i=m.useRef(null),l=$e(t,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(le.div,{...s,ref:l})});zj.displayName=Bj;var Ap="PopperContent",[OM,IM]=$j(Ap),Wj=m.forwardRef((e,t)=>{var Y,xe,Re,ce,oe,we;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,j=Vj(Ap,n),[y,g]=m.useState(null),v=$e(t,nt=>g(nt)),[S,b]=m.useState(null),k=AM(S),C=(k==null?void 0:k.width)??0,_=(k==null?void 0:k.height)??0,E=r+(o!=="center"?"-"+o:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],I=R.length>0,V={padding:O,boundary:R.filter(MM),altBoundary:I},{refs:L,floatingStyles:$,placement:M,isPositioned:N,middlewareData:P}=wM({strategy:"fixed",placement:E,whileElementsMounted:(...nt)=>uM(...nt,{animationFrame:p==="always"}),elements:{reference:j.anchor},middleware:[SM({mainAxis:s+_,alignmentAxis:i}),c&&bM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?_M():void 0,...V}),c&&CM({...V}),EM({...V,apply:({elements:nt,rects:wt,availableWidth:B,availableHeight:H})=>{const{width:Ce,height:he}=wt.reference,Qe=nt.floating.style;Qe.setProperty("--radix-popper-available-width",`${B}px`),Qe.setProperty("--radix-popper-available-height",`${H}px`),Qe.setProperty("--radix-popper-anchor-width",`${Ce}px`),Qe.setProperty("--radix-popper-anchor-height",`${he}px`)}}),S&&NM({element:S,padding:l}),DM({arrowWidth:C,arrowHeight:_}),h&&kM({strategy:"referenceHidden",...V})]}),[T,D]=Gj(M),A=Xt(w);at(()=>{N&&(A==null||A())},[N,A]);const U=(Y=P.arrow)==null?void 0:Y.x,X=(xe=P.arrow)==null?void 0:xe.y,se=((Re=P.arrow)==null?void 0:Re.centerOffset)!==0,[ve,ye]=m.useState();return at(()=>{y&&ye(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:N?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(ce=P.transformOrigin)==null?void 0:ce.x,(oe=P.transformOrigin)==null?void 0:oe.y].join(" "),...((we=P.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(OM,{scope:n,placedSide:T,onArrowChange:b,arrowX:U,arrowY:X,shouldHideArrow:se,children:a.jsx(le.div,{"data-side":T,"data-align":D,...x,ref:v,style:{...x.style,animation:N?void 0:"none"}})})})});Wj.displayName=Ap;var Hj="PopperArrow",LM={top:"bottom",right:"left",bottom:"top",left:"right"},qj=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=IM(Hj,r),i=LM[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(TM,{...s,ref:n,style:{...s.style,display:"block"}})})});qj.displayName=Hj;function MM(e){return e!==null}var DM=e=>({name:"transformOrigin",options:e,fn(t){var j,y,g;const{placement:n,rects:r,middlewareData:s}=t,i=((j=s.arrow)==null?void 0:j.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Gj(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?f:`${h}px`,x=`${-c}px`):u==="top"?(w=i?f:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?f:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?f:`${p}px`),{data:{x:w,y:x}}}});function Gj(e){const[t,n="center"]=e.split("-");return[t,n]}var $M=Uj,FM=zj,VM=Wj,UM=qj;function BM(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Is=new WeakMap,Ha=new WeakMap,qa={},Yu=0,Kj=function(e){return e&&(e.host||Kj(e.parentNode))},WM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Kj(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},HM=function(e,t,n,r){var s=WM(t,Array.isArray(e)?e:[e]);qa[n]||(qa[n]=new WeakMap);var o=qa[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(r),w=p!==null&&p!=="false",x=(Is.get(h)||0)+1,j=(o.get(h)||0)+1;Is.set(h,x),o.set(h,j),i.push(h),x===1&&w&&Ha.set(h,!0),j===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Yu++,function(){i.forEach(function(f){var h=Is.get(f)-1,p=o.get(f)-1;Is.set(f,h),o.set(f,p),h||(Ha.has(f)||f.removeAttribute(r),Ha.delete(f)),p||f.removeAttribute(n)}),Yu--,Yu||(Is=new WeakMap,Is=new WeakMap,Ha=new WeakMap,qa={})}},Yj=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||zM(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),HM(r,s,n,"aria-hidden")):function(){return null}},wn=function(){return wn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},wn.apply(this,arguments)};function Jj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function qM(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var hl="right-scroll-bar-position",pl="width-before-scroll-bar",GM="with-scroll-bars-hidden",KM="--removed-body-scroll-bar-size";function Ju(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YM(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var JM=typeof window<"u"?m.useLayoutEffect:m.useEffect,sy=new WeakMap;function XM(e,t){var n=YM(t||null,function(r){return e.forEach(function(s){return Ju(s,r)})});return JM(function(){var r=sy.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||Ju(l,null)}),o.forEach(function(l){s.has(l)||Ju(l,i)})}sy.set(n,e)},[e]),n}function QM(e){return e}function ZM(e,t){t===void 0&&(t=QM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function eD(e){e===void 0&&(e={});var t=ZM(null);return t.options=wn({async:!0,ssr:!1},e),t}var Xj=function(e){var t=e.sideCar,n=Jj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,wn({},n))};Xj.isSideCarExport=!0;function tD(e,t){return e.useMedium(t),Xj}var Qj=eD(),Xu=function(){},Bc=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Xu,onWheelCapture:Xu,onTouchMoveCapture:Xu}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,w=e.noIsolation,x=e.inert,j=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,v=e.gapMode,S=Jj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,k=XM([n,t]),C=wn(wn({},S),s);return m.createElement(m.Fragment,null,d&&m.createElement(b,{sideCar:Qj,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:x,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:v}),i?m.cloneElement(m.Children.only(l),wn(wn({},C),{ref:k})):m.createElement(g,wn({},C,{className:c,ref:k}),l))});Bc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bc.classNames={fullWidth:pl,zeroRight:hl};var oy,nD=function(){if(oy)return oy;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nD();return t&&e.setAttribute("nonce",t),e}function sD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=rD())&&(sD(t,n),oD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},aD=function(){var e=iD();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Zj=function(){var e=aD(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},lD={left:0,top:0,right:0,gap:0},Qu=function(e){return parseInt(e||"",10)||0},cD=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Qu(n),Qu(r),Qu(s)]},uD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lD;var t=cD(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},dD=Zj(),lo="data-scroll-locked",fD=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(GM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(lo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(pl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(hl," .").concat(hl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pl," .").concat(pl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(lo,`] {
    `).concat(KM,": ").concat(l,`px;
  }
`)},iy=function(){var e=parseInt(document.body.getAttribute(lo)||"0",10);return isFinite(e)?e:0},hD=function(){m.useEffect(function(){return document.body.setAttribute(lo,(iy()+1).toString()),function(){var e=iy()-1;e<=0?document.body.removeAttribute(lo):document.body.setAttribute(lo,e.toString())}},[])},pD=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;hD();var o=m.useMemo(function(){return uD(s)},[s]);return m.createElement(dD,{styles:fD(o,!t,s,n?"":"!important")})},Rf=!1;if(typeof window<"u")try{var Ga=Object.defineProperty({},"passive",{get:function(){return Rf=!0,!0}});window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Rf=!1}var Ls=Rf?{passive:!1}:!1,mD=function(e){return e.tagName==="TEXTAREA"},eS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!mD(e)&&n[t]==="visible")},gD=function(e){return eS(e,"overflowY")},vD=function(e){return eS(e,"overflowX")},ay=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=tS(e,r);if(s){var o=nS(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yD=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},xD=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},tS=function(e,t){return e==="v"?gD(t):vD(t)},nS=function(e,t){return e==="v"?yD(t):xD(t)},wD=function(e,t){return e==="h"&&t==="rtl"?-1:1},jD=function(e,t,n,r,s){var o=wD(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var p=nS(e,l),w=p[0],x=p[1],j=p[2],y=x-j-o*w;(w||y)&&tS(e,l)&&(f+=y,h+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(h)<1||!s&&-i>h))&&(u=!0),u},Ka=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ly=function(e){return[e.deltaX,e.deltaY]},cy=function(e){return e&&"current"in e?e.current:e},SD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_D=0,Ms=[];function CD(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(_D++)[0],o=m.useState(Zj)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=qM([e.lockRef.current],(e.shards||[]).map(cy),!0).filter(Boolean);return x.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,j){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var y=Ka(x),g=n.current,v="deltaX"in x?x.deltaX:g[0]-y[0],S="deltaY"in x?x.deltaY:g[1]-y[1],b,k=x.target,C=Math.abs(v)>Math.abs(S)?"h":"v";if("touches"in x&&C==="h"&&k.type==="range")return!1;var _=ay(C,k);if(!_)return!0;if(_?b=C:(b=C==="v"?"h":"v",_=ay(C,k)),!_)return!1;if(!r.current&&"changedTouches"in x&&(v||S)&&(r.current=b),!b)return!0;var E=r.current||b;return jD(E,j,x,E==="h"?v:S,!0)},[]),c=m.useCallback(function(x){var j=x;if(!(!Ms.length||Ms[Ms.length-1]!==o)){var y="deltaY"in j?ly(j):Ka(j),g=t.current.filter(function(b){return b.name===j.type&&(b.target===j.target||j.target===b.shadowParent)&&SD(b.delta,y)})[0];if(g&&g.should){j.cancelable&&j.preventDefault();return}if(!g){var v=(i.current.shards||[]).map(cy).filter(Boolean).filter(function(b){return b.contains(j.target)}),S=v.length>0?l(j,v[0]):!i.current.noIsolation;S&&j.cancelable&&j.preventDefault()}}},[]),u=m.useCallback(function(x,j,y,g){var v={name:x,delta:j,target:y,should:g,shadowParent:ED(y)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(S){return S!==v})},1)},[]),d=m.useCallback(function(x){n.current=Ka(x),r.current=void 0},[]),f=m.useCallback(function(x){u(x.type,ly(x),x.target,l(x,e.lockRef.current))},[]),h=m.useCallback(function(x){u(x.type,Ka(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return Ms.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ls),document.addEventListener("touchmove",c,Ls),document.addEventListener("touchstart",d,Ls),function(){Ms=Ms.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Ls),document.removeEventListener("touchmove",c,Ls),document.removeEventListener("touchstart",d,Ls)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:bD(s)}):null,p?m.createElement(pD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ED(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kD=tD(Qj,CD);var rS=m.forwardRef(function(e,t){return m.createElement(Bc,wn({},e,{ref:t,sideCar:kD}))});rS.classNames=Bc.classNames;const sS=rS;var ND=[" ","Enter","ArrowUp","ArrowDown"],PD=[" ","Enter"],vs="Select",[zc,Wc,TD]=Vh(vs),[Mo,jF]=_s(vs,[TD,Fj]),Hc=Fj(),[AD,Wr]=Mo(vs),[RD,OD]=Mo(vs),oS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:w}=e,x=Hc(t),[j,y]=m.useState(null),[g,v]=m.useState(null),[S,b]=m.useState(!1),k=jp(u),[C,_]=xo({prop:r,defaultProp:s??!1,onChange:o,caller:vs}),[E,O]=xo({prop:i,defaultProp:l,onChange:c,caller:vs}),R=m.useRef(null),I=j?w||!!j.closest("form"):!0,[V,L]=m.useState(new Set),$=Array.from(V).map(M=>M.props.value).join(";");return a.jsx($M,{...x,children:a.jsxs(AD,{required:p,scope:t,trigger:j,onTriggerChange:y,valueNode:g,onValueNodeChange:v,valueNodeHasChildren:S,onValueNodeHasChildrenChange:b,contentId:Pr(),value:E,onValueChange:O,open:C,onOpenChange:_,dir:k,triggerPointerDownPosRef:R,disabled:h,children:[a.jsx(zc.Provider,{scope:t,children:a.jsx(RD,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(M=>{L(N=>new Set(N).add(M))},[]),onNativeOptionRemove:m.useCallback(M=>{L(N=>{const P=new Set(N);return P.delete(M),P})},[]),children:n})}),I?a.jsxs(PS,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:M=>O(M.target.value),disabled:h,form:w,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(V)]},$):null]})})};oS.displayName=vs;var iS="SelectTrigger",aS=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Hc(n),i=Wr(iS,n),l=i.disabled||r,c=$e(t,i.onTriggerChange),u=Wc(n),d=m.useRef("touch"),[f,h,p]=AS(x=>{const j=u().filter(v=>!v.disabled),y=j.find(v=>v.value===i.value),g=RS(j,x,y);g!==void 0&&i.onValueChange(g.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(FM,{asChild:!0,...o,children:a.jsx(le.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TS(i.value)?"":void 0,...s,ref:c,onClick:re(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&w(x)}),onPointerDown:re(s.onPointerDown,x=>{d.current=x.pointerType;const j=x.target;j.hasPointerCapture(x.pointerId)&&j.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:re(s.onKeyDown,x=>{const j=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(j&&x.key===" ")&&ND.includes(x.key)&&(w(),x.preventDefault())})})})});aS.displayName=iS;var lS="SelectValue",cS=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=Wr(lS,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=$e(t,c.onValueNodeChange);return at(()=>{u(d)},[u,d]),a.jsx(le.span,{...l,ref:f,style:{pointerEvents:"none"},children:TS(c.value)?a.jsx(a.Fragment,{children:i}):o})});cS.displayName=lS;var ID="SelectIcon",uS=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(le.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});uS.displayName=ID;var LD="SelectPortal",dS=e=>a.jsx(_c,{asChild:!0,...e});dS.displayName=LD;var ys="SelectContent",fS=m.forwardRef((e,t)=>{const n=Wr(ys,e.__scopeSelect),[r,s]=m.useState();if(at(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Ss.createPortal(a.jsx(hS,{scope:e.__scopeSelect,children:a.jsx(zc.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(pS,{...e,ref:t})});fS.displayName=ys;var nn=10,[hS,Hr]=Mo(ys),MD="SelectContentImpl",DD=yo("SelectContent.RemoveScroll"),pS=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:j,...y}=e,g=Wr(ys,n),[v,S]=m.useState(null),[b,k]=m.useState(null),C=$e(t,Y=>S(Y)),[_,E]=m.useState(null),[O,R]=m.useState(null),I=Wc(n),[V,L]=m.useState(!1),$=m.useRef(!1);m.useEffect(()=>{if(v)return Yj(v)},[v]),_j();const M=m.useCallback(Y=>{const[xe,...Re]=I().map(we=>we.ref.current),[ce]=Re.slice(-1),oe=document.activeElement;for(const we of Y)if(we===oe||(we==null||we.scrollIntoView({block:"nearest"}),we===xe&&b&&(b.scrollTop=0),we===ce&&b&&(b.scrollTop=b.scrollHeight),we==null||we.focus(),document.activeElement!==oe))return},[I,b]),N=m.useCallback(()=>M([_,v]),[M,_,v]);m.useEffect(()=>{V&&N()},[V,N]);const{onOpenChange:P,triggerPointerDownPosRef:T}=g;m.useEffect(()=>{if(v){let Y={x:0,y:0};const xe=ce=>{var oe,we;Y={x:Math.abs(Math.round(ce.pageX)-(((oe=T.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((we=T.current)==null?void 0:we.y)??0))}},Re=ce=>{Y.x<=10&&Y.y<=10?ce.preventDefault():v.contains(ce.target)||P(!1),document.removeEventListener("pointermove",xe),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Re,{capture:!0})}}},[v,P,T]),m.useEffect(()=>{const Y=()=>P(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[P]);const[D,A]=AS(Y=>{const xe=I().filter(oe=>!oe.disabled),Re=xe.find(oe=>oe.ref.current===document.activeElement),ce=RS(xe,Y,Re);ce&&setTimeout(()=>ce.ref.current.focus())}),U=m.useCallback((Y,xe,Re)=>{const ce=!$.current&&!Re;(g.value!==void 0&&g.value===xe||ce)&&(E(Y),ce&&($.current=!0))},[g.value]),X=m.useCallback(()=>v==null?void 0:v.focus(),[v]),se=m.useCallback((Y,xe,Re)=>{const ce=!$.current&&!Re;(g.value!==void 0&&g.value===xe||ce)&&R(Y)},[g.value]),ve=r==="popper"?Of:mS,ye=ve===Of?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:j}:{};return a.jsx(hS,{scope:n,content:v,viewport:b,onViewportChange:k,itemRefCallback:U,selectedItem:_,onItemLeave:X,itemTextRefCallback:se,focusSelectedItem:N,selectedItemText:O,position:r,isPositioned:V,searchRef:D,children:a.jsx(sS,{as:DD,allowPinchZoom:!0,children:a.jsx(Sp,{asChild:!0,trapped:g.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:re(s,Y=>{var xe;(xe=g.trigger)==null||xe.focus({preventScroll:!0}),Y.preventDefault()}),children:a.jsx(bc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(ve,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Y=>Y.preventDefault(),...y,...ye,onPlaced:()=>L(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:re(y.onKeyDown,Y=>{const xe=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!xe&&Y.key.length===1&&A(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ce=I().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const oe=Y.target,we=ce.indexOf(oe);ce=ce.slice(we+1)}setTimeout(()=>M(ce)),Y.preventDefault()}})})})})})})});pS.displayName=MD;var $D="SelectItemAlignedPosition",mS=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Wr(ys,n),i=Hr(ys,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=$e(t,C=>d(C)),h=Wc(n),p=m.useRef(!1),w=m.useRef(!0),{viewport:x,selectedItem:j,selectedItemText:y,focusSelectedItem:g}=i,v=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&j&&y){const C=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(o.dir!=="rtl"){const oe=O.left-_.left,we=E.left-oe,nt=C.left-we,wt=C.width+nt,B=Math.max(wt,_.width),H=window.innerWidth-nn,Ce=Bv(we,[nn,Math.max(nn,H-B)]);l.style.minWidth=wt+"px",l.style.left=Ce+"px"}else{const oe=_.right-O.right,we=window.innerWidth-E.right-oe,nt=window.innerWidth-C.right-we,wt=C.width+nt,B=Math.max(wt,_.width),H=window.innerWidth-nn,Ce=Bv(we,[nn,Math.max(nn,H-B)]);l.style.minWidth=wt+"px",l.style.right=Ce+"px"}const R=h(),I=window.innerHeight-nn*2,V=x.scrollHeight,L=window.getComputedStyle(u),$=parseInt(L.borderTopWidth,10),M=parseInt(L.paddingTop,10),N=parseInt(L.borderBottomWidth,10),P=parseInt(L.paddingBottom,10),T=$+M+V+P+N,D=Math.min(j.offsetHeight*5,T),A=window.getComputedStyle(x),U=parseInt(A.paddingTop,10),X=parseInt(A.paddingBottom,10),se=C.top+C.height/2-nn,ve=I-se,ye=j.offsetHeight/2,Y=j.offsetTop+ye,xe=$+M+Y,Re=T-xe;if(xe<=se){const oe=R.length>0&&j===R[R.length-1].ref.current;l.style.bottom="0px";const we=u.clientHeight-x.offsetTop-x.offsetHeight,nt=Math.max(ve,ye+(oe?X:0)+we+N),wt=xe+nt;l.style.height=wt+"px"}else{const oe=R.length>0&&j===R[0].ref.current;l.style.top="0px";const nt=Math.max(se,$+x.offsetTop+(oe?U:0)+ye)+Re;l.style.height=nt+"px",x.scrollTop=xe-se+x.offsetTop}l.style.margin=`${nn}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,l,u,x,j,y,o.dir,r]);at(()=>v(),[v]);const[S,b]=m.useState();at(()=>{u&&b(window.getComputedStyle(u).zIndex)},[u]);const k=m.useCallback(C=>{C&&w.current===!0&&(v(),g==null||g(),w.current=!1)},[v,g]);return a.jsx(VD,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mS.displayName=$D;var FD="SelectPopperPosition",Of=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=nn,...o}=e,i=Hc(n);return a.jsx(VM,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Of.displayName=FD;var[VD,Rp]=Mo(ys,{}),If="SelectViewport",gS=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Hr(If,n),i=Rp(If,n),l=$e(t,o.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(zc.Slot,{scope:n,children:a.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-nn*2,x=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),y=Math.max(x,j);if(y<w){const g=y+p,v=Math.min(w,g),S=g-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});gS.displayName=If;var vS="SelectGroup",[UD,BD]=Mo(vS),zD=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Pr();return a.jsx(UD,{scope:n,id:s,children:a.jsx(le.div,{role:"group","aria-labelledby":s,...r,ref:t})})});zD.displayName=vS;var yS="SelectLabel",xS=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=BD(yS,n);return a.jsx(le.div,{id:s.id,...r,ref:t})});xS.displayName=yS;var sc="SelectItem",[WD,wS]=Mo(sc),jS=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=Wr(sc,n),c=Hr(sc,n),u=l.value===r,[d,f]=m.useState(o??""),[h,p]=m.useState(!1),w=$e(t,g=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,g,r,s)}),x=Pr(),j=m.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(WD,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:m.useCallback(g=>{f(v=>v||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(zc.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(le.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:re(i.onFocus,()=>p(!0)),onBlur:re(i.onBlur,()=>p(!1)),onClick:re(i.onClick,()=>{j.current!=="mouse"&&y()}),onPointerUp:re(i.onPointerUp,()=>{j.current==="mouse"&&y()}),onPointerDown:re(i.onPointerDown,g=>{j.current=g.pointerType}),onPointerMove:re(i.onPointerMove,g=>{var v;j.current=g.pointerType,s?(v=c.onItemLeave)==null||v.call(c):j.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(i.onPointerLeave,g=>{var v;g.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:re(i.onKeyDown,g=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(PD.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});jS.displayName=sc;var ri="SelectItemText",SS=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Wr(ri,n),l=Hr(ri,n),c=wS(ri,n),u=OD(ri,n),[d,f]=m.useState(null),h=$e(t,y=>f(y),c.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:j}=u;return at(()=>(x(w),()=>j(w)),[x,j,w]),a.jsxs(a.Fragment,{children:[a.jsx(le.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ss.createPortal(o.children,i.valueNode):null]})});SS.displayName=ri;var bS="SelectItemIndicator",_S=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return wS(bS,n).isSelected?a.jsx(le.span,{"aria-hidden":!0,...r,ref:t}):null});_S.displayName=bS;var Lf="SelectScrollUpButton",CS=m.forwardRef((e,t)=>{const n=Hr(Lf,e.__scopeSelect),r=Rp(Lf,e.__scopeSelect),[s,o]=m.useState(!1),i=$e(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(kS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});CS.displayName=Lf;var Mf="SelectScrollDownButton",ES=m.forwardRef((e,t)=>{const n=Hr(Mf,e.__scopeSelect),r=Rp(Mf,e.__scopeSelect),[s,o]=m.useState(!1),i=$e(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(kS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ES.displayName=Mf;var kS=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Hr("SelectScrollButton",n),i=m.useRef(null),l=Wc(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),at(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(le.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:re(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:re(s.onPointerLeave,()=>{c()})})}),HD="SelectSeparator",NS=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(le.div,{"aria-hidden":!0,...r,ref:t})});NS.displayName=HD;var Df="SelectArrow",qD=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Hc(n),o=Wr(Df,n),i=Hr(Df,n);return o.open&&i.position==="popper"?a.jsx(UM,{...s,...r,ref:t}):null});qD.displayName=Df;var GD="SelectBubbleInput",PS=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=m.useRef(null),o=$e(r,s),i=BM(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(le.select,{...n,style:{...G0,...n.style},ref:o,defaultValue:t})});PS.displayName=GD;function TS(e){return e===""||e===void 0}function AS(e){const t=Xt(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function RS(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=KD(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function KD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var YD=oS,OS=aS,JD=cS,XD=uS,QD=dS,IS=fS,ZD=gS,LS=xS,MS=jS,e$=SS,t$=_S,DS=CS,$S=ES,FS=NS;const Zn=YD,er=JD,Tn=ae.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(OS,{ref:r,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(XD,{asChild:!0,children:a.jsx(pw,{className:"h-4 w-4 opacity-50"})})]}));Tn.displayName=OS.displayName;const VS=ae.forwardRef(({className:e,...t},n)=>a.jsx(DS,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(IN,{className:"h-4 w-4"})}));VS.displayName=DS.displayName;const US=ae.forwardRef(({className:e,...t},n)=>a.jsx($S,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(pw,{className:"h-4 w-4"})}));US.displayName=$S.displayName;const An=ae.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(QD,{children:a.jsxs(IS,{ref:s,className:_e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(VS,{}),a.jsx(ZD,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(US,{})]})}));An.displayName=IS.displayName;const n$=ae.forwardRef(({className:e,...t},n)=>a.jsx(LS,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));n$.displayName=LS.displayName;const Ke=ae.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(MS,{ref:r,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(t$,{children:a.jsx(ON,{className:"h-4 w-4"})})}),a.jsx(e$,{children:t})]}));Ke.displayName=MS.displayName;const r$=ae.forwardRef(({className:e,...t},n)=>a.jsx(FS,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));r$.displayName=FS.displayName;const uy=[{value:"varejo",label:"Varejo"},{value:"atacado",label:"Atacado"},{value:"atacarejo",label:"Atacarejo"}],s$=Array.from({length:10},(e,t)=>t+1),dy=()=>{const[e,t]=m.useState([]),[n,r]=m.useState({type:"percentage",value:0}),[s,o]=m.useState([]),[i,l]=m.useState({isOpen:!1,currentAmount:0,openingAmount:0,id:null,store_id:null}),[c,u]=m.useState(null),{toast:d}=Vt(),f=xt(),h=!!(f!=null&&f.store_id)&&!Dt(f.role,Z.VIEW_ALL_STORES_DATA),[p,w]=m.useState(0),[x,j]=m.useState(""),[y,g]=m.useState(null),[v,S]=m.useState([]),[b,k]=m.useState(!1),[C,_]=m.useState(1),[E,O]=m.useState([{method:"",amount:"",parcelas:1},{method:"",amount:"",parcelas:1}]),[R,I]=m.useState(!1),[V,L]=m.useState(!1),$=()=>{var B;return a.jsxs("div",{className:"space-y-6 max-w-2xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumo da Venda"}),a.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Modalidade:"})," ",(B=uy.find(H=>H.value===x))==null?void 0:B.label]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Vendedor:"})," ",y==null?void 0:y.name]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Tipo de venda:"})," ",R?"Troca":"Normal"]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Itens:"}),a.jsx("ul",{className:"ml-4 list-disc",children:e.map(H=>a.jsxs("li",{children:[H.name," - ",H.quantity," x R$ ",H.price.toFixed(2)," = R$ ",(H.price*H.quantity).toFixed(2)]},H.id))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Total:"})," R$ ",ve().toFixed(2)]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Pagamentos:"}),a.jsx("ul",{className:"ml-4 list-disc",children:E.slice(0,C).map((H,Ce)=>a.jsxs("li",{children:[Zl[H.method]," - R$ ",parseFloat(H.amount).toFixed(2),H.method==="credit"?` (${H.parcelas}x)`:""]},Ce))})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("input",{type:"checkbox",id:"troca",checked:R,onChange:H=>I(H.target.checked)}),a.jsxs("label",{htmlFor:"troca",className:"text-sm",children:["Esta venda  uma ",a.jsx("b",{children:"troca"})]})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(z,{onClick:async()=>{L(!0);try{const H={items:e.map(he=>({productId:he.productId,name:he.name,price:he.price,barcode:he.barcode,quantity:he.quantity,subtotal:he.subtotal})),subtotal:X(),discount:se(),total:ve(),payments:E.slice(0,C).map(he=>({method:he.method,amount:parseFloat(he.amount),parcelas:he.method==="credit"?he.parcelas:void 0})),cashier:f==null?void 0:f.name,cashierId:f==null?void 0:f.id,store_id:(c==null?void 0:c.id)||(f==null?void 0:f.store_id)||null,modalidade:x,vendedor_id:y==null?void 0:y.id,tipo_venda:R?"troca":"normal"},Ce=await sL(H);U(),I(!1),w(0),g(null),O([{method:"",amount:"",parcelas:1},{method:"",amount:"",parcelas:1}]),_(1),d({title:"Venda finalizada com sucesso!",description:`Venda #${Ce.sale.id} criada.`,variant:"default"})}catch(H){d({title:"Erro ao finalizar venda",description:H.message||"Tente novamente.",variant:"destructive"})}finally{L(!1)}},disabled:V,children:V?"Finalizando...":"Finalizar Venda"}),a.jsx(z,{variant:"ghost",onClick:()=>w(3),disabled:V,children:"Voltar"})]})]})};m.useEffect(()=>{p===1&&v.length===0&&(k(!0),yj().then(B=>{const H=B.filter(Ce=>["manager","cashier","admin"].includes(Ce.role));S(H)}).finally(()=>k(!1)))},[p,v.length]);const M=m.useCallback(async()=>{const B=await rL();l(B),h&&(f!=null&&f.store_id)?u({id:f.store_id,name:f.store_name||"Loja Fsica"}):u({id:null,name:"Loja Online"})},[h,f==null?void 0:f.store_id,f==null?void 0:f.store_name]);m.useEffect(()=>{M()},[M]);const N=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(oL,{onProductFound:T,getProductByBarcode:Nf}),a.jsx(iL,{cart:e,onUpdateQuantity:D,onRemoveFromCart:A,onClearCart:U}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(z,{onClick:()=>e.length>0&&w(3),disabled:e.length===0,children:"Avanar"}),a.jsx(z,{variant:"ghost",onClick:()=>w(1),children:"Voltar"})]})]}),P=B=>x==="varejo"&&B.price_varejo!=null?B.price_varejo:x==="atacado"&&B.price_atacado!=null?B.price_atacado:x==="atacarejo"&&B.price_atacarejo!=null?B.price_atacarejo:B.price,T=async B=>{var he,Qe;if(h&&B.is_physical_store_stock&&(!B.stock||B.stock<=0)){d({title:"Sem estoque na sua loja",description:`O produto ${B.name} no tem estoque disponvel na sua loja.`,variant:"warning"});return}if(!h&&(!B.stock||B.stock<=0)){d({title:"Sem estoque online",description:`O produto ${B.name} no tem estoque online disponvel.`,variant:"warning"});return}const H=P(B),Ce=e.find(Ut=>Ut.productId===B.id);if(Ce)D(Ce.id,Ce.quantity+1,B.stock);else{const Ut={id:`${B.id}-${Date.now()}`,productId:B.id,name:B.name,price:H,barcode:B.barcode,quantity:1,size:((he=B.sizes)==null?void 0:he[0])||null,color:((Qe=B.colors)==null?void 0:Qe[0])||null,subtotal:H,product_main_store_id:B.store_id,max_available_stock:B.stock};t(W=>[...W,Ut])}d({title:"Produto adicionado",description:`${B.name} adicionado ao carrinho. Estoque disponvel: ${B.stock}`})},D=(B,H,Ce)=>{const he=e.find(Ut=>Ut.id===B);if(!he)return;const Qe=Ce!==void 0?Ce:he.max_available_stock;if(H>Qe&&(d({title:"Quantidade excede estoque",description:`Mximo de ${Qe} unidades disponveis.`,variant:"warning"}),H=Qe),H<=0){A(B);return}t(Ut=>Ut.map(W=>W.id===B?{...W,quantity:H,subtotal:W.price*H}:W))},A=B=>{t(H=>H.filter(Ce=>Ce.id!==B))},U=()=>{t([]),o([]),r({type:"percentage",value:0})},X=()=>e.reduce((B,H)=>B+H.subtotal,0),se=()=>{const B=X();return n.type==="percentage"?B*n.value/100:Math.min(n.value,B)},ve=()=>X()-se(),ye=()=>{if(!Dt(f==null?void 0:f.role,Z.APPLY_DISCOUNTS)){d({title:"Sem permisso",description:"Voc no tem permisso para aplicar descontos",variant:"destructive"});return}const B=prompt("Digite a porcentagem de desconto (ex: 10 para 10%):"),H=parseFloat(B);!isNaN(H)&&H>=0&&H<=100?(r({type:"percentage",value:H}),d({title:"Desconto aplicado",description:`${H}% de desconto.`})):B!==null&&d({title:"Valor invlido",description:"Por favor, insira um valor entre 0 e 100.",variant:"destructive"})},Y=(B,H)=>{o(Ce=>[...Ce,{method:B,amount:parseFloat(H.toFixed(2)),id:Date.now()}])},xe=()=>s.reduce((B,H)=>B+H.amount,0),Re=()=>ve()-xe(),ce=()=>e.length>0&&Re()<=.001,oe=(B,H,Ce)=>{O(he=>he.map((Qe,Ut)=>Ut===B?{...Qe,[H]:Ce}:Qe))},we=()=>a.jsxs("div",{className:"space-y-6 max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Formas de Pagamento"}),a.jsxs("div",{className:"flex gap-4 mb-2",children:[a.jsx(z,{variant:C===1?"default":"outline",onClick:()=>_(1),children:"1 Forma"}),a.jsx(z,{variant:C===2?"default":"outline",onClick:()=>_(2),children:"2 Formas"})]}),[...Array(C)].map((B,H)=>{var Ce;return a.jsxs("div",{className:"border rounded-lg p-4 mb-2 bg-card",children:[a.jsxs("div",{className:"mb-2 font-medium",children:["Pagamento ",H+1]}),a.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[a.jsxs(Zn,{value:E[H].method,onValueChange:he=>oe(H,"method",he),children:[a.jsx(Tn,{className:"w-40",children:a.jsx(er,{placeholder:"Forma de Pagamento"})}),a.jsx(An,{children:Object.entries(Zl).map(([he,Qe])=>a.jsx(Ke,{value:he,children:Qe},he))})]}),a.jsx(G,{type:"number",min:"0",step:"0.01",placeholder:"Valor",className:"w-32",value:E[H].amount,onChange:he=>oe(H,"amount",he.target.value)}),E[H].method==="credit"&&a.jsxs(Zn,{value:((Ce=E[H].parcelas)==null?void 0:Ce.toString())||"1",onValueChange:he=>oe(H,"parcelas",parseInt(he)),children:[a.jsx(Tn,{className:"w-28",children:a.jsx(er,{placeholder:"Parcelas"})}),a.jsx(An,{children:s$.map(he=>a.jsxs(Ke,{value:he.toString(),children:[he,"x"]},he))})]})]})]},H)}),a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-medium",children:"Total da venda:"})," R$ ",ve().toFixed(2),a.jsx("br",{}),a.jsx("span",{className:"font-medium",children:"Total informado:"})," R$ ",xe().toFixed(2)]}),!ce&&a.jsx("div",{className:"text-destructive text-sm mb-2",children:"Preencha todas as formas de pagamento corretamente e o valor total deve bater com o total da venda."}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(z,{onClick:()=>ce&&w(4),disabled:!ce,children:"Avanar"}),a.jsx(z,{variant:"ghost",onClick:()=>w(2),children:"Voltar"})]})]}),nt=()=>a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione a modalidade da venda"}),a.jsx("div",{className:"flex gap-4 mb-4",children:uy.map(B=>a.jsx(z,{variant:x===B.value?"default":"outline",onClick:()=>j(B.value),className:"min-w-[120px]",children:B.label},B.value))}),a.jsx(z,{onClick:()=>x&&w(1),disabled:!x,className:"mt-2",children:"Avanar"})]}),wt=()=>a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione o vendedor responsvel"}),b?a.jsx("div",{children:"Carregando vendedores..."}):a.jsx("div",{className:"flex flex-col gap-2 mb-4 max-w-md",children:v.map(B=>a.jsxs(z,{variant:(y==null?void 0:y.id)===B.id?"default":"outline",onClick:()=>g(B),className:"justify-start",children:[B.name," ",a.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",B.role,")"]})]},B.id))}),a.jsx(z,{onClick:()=>y&&w(2),disabled:!y,className:"mt-2",children:"Avanar"}),a.jsx(z,{variant:"ghost",className:"mt-2 ml-2",onClick:()=>w(0),children:"Voltar"})]});return ve(),E.slice(0,C).reduce((B,H)=>B+(parseFloat(H.amount)||0),0),E.slice(0,C).every(B=>B.method&&B.amount&&!isNaN(parseFloat(B.amount))&&(B.method!=="credit"||B.parcelas)),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p===0&&nt(),p===1&&wt(),p===2&&N(),p===3&&we(),p===4&&$()]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(aL,{subtotal:X(),discountAmount:se(),total:ve(),onApplyDiscount:ye}),a.jsx(lL,{cartLength:e.length,payments:s,totalPaid:xe(),remainingAmount:Re(),onAddPayment:Y}),a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(ms,{className:"w-5 h-5"}),a.jsx("span",{children:"Status do Caixa"})]})}),a.jsxs(ne,{className:"space-y-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx("p",{className:`font-bold ${i.isOpen?"text-green-600":"text-red-600"}`,children:i.isOpen?"ABERTO":"FECHADO"}),i.isOpen&&a.jsxs("p",{className:"text-lg font-bold",children:["R$ ",i.currentAmount.toFixed(2)]})]}),a.jsx("div",{className:"text-center",children:a.jsx(z,{variant:"outline",size:"sm",onClick:()=>window.location.href="/cash-register",className:"w-full",children:"Gerenciar Caixa"})})]})]})]})]})},o$=({products:e,onEdit:t,onDelete:n,stores:r,currentUser:s})=>{if(e.length===0)return a.jsx(te,{children:a.jsxs(ne,{className:"text-center py-12",children:[a.jsx(Rr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum produto encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro produto."})]})});const o=i=>{var l;return((l=r.find(c=>c.id===i))==null?void 0:l.name)||"Loja Desconhecida"};return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>{var u,d,f;let l=i.stock,c="Est. Online/Geral";if(s&&s.store_id&&!((u=s.stores)!=null&&u.is_online_store)){const h=(d=i.physicalStocks)==null?void 0:d.find(p=>p.store_id===s.store_id);h?(l=h.quantity,c=`Est. ${s.stores.name}`):(l=0,c=`Est. ${s.stores.name}`)}return a.jsx(ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:a.jsxs(te,{className:"glass-effect flex flex-col h-full",children:[a.jsxs(Se,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[i.image_url?a.jsx("img",{src:i.image_url,alt:i.name,className:"w-10 h-10 object-cover rounded-md border",onError:h=>{console.log(" Erro ao carregar imagem:",i.image_url,"para produto:",i.name),h.target.style.display="none",h.target.nextSibling.style.display="block"},onLoad:()=>{console.log(" Imagem carregada com sucesso:",i.image_url,"para produto:",i.name)}}):null,a.jsx(Rr,{className:`w-5 h-5 text-primary ${i.image_url?"hidden":"block"}`}),a.jsx(be,{className:"text-lg",children:i.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Vi,{to:`/products/${i.id}`,children:a.jsx(z,{variant:"ghost",size:"icon",children:a.jsx(gw,{className:"w-4 h-4"})})}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(i),children:a.jsx(qh,{className:"w-4 h-4"})}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>n(i.id),className:"text-destructive hover:text-destructive",children:a.jsx(ra,{className:"w-4 h-4"})})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground pt-1",children:["Cd: ",i.barcode]}),a.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:["Tipo: ",i.product_type==="variable"?"Varivel":"Simples"]}),i.store_id&&a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(zi,{className:"w-3 h-3 mr-1"}),a.jsxs("span",{children:["Cadastrado em: ",o(i.store_id)]})]})]}),a.jsxs(ne,{className:"space-y-3 flex-grow flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Categoria:"}),a.jsx("p",{children:i.category||"-"})]})}),s&&(((f=s.stores)==null?void 0:f.is_online_store)||s.role==="admin")&&i.physicalStocks&&i.physicalStocks.length>0&&a.jsxs("div",{className:"mt-3 pt-2 border-t border-dashed",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Estoque nas Lojas Fsicas:"}),a.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto text-xs",children:i.physicalStocks.map(h=>{var p;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(mw,{className:"w-3 h-3 mr-1 text-muted-foreground"}),a.jsxs("span",{children:[((p=h.stores)==null?void 0:p.name)||o(h.store_id),":"]})]}),a.jsxs("span",{children:[h.quantity," un."]})]},h.id)})})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t mt-3",children:[a.jsxs("span",{className:"text-xl font-bold text-primary",children:["R$ ",i.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-sm font-medium ${l<=i.min_stock?"text-orange-600":"text-green-600"}`,children:[c,": ",l]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Alerta Mn: ",i.min_stock]})]})]})]})]})},i.id)})})};var qc="Dialog",[BS,SF]=_s(qc),[i$,mn]=BS(qc),zS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=xo({prop:r,defaultProp:s??!1,onChange:o,caller:qc});return a.jsx(i$,{scope:t,triggerRef:l,contentRef:c,contentId:Pr(),titleId:Pr(),descriptionId:Pr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};zS.displayName=qc;var WS="DialogTrigger",HS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mn(WS,n),o=$e(t,s.triggerRef);return a.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lp(s.open),...r,ref:o,onClick:re(e.onClick,s.onOpenToggle)})});HS.displayName=WS;var Op="DialogPortal",[a$,qS]=BS(Op,{forceMount:void 0}),GS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=mn(Op,t);return a.jsx(a$,{scope:t,forceMount:n,children:m.Children.map(r,i=>a.jsx(Ao,{present:n||o.open,children:a.jsx(_c,{asChild:!0,container:s,children:i})}))})};GS.displayName=Op;var oc="DialogOverlay",KS=m.forwardRef((e,t)=>{const n=qS(oc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=mn(oc,e.__scopeDialog);return o.modal?a.jsx(Ao,{present:r||o.open,children:a.jsx(c$,{...s,ref:t})}):null});KS.displayName=oc;var l$=yo("DialogOverlay.RemoveScroll"),c$=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mn(oc,n);return a.jsx(sS,{as:l$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(le.div,{"data-state":Lp(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),xs="DialogContent",YS=m.forwardRef((e,t)=>{const n=qS(xs,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=mn(xs,e.__scopeDialog);return a.jsx(Ao,{present:r||o.open,children:o.modal?a.jsx(u$,{...s,ref:t}):a.jsx(d$,{...s,ref:t})})});YS.displayName=xs;var u$=m.forwardRef((e,t)=>{const n=mn(xs,e.__scopeDialog),r=m.useRef(null),s=$e(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return Yj(o)},[]),a.jsx(JS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:re(e.onFocusOutside,o=>o.preventDefault())})}),d$=m.forwardRef((e,t)=>{const n=mn(xs,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return a.jsx(JS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),JS=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=mn(xs,n),c=m.useRef(null),u=$e(t,c);return _j(),a.jsxs(a.Fragment,{children:[a.jsx(Sp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(bc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Lp(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(f$,{titleId:l.titleId}),a.jsx(p$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ip="DialogTitle",XS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mn(Ip,n);return a.jsx(le.h2,{id:s.titleId,...r,ref:t})});XS.displayName=Ip;var QS="DialogDescription",ZS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mn(QS,n);return a.jsx(le.p,{id:s.descriptionId,...r,ref:t})});ZS.displayName=QS;var eb="DialogClose",tb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mn(eb,n);return a.jsx(le.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>s.onOpenChange(!1))})});tb.displayName=eb;function Lp(e){return e?"open":"closed"}var nb="DialogTitleWarning",[bF,rb]=$k(nb,{contentName:xs,titleName:Ip,docsSlug:"dialog"}),f$=({titleId:e})=>{const t=rb(nb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},h$="DialogDescriptionWarning",p$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rb(h$).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},m$=zS,g$=HS,v$=GS,sb=KS,ob=YS,ib=XS,ab=ZS,y$=tb;const Hn=m$,co=g$,x$=v$,lb=ae.forwardRef(({className:e,...t},n)=>a.jsx(sb,{ref:n,className:_e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lb.displayName=sb.displayName;const En=ae.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(x$,{children:[a.jsx(lb,{}),a.jsxs(ob,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(y$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Gh,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));En.displayName=ob.displayName;const kn=({className:e,...t})=>a.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});kn.displayName="DialogHeader";const Nn=ae.forwardRef(({className:e,...t},n)=>a.jsx(ib,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));Nn.displayName=ib.displayName;const cb=ae.forwardRef(({className:e,...t},n)=>a.jsx(ab,{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));cb.displayName=ab.displayName;const sn={SIMPLE:"simple",VARIABLE:"variable"},w$=({formData:e,handleInputChange:t,handleProductTypeChange:n})=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"Nome do Produto *"}),a.jsx(G,{id:"name",name:"name",value:e.name,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"category",children:"Categoria"}),a.jsxs(Zn,{name:"category",value:e.category,onValueChange:r=>t({target:{name:"category",value:r}}),children:[a.jsx(Tn,{children:a.jsx(er,{placeholder:"Selecione a categoria"})}),a.jsxs(An,{children:[a.jsx(Ke,{value:"Camiseta",children:"Camiseta"}),a.jsx(Ke,{value:"Gola Mdia",children:"Gola Mdia"}),a.jsx(Ke,{value:"Camisa",children:"Camisa"}),a.jsx(Ke,{value:"Blazer",children:"Blazer"}),a.jsx(Ke,{value:"Jaqueta",children:"Jaqueta"}),a.jsx(Ke,{value:"Seter",children:"Seter"}),a.jsx(Ke,{value:"Calas",children:"Calas"}),a.jsx(Ke,{value:"Bermudas",children:"Bermudas"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"barcode",children:"Cdigo de Barras Principal *"}),a.jsx(G,{id:"barcode",name:"barcode",value:e.barcode,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"price",children:"Preo Principal *"}),a.jsx(G,{id:"price",name:"price",type:"number",step:"0.01",value:e.price,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"price_varejo",children:"Preo de Varejo"}),a.jsx(G,{id:"price_varejo",name:"price_varejo",type:"number",step:"0.01",value:e.price_varejo||"",onChange:t})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"price_atacado",children:"Preo de Atacado"}),a.jsx(G,{id:"price_atacado",name:"price_atacado",type:"number",step:"0.01",value:e.price_atacado||"",onChange:t})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"price_atacarejo",children:"Cliente Exclusivo"}),a.jsx(G,{id:"price_atacarejo",name:"price_atacarejo",type:"number",step:"0.01",value:e.price_atacarejo||"",onChange:t})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"product_type",children:"Tipo de Produto *"}),a.jsxs(Zn,{name:"product_type",value:e.product_type,onValueChange:n,children:[a.jsx(Tn,{children:a.jsx(er,{placeholder:"Selecione o tipo"})}),a.jsxs(An,{children:[a.jsx(Ke,{value:sn.SIMPLE,children:"Produto Simples"}),a.jsx(Ke,{value:sn.VARIABLE,children:"Produto Varivel"})]})]})]}),e.product_type===sn.SIMPLE&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"stock",children:"Estoque (Simples) *"}),a.jsx(G,{id:"stock",name:"stock",type:"number",value:e.stock,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"referencia",children:"Referncia *"}),a.jsx(G,{id:"referencia",name:"referencia",value:e.referencia||"",onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"min_stock",children:"Estoque Mnimo Global (Alerta)"}),a.jsx(G,{id:"min_stock",name:"min_stock",type:"number",value:e.min_stock,onChange:t})]})]}),a.jsxs("div",{className:"pt-4 border-t mt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dimenses e Peso (para frete)"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"weight",children:"Peso (kg)"}),a.jsx(G,{id:"weight",name:"weight",type:"number",step:"0.01",value:e.weight,onChange:t})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"length",children:"Comprimento (cm)"}),a.jsx(G,{id:"length",name:"length",type:"number",step:"0.1",value:e.length,onChange:t})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"height",children:"Altura (cm)"}),a.jsx(G,{id:"height",name:"height",type:"number",step:"0.1",value:e.height,onChange:t})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"width",children:"Largura (cm)"}),a.jsx(G,{id:"width",name:"width",type:"number",step:"0.1",value:e.width,onChange:t})]})]})]})]}),ub=({title:e,imageUrlPreview:t,handleImageChange:n,imageInputRef:r,idPrefix:s="main"})=>a.jsxs("div",{className:"pt-4 border-t mt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:e}),a.jsx(G,{type:"file",accept:"image/*",onChange:n,ref:r,className:"mb-2",id:`${s}_image_upload`}),t&&a.jsx("img",{src:t,alt:`Preview ${e}`,className:"w-32 h-32 object-cover rounded-md border"})]}),j$=({variations:e,handleVariationChange:t,handleVariationAttributeChange:n,removeVariation:r,addVariation:s,handleVariationImageChange:o,variationImageUrlPreviews:i})=>!e||e.length===0?a.jsx("div",{className:"pt-4 border-t mt-6",children:a.jsxs(z,{type:"button",variant:"outline",onClick:s,children:[a.jsx(fn,{className:"w-4 h-4 mr-2"}),"Adicionar Primeira Variao"]})}):a.jsxs("div",{className:"pt-4 border-t mt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Variaes do Produto"}),e.map((l,c)=>a.jsxs("div",{className:"p-4 border rounded-md mb-4 space-y-3 bg-muted/20 relative",children:[a.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-destructive",onClick:()=>r(c),children:a.jsx(ra,{className:"w-4 h-4"})}),a.jsxs("p",{className:"font-semibold text-md",children:["Variao ",c+1]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(l.attributes||[{name:"",value:""}]).map((u,d)=>a.jsxs(ae.Fragment,{children:[a.jsxs("div",{children:[a.jsxs(K,{htmlFor:`variation_${c}_attribute_name_${d}`,children:["Nome do Atributo ",d+1," (Ex: Cor, Tamanho)"]}),a.jsx(G,{id:`variation_${c}_attribute_name_${d}`,value:u.name,onChange:f=>n(c,d,"name",f.target.value)})]}),a.jsxs("div",{children:[a.jsxs(K,{htmlFor:`variation_${c}_attribute_value_${d}`,children:["Valor do Atributo ",d+1," (Ex: Azul, M)"]}),a.jsx(G,{id:`variation_${c}_attribute_value_${d}`,value:u.value,onChange:f=>n(c,d,"value",f.target.value)})]})]},d))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:`variation_sku_${c}`,children:"SKU da Variao"}),a.jsx(G,{id:`variation_sku_${c}`,value:l.sku||"",onChange:u=>t(c,"sku",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:`variation_barcode_${c}`,children:"Cd. Barras Variao"}),a.jsx(G,{id:`variation_barcode_${c}`,value:l.barcode||"",onChange:u=>t(c,"barcode",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:`variation_referencia_${c}`,children:"Referncia"}),a.jsx(G,{id:`variation_referencia_${c}`,value:l.referencia||"",onChange:u=>t(c,"referencia",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:`variation_price_${c}`,children:"Preo Variao (opcional)"}),a.jsx(G,{id:`variation_price_${c}`,type:"number",step:"0.01",value:l.price||"",onChange:u=>t(c,"price",u.target.value),placeholder:"Usar preo principal"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:`variation_price_varejo_${c}`,children:"Preo Varejo"}),a.jsx(G,{id:`variation_price_varejo_${c}`,type:"number",step:"0.01",value:l.price_varejo||"",onChange:u=>t(c,"price_varejo",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:`variation_price_atacado_${c}`,children:"Preo Atacado"}),a.jsx(G,{id:`variation_price_atacado_${c}`,type:"number",step:"0.01",value:l.price_atacado||"",onChange:u=>t(c,"price_atacado",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:`variation_price_atacarejo_${c}`,children:"Preo Atacarejo"}),a.jsx(G,{id:`variation_price_atacarejo_${c}`,type:"number",step:"0.01",value:l.price_atacarejo||"",onChange:u=>t(c,"price_atacarejo",u.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:`variation_stock_${c}`,children:"Estoque da Variao *"}),a.jsx(G,{id:`variation_stock_${c}`,type:"number",value:l.stock||"0",onChange:u=>t(c,"stock",u.target.value),required:!0})]}),a.jsx(ub,{title:"Imagem da Variao (opcional)",imageUrlPreview:i[c],handleImageChange:u=>o(c,u),idPrefix:`variation_${c}`})]},c)),a.jsxs(z,{type:"button",variant:"outline",onClick:s,children:[a.jsx(fn,{className:"w-4 h-4 mr-2"}),"Adicionar Variao"]})]}),S$=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingProduct:o,resetForm:i,onStockShared:l})=>{const[c,u]=m.useState([]),[d,f]=m.useState(!1),[h,p]=m.useState(""),[w,x]=m.useState(""),[j,y]=m.useState([]),[g,v]=m.useState([]),[S,b]=m.useState(null),[k,C]=m.useState(""),[_,E]=m.useState({}),[O,R]=m.useState({}),[I,V]=m.useState([]),[L,$]=m.useState([]),[M,N]=m.useState(!1),[P,T]=m.useState(n.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""});m.useRef(null);const{toast:D}=Vt(),A=xt(),U={name:"",category:"",barcode:"",price:"",price_varejo:"",price_atacado:"",price_atacarejo:"",referencia:"",stock:"0",min_stock:"0",active:!0,weight:"",length:"",height:"",width:"",product_type:sn.SIMPLE,image_url:""};m.useEffect(()=>{var W,J,pe,Oe,Ee,Qt,Do,Kc,$p,Fp;if(o){r({name:o.name||"",category:o.category||"",barcode:o.barcode||"",price:((W=o.price)==null?void 0:W.toString())||"",price_varejo:((J=o.price_varejo)==null?void 0:J.toString())||"",price_atacado:((pe=o.price_atacado)==null?void 0:pe.toString())||"",price_atacarejo:((Oe=o.price_atacarejo)==null?void 0:Oe.toString())||"",referencia:o.referencia||"",stock:o.product_type===sn.SIMPLE&&((Ee=o.stock)==null?void 0:Ee.toString())||"0",min_stock:((Qt=o.min_stock)==null?void 0:Qt.toString())||"0",active:o.active!==void 0?o.active:!0,weight:((Do=o.weight)==null?void 0:Do.toString())||"",length:((Kc=o.length)==null?void 0:Kc.toString())||"",height:(($p=o.height)==null?void 0:$p.toString())||"",width:((Fp=o.width)==null?void 0:Fp.toString())||"",product_type:o.product_type||sn.SIMPLE,image_url:o.image_url||""}),v(o.variations||[]),C(o.image_url||"");const Vp={};(o.variations||[]).forEach((Up,Ab)=>{Up.image_url&&(Vp[Ab]=Up.image_url)}),R(Vp)}else r(U),v([]),C(""),R({})},[o,e,r]),m.useEffect(()=>{T(n.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""})},[n.medidas]);const X=()=>{const W=n.category,J=["Camiseta","Gola Mdia","Camisa","Blazer","Jaqueta","Seter"],pe=["Calas","Bermudas"];return J.includes(W)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"busto",label:"Busto"},{name:"cintura",label:"Cintura"},{name:"ombro",label:"Ombro"},{name:"manga",label:"Manga"}]:pe.includes(W)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"cintura",label:"Cintura"},{name:"tornozelo",label:"Tornozelo"}]:[]};m.useEffect(()=>{(async()=>{const J=await zr(!0);u(J||[])})()},[]),m.useEffect(()=>{e&&o&&(async()=>{if(o&&o.id){const J=await bo(o.id);y(J||[])}else y([])})()},[e,o]);const se=W=>{const{name:J,value:pe}=W.target;r(Oe=>({...Oe,[J]:pe}))},ve=W=>{const{name:J,value:pe}=W.target;T(Oe=>({...Oe,[J]:pe}))},ye=()=>{r(W=>({...W,medidas:P})),N(!1)},Y=W=>{r(J=>({...J,product_type:W,stock:W===sn.SIMPLE?J.stock:"0"})),W===sn.SIMPLE?v([]):g.length===0&&xe()},xe=()=>{v(W=>[...W,{attributes:[{name:"Cor",value:""},{name:"Tamanho",value:""}],sku:"",barcode:"",price:"",stock:"0",image_url:""}])},Re=(W,J,pe)=>{const Oe=[...g];Oe[W][J]=pe,v(Oe)},ce=(W,J,pe,Oe)=>{const Ee=[...g];Ee[W].attributes||(Ee[W].attributes=[]),Ee[W].attributes[J]||(Ee[W].attributes[J]={name:"",value:""}),Ee[W].attributes[J][pe]=Oe,v(Ee)},oe=W=>{v(J=>J.filter((pe,Oe)=>Oe!==W)),E(J=>{const pe={...J};return delete pe[W],pe}),R(J=>{const pe={...J};return delete pe[W],pe})},we=W=>{const J=W.target.files[0];J&&(b(J),C(URL.createObjectURL(J)))},nt=(W,J)=>{const pe=J.target.files[0];pe&&(E(Oe=>({...Oe,[W]:pe})),R(Oe=>({...Oe,[W]:URL.createObjectURL(pe)})))},wt=W=>{const J=Array.from(W.target.files);V(J),$(J.map(pe=>URL.createObjectURL(pe)))},B=async(W,J="img-products")=>{if(!W)return null;const pe=`${Date.now()}_${W.name.replace(/\s/g,"_")}`,{data:Oe,error:Ee}=await de.storage.from(J).upload(pe,W);if(Ee)throw D({title:"Erro no Upload da Imagem",description:Ee.message,variant:"destructive"}),Ee;const{data:{publicUrl:Qt}}=de.storage.from(J).getPublicUrl(pe);return Qt},H=async W=>{W.preventDefault(),await Ce()},Ce=async()=>{let W=n.image_url;if(S)try{W=await B(S)}catch{return}let J=[];I.length>0&&(J=await Promise.all(I.map(async Ee=>{try{return await B(Ee)}catch{return null}})),J=J.filter(Boolean));const pe=await Promise.all(g.map(async(Ee,Qt)=>{let Do=Ee.image_url;if(_[Qt])try{Do=await B(_[Qt])}catch{throw new Error(`Erro ao fazer upload da imagem para variao ${Qt+1}.`)}return{...Ee,image_url:Do,price:parseFloat(Ee.price)||null,stock:parseInt(Ee.stock)||0}})).catch(Ee=>(D({title:"Erro no processamento de variaes",description:Ee.message,variant:"destructive"}),null));if(!pe&&g.length>0)return;const Oe={...n,referencia:n.referencia,image_url:W,variations:n.product_type===sn.VARIABLE?pe:[],weight:parseFloat(n.weight)||null,length:parseFloat(n.length)||null,height:parseFloat(n.height)||null,width:parseFloat(n.width)||null};Oe.product_type===sn.VARIABLE?Oe.stock=(pe||[]).reduce((Ee,Qt)=>Ee+(parseInt(Qt.stock)||0),0):Oe.stock=parseInt(n.stock)||0,s(Oe,J)},he=async()=>{if(!o||!h||!w){D({title:"Erro",description:"Selecione produto, loja e quantidade para compartilhar.",variant:"destructive"});return}const W=parseInt(w);if(isNaN(W)||W<=0){D({title:"Erro",description:"Quantidade invlida.",variant:"destructive"});return}try{await XI(o.id,h,W,null),D({title:"Estoque Compartilhado!",description:`${W} unidades compartilhadas com sucesso.`}),p(""),x(""),f(!1);const J=await bo(o.id);y(J||[]),l&&l()}catch(J){D({title:"Erro ao compartilhar",description:J.message,variant:"destructive"})}},Qe=A&&Dt(A.role,Z.SHARE_STOCK),Ut=()=>{t(!1),i(),f(!1),p(""),x(""),y([]),v([]),b(null),C(""),E({}),R({})};return a.jsxs(Hn,{open:e,onOpenChange:W=>{W?t(!0):Ut()},children:[a.jsx(co,{asChild:!0,children:a.jsxs(z,{children:[a.jsx(fn,{className:"w-4 h-4 mr-2"}),"Novo Produto"]})}),a.jsxs(En,{className:"max-w-4xl",children:[a.jsx(kn,{children:a.jsx(Nn,{children:o?"Editar Produto":"Novo Produto"})}),a.jsxs("form",{onSubmit:H,className:"space-y-6 max-h-[80vh] overflow-y-auto p-2",children:[a.jsx(w$,{formData:n,handleInputChange:se,handleProductTypeChange:Y}),a.jsx(ub,{title:"Imagem Principal (opcional)",imageUrlPreview:k,handleImageChange:we,idPrefix:"main"}),a.jsxs("div",{className:"mt-4",children:[a.jsx(K,{children:"Imagens do Produto (vrias)"}),a.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[L.map((W,J)=>a.jsxs("div",{className:`relative group rounded-lg shadow-md border bg-background ${J===0?"ring-2 ring-primary":""}`,children:[a.jsx("img",{src:W,alt:`Imagem ${J+1}`,className:"w-24 h-24 object-cover rounded-lg transition-transform group-hover:scale-105"}),J===0&&a.jsx("span",{className:"absolute top-1 left-1 bg-primary text-xs text-white px-2 py-0.5 rounded shadow",children:"Destaque"}),a.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-destructive text-white rounded-full p-1 opacity-80 hover:opacity-100",onClick:()=>{V(pe=>pe.filter((Oe,Ee)=>Ee!==J)),$(pe=>pe.filter((Oe,Ee)=>Ee!==J))},title:"Remover imagem",children:""})]},J)),a.jsxs("label",{className:"flex flex-col items-center justify-center w-24 h-24 border-2 border-dashed border-muted-foreground rounded-lg cursor-pointer hover:bg-muted transition",children:[a.jsx("span",{className:"text-3xl text-muted-foreground",children:"+"}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:wt})]})]}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"A primeira imagem ser a de destaque."})]}),n.product_type===sn.VARIABLE&&a.jsx(j$,{variations:g,handleVariationChange:Re,handleVariationAttributeChange:ce,removeVariation:oe,addVariation:xe,handleVariationImageChange:nt,variationImageUrlPreviews:O}),o&&Qe&&a.jsxs("div",{className:"pt-4 border-t mt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Compartilhar Estoque com Lojas Fsicas"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>f(!d),children:[a.jsx(XN,{className:"w-4 h-4 mr-2"}),d?"Fechar":"Abrir"," Compartilhamento"]})]}),d&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-md bg-muted/30",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"shareStoreId",children:"Loja Fsica"}),a.jsxs(Zn,{value:h,onValueChange:p,children:[a.jsx(Tn,{children:a.jsx(er,{placeholder:"Selecione a loja"})}),a.jsx(An,{children:c.map(W=>a.jsx(Ke,{value:W.id,children:W.name},W.id))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"shareQuantity",children:"Qtd. a Compartilhar"}),a.jsx("input",{id:"shareQuantity",type:"number",min:"1",value:w,onChange:W=>x(W.target.value),className:"input w-full border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 rounded-md"})]}),a.jsx("div",{className:"md:self-end",children:a.jsx(z,{type:"button",onClick:he,className:"w-full",children:"Compartilhar"})})]}),j.length>0&&a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Estoque Compartilhado:"}),j.map(W=>{var J;return a.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-background rounded-md",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(mw,{className:"w-4 h-4 mr-2 text-muted-foreground"}),a.jsx("span",{children:((J=W.stores)==null?void 0:J.name)||"Loja desconhecida"})]}),a.jsxs("span",{children:[W.quantity," unidades"]})]},W.id)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-6 border-t",children:[a.jsx(z,{type:"button",variant:"outline",onClick:Ut,children:"Cancelar"}),a.jsxs(z,{type:"submit",children:[o?"Atualizar":"Criar"," Produto"]})]})]}),a.jsx(z,{type:"button",variant:"outline",className:"mt-2",onClick:()=>N(!0),children:"Adicionar Medidas"}),a.jsx(Hn,{open:M,onOpenChange:N,children:a.jsxs(En,{children:[a.jsx(kn,{children:a.jsx(Nn,{children:"Medidas da Pea"})}),n.category?a.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:X().map(W=>a.jsxs("div",{children:[a.jsx(K,{children:W.label}),a.jsx(G,{name:W.name,value:P[W.name]||"",onChange:ve})]},W.name))}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Selecione uma categoria primeiro para ver os campos de medidas disponveis."}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx(z,{type:"button",variant:"ghost",onClick:()=>N(!1),children:"Cancelar"}),a.jsx(z,{type:"button",onClick:ye,children:"Salvar"})]})]})})]})]})},b$=({products:e})=>e.length===0?null:a.jsxs(te,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2 text-orange-700 dark:text-orange-300",children:[a.jsx(TN,{className:"w-5 h-5"}),a.jsx("span",{children:"Produtos com Estoque Baixo"})]})}),a.jsx(ne,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.map(t=>a.jsxs("div",{className:"text-sm p-2 bg-orange-100 dark:bg-orange-900/50 rounded",children:[a.jsx("span",{className:"font-medium",children:t.name}),a.jsxs("span",{className:"text-orange-600 dark:text-orange-400 ml-2",children:["(Estoque: ",t.stock," / Mn: ",t.min_stock,")"]})]},t.id))})})]}),_$=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(""),[s,o]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!0),[d,f]=m.useState([]),{toast:h}=Vt(),p=xt(),[w,x]=m.useState({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),[j,y]=m.useState({barcode:"",sku:"",referencia:"",name:""}),g=R=>{const{name:I,value:V}=R.target;y(L=>({...L,[I]:V}))},v=e.filter(R=>{var I,V,L,$;return(!j.barcode||((I=R.barcode)==null?void 0:I.toLowerCase().includes(j.barcode.toLowerCase())))&&(!j.sku||((V=R.sku)==null?void 0:V.toLowerCase().includes(j.sku.toLowerCase()))||R.variations&&R.variations.some(M=>{var N;return(N=M.sku)==null?void 0:N.toLowerCase().includes(j.sku.toLowerCase())}))&&(!j.referencia||((L=R.referencia)==null?void 0:L.toLowerCase().includes(j.referencia.toLowerCase()))||R.variations&&R.variations.some(M=>{var N;return(N=M.referencia)==null?void 0:N.toLowerCase().includes(j.referencia.toLowerCase())}))&&(!j.name||(($=R.name)==null?void 0:$.toLowerCase().includes(j.name.toLowerCase())))}),S=m.useCallback(async()=>{u(!0);try{const[R,I]=await Promise.all([wj(),zr()]),V=await Promise.all((R||[]).map(async L=>{const $=await bo(L.id);return{...L,physicalStocks:$||[]}}));t(V),f(I||[])}catch(R){h({title:"Erro ao carregar produtos ou lojas",description:R.message,variant:"destructive"})}finally{u(!1)}},[h,p==null?void 0:p.store_id,p==null?void 0:p.role]);m.useEffect(()=>{S()},[S]);const b=()=>{x({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),o(null)},k=async R=>{var V,L;console.log(" Iniciando criao de produto..."),console.log(" Dados recebidos:",R);const I={...R,price:parseFloat(R.price)||0,stock:parseInt(R.stock)||0,min_stock:parseInt(R.min_stock)||0,sizes:R.sizes?R.sizes.split(",").map($=>$.trim()).filter($=>$):[],colors:R.colors?R.colors.split(",").map($=>$.trim()).filter($=>$):[]};if(console.log(" Dados processados:",I),!I.name||!I.barcode||!I.price||isNaN(I.stock)){console.log(" Erro de validao:",{name:I.name,barcode:I.barcode,price:I.price,stock:I.stock}),h({title:"Erro de Validao",description:"Nome, Cdigo de Barras, Preo e Estoque Online so obrigatrios.",variant:"destructive"});return}u(!0);try{if(console.log(" Verificando loja..."),!s&&!((V=p==null?void 0:p.stores)!=null&&V.is_online_store)){const $=d.find(M=>M.is_online_store);if(console.log(" Loja online encontrada:",$),$)I.store_id=$.id;else{console.log(" Loja online no encontrada"),h({title:"Erro",description:"Loja online principal no encontrada para cadastro.",variant:"destructive"}),u(!1);return}}else s?I.store_id=s.store_id:(L=p==null?void 0:p.stores)!=null&&L.is_online_store&&(I.store_id=p.store_id);if(console.log(" Dados finais antes de salvar:",I),s)console.log(" Atualizando produto..."),await kf(s.id,I),h({title:"Produto atualizado!",description:`${I.name} foi atualizado.`});else{console.log(" Verificando cdigo de barras duplicado...");const $=await YI();if(console.log(" Produtos existentes:",$.length),$.some(N=>N.barcode===I.barcode)){console.log(" Cdigo de barras j existe:",I.barcode),h({title:"Erro de Validao",description:"Cdigo de barras j existe.",variant:"destructive"}),u(!1);return}console.log(" Criando produto...");const M=await JI(I);console.log(" Produto criado com sucesso:",M),h({title:"Produto criado!",description:`${I.name} foi criado.`})}S(),l(!1),b()}catch($){console.error(" Erro ao salvar produto:",$),h({title:"Erro ao salvar produto",description:$.message,variant:"destructive"})}finally{u(!1)}},C=R=>{var I,V;o(R),x({name:R.name,category:R.category||"",brand:R.brand||"",barcode:R.barcode,sizes:((I=R.sizes)==null?void 0:I.join(", "))||"",colors:((V=R.colors)==null?void 0:V.join(", "))||"",price:R.price.toString(),stock:R.stock.toString(),min_stock:R.min_stock.toString(),active:R.active}),l(!0)},_=async R=>{if(window.confirm("Tem certeza que deseja desativar este produto? Ele no ser removido permanentemente.")){u(!0);try{await kf(R,{active:!1}),h({title:"Produto desativado!",description:"O produto foi marcado como inativo."}),S()}catch(I){h({title:"Erro ao desativar produto",description:I.message,variant:"destructive"})}finally{u(!1)}}},E=()=>e.filter(R=>R.active&&R.stock<=R.min_stock),O=()=>{S()};return c&&e.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx(G,{placeholder:"Buscar por Cdigo de Barras",name:"barcode",value:j.barcode,onChange:g,className:"w-44"}),a.jsx(G,{placeholder:"Buscar por SKU",name:"sku",value:j.sku,onChange:g,className:"w-36"}),a.jsx(G,{placeholder:"Buscar por Referncia",name:"referencia",value:j.referencia,onChange:g,className:"w-32"}),a.jsx(G,{placeholder:"Buscar por Nome",name:"name",value:j.name,onChange:g,className:"w-44"})]}),a.jsx(S$,{open:i,onOpenChange:l,formData:w,setFormData:x,onSubmit:k,editingProduct:s,resetForm:b,onStockShared:O})]}),a.jsx(b$,{products:E()}),a.jsx(te,{children:a.jsx(ne,{className:"pt-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(vw,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(G,{placeholder:"Buscar produtos por nome, categoria, marca ou cdigo...",value:n,onChange:R=>r(R.target.value),className:"pl-10"})]})})}),e.length>0?a.jsx(o$,{products:v,onEdit:C,onDelete:_,stores:d,currentUser:p}):a.jsx(te,{className:"mt-6",children:a.jsxs(ne,{className:"text-center py-12",children:[a.jsx(HN,{className:"w-16 h-16 mx-auto mb-6 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum produto encontrado"}),a.jsxs("p",{className:"text-muted-foreground mb-6",children:[n?"Tente ajustar sua busca ou ":"",'Clique em "Novo Produto" para comear a cadastrar.']})]})})]})},C$=()=>{var C;const{id:e}=ME(),[t,n]=m.useState(null),[r,s]=m.useState([]),[o,i]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!0),[f,h]=m.useState([]),[p,w]=m.useState(null),[x,j]=m.useState(!1),{toast:y}=Vt(),g=m.useCallback(async()=>{d(!0);try{const{data:_,error:E}=await de.from("products").select("*").eq("id",e).single();if(E)throw E;n(_);const O=[];if(_.image_url&&O.push({id:"main",image_url:_.image_url,is_featured:!0}),h(O),console.log(" Imagens encontradas:",O),_.product_type==="variable"){const{data:V,error:L}=await de.from("product_variations").select("*").eq("product_id",e);if(L)throw L;s(V||[]),console.log(" Variaes encontradas:",V)}const R=await bo(e);i(R||[]);const I=await zr();c(I||[])}catch(_){y({title:"Erro ao buscar detalhes do produto",description:_.message,variant:"destructive"}),n(null)}finally{d(!1)}},[e,y]);m.useEffect(()=>{g()},[g]);const v=_=>{var E;return((E=l.find(O=>O.id===_))==null?void 0:E.name)||"Loja Desconhecida"},S=_=>{w(_),j(!0)},b=()=>{j(!1),w(null)};if(u)return a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"loading-spinner"})});if(!t)return a.jsxs("div",{className:"container mx-auto p-6 text-center",children:[a.jsx(Rr,{className:"w-24 h-24 mx-auto text-muted-foreground mb-4"}),a.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Produto no encontrado"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"O produto que voc est procurando no existe ou foi removido."}),a.jsx(z,{asChild:!0,variant:"outline",children:a.jsxs(Vi,{to:"/products",children:[a.jsx(mg,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})})]});const k=t.product_type==="variable"?r.reduce((_,E)=>_+E.stock,0):t.stock;return a.jsxs("div",{className:"container mx-auto p-4 md:p-8 space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{asChild:!0,variant:"outline",size:"sm",children:a.jsxs(Vi,{to:"/products",children:[a.jsx(mg,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})}),a.jsx("h1",{className:"text-3xl font-bold text-center flex-grow",children:t.name}),a.jsx("div",{className:"w-24"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center",children:[a.jsx(FN,{className:"mr-2 text-primary"})," Imagens do Produto"]})}),a.jsx(ne,{children:f.length>0?a.jsxs("div",{children:[a.jsx("img",{src:f[0].image_url,alt:"Destaque",className:"w-full h-64 object-cover rounded-lg border mb-2 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>S(f[0]),onError:_=>{console.log(" Erro ao carregar imagem principal:",f[0].image_url),_.target.style.display="none",_.target.nextSibling.style.display="flex"},onLoad:()=>{console.log(" Imagem principal carregada:",f[0].image_url)}}),a.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center hidden",children:a.jsx(bu,{className:"w-16 h-16 text-muted-foreground"})}),a.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:f.map((_,E)=>a.jsx("img",{src:_.image_url,alt:`Imagem ${E+1}`,className:`w-16 h-16 object-cover rounded border cursor-pointer hover:opacity-90 transition-opacity ${E===0?"ring-2 ring-primary":""}`,title:_.is_featured?"Destaque":"",onClick:()=>S(_),onError:O=>{console.log(" Erro ao carregar miniatura:",_.image_url),O.target.style.display="none"},onLoad:()=>{console.log(" Miniatura carregada:",_.image_url)}},_.id))})]}):a.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center",children:a.jsx(bu,{className:"w-16 h-16 text-muted-foreground"})})})]}),a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center",children:[a.jsx(VN,{className:"mr-2 text-primary"})," Dados Principais"]})}),a.jsxs(ne,{className:"space-y-3 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Nome:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Referncia:"})," ",t.referencia||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Categoria:"})," ",t.category||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Cdigo de Barras:"})," ",t.barcode]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Tipo:"})," ",a.jsx("span",{className:"capitalize",children:t.product_type==="variable"?"Produto Varivel":"Produto Simples"})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",t.active?"Ativo":"Inativo"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Data de Cadastro:"})," ",t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"]})]})]}),a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center",children:[a.jsx(ms,{className:"mr-2 text-primary"})," Preos"]})}),a.jsxs(ne,{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Preo Principal:"})," R$ ",(C=t.price)==null?void 0:C.toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preo Varejo:"})," ",t.price_varejo?`R$ ${t.price_varejo.toFixed(2)}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preo Atacado:"})," ",t.price_atacado?`R$ ${t.price_atacado.toFixed(2)}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preo Atacarejo:"})," ",t.price_atacarejo?`R$ ${t.price_atacarejo.toFixed(2)}`:"N/A"]})]})]}),a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center",children:[a.jsx(vg,{className:"mr-2 text-primary"})," Dimenses e Peso"]})}),a.jsxs(ne,{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Peso:"})," ",t.weight?`${t.weight} kg`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Comprimento:"})," ",t.length?`${t.length} cm`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Altura:"})," ",t.height?`${t.height} cm`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Largura:"})," ",t.width?`${t.width} cm`:"N/A"]})]})]}),t.medidas&&a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center",children:[a.jsx(vg,{className:"mr-2 text-primary"})," Medidas da Pea"]})}),a.jsx(ne,{className:"space-y-2 text-sm",children:Object.entries(t.medidas).map(([_,E])=>a.jsxs("p",{children:[a.jsxs("strong",{children:[_.charAt(0).toUpperCase()+_.slice(1),":"]})," ",E||"N/A"]},_))})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center",children:[a.jsx(QN,{className:"mr-2 text-primary"})," Estoque"]})}),a.jsxs(ne,{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Estoque Mnimo Global:"})," ",t.min_stock," unidades"]}),a.jsxs("p",{className:`font-semibold ${k<=t.min_stock?"text-orange-500":"text-green-500"}`,children:["Estoque Online/Geral Total: ",k," unidades"]})]})]}),o.length>0&&a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center",children:[a.jsx(zi,{className:"mr-2 text-primary"})," Estoque nas Lojas Fsicas"]})}),a.jsx(ne,{className:"space-y-2",children:o.map(_=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-background/30 rounded-md text-sm",children:[a.jsx("p",{children:a.jsxs("strong",{children:[v(_.store_id),":"]})}),a.jsxs("p",{children:[_.quantity," unidades ",_.variation_id?`(Variao ID: ${_.variation_id.substring(0,8)}...)`:"(Produto Simples/Agregado)"]})]},_.id))})]}),o.length===0&&a.jsx(te,{className:"glass-effect",children:a.jsx(ne,{className:"p-6 text-center text-muted-foreground",children:"Este produto (ou suas variaes) ainda no teve estoque compartilhado com lojas fsicas."})}),t.product_type==="variable"&&r.length>0&&a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center",children:[a.jsx(UN,{className:"mr-2 text-primary"})," Variaes do Produto (",r.length,")"]})}),a.jsx(ne,{className:"space-y-4",children:r.map((_,E)=>{var O;return a.jsx(te,{className:"bg-background/30 p-4 rounded-md",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[a.jsxs("div",{className:"md:col-span-1",children:[_.image_url?a.jsx("img",{src:_.image_url,alt:`Variao ${E+1}`,className:"w-full h-auto object-cover rounded border aspect-square cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>S({image_url:_.image_url,id:_.id}),onError:R=>{console.log(" Erro ao carregar imagem da variao:",_.image_url),R.target.style.display="none",R.target.nextSibling.style.display="flex"},onLoad:()=>{console.log(" Imagem da variao carregada:",_.image_url)}}):null,a.jsx("div",{className:"w-full h-32 bg-muted rounded flex items-center justify-center",style:{display:_.image_url?"none":"flex"},children:a.jsx(bu,{className:"w-10 h-10 text-muted-foreground"})})]}),a.jsxs("div",{className:"md:col-span-2 space-y-2 text-sm",children:[a.jsx("p",{className:"font-semibold text-base",children:((O=_.attributes)==null?void 0:O.map(R=>`${R.name}: ${R.value}`).join(" / "))||`Variao ${E+1}`}),_.sku&&a.jsxs("p",{children:[a.jsx("strong",{children:"SKU:"})," ",_.sku]}),_.barcode&&a.jsxs("p",{children:[a.jsx("strong",{children:"Cd. Barras:"})," ",_.barcode]}),_.referencia&&a.jsxs("p",{children:[a.jsx("strong",{children:"Referncia:"})," ",_.referencia]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preo Especfico:"})," ",_.price?`R$ ${_.price.toFixed(2)}`:"Usar preo principal"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preo Varejo:"})," ",_.price_varejo?`R$ ${_.price_varejo}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preo Atacado:"})," ",_.price_atacado?`R$ ${_.price_atacado}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preo Atacarejo:"})," ",_.price_atacarejo?`R$ ${_.price_atacarejo}`:"N/A"]}),a.jsxs("p",{className:"font-medium",children:[a.jsx("strong",{children:"Estoque da Variao:"})," ",_.stock," unidades"]}),_.medidas&&a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"font-semibold",children:"Medidas:"}),a.jsx("ul",{className:"ml-4 list-disc",children:Object.entries(_.medidas).map(([R,I])=>a.jsxs("li",{children:[a.jsxs("strong",{children:[R.charAt(0).toUpperCase()+R.slice(1),":"]})," ",I||"N/A"]},R))})]})]})]})},_.id||E)})})]}),t.product_type==="variable"&&r.length===0&&a.jsx(te,{className:"glass-effect",children:a.jsx(ne,{className:"p-6 text-center text-muted-foreground",children:"Nenhuma variao cadastrada para este produto."})})]})]}),x&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:b,children:a.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[a.jsx("button",{onClick:b,className:"absolute top-4 right-4 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full p-2 transition-all z-10",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("img",{src:p.image_url,alt:"Visualizao",className:"max-w-full max-h-full object-contain rounded-lg",onClick:_=>_.stopPropagation()})]})})]})},ge={IN:"in",OUT:"out",ADJUSTMENT:"adjustment",SALE_ONLINE:"sale_online_physical_debit",SALE_PHYSICAL:"sale_physical_store",TRANSFER_IN:"transfer_in",TRANSFER_OUT:"transfer_out"},Ya={[ge.IN]:"Entrada Manual",[ge.OUT]:"Sada Manual",[ge.ADJUSTMENT]:"Ajuste Manual",[ge.SALE_ONLINE]:"Venda Online (Dbito Fsico)",[ge.SALE_PHYSICAL]:"Venda Loja Fsica",[ge.TRANSFER_IN]:"Transferncia (Entrada Loja)",[ge.TRANSFER_OUT]:"Transferncia (Sada Online)"},E$=()=>{var L,$,M;const[e,t]=m.useState([]),[n,r]=m.useState([]),[s,o]=m.useState(""),[i,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState([]),[w,x]=m.useState(!0),{toast:j}=Vt(),y=xt(),[g,v]=m.useState({type:"",quantity:"",reason:"",target_store_id:""}),S=m.useCallback(async()=>{x(!0);try{const[N,P,T]=await Promise.all([wj(),KI(),zr()]),D=await Promise.all((N||[]).map(async A=>{const U=await bo(A.id);return{...A,physicalStocks:U||[]}}));t(D),r(P||[]),p(T||[])}catch(N){j({title:"Erro ao carregar dados de estoque",description:N.message,variant:"destructive"})}finally{x(!1)}},[j,y==null?void 0:y.store_id]);m.useEffect(()=>{S()},[S]);const b=e.filter(N=>{var P,T,D;return N.active&&(((P=N.name)==null?void 0:P.toLowerCase().includes(s.toLowerCase()))||((T=N.category)==null?void 0:T.toLowerCase().includes(s.toLowerCase()))||((D=N.barcode)==null?void 0:D.includes(s)))}),k=async N=>{var T;if(N.preventDefault(),!c||!g.type||!g.quantity){j({title:"Erro",description:"Produto, tipo e quantidade so obrigatrios.",variant:"destructive"});return}const P=parseInt(g.quantity);if(isNaN(P)||P<=0){j({title:"Erro",description:"Quantidade deve ser um nmero positivo.",variant:"destructive"});return}x(!0);try{let D,A,U=g.target_store_id||c.store_id,X="online",se=null;if(g.target_store_id){X="physical_store";const ve=c.physicalStocks.find(ye=>ye.store_id===g.target_store_id);if(D=ve?ve.quantity:0,se=ve?ve.id:null,g.type===ge.IN?A=D+P:g.type===ge.OUT?A=D-P:g.type===ge.ADJUSTMENT&&(A=P),A<0&&g.type!==ge.ADJUSTMENT){j({title:"Erro",description:"Estoque da loja fsica no pode ficar negativo.",variant:"destructive"}),x(!1);return}if(g.type===ge.ADJUSTMENT&&A<0&&(A=0),ve)await de.from("product_store_stock").update({quantity:A}).eq("id",ve.id);else{const{data:ye}=await de.from("product_store_stock").insert({product_id:c.id,store_id:g.target_store_id,quantity:A}).select("id").single();se=ye==null?void 0:ye.id}await jj(c.id)}else{if(!((T=y==null?void 0:y.stores)!=null&&T.is_online_store)&&(y==null?void 0:y.role)!==Ne.ADMIN){j({title:"Ao no permitida",description:"Selecione uma loja fsica para esta movimentao ou realize no estoque Online (se admin/online).",variant:"destructive"}),x(!1);return}if(U=c.store_id,D=c.stock,g.type===ge.IN?A=D+P:g.type===ge.OUT?A=D-P:g.type===ge.ADJUSTMENT&&(A=P),A<0&&g.type!==ge.ADJUSTMENT){j({title:"Erro",description:"Estoque online/geral no pode ficar negativo.",variant:"destructive"}),x(!1);return}g.type===ge.ADJUSTMENT&&A<0&&(A=0),await kf(c.id,{stock:A})}await xj({product_id:c.id,type:g.type,quantity:P,previous_stock:D,new_stock:A,reason:g.reason,user_id:y==null?void 0:y.id,store_id:U,stock_type:X,product_store_stock_id:X==="physical_store"?se:null}),j({title:"Movimentao registrada!",description:`${Ya[g.type]} de ${P} unidades para ${c.name}.`}),S(),l(!1),v({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null)}catch(D){j({title:"Erro ao registrar movimentao",description:D.message,variant:"destructive"})}finally{x(!1)}},C=(N,P,T=null)=>{var D;u(N),f(T),v({...g,type:P,target_store_id:T?T.id:(D=y==null?void 0:y.stores)!=null&&D.is_online_store||(y==null?void 0:y.role)===Ne.ADMIN?"":y==null?void 0:y.store_id}),l(!0)},_=N=>{var P;return((P=h.find(T=>T.id===N))==null?void 0:P.name)||"N/A"},E=()=>e.filter(N=>N.active&&N.stock<=N.min_stock).length,O=()=>e.filter(N=>N.active).length,R=()=>e.filter(N=>N.active).reduce((N,P)=>N+P.stock,0),I=N=>e.reduce((P,T)=>{var A;const D=(A=T.physicalStocks)==null?void 0:A.find(U=>U.store_id===N);return P+(D?D.quantity:0)},0),V=h.filter(N=>!N.is_online_store);return w&&e.length===0&&n.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"mb-8",children:a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Viso Geral do Estoque"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-purple-900/60 to-background/80 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(Rr,{className:"w-7 h-7 text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:O()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Produtos Ativos"})]})]}),a.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-red-900/60 to-background/80 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(Wi,{className:"w-7 h-7 text-red-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:R()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Online"})]})]}),V.map(N=>a.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-background/80 to-purple-900/60 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(Wi,{className:"w-7 h-7 text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:I(N.id)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:N.name})]})]},N.id)),a.jsxs("div",{className:"rounded-xl bg-background/60 border border-red-700/30 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(eP,{className:"w-7 h-7 text-orange-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-orange-300",children:E()}),a.jsx("p",{className:"text-xs text-orange-200",children:"Estoque Baixo"})]})]}),a.jsxs("div",{className:"rounded-xl bg-background/60 border border-purple-700/30 p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(ll,{className:"w-7 h-7 text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:n.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Movimentaes"})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"relative max-w-md mx-auto",children:[a.jsx(vw,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(G,{placeholder:"Buscar produtos...",value:s,onChange:N=>o(N.target.value),className:"pl-10 bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"})]})}),a.jsx("div",{className:"space-y-4 mt-8",children:b.map(N=>{var P,T,D;return a.jsxs(ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"",children:[a.jsxs("div",{className:"rounded-xl bg-background/70 border border-white/5 p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 shadow-sm hover:shadow-lg transition",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-lg font-bold text-white",children:N.name}),N.stock<=N.min_stock&&a.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-red-900/60 text-red-200",children:"Baixo estoque"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.category,"  ",N.brand,"  Cd: ",N.barcode]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[a.jsxs("span",{className:"text-xs text-white bg-purple-900/40 rounded px-2 py-0.5",children:["Online: ",a.jsx("b",{children:N.stock})," un."]}),V.map(A=>{var X;const U=(X=N.physicalStocks)==null?void 0:X.find(se=>se.store_id===A.id);return a.jsxs("span",{className:"text-xs text-white bg-background/40 border border-white/10 rounded px-2 py-0.5",children:[A.name,": ",a.jsx("b",{children:U?U.quantity:0})," un."]},A.id)})]})]}),a.jsxs("div",{className:"flex flex-col md:items-end gap-1",children:[a.jsxs("span",{className:`text-base font-semibold ${N.stock<=N.min_stock?"text-orange-400":"text-green-400"}`,children:["Online: ",N.stock," un."]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Mn. Online: ",N.min_stock]})]}),(((P=y==null?void 0:y.stores)==null?void 0:P.is_online_store)||(y==null?void 0:y.role)===Ne.ADMIN)&&a.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[a.jsxs(z,{variant:"ghost",size:"sm",className:"rounded-lg border border-white/10 bg-white/5 text-white hover:bg-purple-900/40",onClick:()=>C(N,ge.IN),children:[a.jsx(fn,{className:"w-4 h-4 mr-1"}),"Entrada"]}),a.jsxs(z,{variant:"ghost",size:"sm",className:"rounded-lg border border-white/10 bg-white/5 text-white hover:bg-red-900/40",onClick:()=>C(N,ge.OUT),children:[a.jsx(Ui,{className:"w-4 h-4 mr-1"}),"Sada"]}),a.jsx(z,{variant:"ghost",size:"sm",className:"rounded-lg border border-white/10 bg-white/5 text-white hover:bg-purple-900/40",onClick:()=>C(N,ge.ADJUSTMENT),children:"Ajuste"})]})]}),N.physicalStocks&&N.physicalStocks.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.physicalStocks.map(A=>{var se;const U=h.find(ve=>ve.id===A.store_id);if(!U)return null;const X=(y==null?void 0:y.role)===Ne.ADMIN||((se=y==null?void 0:y.stores)==null?void 0:se.is_online_store)||(y==null?void 0:y.store_id)===A.store_id;return a.jsxs("div",{className:"rounded-lg bg-background/60 border border-white/10 px-3 py-1 flex items-center gap-2 text-xs text-white",children:[a.jsxs("span",{className:"font-semibold",children:[U.name,":"]}),a.jsxs("span",{children:[A.quantity," un."]}),X&&a.jsxs(a.Fragment,{children:[a.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-purple-400",onClick:()=>C(N,ge.IN,U),children:a.jsx(fn,{className:"w-3 h-3"})}),a.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-400",onClick:()=>C(N,ge.OUT,U),children:a.jsx(Ui,{className:"w-3 h-3"})}),a.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-purple-400",onClick:()=>C(N,ge.ADJUSTMENT,U),children:a.jsx(ZN,{className:"w-3 h-3"})})]})]},A.id)})}),((T=N.physicalStocks)==null?void 0:T.length)===0&&(((D=y==null?void 0:y.stores)==null?void 0:D.is_online_store)||(y==null?void 0:y.role)===Ne.ADMIN)&&a.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"Este produto ainda no foi compartilhado com lojas fsicas."})]},N.id)})}),a.jsxs("div",{className:"mt-10",children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx(ll,{className:"w-5 h-5 text-purple-400"}),"Histrico de Movimentaes"]}),a.jsx("div",{className:"rounded-xl bg-background/70 border border-white/5 p-4 max-h-96 overflow-y-auto",children:n.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ll,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma movimentao registrada"})]}):a.jsx("div",{className:"space-y-3",children:n.slice(0,20).map(N=>{var P,T;return a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-white/5 transition text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold text-white",children:[N.productName||((P=N.products)==null?void 0:P.name)," (",(T=N.products)==null?void 0:T.barcode,")"]}),a.jsxs("p",{className:"text-muted-foreground",children:[Ya[N.type]||N.type,"  ",N.storeName," ",N.stock_type==="physical_store"&&N.stores&&!N.stores.is_online_store?"(Loja Fsica)":N.stock_type==="online"?"(Estoque Online)":""]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.userName,"  ",new Date(N.created_at).toLocaleString(),"  ",N.reason]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium ${N.type===ge.IN||N.type===ge.TRANSFER_IN?"text-green-400":N.type===ge.OUT||N.type===ge.TRANSFER_OUT||N.type===ge.SALE_ONLINE||N.type===ge.SALE_PHYSICAL?"text-red-400":"text-purple-400"}`,children:[N.type===ge.IN||N.type===ge.TRANSFER_IN?"+":N.type===ge.OUT||N.type===ge.TRANSFER_OUT||N.type===ge.SALE_ONLINE||N.type===ge.SALE_PHYSICAL?"-":"=",N.quantity]}),a.jsxs("p",{className:"text-muted-foreground",children:[N.previous_stock,"  ",N.new_stock]})]})]},N.id)})})})]}),a.jsx(Hn,{open:i,onOpenChange:N=>{l(N),N||(v({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null))},children:a.jsxs(En,{children:[a.jsx(kn,{children:a.jsx(Nn,{children:g.type&&`${Ya[g.type]||g.type} de Estoque`})}),c&&a.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"Produto"}),a.jsx(G,{value:c.name,disabled:!0})]}),(((L=y==null?void 0:y.stores)==null?void 0:L.is_online_store)||(y==null?void 0:y.role)===Ne.ADMIN||d)&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"target_store_id",children:"Loja Alvo da Movimentao"}),a.jsxs(Zn,{value:g.target_store_id,onValueChange:N=>v({...g,target_store_id:N}),disabled:!!d,children:[a.jsx(Tn,{children:a.jsx(er,{placeholder:"Selecione loja (ou deixe para Online)"})}),a.jsxs(An,{children:[a.jsx(Ke,{value:"",children:"Estoque Online/Geral"}),V.map(N=>a.jsx(Ke,{value:N.id,children:N.name},N.id))]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d?`Movimentando estoque de: ${d.name}`:g.target_store_id?`Movimentando estoque de: ${_(g.target_store_id)}`:"Movimentando Estoque Online/Geral."})]}),!d&&!(($=y==null?void 0:y.stores)!=null&&$.is_online_store)&&(y==null?void 0:y.role)!==Ne.ADMIN&&a.jsx(G,{value:`Loja Atual: ${y==null?void 0:y.stores.name}`,disabled:!0}),a.jsxs("div",{children:[a.jsxs(K,{children:["Estoque Atual (",g.target_store_id?_(g.target_store_id):"Online",")"]}),a.jsx(G,{value:`${g.target_store_id?((M=c.physicalStocks.find(N=>N.store_id===g.target_store_id))==null?void 0:M.quantity)||0:c.stock} unidades`,disabled:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"quantity",children:g.type===ge.ADJUSTMENT?"Novo Estoque":"Quantidade da Movimentao"}),a.jsx(G,{id:"quantity",type:"number",min:"1",value:g.quantity,onChange:N=>v({...g,quantity:N.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"reason",children:"Motivo/Observao"}),a.jsx(G,{id:"reason",placeholder:"Descreva o motivo da movimentao",value:g.reason,onChange:N=>v({...g,reason:N.target.value}),required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),a.jsx(z,{type:"submit",disabled:w,children:w?"Salvando...":`Confirmar ${Ya[g.type]||g.type}`})]})]})]})})]})},k$=({customers:e,onEdit:t,onDelete:n,onViewHistory:r,getCustomerPurchases:s,getCustomerTotalSpent:o,formatCPF:i,formatPhone:l})=>e.length===0?a.jsx(te,{children:a.jsxs(ne,{className:"text-center py-12",children:[a.jsx(ls,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum cliente encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro cliente."})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>{const u=s(c.id),d=o(c.id);return a.jsx(ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ls,{className:"w-5 h-5 text-primary"}),a.jsx(be,{className:"text-lg",children:c.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>r(c),title:"Ver Histrico",children:a.jsx($N,{className:"w-4 h-4"})}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(c),title:"Editar Cliente",children:a.jsx(qh,{className:"w-4 h-4"})}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>n(c.id),className:"text-destructive hover:text-destructive",title:"Remover Cliente",children:a.jsx(ra,{className:"w-4 h-4"})})]})]})}),a.jsxs(ne,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-1",children:[c.cpf&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(ls,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{children:i(c.cpf)})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(GN,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{children:l(c.phone)})]}),c.email&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(zN,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{className:"truncate",children:c.email})]})]}),a.jsx("div",{className:"pt-3 border-t",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold text-primary",children:u.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Compras"})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",d.toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Gasto"})]})]})}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cliente desde: ",new Date(c.created_at||c.createdAt).toLocaleDateString()]})]})]})},c.id)})}),N$=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingCustomer:o,formatCPF:i,formatPhone:l,resetForm:c})=>{const[u,d]=m.useState(!1),f=async p=>{const w=p.target.value.replace(/\D/g,"");if(w.length===8){d(!0);try{const j=await(await fetch(`https://viacep.com.br/ws/${w}/json/`)).json();j.erro||r({...n,cep:j.cep,street:j.logradouro,bairro:j.bairro,cidade:j.localidade,estado:j.uf,complemento:j.complemento})}finally{d(!1)}}},h=n.category==="Atacado"||n.category==="Atacarejo";return a.jsxs(Hn,{open:e,onOpenChange:p=>{t(p),p||c()},children:[a.jsx(co,{asChild:!0,children:a.jsxs(z,{children:[a.jsx(fn,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),a.jsxs(En,{className:"max-w-2xl",children:[a.jsx(kn,{children:a.jsx(Nn,{children:o?"Editar Cliente":"Novo Cliente"})}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(K,{htmlFor:"name",children:"Nome Completo *"}),a.jsx(G,{id:"name",value:n.name,onChange:p=>r({...n,name:p.target.value})})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"cpf",children:"CPF"}),a.jsx(G,{id:"cpf",placeholder:"000.000.000-00",value:n.cpf,onChange:p=>r({...n,cpf:i(p.target.value)})})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"phone",children:"Telefone *"}),a.jsx(G,{id:"phone",placeholder:"(00) 00000-0000",value:n.phone,onChange:p=>r({...n,phone:l(p.target.value)})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(K,{htmlFor:"email",children:"E-mail"}),a.jsx(G,{id:"email",type:"email",value:n.email,onChange:p=>r({...n,email:p.target.value})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(K,{htmlFor:"category",children:"Categoria *"}),a.jsxs("select",{id:"category",value:n.category||"",onChange:p=>r({...n,category:p.target.value}),className:"bg-background/70 border-none text-white rounded-xl px-3 py-2 w-full",required:!0,children:[a.jsx("option",{value:"",children:"Selecione..."}),a.jsx("option",{value:"Varejo",children:"Varejo"}),a.jsx("option",{value:"Atacado",children:"Atacado"}),a.jsx("option",{value:"Atacarejo",children:"Atacarejo"})]})]}),h&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"cnpj",children:"CNPJ *"}),a.jsx(G,{id:"cnpj",placeholder:"00.000.000/0000-00",value:n.cnpj||"",onChange:p=>r({...n,cnpj:p.target.value}),required:h})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"razao_social",children:"Razo Social *"}),a.jsx(G,{id:"razao_social",value:n.razao_social||"",onChange:p=>r({...n,razao_social:p.target.value}),required:h})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"inscricao_estadual",children:"Inscrio Estadual *"}),a.jsx(G,{id:"inscricao_estadual",value:n.inscricao_estadual||"",onChange:p=>r({...n,inscricao_estadual:p.target.value}),required:h})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(K,{htmlFor:"nome_fantasia",children:"Nome Fantasia"}),a.jsx(G,{id:"nome_fantasia",value:n.nome_fantasia||"",onChange:p=>r({...n,nome_fantasia:p.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"cep",children:"CEP *"}),a.jsx(G,{id:"cep",placeholder:"00000-000",value:n.cep||"",onChange:p=>r({...n,cep:p.target.value}),onBlur:f,required:!0,disabled:u})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"street",children:"Rua *"}),a.jsx(G,{id:"street",value:n.street||"",onChange:p=>r({...n,street:p.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bairro",children:"Bairro *"}),a.jsx(G,{id:"bairro",value:n.bairro||"",onChange:p=>r({...n,bairro:p.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"cidade",children:"Cidade *"}),a.jsx(G,{id:"cidade",value:n.cidade||"",onChange:p=>r({...n,cidade:p.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"estado",children:"Estado *"}),a.jsx(G,{id:"estado",value:n.estado||"",onChange:p=>r({...n,estado:p.target.value}),required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(K,{htmlFor:"complemento",children:"Complemento"}),a.jsx(G,{id:"complemento",value:n.complemento||"",onChange:p=>r({...n,complemento:p.target.value})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(z,{type:"button",variant:"outline",onClick:()=>{t(!1),c()},children:"Cancelar"}),a.jsxs(z,{type:"submit",children:[o?"Atualizar":"Criar"," Cliente"]})]})]})]})]})},P$=({open:e,onOpenChange:t,customer:n,purchases:r})=>n?a.jsx(Hn,{open:e,onOpenChange:t,children:a.jsxs(En,{className:"max-w-2xl",children:[a.jsx(kn,{children:a.jsxs(Nn,{children:["Histrico de Compras: ",n.name]})}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3 p-1",children:r.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma compra encontrada para este cliente."}):r.map(s=>a.jsxs(te,{className:"bg-background/50",children:[a.jsx(Se,{className:"pb-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(be,{className:"text-base",children:["Venda #",s.id]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at||s.date).toLocaleString()})]})}),a.jsxs(ne,{children:[a.jsx("ul",{className:"text-sm space-y-1",children:(s.items||s.sale_items||[]).map(o=>{var i;return a.jsxs("li",{className:"flex justify-between",children:[a.jsxs("span",{children:[o.quantity,"x ",o.name||((i=o.products)==null?void 0:i.name)||"Produto Indisponvel"]}),a.jsxs("span",{children:["R$ ",(o.subtotal||o.quantity*o.unit_price).toFixed(2)]})]},o.id||o.product_id)})}),a.jsxs("div",{className:"border-t mt-2 pt-2 flex justify-between font-semibold",children:[a.jsx("span",{children:"Total da Venda:"}),a.jsxs("span",{children:["R$ ",(s.total_amount||s.total).toFixed(2)]})]})]})]},s.id))})]})}):null,T$=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[s,o]=m.useState(""),[i,l]=m.useState(null),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(null),[w,x]=m.useState(!0),{toast:j}=Vt(),[y,g]=m.useState({name:"",cpf:"",phone:"",email:"",address:""}),v=m.useCallback(async()=>{x(!0);try{const A=await ZI(),U=await Sj();t(A||[]),r(U||[])}catch(A){j({title:"Erro ao carregar dados",description:A.message,variant:"destructive"})}finally{x(!1)}},[j]);m.useEffect(()=>{v()},[v]);const S=e.filter(A=>A.category==="Varejo").length,b=e.filter(A=>A.category==="Atacado").length,k=e.filter(A=>A.category==="Atacarejo").length,[C,_]=m.useState(""),[E,O]=m.useState(""),R=e.filter(A=>{var ve,ye,Y;const U=(ve=A.name)==null?void 0:ve.toLowerCase().includes(s.toLowerCase()),X=C?A.category===C:!0,se=E?((ye=A.cpf)==null?void 0:ye.includes(E))||((Y=A.cnpj)==null?void 0:Y.includes(E)):!0;return U&&X&&se}),I=()=>{g({name:"",cpf:"",phone:"",email:"",address:""}),l(null)},V=A=>{if(!A)return"";const U=A.replace(/\D/g,"");return U.length>11&&U.slice(0,11),U.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")},L=A=>{if(!A)return"";const U=A.replace(/\D/g,"");return U.length>11&&U.slice(0,11),U.length===11?U.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):U.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3")},$=async A=>{A.preventDefault();const U={...y,cpf:y.cpf.replace(/\D/g,""),phone:y.phone.replace(/\D/g,"")};if(!U.name||!U.phone){j({title:"Erro de Validao",description:"Nome e Telefone so obrigatrios.",variant:"destructive"});return}if(U.cpf&&U.cpf.length!==11){j({title:"Erro de Validao",description:"CPF invlido.",variant:"destructive"});return}x(!0);try{i?(await tL(i.id,U),j({title:"Cliente atualizado!",description:`${U.name} foi atualizado.`})):(await eL(U),j({title:"Cliente criado!",description:`${U.name} foi criado.`})),v(),u(!1),I()}catch(X){j({title:"Erro ao salvar cliente",description:X.message,variant:"destructive"})}finally{x(!1)}},M=A=>{l(A),g({name:A.name,cpf:V(A.cpf),phone:L(A.phone),email:A.email,address:A.address||""}),u(!0)},N=async A=>{if(window.confirm("Tem certeza que deseja remover este cliente?")){x(!0);try{await nL(A),j({title:"Cliente removido!",description:"O cliente foi removido."}),v()}catch(U){j({title:"Erro ao remover cliente",description:U.message,variant:"destructive"})}finally{x(!1)}}},P=m.useCallback(A=>n.filter(U=>U.customer_id===A).sort((U,X)=>new Date(X.created_at||X.date)-new Date(U.created_at||U.date)),[n]),T=m.useCallback(A=>P(A).reduce((X,se)=>X+(se.total_amount||se.total),0),[P]),D=A=>{p(A),f(!0)};return w&&e.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Clientes"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie o cadastro de clientes e seus histricos."})]}),a.jsx(N$,{open:c,onOpenChange:u,formData:y,setFormData:g,onSubmit:$,editingCustomer:i,formatCPF:V,formatPhone:L,resetForm:I})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(te,{className:"glass-effect",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"w-8 h-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"})]})]})})}),a.jsx(te,{className:"glass-effect",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ls,{className:"w-8 h-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:S}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Varejo"})]})]})})}),a.jsx(te,{className:"glass-effect",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ls,{className:"w-8 h-8 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:b}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Atacado"})]})]})})}),a.jsx(te,{className:"glass-effect",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ls,{className:"w-8 h-8 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:k}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Atacarejo"})]})]})})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[a.jsx(G,{placeholder:"Buscar por nome...",value:s,onChange:A=>o(A.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"}),a.jsxs("select",{value:C,onChange:A=>_(A.target.value),className:"bg-background/70 border-none text-white rounded-xl px-3 py-2",children:[a.jsx("option",{value:"",children:"Todas as Categorias"}),a.jsx("option",{value:"Varejo",children:"Varejo"}),a.jsx("option",{value:"Atacado",children:"Atacado"}),a.jsx("option",{value:"Atacarejo",children:"Atacarejo"})]}),a.jsx(G,{placeholder:"Buscar por CPF ou CNPJ...",value:E,onChange:A=>O(A.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"})]}),a.jsx(k$,{customers:R,onEdit:M,onDelete:N,onViewHistory:D,getCustomerPurchases:P,getCustomerTotalSpent:T,formatCPF:V,formatPhone:L}),a.jsx(P$,{open:d,onOpenChange:f,customer:h,purchases:h?P(h.id):[]})]})};var Zu="rovingFocusGroup.onEntryFocus",A$={bubbles:!1,cancelable:!0},fa="RovingFocusGroup",[$f,db,R$]=Vh(fa),[O$,fb]=_s(fa,[R$]),[I$,L$]=O$(fa),hb=m.forwardRef((e,t)=>a.jsx($f.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx($f.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(M$,{...e,ref:t})})}));hb.displayName=fa;var M$=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=$e(t,h),w=jp(o),[x,j]=xo({prop:i,defaultProp:l??null,onChange:c,caller:fa}),[y,g]=m.useState(!1),v=Xt(u),S=db(n),b=m.useRef(!1),[k,C]=m.useState(0);return m.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(Zu,v),()=>_.removeEventListener(Zu,v)},[v]),a.jsx(I$,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:m.useCallback(_=>j(_),[j]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:m.useCallback(()=>C(_=>_-1),[]),children:a.jsx(le.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{b.current=!0}),onFocus:re(e.onFocus,_=>{const E=!b.current;if(_.target===_.currentTarget&&E&&!y){const O=new CustomEvent(Zu,A$);if(_.currentTarget.dispatchEvent(O),!O.defaultPrevented){const R=S().filter(M=>M.focusable),I=R.find(M=>M.active),V=R.find(M=>M.id===x),$=[I,V,...R].filter(Boolean).map(M=>M.ref.current);gb($,d)}}b.current=!1}),onBlur:re(e.onBlur,()=>g(!1))})})}),pb="RovingFocusGroupItem",mb=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Pr(),u=o||c,d=L$(pb,n),f=d.currentTabStopId===u,h=db(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:x}=d;return m.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),a.jsx($f.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(le.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:re(e.onMouseDown,j=>{r?d.onItemFocus(u):j.preventDefault()}),onFocus:re(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:re(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){d.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const y=F$(j,d.orientation,d.dir);if(y!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let v=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const S=v.indexOf(j.currentTarget);v=d.loop?V$(v,S+1):v.slice(S+1)}setTimeout(()=>gb(v))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});mb.displayName=pb;var D$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function F$(e,t,n){const r=$$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return D$[r]}function gb(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function V$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var U$=hb,B$=mb,Gc="Tabs",[z$,_F]=_s(Gc,[fb]),vb=fb(),[W$,Mp]=z$(Gc),yb=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=jp(l),[f,h]=xo({prop:r,onChange:s,defaultProp:o??"",caller:Gc});return a.jsx(W$,{scope:n,baseId:Pr(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:a.jsx(le.div,{dir:d,"data-orientation":i,...u,ref:t})})});yb.displayName=Gc;var xb="TabsList",wb=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Mp(xb,n),i=vb(n);return a.jsx(U$,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(le.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});wb.displayName=xb;var jb="TabsTrigger",Sb=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Mp(jb,n),l=vb(n),c=Cb(i.baseId,r),u=Eb(i.baseId,r),d=r===i.value;return a.jsx(B$,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:re(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:re(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:re(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});Sb.displayName=jb;var bb="TabsContent",_b=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=Mp(bb,n),c=Cb(l.baseId,r),u=Eb(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Ao,{present:s||d,children:({present:h})=>a.jsx(le.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});_b.displayName=bb;function Cb(e,t){return`${e}-trigger-${t}`}function Eb(e,t){return`${e}-content-${t}`}var H$=yb,kb=wb,Nb=Sb,Pb=_b;const Tb=H$,Dp=ae.forwardRef(({className:e,...t},n)=>a.jsx(kb,{ref:n,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Dp.displayName=kb.displayName;const gr=ae.forwardRef(({className:e,...t},n)=>a.jsx(Nb,{ref:n,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));gr.displayName=Nb.displayName;const vr=ae.forwardRef(({className:e,...t},n)=>a.jsx(Pb,{ref:n,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));vr.displayName=Pb.displayName;const q$=({totalRevenue:e,totalSales:t,averageTicket:n,totalItemsSold:r})=>{const s=[{icon:ms,value:`R$ ${e.toFixed(2)}`,label:"Faturamento",color:"text-green-500"},{icon:Bi,value:t,label:"Vendas",color:"text-blue-500"},{icon:Wi,value:`R$ ${n.toFixed(2)}`,label:"Ticket Mdio",color:"text-purple-500"},{icon:Rr,value:r,label:"Itens Vendidos",color:"text-orange-500"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(o=>{const i=o.icon;return a.jsx(te,{className:"glass-effect",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full bg-primary/10 ${o.color}`,children:a.jsx(i,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:o.value}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.label})]})]})})},o.label)})})},G$=({sales:e,salesByHour:t})=>a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(hw,{className:"w-5 h-5"}),a.jsx("span",{children:"Vendas Recentes"})]})}),a.jsx(ne,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Bi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma venda no perodo selecionado"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.slice(0,10).map(n=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Venda #",n.id]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.cashier,"  ",new Date(n.date).toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.items.length," itens"]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",n.total.toFixed(2)]})})]},n.id))})})]}),a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(gg,{className:"w-5 h-5"}),a.jsx("span",{children:"Vendas por Horrio"})]})}),a.jsx(ne,{children:Object.keys(t).length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(gg,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma venda por horrio no perodo"})]}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Object.entries(t).sort(([n],[r])=>parseInt(n)-parseInt(r)).map(([n,r])=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-md",children:[a.jsxs("span",{className:"text-sm font-medium",children:[n.padStart(2,"0"),":00 - ",String(parseInt(n)+1).padStart(2,"0"),":00"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-xs px-2 py-0.5 bg-secondary rounded-full",children:[r.count," vendas"]}),a.jsxs("span",{className:"text-sm font-semibold text-primary",children:["R$ ",r.revenue.toFixed(2)]})]})]},n))})})]})]}),K$=({topProducts:e})=>a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(Rr,{className:"w-5 h-5"}),a.jsx("span",{children:"Produtos Mais Vendidos"})]})}),a.jsx(ne,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Rr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhum produto vendido no perodo"})]}):a.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:e.map((t,n)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-primary-foreground font-bold ${n===0?"bg-yellow-500":n===1?"bg-gray-400":n===2?"bg-yellow-700":"bg-primary"}`,children:n+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.quantity," unidades vendidas"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",t.revenue.toFixed(2)]})})]},t.name))})})]}),Y$={cash:"Dinheiro",debit:"Carto Dbito",credit:"Carto Crdito",pix:"PIX"},J$=({paymentMethodStats:e,totalRevenue:t})=>a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(ms,{className:"w-5 h-5"}),a.jsx("span",{children:"Mtodos de Pagamento"})]})}),a.jsx(ne,{children:Object.keys(e).length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ms,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhum pagamento registrado no perodo"})]}):a.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:Object.entries(e).map(([n,r])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Y$[n]||n}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.count," transaes"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",r.amount.toFixed(2)]}),t>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r.amount/t*100).toFixed(1),"% do total"]})]})]},n))})})]}),X$={today:"Hoje",yesterday:"Ontem",week:"ltimos 7 dias",month:"Este ms"},Q$=({salesByUser:e,dateFilter:t,totalSales:n,totalRevenue:r,averageTicket:s,totalItemsSold:o})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"w-5 h-5"}),a.jsx("span",{children:"Performance por Operador"})]})}),a.jsx(ne,{children:Object.keys(e).length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(cs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma venda por operador no perodo"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Object.entries(e).map(([i,l])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:i||"No identificado"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.count," vendas"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",l.revenue.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ticket Mdio: R$ ",(l.revenue/l.count||0).toFixed(2)]})]})]},i))})})]}),a.jsxs(te,{className:"glass-effect",children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center space-x-2",children:[a.jsx(Wi,{className:"w-5 h-5"}),a.jsx("span",{children:"Resumo do Perodo"})]})}),a.jsx(ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-primary",children:X$[t]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Perodo Selecionado"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total de Vendas:"}),a.jsx("span",{className:"font-medium",children:n})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Faturamento Total:"}),a.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",r.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ticket Mdio:"}),a.jsxs("span",{className:"font-medium",children:["R$ ",s.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Itens Vendidos:"}),a.jsx("span",{className:"font-medium",children:o})]})]})]})})]})]}),Z$={today:"Hoje",yesterday:"Ontem",week:"ltimos 7 dias",month:"Este ms",all:"Todo o perodo"},eF=()=>{const[e,t]=m.useState([]),[n,r]=m.useState("today"),[s,o]=m.useState(!0),{toast:i}=Vt(),l=m.useCallback(async()=>{o(!0);try{const f=await Sj();t(f||[])}catch(f){i({title:"Erro ao carregar vendas",description:f.message,variant:"destructive"})}finally{o(!1)}},[i]);m.useEffect(()=>{l()},[l]);const c=m.useMemo(()=>{const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),p=new Date(h);p.setDate(p.getDate()-1);const w=new Date(f);w.setDate(f.getDate()-6),w.setHours(0,0,0,0);const x=new Date(f.getFullYear(),f.getMonth(),1);return e.filter(j=>{const y=new Date(j.created_at||j.date);switch(n){case"today":return y>=h&&y<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"yesterday":return y>=p&&y<h;case"week":return y>=w&&y<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"month":return y>=x&&y<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"all":default:return!0}})},[e,n]),u=m.useMemo(()=>{const f=c.reduce((v,S)=>v+(S.total_amount||S.total||0),0),h=c.length,p=h>0?f/h:0,w=c.reduce((v,S)=>{const b=S.items||S.sale_items||[];return v+b.reduce((k,C)=>k+(C.quantity||0),0)},0),x=(()=>{const v={};return c.forEach(S=>{(S.items||S.sale_items||[]).forEach(k=>{var O;const C=k.product_id||k.productId,_=((O=k.products)==null?void 0:O.name)||k.name||"Produto Desconhecido",E=k.subtotal||k.quantity*k.unit_price||0;v[C]||(v[C]={id:C,name:_,quantity:0,revenue:0}),v[C].quantity+=k.quantity||0,v[C].revenue+=E})}),Object.values(v).sort((S,b)=>b.revenue-S.revenue).slice(0,10)})(),j=(()=>{const v={};return c.forEach(S=>{(S.payment_details||S.payments||[]).forEach(k=>{v[k.method]||(v[k.method]={count:0,amount:0}),v[k.method].count+=1,v[k.method].amount+=k.amount||0})}),v})(),y=(()=>{const v={};return c.forEach(S=>{const b=new Date(S.created_at||S.date).getHours().toString();v[b]||(v[b]={count:0,revenue:0}),v[b].count+=1,v[b].revenue+=S.total_amount||S.total||0}),v})(),g=(()=>{const v={};return c.forEach(S=>{const b=S.cashier_name||S.cashier||"Desconhecido";v[b]||(v[b]={count:0,revenue:0}),v[b].count+=1,v[b].revenue+=S.total_amount||S.total||0}),v})();return{totalRevenue:f,totalSales:h,averageTicket:p,totalItemsSold:w,topProducts:x,paymentMethodStats:j,salesByHour:y,salesByUser:g}},[c]),d=()=>{i({title:" Em Desenvolvimento ",description:"A funcionalidade de exportar relatrios ser implementada em breve!"})};return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Relatrios"}),a.jsx("p",{className:"text-muted-foreground",children:"Anlise detalhada de vendas e performance da loja."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Zn,{value:n,onValueChange:r,children:[a.jsx(Tn,{className:"w-[180px]",children:a.jsx(er,{placeholder:"Selecione o perodo"})}),a.jsx(An,{children:Object.entries(Z$).map(([f,h])=>a.jsx(Ke,{value:f,children:h},f))})]}),a.jsxs(z,{variant:"outline",onClick:d,children:[a.jsx(MN,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),a.jsx(q$,{totalRevenue:u.totalRevenue,totalSales:u.totalSales,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold}),a.jsxs(Tb,{defaultValue:"sales",className:"space-y-6",children:[a.jsxs(Dp,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[a.jsx(gr,{value:"sales",children:"Vendas"}),a.jsx(gr,{value:"products",children:"Produtos"}),a.jsx(gr,{value:"payments",children:"Pagamentos"}),a.jsx(gr,{value:"performance",children:"Performance"})]}),a.jsx(vr,{value:"sales",children:a.jsx(G$,{sales:c,salesByHour:u.salesByHour})}),a.jsx(vr,{value:"products",children:a.jsx(K$,{topProducts:u.topProducts})}),a.jsx(vr,{value:"payments",children:a.jsx(J$,{paymentMethodStats:u.paymentMethodStats,totalRevenue:u.totalRevenue})}),a.jsx(vr,{value:"performance",children:a.jsx(Q$,{salesByUser:u.salesByUser,dateFilter:n,totalSales:u.totalSales,totalRevenue:u.totalRevenue,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold})})]})]})},fy={[Ne.ADMIN]:"Administrador",[Ne.MANAGER]:"Gerente",[Ne.CASHIER]:"Operador de Caixa",[Ne.STOCK]:"Estoquista",[Ne.SALESPERSON]:"Vendedor"},Ds="__no_store_selected__",tF=()=>{var _;const[e,t]=m.useState([]),[n,r]=m.useState([]),[s,o]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!0),{toast:h}=Vt(),[p,w]=m.useState({username:"",password:"",name:"",role:"",store_id:Ds,active:!0}),x=((_=xt())==null?void 0:_.role)===Ne.ADMIN,j=m.useCallback(async()=>{f(!0);try{const[E,O]=await Promise.all([yj(),zr()]);t(E||[]),r(O||[])}catch(E){h({title:"Erro ao carregar dados",description:E.message,variant:"destructive"})}finally{f(!1)}},[h]);m.useEffect(()=>{j()},[j]);const y=()=>{w({username:"",password:"",name:"",role:"",store_id:Ds,active:!0}),o(null),u(!1)},g=async E=>{var L;E.preventDefault();const O=p.store_id===Ds?null:p.store_id,R=(L=n.find($=>$.id===O))==null?void 0:L.is_online_store;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.username)){h({title:"Erro de Validao",description:"O e-mail do usurio  invlido.",variant:"destructive"});return}if(!p.role){h({title:"Erro de Validao",description:"Funo  obrigatria.",variant:"destructive"});return}if(!O&&p.role!==Ne.ADMIN&&!R){h({title:"Erro de Validao",description:"Loja  obrigatria para esta funo (exceto Admin global ou se a loja for a online).",variant:"destructive"});return}if(e.find($=>$.username===p.username&&(!s||$.id!==s.id))){h({title:"Erro",description:"Nome de usurio j existe.",variant:"destructive"});return}f(!0);try{const $={...p,store_id:O};if(s&&!p.password&&delete $.password,s)if(x){const M={name:p.name,role:p.role,store_id:p.store_id===Ds?null:p.store_id,password:p.password||void 0};await zI(s.id,M),h({title:"Usurio atualizado!",description:`${p.name} foi atualizado com sucesso.`})}else h({title:"Apenas admin pode alterar usurios!",variant:"destructive"});else await v($),h({title:"Funcionrio criado!",description:`${p.name} foi criado com sucesso.`});j(),l(!1),y()}catch($){h({title:"Erro ao salvar usurio",description:$.message,variant:"destructive"})}finally{f(!1)}},v=async E=>{try{const O=await fetch("/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.username,password:E.password,name:E.name,role:E.role,store_id:E.store_id})});if(!O.ok){const R=await O.json();throw new Error(R.error||"Erro ao criar funcionrio")}return await O.json()}catch(O){throw new Error(`Erro na comunicao com o backend: ${O.message}`)}},S=E=>{o(E),w({username:E.username,password:"",name:E.name||E.username.split("@")[0],role:E.role,store_id:E.store_id||Ds,active:E.active}),l(!0)},b=async E=>{f(!0);try{await HI(E.id,!E.active),h({title:E.active?"Usurio desativado":"Usurio ativado",description:`${E.name} foi ${E.active?"desativado":"ativado"}.`}),j()}catch(O){h({title:"Erro ao alterar status do usurio",description:O.message,variant:"destructive"})}finally{f(!1)}},k=async E=>{if(window.confirm("Tem certeza que deseja remover este usurio?")){f(!0);try{await WI(E),h({title:"Usurio removido!",description:"O usurio foi removido com sucesso."}),j()}catch(O){h({title:"Erro ao remover usurio",description:O.message,variant:"destructive"})}finally{f(!1)}}},C=E=>{switch(E){case Ne.ADMIN:return"text-red-600 bg-red-100 dark:bg-red-900";case Ne.MANAGER:return"text-blue-600 bg-blue-100 dark:bg-blue-900";case Ne.CASHIER:return"text-green-600 bg-green-100 dark:bg-green-900";case Ne.STOCK:return"text-purple-600 bg-purple-100 dark:bg-purple-900";case Ne.SALESPERSON:return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900"}};return d&&e.length===0&&n.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Usurios"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie usurios, funes e suas lojas"})]}),x&&a.jsxs(Hn,{open:i,onOpenChange:E=>{l(E),E||y()},children:[a.jsx(co,{asChild:!0,children:a.jsxs(z,{onClick:()=>y(),children:[a.jsx(fn,{className:"w-4 h-4 mr-2"}),"Novo Funcionrio"]})}),a.jsxs(En,{className:"max-w-md",children:[a.jsxs(kn,{children:[a.jsx(Nn,{children:s?"Editar Usurio":"Novo Funcionrio"}),a.jsx(cb,{children:s?"Edite as informaes do usurio.":"Crie um novo funcionrio no sistema."})]}),a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"Nome Completo"}),a.jsx(G,{id:"name",value:p.name,onChange:E=>w({...p,name:E.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"username",children:"E-mail do Usurio"}),a.jsx(G,{id:"username",type:"email",value:p.username,onChange:E=>w({...p,username:E.target.value}),required:!0,placeholder:"usuario@exemplo.com"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"password",children:s?"Nova Senha (deixe vazio para manter atual)":"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(G,{id:"password",type:c?"text":"password",value:p.password,onChange:E=>w({...p,password:E.target.value}),required:!s}),a.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:()=>u(!c),children:c?a.jsx(DN,{className:"w-4 h-4"}):a.jsx(gw,{className:"w-4 h-4"})})]})]}),x&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"role",children:"Funo"}),a.jsxs(Zn,{value:p.role,onValueChange:E=>w({...p,role:E}),children:[a.jsx(Tn,{children:a.jsx(er,{placeholder:"Selecione uma funo"})}),a.jsx(An,{children:Object.entries(fy).map(([E,O])=>a.jsx(Ke,{value:E,children:O},E))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"store_id",children:"Loja"}),a.jsxs(Zn,{value:p.store_id,onValueChange:E=>w({...p,store_id:E}),children:[a.jsx(Tn,{children:a.jsx(er,{placeholder:"Selecione uma loja"})}),a.jsxs(An,{children:[a.jsx(Ke,{value:Ds,children:"Nenhuma (Global/Admin)"}),n.map(E=>a.jsxs(Ke,{value:E.id,children:[E.name," ",E.is_online_store?"(Online)":""]},E.id))]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),a.jsx(z,{type:"submit",disabled:d,children:d?"Salvando...":(s?"Atualizar":"Criar")+" Usurio"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(te,{className:"glass-effect",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"w-8 h-8 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Usurios"})]})]})})}),a.jsx(te,{className:"glass-effect",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zi,{className:"w-8 h-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:n.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Lojas"})]})]})})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(E=>{var O,R,I;return a.jsx(ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:a.jsxs(te,{className:`glass-effect ${E.active?"":"opacity-60"}`,children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"w-5 h-5 text-primary"}),a.jsx(be,{className:"text-lg",children:E.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>S(E),children:a.jsx(qh,{className:"w-4 h-4"})}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>k(E.id),className:"text-destructive hover:text-destructive",children:a.jsx(ra,{className:"w-4 h-4"})})]})]})}),a.jsxs(ne,{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usurio: ",E.username]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nome: ",E.name||E.username.split("@")[0]]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Loja: ",(O=E.stores)!=null&&O.name?`${E.stores.name}${E.stores.is_online_store?" (Online)":""}`:E.role===Ne.ADMIN?"Todas (Admin)":"No definida"]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(E.role)}`,children:fy[E.role]}),x&&a.jsx(z,{size:"xs",variant:"outline",onClick:()=>S(E),children:"Alterar Role"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.active?"text-green-600 bg-green-100 dark:bg-green-900":"text-red-600 bg-red-100 dark:bg-red-900"}`,children:E.active?"Ativo":"Inativo"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Permisses:"}),a.jsxs("div",{className:"space-y-1",children:[(R=dl[E.role])==null?void 0:R.slice(0,3).map(V=>a.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",V.replace(/_/g," ").toLowerCase()]},V)),((I=dl[E.role])==null?void 0:I.length)>3&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[" +",dl[E.role].length-3," mais..."]})]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsx(z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>b(E),disabled:d,children:d?"Aguarde...":(E.active?"Desativar":"Ativar")+" Usurio"})})]})]})},E.id)})}),e.length===0&&!d&&a.jsx(te,{children:a.jsxs(ne,{className:"text-center py-12",children:[a.jsx(cs,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum usurio encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:"Comece criando seu primeiro usurio"})]})})]})},ha="http://localhost:4000/api",nF=async(e=null)=>{try{const t=new URLSearchParams;e&&t.append("store_id",e);const n=await fetch(`${ha}/cash-register/state?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json();throw new Error(r.error||"Erro ao buscar estado do caixa")}return await n.json()}catch(t){throw new Error(`Erro na comunicao com o backend: ${t.message}`)}},rF=async(e,t,n)=>{try{const r=await fetch(`${ha}/cash-register/open`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initial_amount:e,store_id:t,user_id:n})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Erro ao abrir caixa")}return await r.json()}catch(r){throw new Error(`Erro na comunicao com o backend: ${r.message}`)}},sF=async(e,t,n,r=null)=>{try{const s=await fetch(`${ha}/cash-register/close`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({final_amount:e,store_id:t,user_id:n,notes:r})});if(!s.ok){const o=await s.json();throw new Error(o.error||"Erro ao fechar caixa")}return await s.json()}catch(s){throw new Error(`Erro na comunicao com o backend: ${s.message}`)}},oF=async(e={})=>{try{const t=new URLSearchParams;e.store_id&&t.append("store_id",e.store_id),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.date_from&&t.append("date_from",e.date_from),e.date_to&&t.append("date_to",e.date_to);const n=await fetch(`${ha}/cash-register/logs?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json();throw new Error(r.error||"Erro ao buscar logs do caixa")}return await n.json()}catch(t){throw new Error(`Erro na comunicao com o backend: ${t.message}`)}},iF=async(e,t,n,r,s=null)=>{try{const o=await fetch(`${ha}/cash-register/logs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,amount:t,store_id:n,user_id:r,notes:s})});if(!o.ok){const i=await o.json();throw new Error(i.error||"Erro ao adicionar log do caixa")}return await o.json()}catch(o){throw new Error(`Erro na comunicao com o backend: ${o.message}`)}},aF=()=>{var P;const[e,t]=m.useState({isOpen:!1,currentAmount:0,openingAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null}),[n,r]=m.useState([]),[s,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(""),[w,x]=m.useState(""),[j,y]=m.useState(""),[g,v]=m.useState("add"),[S,b]=m.useState(""),[k,C]=m.useState("status"),{toast:_}=Vt(),E=xt(),O=Dt(E==null?void 0:E.role,Z.CASH_REGISTER_MANAGEMENT),R=async()=>{try{o(!0);const T=(E==null?void 0:E.store_id)||"1fa90f00-cf02-4a42-8167-c599537c22bb",D=await nF(T);t(D)}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}finally{o(!1)}},I=async()=>{try{const T=await oF({limit:100});r(T.logs||[])}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}};m.useEffect(()=>{R(),I()},[]);const V=async()=>{if(!h||parseFloat(h)<0){_({title:"Erro",description:"Valor inicial  obrigatrio e deve ser maior ou igual a zero.",variant:"destructive"});return}try{o(!0);const T=await rF(parseFloat(h),e.store_id,E==null?void 0:E.id);t(T.cashRegister),l(!1),p(""),_({title:"Sucesso",description:T.message}),I()}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}finally{o(!1)}},L=async()=>{try{o(!0);const T=await sF(parseFloat(w)||e.currentAmount,e.store_id,E==null?void 0:E.id,S);t(T.cashRegister),u(!1),x(""),b(""),_({title:"Sucesso",description:T.message}),I()}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}finally{o(!1)}},$=async()=>{if(!j||parseFloat(j)<=0){_({title:"Erro",description:"Valor  obrigatrio e deve ser maior que zero.",variant:"destructive"});return}try{o(!0);const T=parseFloat(j),D=g==="add"?T:-T;await iF(g,T,e.store_id,E==null?void 0:E.id,S),f(!1),y(""),v("add"),b(""),_({title:"Sucesso",description:"Movimentao registrada com sucesso!"}),R(),I()}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}finally{o(!1)}},M=T=>new Date(T).toLocaleString("pt-BR"),N=T=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T);return O?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(ms,{className:"w-8 h-8"}),"Controle de Caixa"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:((P=e.store)==null?void 0:P.name)||"Loja Online"}),a.jsx(z,{variant:"outline",size:"sm",onClick:async()=>{if(confirm("Tem certeza que deseja resetar o caixa? Isso apagar todo o histrico."))try{(await fetch(`http://31.97.86.88:4000/api/cash-register/reset/${e.store_id}`,{method:"DELETE"})).ok&&(_({title:"Sucesso",description:"Caixa resetado com sucesso!"}),R(),I())}catch{_({title:"Erro",description:"Erro ao resetar caixa",variant:"destructive"})}},children:"Resetar Caixa"})]})]}),a.jsxs(Tb,{value:k,onValueChange:C,children:[a.jsxs(Dp,{className:"grid w-full grid-cols-3",children:[a.jsx(gr,{value:"status",children:"Status"}),a.jsx(gr,{value:"operations",children:"Operaes"}),a.jsx(gr,{value:"history",children:"Histrico"})]}),a.jsx(vr,{value:"status",className:"space-y-6",children:a.jsxs(te,{children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center gap-2",children:[e.isOpen?a.jsx(RN,{className:"w-6 h-6 text-green-500"}):a.jsx(xg,{className:"w-6 h-6 text-red-500"}),"Status do Caixa"]})}),a.jsxs(ne,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx("p",{className:`text-lg font-bold ${e.isOpen?"text-green-600":"text-red-600"}`,children:e.isOpen?"ABERTO":"FECHADO"})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Atual"}),a.jsx("p",{className:"text-2xl font-bold",children:N(e.currentAmount)})]})]}),e.isOpen&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Inicial"}),a.jsx("p",{className:"font-bold",children:N(e.openingAmount)})]}),a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto por"}),a.jsx("p",{className:"font-bold",children:e.openedBy||"N/A"})]}),a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto em"}),a.jsx("p",{className:"font-bold",children:e.openedAt?M(e.openedAt):"N/A"})]})]}),!e.isOpen&&e.closedAt&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fechado em"}),a.jsx("p",{className:"font-bold",children:M(e.closedAt)})]}),a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Final"}),a.jsx("p",{className:"font-bold",children:N(e.currentAmount)})]})]})]})]})}),a.jsx(vr,{value:"operations",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(te,{children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(yg,{className:"w-5 h-5"}),"Abrir Caixa"]})}),a.jsx(ne,{children:a.jsxs(Hn,{open:i,onOpenChange:l,children:[a.jsx(co,{asChild:!0,children:a.jsx(z,{className:"w-full",disabled:e.isOpen||s,children:"Abrir Caixa"})}),a.jsxs(En,{children:[a.jsx(kn,{children:a.jsx(Nn,{children:"Abrir Caixa"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"initialAmount",children:"Valor Inicial (R$)"}),a.jsx(G,{id:"initialAmount",type:"number",step:"0.01",min:"0",value:h,onChange:T=>p(T.target.value),placeholder:"0,00"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(z,{variant:"outline",onClick:()=>l(!1),disabled:s,children:"Cancelar"}),a.jsx(z,{onClick:V,disabled:s,children:s?"Abrindo...":"Abrir Caixa"})]})]})]})]})})]}),a.jsxs(te,{children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(nf,{className:"w-5 h-5"}),"Fechar Caixa"]})}),a.jsx(ne,{children:a.jsxs(Hn,{open:c,onOpenChange:u,children:[a.jsx(co,{asChild:!0,children:a.jsx(z,{variant:"outline",className:"w-full",disabled:!e.isOpen||s,children:"Fechar Caixa"})}),a.jsxs(En,{children:[a.jsx(kn,{children:a.jsx(Nn,{children:"Fechar Caixa"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"finalAmount",children:"Valor Final (R$)"}),a.jsx(G,{id:"finalAmount",type:"number",step:"0.01",min:"0",value:w,onChange:T=>x(T.target.value),placeholder:e.currentAmount.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"closeNotes",children:"Observaes (opcional)"}),a.jsx(G,{id:"closeNotes",value:S,onChange:T=>b(T.target.value),placeholder:"Observaes sobre o fechamento..."})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(z,{variant:"outline",onClick:()=>u(!1),disabled:s,children:"Cancelar"}),a.jsx(z,{onClick:L,disabled:s,children:s?"Fechando...":"Fechar Caixa"})]})]})]})]})})]}),a.jsxs(te,{children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(Wi,{className:"w-5 h-5"}),"Movimentaes"]})}),a.jsx(ne,{children:a.jsxs(Hn,{open:d,onOpenChange:f,children:[a.jsx(co,{asChild:!0,children:a.jsx(z,{variant:"outline",className:"w-full",disabled:!e.isOpen||s,children:"Adicionar/Remover"})}),a.jsxs(En,{children:[a.jsx(kn,{children:a.jsx(Nn,{children:"Movimentao de Caixa"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"Tipo de Operao"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs(z,{variant:g==="add"?"default":"outline",onClick:()=>v("add"),className:"flex-1",children:[a.jsx(fn,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),a.jsxs(z,{variant:g==="remove"?"default":"outline",onClick:()=>v("remove"),className:"flex-1",children:[a.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Remover"]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"movementAmount",children:"Valor (R$)"}),a.jsx(G,{id:"movementAmount",type:"number",step:"0.01",min:"0",value:j,onChange:T=>y(T.target.value),placeholder:"0,00"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"movementNotes",children:"Observaes (opcional)"}),a.jsx(G,{id:"movementNotes",value:S,onChange:T=>b(T.target.value),placeholder:"Motivo da movimentao..."})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(z,{variant:"outline",onClick:()=>f(!1),disabled:s,children:"Cancelar"}),a.jsx(z,{onClick:$,disabled:s,children:s?"Registrando...":"Registrar Movimentao"})]})]})]})]})})]})]})}),a.jsx(vr,{value:"history",className:"space-y-6",children:a.jsxs(te,{children:[a.jsx(Se,{children:a.jsxs(be,{className:"flex items-center gap-2",children:[a.jsx(ll,{className:"w-5 h-5"}),"Histrico de Operaes"]})}),a.jsx(ne,{children:a.jsxs("div",{className:"space-y-4",children:[n.map(T=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[T.type==="open"&&a.jsx(yg,{className:"w-5 h-5 text-green-500"}),T.type==="close"&&a.jsx(nf,{className:"w-5 h-5 text-red-500"}),T.type==="add"&&a.jsx(fn,{className:"w-5 h-5 text-blue-500"}),T.type==="remove"&&a.jsx(Ui,{className:"w-5 h-5 text-orange-500"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[T.type==="open"&&"Abertura de Caixa",T.type==="close"&&"Fechamento de Caixa",T.type==="add"&&"Adio de Dinheiro",T.type==="remove"&&"Remoo de Dinheiro"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.notes})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold",children:N(T.current_amount)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:M(T.created_at)})]})]},T.id)),n.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma operao registrada."})]})})]})})]})]}):a.jsx("div",{className:"container mx-auto p-6",children:a.jsx(te,{className:"max-w-md mx-auto",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(xg,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Acesso Negado"}),a.jsx("p",{className:"text-muted-foreground",children:"Voc no tem permisso para acessar o controle de caixa."})]})})})},vn=({element:e,requiredPermission:t,user:n})=>!n||n.role==="none"?a.jsx(Ul,{to:"/login"}):t&&!Dt(n.role,t)?a.jsx(Ul,{to:"/"}):e,lF=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0),{toast:s}=Vt();m.useEffect(()=>{const l=d=>{s(d.detail)};window.addEventListener("show-toast",l),(async()=>{const d=xt();d&&t(d),r(!1)})();const{data:u}=de.auth.onAuthStateChange(async(d,f)=>{var h;if(f!=null&&f.user){let p="none";f.user.email==="admin@server.com"&&(p="admin");const w={id:f.user.id,email:f.user.email,name:((h=f.user.user_metadata)==null?void 0:h.name)||f.user.email.split("@")[0],role:p,store_id:null,active:!0,created_at:f.user.created_at,stores:null};t(w),Uv(w)}else t(null),Ef();r(!1)});return()=>{var d;(d=u==null?void 0:u.subscription)==null||d.unsubscribe(),window.removeEventListener("show-toast",l)}},[s]);const o=l=>{t(l),Uv(l)},i=()=>{t(null),Ef()};return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg",children:a.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-white border-t-transparent rounded-full"})}):a.jsxs(ik,{children:[a.jsxs(ZE,{children:[a.jsx(Pt,{path:"/login",element:e?a.jsx(Ul,{to:"/"}):a.jsx(qI,{onLogin:o})}),a.jsxs(Pt,{path:"/",element:a.jsx(vn,{user:e,element:a.jsx(GI,{onLogout:i})}),children:[a.jsx(Pt,{index:!0,element:a.jsx(vn,{user:e,element:a.jsx(dy,{}),requiredPermission:Z.PROCESS_SALES})}),a.jsx(Pt,{path:"pos",element:a.jsx(vn,{user:e,element:a.jsx(dy,{}),requiredPermission:Z.PROCESS_SALES})}),a.jsx(Pt,{path:"products",element:a.jsx(vn,{user:e,element:a.jsx(_$,{}),requiredPermission:Z.MANAGE_PRODUCTS})}),a.jsx(Pt,{path:"products/:id",element:a.jsx(vn,{user:e,element:a.jsx(C$,{}),requiredPermission:Z.MANAGE_PRODUCTS})}),a.jsx(Pt,{path:"stock",element:a.jsx(vn,{user:e,element:a.jsx(E$,{}),requiredPermission:Z.MANAGE_STOCK})}),a.jsx(Pt,{path:"customers",element:a.jsx(vn,{user:e,element:a.jsx(T$,{}),requiredPermission:Z.MANAGE_PRODUCTS})}),a.jsx(Pt,{path:"reports",element:a.jsx(vn,{user:e,element:a.jsx(eF,{}),requiredPermission:Z.VIEW_REPORTS})}),a.jsx(Pt,{path:"users",element:a.jsx(vn,{user:e,element:a.jsx(tF,{}),requiredPermission:Z.MANAGE_USERS})}),a.jsx(Pt,{path:"cash-register",element:a.jsx(vn,{user:e,element:a.jsx(aF,{}),requiredPermission:Z.CASH_REGISTER_MANAGEMENT})}),a.jsx(Pt,{path:"*",element:a.jsx(Ul,{to:e?"/":"/login"})})]})]}),a.jsx(lP,{})]})};ed.createRoot(document.getElementById("root")).render(a.jsx(ae.StrictMode,{children:a.jsx(lF,{})}));
