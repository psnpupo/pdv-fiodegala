function GS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var yy={exports:{}},ic={},xy={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=Symbol.for("react.element"),YS=Symbol.for("react.portal"),JS=Symbol.for("react.fragment"),XS=Symbol.for("react.strict_mode"),QS=Symbol.for("react.profiler"),ZS=Symbol.for("react.provider"),e_=Symbol.for("react.context"),t_=Symbol.for("react.forward_ref"),n_=Symbol.for("react.suspense"),r_=Symbol.for("react.memo"),s_=Symbol.for("react.lazy"),qp=Symbol.iterator;function o_(e){return e===null||typeof e!="object"?null:(e=qp&&e[qp]||e["@@iterator"],typeof e=="function"?e:null)}var wy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},by=Object.assign,jy={};function Eo(e,t,n){this.props=e,this.context=t,this.refs=jy,this.updater=n||wy}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sy(){}Sy.prototype=Eo.prototype;function zf(e,t,n){this.props=e,this.context=t,this.refs=jy,this.updater=n||wy}var Wf=zf.prototype=new Sy;Wf.constructor=zf;by(Wf,Eo.prototype);Wf.isPureReactComponent=!0;var Gp=Array.isArray,_y=Object.prototype.hasOwnProperty,Hf={current:null},Cy={key:!0,ref:!0,__self:!0,__source:!0};function Ey(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)_y.call(t,r)&&!Cy.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Xi,type:e,key:o,ref:i,props:s,_owner:Hf.current}}function i_(e,t){return{$$typeof:Xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xi}function a_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kp=/\/+/g;function Zc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a_(""+e.key):t.toString(36)}function Ya(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Xi:case YS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Zc(i,0):r,Gp(s)?(n="",e!=null&&(n=e.replace(Kp,"$&/")+"/"),Ya(s,t,n,"",function(u){return u})):s!=null&&(qf(s)&&(s=i_(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Kp,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Gp(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Zc(o,l);i+=Ya(o,t,n,c,s)}else if(c=o_(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Zc(o,l++),i+=Ya(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ha(e,t,n){if(e==null)return e;var r=[],s=0;return Ya(e,r,"","",function(o){return t.call(n,o,s++)}),r}function l_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Ja={transition:null},c_={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Ja,ReactCurrentOwner:Hf};function ky(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:ha,forEach:function(e,t,n){ha(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ha(e,function(){t++}),t},toArray:function(e){return ha(e,function(t){return t})||[]},only:function(e){if(!qf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Eo;de.Fragment=JS;de.Profiler=QS;de.PureComponent=zf;de.StrictMode=XS;de.Suspense=n_;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c_;de.act=ky;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=by({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Hf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_y.call(t,c)&&!Cy.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Xi,type:e.type,key:s,ref:o,props:r,_owner:i}};de.createContext=function(e){return e={$$typeof:e_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZS,_context:e},e.Consumer=e};de.createElement=Ey;de.createFactory=function(e){var t=Ey.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:t_,render:e}};de.isValidElement=qf;de.lazy=function(e){return{$$typeof:s_,_payload:{_status:-1,_result:e},_init:l_}};de.memo=function(e,t){return{$$typeof:r_,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Ja.transition;Ja.transition={};try{e()}finally{Ja.transition=t}};de.unstable_act=ky;de.useCallback=function(e,t){return vt.current.useCallback(e,t)};de.useContext=function(e){return vt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};de.useEffect=function(e,t){return vt.current.useEffect(e,t)};de.useId=function(){return vt.current.useId()};de.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return vt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};de.useRef=function(e){return vt.current.useRef(e)};de.useState=function(e){return vt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return vt.current.useTransition()};de.version="18.3.1";xy.exports=de;var m=xy.exports;const oe=vy(m),Gf=GS({__proto__:null,default:oe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_=m,d_=Symbol.for("react.element"),f_=Symbol.for("react.fragment"),h_=Object.prototype.hasOwnProperty,p_=u_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m_={key:!0,ref:!0,__self:!0,__source:!0};function Ny(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)h_.call(t,r)&&!m_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:d_,type:e,key:o,ref:i,props:s,_owner:p_.current}}ic.Fragment=f_;ic.jsx=Ny;ic.jsxs=Ny;yy.exports=ic;var a=yy.exports,sd={},Py={exports:{}},Ft={},Ty={exports:{}},Ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,T){var z=A.length;A.push(T);e:for(;0<z;){var L=z-1>>>1,V=A[L];if(0<s(V,T))A[L]=T,A[z]=V,z=L;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var T=A[0],z=A.pop();if(z!==T){A[0]=z;e:for(var L=0,V=A.length,ee=V>>>1;L<ee;){var ge=2*(L+1)-1,Ae=A[ge],Ee=ge+1,J=A[Ee];if(0>s(Ae,z))Ee<V&&0>s(J,Ae)?(A[L]=J,A[Ee]=z,L=Ee):(A[L]=Ae,A[ge]=z,L=ge);else if(Ee<V&&0>s(J,z))A[L]=J,A[Ee]=z,L=Ee;else break e}}return T}function s(A,T){var z=A.sortIndex-T.sortIndex;return z!==0?z:A.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=A)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function j(A){if(v=!1,g(A),!w)if(n(c)!==null)w=!0,M(S);else{var T=n(u);T!==null&&$(j,T.startTime-A)}}function S(A,T){w=!1,v&&(v=!1,x(_),_=-1),p=!0;var z=h;try{for(g(T),f=n(c);f!==null&&(!(f.expirationTime>T)||A&&!I());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var V=L(f.expirationTime<=T);T=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),g(T)}else r(c);f=n(c)}if(f!==null)var ee=!0;else{var ge=n(u);ge!==null&&$(j,ge.startTime-T),ee=!1}return ee}finally{f=null,h=z,p=!1}}var k=!1,E=null,_=-1,C=5,R=-1;function I(){return!(e.unstable_now()-R<C)}function O(){if(E!==null){var A=e.unstable_now();R=A;var T=!0;try{T=E(!0,A)}finally{T?N():(k=!1,E=null)}}else k=!1}var N;if(typeof y=="function")N=function(){y(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,D=P.port2;P.port1.onmessage=O,N=function(){D.postMessage(null)}}else N=function(){b(O,0)};function M(A){E=A,k||(k=!0,N())}function $(A,T){_=b(function(){A(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,M(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var z=h;h=T;try{return A()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,T){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=h;h=A;try{return T()}finally{h=z}},e.unstable_scheduleCallback=function(A,T,z){var L=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?L+z:L):z=L,A){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=z+V,A={id:d++,callback:T,priorityLevel:A,startTime:z,expirationTime:V,sortIndex:-1},z>L?(A.sortIndex=z,t(u,A),n(c)===null&&A===n(u)&&(v?(x(_),_=-1):v=!0,$(j,z-L))):(A.sortIndex=V,t(c,A),w||p||(w=!0,M(S))),A},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(A){var T=h;return function(){var z=h;h=T;try{return A.apply(this,arguments)}finally{h=z}}}})(Ay);Ty.exports=Ay;var g_=Ty.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=m,Mt=g_;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ry=new Set,Si={};function _s(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(Si[e]=t,e=0;e<t.length;e++)Ry.add(t[e])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=Object.prototype.hasOwnProperty,y_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yp={},Jp={};function x_(e){return od.call(Jp,e)?!0:od.call(Yp,e)?!1:y_.test(e)?Jp[e]=!0:(Yp[e]=!0,!1)}function w_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b_(e,t,n,r){if(t===null||typeof t>"u"||w_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kf=/[\-:]([a-z])/g;function Yf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kf,Yf);it[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kf,Yf);it[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kf,Yf);it[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jf(e,t,n,r){var s=it.hasOwnProperty(t)?it[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b_(t,n,s,r)&&(n=null),r||s===null?x_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nr=v_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Xf=Symbol.for("react.strict_mode"),id=Symbol.for("react.profiler"),Oy=Symbol.for("react.provider"),Iy=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),ad=Symbol.for("react.suspense"),ld=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),Ly=Symbol.for("react.offscreen"),Xp=Symbol.iterator;function Vo(e){return e===null||typeof e!="object"?null:(e=Xp&&e[Xp]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,eu;function Zo(e){if(eu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eu=t&&t[1]||""}return`
`+eu+e}var tu=!1;function nu(e,t){if(!e||tu)return"";tu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{tu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zo(e):""}function j_(e){switch(e.tag){case 5:return Zo(e.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 2:case 15:return e=nu(e.type,!1),e;case 11:return e=nu(e.type.render,!1),e;case 1:return e=nu(e.type,!0),e;default:return""}}function cd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bs:return"Fragment";case Us:return"Portal";case id:return"Profiler";case Xf:return"StrictMode";case ad:return"Suspense";case ld:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Iy:return(e.displayName||"Context")+".Consumer";case Oy:return(e._context.displayName||"Context")+".Provider";case Qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zf:return t=e.displayName||null,t!==null?t:cd(e.type)||"Memo";case cr:t=e._payload,e=e._init;try{return cd(e(t))}catch{}}return null}function S_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cd(t);case 8:return t===Xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function My(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function __(e){var t=My(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ma(e){e._valueTracker||(e._valueTracker=__(e))}function Dy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=My(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ud(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $y(e,t){t=t.checked,t!=null&&Jf(e,"checked",t,!1)}function dd(e,t){$y(e,t);var n=Rr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fd(e,t.type,n):t.hasOwnProperty("defaultValue")&&fd(e,t.type,Rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fd(e,t,n){(t!=="number"||pl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ei=Array.isArray;function ro(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function em(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(ei(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rr(n)}}function Fy(e,t){var n=Rr(t.value),r=Rr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ga,Uy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C_=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(e){C_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ii[t]=ii[e]})});function By(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ii.hasOwnProperty(e)&&ii[e]?(""+t).trim():t+"px"}function zy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=By(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var E_=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function md(e,t){if(t){if(E_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function gd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=null;function eh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yd=null,so=null,oo=null;function nm(e){if(e=ea(e)){if(typeof yd!="function")throw Error(F(280));var t=e.stateNode;t&&(t=dc(t),yd(e.stateNode,e.type,t))}}function Wy(e){so?oo?oo.push(e):oo=[e]:so=e}function Hy(){if(so){var e=so,t=oo;if(oo=so=null,nm(e),t)for(e=0;e<t.length;e++)nm(t[e])}}function qy(e,t){return e(t)}function Gy(){}var ru=!1;function Ky(e,t,n){if(ru)return e(t,n);ru=!0;try{return qy(e,t,n)}finally{ru=!1,(so!==null||oo!==null)&&(Gy(),Hy())}}function Ci(e,t){var n=e.stateNode;if(n===null)return null;var r=dc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var xd=!1;if(Yn)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){xd=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{xd=!1}function k_(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ai=!1,ml=null,gl=!1,wd=null,N_={onError:function(e){ai=!0,ml=e}};function P_(e,t,n,r,s,o,i,l,c){ai=!1,ml=null,k_.apply(N_,arguments)}function T_(e,t,n,r,s,o,i,l,c){if(P_.apply(this,arguments),ai){if(ai){var u=ml;ai=!1,ml=null}else throw Error(F(198));gl||(gl=!0,wd=u)}}function Cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rm(e){if(Cs(e)!==e)throw Error(F(188))}function A_(e){var t=e.alternate;if(!t){if(t=Cs(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return rm(s),e;if(o===r)return rm(s),t;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Jy(e){return e=A_(e),e!==null?Xy(e):null}function Xy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xy(e);if(t!==null)return t;e=e.sibling}return null}var Qy=Mt.unstable_scheduleCallback,sm=Mt.unstable_cancelCallback,R_=Mt.unstable_shouldYield,O_=Mt.unstable_requestPaint,He=Mt.unstable_now,I_=Mt.unstable_getCurrentPriorityLevel,th=Mt.unstable_ImmediatePriority,Zy=Mt.unstable_UserBlockingPriority,vl=Mt.unstable_NormalPriority,L_=Mt.unstable_LowPriority,ex=Mt.unstable_IdlePriority,ac=null,kn=null;function M_(e){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(ac,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:F_,D_=Math.log,$_=Math.LN2;function F_(e){return e>>>=0,e===0?32:31-(D_(e)/$_|0)|0}var va=64,ya=4194304;function ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=ti(l):(o&=i,o!==0&&(r=ti(o)))}else i=n&~s,i!==0?r=ti(i):o!==0&&(r=ti(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-un(t),s=1<<n,r|=e[n],t&=~s;return r}function V_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-un(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=V_(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function bd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tx(){var e=va;return va<<=1,!(va&4194240)&&(va=64),e}function su(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=n}function B_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-un(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function nh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ce=0;function nx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rx,rh,sx,ox,ix,jd=!1,xa=[],wr=null,br=null,jr=null,Ei=new Map,ki=new Map,fr=[],z_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function om(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function Bo(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ea(t),t!==null&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function W_(e,t,n,r,s){switch(t){case"focusin":return wr=Bo(wr,e,t,n,r,s),!0;case"dragenter":return br=Bo(br,e,t,n,r,s),!0;case"mouseover":return jr=Bo(jr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ei.set(o,Bo(Ei.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ki.set(o,Bo(ki.get(o)||null,e,t,n,r,s)),!0}return!1}function ax(e){var t=ss(e.target);if(t!==null){var n=Cs(t);if(n!==null){if(t=n.tag,t===13){if(t=Yy(n),t!==null){e.blockedOn=t,ix(e.priority,function(){sx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vd=r,n.target.dispatchEvent(r),vd=null}else return t=ea(n),t!==null&&rh(t),e.blockedOn=n,!1;t.shift()}return!0}function im(e,t,n){Xa(e)&&n.delete(t)}function H_(){jd=!1,wr!==null&&Xa(wr)&&(wr=null),br!==null&&Xa(br)&&(br=null),jr!==null&&Xa(jr)&&(jr=null),Ei.forEach(im),ki.forEach(im)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,jd||(jd=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,H_)))}function Ni(e){function t(s){return zo(s,e)}if(0<xa.length){zo(xa[0],e);for(var n=1;n<xa.length;n++){var r=xa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wr!==null&&zo(wr,e),br!==null&&zo(br,e),jr!==null&&zo(jr,e),Ei.forEach(t),ki.forEach(t),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)ax(n),n.blockedOn===null&&fr.shift()}var io=nr.ReactCurrentBatchConfig,xl=!0;function q_(e,t,n,r){var s=Ce,o=io.transition;io.transition=null;try{Ce=1,sh(e,t,n,r)}finally{Ce=s,io.transition=o}}function G_(e,t,n,r){var s=Ce,o=io.transition;io.transition=null;try{Ce=4,sh(e,t,n,r)}finally{Ce=s,io.transition=o}}function sh(e,t,n,r){if(xl){var s=Sd(e,t,n,r);if(s===null)pu(e,t,r,wl,n),om(e,r);else if(W_(s,e,t,n,r))r.stopPropagation();else if(om(e,r),t&4&&-1<z_.indexOf(e)){for(;s!==null;){var o=ea(s);if(o!==null&&rx(o),o=Sd(e,t,n,r),o===null&&pu(e,t,r,wl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else pu(e,t,r,null,n)}}var wl=null;function Sd(e,t,n,r){if(wl=null,e=eh(r),e=ss(e),e!==null)if(t=Cs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wl=e,null}function lx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I_()){case th:return 1;case Zy:return 4;case vl:case L_:return 16;case ex:return 536870912;default:return 16}default:return 16}}var mr=null,oh=null,Qa=null;function cx(){if(Qa)return Qa;var e,t=oh,n=t.length,r,s="value"in mr?mr.value:mr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Qa=s.slice(e,1<r?1-r:void 0)}function Za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wa(){return!0}function am(){return!1}function Vt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wa:am,this.isPropagationStopped=am,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),t}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ih=Vt(ko),Zi=Ue({},ko,{view:0,detail:0}),K_=Vt(Zi),ou,iu,Wo,lc=Ue({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ah,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wo&&(Wo&&e.type==="mousemove"?(ou=e.screenX-Wo.screenX,iu=e.screenY-Wo.screenY):iu=ou=0,Wo=e),ou)},movementY:function(e){return"movementY"in e?e.movementY:iu}}),lm=Vt(lc),Y_=Ue({},lc,{dataTransfer:0}),J_=Vt(Y_),X_=Ue({},Zi,{relatedTarget:0}),au=Vt(X_),Q_=Ue({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),Z_=Vt(Q_),eC=Ue({},ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tC=Vt(eC),nC=Ue({},ko,{data:0}),cm=Vt(nC),rC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oC[e])?!!t[e]:!1}function ah(){return iC}var aC=Ue({},Zi,{key:function(e){if(e.key){var t=rC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ah,charCode:function(e){return e.type==="keypress"?Za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lC=Vt(aC),cC=Ue({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=Vt(cC),uC=Ue({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ah}),dC=Vt(uC),fC=Ue({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),hC=Vt(fC),pC=Ue({},lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mC=Vt(pC),gC=[9,13,27,32],lh=Yn&&"CompositionEvent"in window,li=null;Yn&&"documentMode"in document&&(li=document.documentMode);var vC=Yn&&"TextEvent"in window&&!li,ux=Yn&&(!lh||li&&8<li&&11>=li),dm=String.fromCharCode(32),fm=!1;function dx(e,t){switch(e){case"keyup":return gC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function yC(e,t){switch(e){case"compositionend":return fx(t);case"keypress":return t.which!==32?null:(fm=!0,dm);case"textInput":return e=t.data,e===dm&&fm?null:e;default:return null}}function xC(e,t){if(zs)return e==="compositionend"||!lh&&dx(e,t)?(e=cx(),Qa=oh=mr=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ux&&t.locale!=="ko"?null:t.data;default:return null}}var wC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wC[e.type]:t==="textarea"}function hx(e,t,n,r){Wy(r),t=bl(t,"onChange"),0<t.length&&(n=new ih("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ci=null,Pi=null;function bC(e){_x(e,0)}function cc(e){var t=qs(e);if(Dy(t))return e}function jC(e,t){if(e==="change")return t}var px=!1;if(Yn){var lu;if(Yn){var cu="oninput"in document;if(!cu){var pm=document.createElement("div");pm.setAttribute("oninput","return;"),cu=typeof pm.oninput=="function"}lu=cu}else lu=!1;px=lu&&(!document.documentMode||9<document.documentMode)}function mm(){ci&&(ci.detachEvent("onpropertychange",mx),Pi=ci=null)}function mx(e){if(e.propertyName==="value"&&cc(Pi)){var t=[];hx(t,Pi,e,eh(e)),Ky(bC,t)}}function SC(e,t,n){e==="focusin"?(mm(),ci=t,Pi=n,ci.attachEvent("onpropertychange",mx)):e==="focusout"&&mm()}function _C(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(Pi)}function CC(e,t){if(e==="click")return cc(t)}function EC(e,t){if(e==="input"||e==="change")return cc(t)}function kC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:kC;function Ti(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!od.call(t,s)||!mn(e[s],t[s]))return!1}return!0}function gm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vm(e,t){var n=gm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gm(n)}}function gx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vx(){for(var e=window,t=pl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NC(e){var t=vx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gx(n.ownerDocument.documentElement,n)){if(r!==null&&ch(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=vm(n,o);var i=vm(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PC=Yn&&"documentMode"in document&&11>=document.documentMode,Ws=null,_d=null,ui=null,Cd=!1;function ym(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cd||Ws==null||Ws!==pl(r)||(r=Ws,"selectionStart"in r&&ch(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ui&&Ti(ui,r)||(ui=r,r=bl(_d,"onSelect"),0<r.length&&(t=new ih("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ws)))}function ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hs={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},uu={},yx={};Yn&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function uc(e){if(uu[e])return uu[e];if(!Hs[e])return e;var t=Hs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yx)return uu[e]=t[n];return e}var xx=uc("animationend"),wx=uc("animationiteration"),bx=uc("animationstart"),jx=uc("transitionend"),Sx=new Map,xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(e,t){Sx.set(e,t),_s(t,[e])}for(var du=0;du<xm.length;du++){var fu=xm[du],TC=fu.toLowerCase(),AC=fu[0].toUpperCase()+fu.slice(1);$r(TC,"on"+AC)}$r(xx,"onAnimationEnd");$r(wx,"onAnimationIteration");$r(bx,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(jx,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function wm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,T_(r,t,void 0,e),e.currentTarget=null}function _x(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;wm(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;wm(s,l,u),o=c}}}if(gl)throw e=wd,gl=!1,wd=null,e}function Le(e,t){var n=t[Td];n===void 0&&(n=t[Td]=new Set);var r=e+"__bubble";n.has(r)||(Cx(t,e,2,!1),n.add(r))}function hu(e,t,n){var r=0;t&&(r|=4),Cx(n,e,r,t)}var ja="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[ja]){e[ja]=!0,Ry.forEach(function(n){n!=="selectionchange"&&(RC.has(n)||hu(n,!1,e),hu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ja]||(t[ja]=!0,hu("selectionchange",!1,t))}}function Cx(e,t,n,r){switch(lx(t)){case 1:var s=q_;break;case 4:s=G_;break;default:s=sh}n=s.bind(null,t,n,e),s=void 0,!xd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function pu(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ss(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Ky(function(){var u=o,d=eh(n),f=[];e:{var h=Sx.get(e);if(h!==void 0){var p=ih,w=e;switch(e){case"keypress":if(Za(n)===0)break e;case"keydown":case"keyup":p=lC;break;case"focusin":w="focus",p=au;break;case"focusout":w="blur",p=au;break;case"beforeblur":case"afterblur":p=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=J_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dC;break;case xx:case wx:case bx:p=Z_;break;case jx:p=hC;break;case"scroll":p=K_;break;case"wheel":p=mC;break;case"copy":case"cut":case"paste":p=tC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=um}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,g;y!==null;){g=y;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,x!==null&&(j=Ci(y,x),j!=null&&v.push(Ri(y,j,g)))),b)break;y=y.return}0<v.length&&(h=new p(h,w,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==vd&&(w=n.relatedTarget||n.fromElement)&&(ss(w)||w[Jn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?ss(w):null,w!==null&&(b=Cs(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(v=lm,j="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=um,j="onPointerLeave",x="onPointerEnter",y="pointer"),b=p==null?h:qs(p),g=w==null?h:qs(w),h=new v(j,y+"leave",p,n,d),h.target=b,h.relatedTarget=g,j=null,ss(d)===u&&(v=new v(x,y+"enter",w,n,d),v.target=g,v.relatedTarget=b,j=v),b=j,p&&w)t:{for(v=p,x=w,y=0,g=v;g;g=As(g))y++;for(g=0,j=x;j;j=As(j))g++;for(;0<y-g;)v=As(v),y--;for(;0<g-y;)x=As(x),g--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=As(v),x=As(x)}v=null}else v=null;p!==null&&bm(f,h,p,v,!1),w!==null&&b!==null&&bm(f,b,w,v,!0)}}e:{if(h=u?qs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=jC;else if(hm(h))if(px)S=EC;else{S=_C;var k=SC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=CC);if(S&&(S=S(e,u))){hx(f,S,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&fd(h,"number",h.value)}switch(k=u?qs(u):window,e){case"focusin":(hm(k)||k.contentEditable==="true")&&(Ws=k,_d=u,ui=null);break;case"focusout":ui=_d=Ws=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,ym(f,n,d);break;case"selectionchange":if(PC)break;case"keydown":case"keyup":ym(f,n,d)}var E;if(lh)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zs?dx(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ux&&n.locale!=="ko"&&(zs||_!=="onCompositionStart"?_==="onCompositionEnd"&&zs&&(E=cx()):(mr=d,oh="value"in mr?mr.value:mr.textContent,zs=!0)),k=bl(u,_),0<k.length&&(_=new cm(_,e,null,n,d),f.push({event:_,listeners:k}),E?_.data=E:(E=fx(n),E!==null&&(_.data=E)))),(E=vC?yC(e,n):xC(e,n))&&(u=bl(u,"onBeforeInput"),0<u.length&&(d=new cm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}_x(f,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ci(e,n),o!=null&&r.unshift(Ri(e,o,s)),o=Ci(e,t),o!=null&&r.push(Ri(e,o,s))),e=e.return}return r}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bm(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ci(n,o),c!=null&&i.unshift(Ri(n,c,l))):s||(c=Ci(n,o),c!=null&&i.push(Ri(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var OC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function jm(e){return(typeof e=="string"?e:""+e).replace(OC,`
`).replace(IC,"")}function Sa(e,t,n){if(t=jm(t),jm(e)!==t&&n)throw Error(F(425))}function jl(){}var Ed=null,kd=null;function Nd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pd=typeof setTimeout=="function"?setTimeout:void 0,LC=typeof clearTimeout=="function"?clearTimeout:void 0,Sm=typeof Promise=="function"?Promise:void 0,MC=typeof queueMicrotask=="function"?queueMicrotask:typeof Sm<"u"?function(e){return Sm.resolve(null).then(e).catch(DC)}:Pd;function DC(e){setTimeout(function(){throw e})}function mu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ni(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ni(t)}function Sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var No=Math.random().toString(36).slice(2),_n="__reactFiber$"+No,Oi="__reactProps$"+No,Jn="__reactContainer$"+No,Td="__reactEvents$"+No,$C="__reactListeners$"+No,FC="__reactHandles$"+No;function ss(e){var t=e[_n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[_n]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_m(e);e!==null;){if(n=e[_n])return n;e=_m(e)}return t}e=n,n=e.parentNode}return null}function ea(e){return e=e[_n]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function dc(e){return e[Oi]||null}var Ad=[],Gs=-1;function Fr(e){return{current:e}}function Me(e){0>Gs||(e.current=Ad[Gs],Ad[Gs]=null,Gs--)}function Ne(e,t){Gs++,Ad[Gs]=e.current,e.current=t}var Or={},ft=Fr(Or),Ct=Fr(!1),hs=Or;function po(e,t){var n=e.type.contextTypes;if(!n)return Or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Et(e){return e=e.childContextTypes,e!=null}function Sl(){Me(Ct),Me(ft)}function Cm(e,t,n){if(ft.current!==Or)throw Error(F(168));Ne(ft,t),Ne(Ct,n)}function Ex(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,S_(e)||"Unknown",s));return Ue({},n,r)}function _l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,hs=ft.current,Ne(ft,e),Ne(Ct,Ct.current),!0}function Em(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Ex(e,t,hs),r.__reactInternalMemoizedMergedChildContext=e,Me(Ct),Me(ft),Ne(ft,e)):Me(Ct),Ne(Ct,n)}var Bn=null,fc=!1,gu=!1;function kx(e){Bn===null?Bn=[e]:Bn.push(e)}function VC(e){fc=!0,kx(e)}function Vr(){if(!gu&&Bn!==null){gu=!0;var e=0,t=Ce;try{var n=Bn;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bn=null,fc=!1}catch(s){throw Bn!==null&&(Bn=Bn.slice(e+1)),Qy(th,Vr),s}finally{Ce=t,gu=!1}}return null}var Ks=[],Ys=0,Cl=null,El=0,zt=[],Wt=0,ps=null,zn=1,Wn="";function Xr(e,t){Ks[Ys++]=El,Ks[Ys++]=Cl,Cl=e,El=t}function Nx(e,t,n){zt[Wt++]=zn,zt[Wt++]=Wn,zt[Wt++]=ps,ps=e;var r=zn;e=Wn;var s=32-un(r)-1;r&=~(1<<s),n+=1;var o=32-un(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,zn=1<<32-un(t)+s|n<<s|r,Wn=o+e}else zn=1<<o|n<<s|r,Wn=e}function uh(e){e.return!==null&&(Xr(e,1),Nx(e,1,0))}function dh(e){for(;e===Cl;)Cl=Ks[--Ys],Ks[Ys]=null,El=Ks[--Ys],Ks[Ys]=null;for(;e===ps;)ps=zt[--Wt],zt[Wt]=null,Wn=zt[--Wt],zt[Wt]=null,zn=zt[--Wt],zt[Wt]=null}var Ot=null,Rt=null,De=!1,cn=null;function Px(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function km(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Rt=Sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ps!==null?{id:zn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Rt=null,!0):!1;default:return!1}}function Rd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Od(e){if(De){var t=Rt;if(t){var n=t;if(!km(e,t)){if(Rd(e))throw Error(F(418));t=Sr(n.nextSibling);var r=Ot;t&&km(e,t)?Px(r,n):(e.flags=e.flags&-4097|2,De=!1,Ot=e)}}else{if(Rd(e))throw Error(F(418));e.flags=e.flags&-4097|2,De=!1,Ot=e}}}function Nm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function _a(e){if(e!==Ot)return!1;if(!De)return Nm(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nd(e.type,e.memoizedProps)),t&&(t=Rt)){if(Rd(e))throw Tx(),Error(F(418));for(;t;)Px(e,t),t=Sr(t.nextSibling)}if(Nm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rt=Sr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Ot?Sr(e.stateNode.nextSibling):null;return!0}function Tx(){for(var e=Rt;e;)e=Sr(e.nextSibling)}function mo(){Rt=Ot=null,De=!1}function fh(e){cn===null?cn=[e]:cn.push(e)}var UC=nr.ReactCurrentBatchConfig;function Ho(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Ca(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pm(e){var t=e._init;return t(e._payload)}function Ax(e){function t(x,y){if(e){var g=x.deletions;g===null?(x.deletions=[y],x.flags|=16):g.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=kr(x,y),x.index=0,x.sibling=null,x}function o(x,y,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<y?(x.flags|=2,y):g):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,g,j){return y===null||y.tag!==6?(y=Su(g,x.mode,j),y.return=x,y):(y=s(y,g),y.return=x,y)}function c(x,y,g,j){var S=g.type;return S===Bs?d(x,y,g.props.children,j,g.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===cr&&Pm(S)===y.type)?(j=s(y,g.props),j.ref=Ho(x,y,g),j.return=x,j):(j=il(g.type,g.key,g.props,null,x.mode,j),j.ref=Ho(x,y,g),j.return=x,j)}function u(x,y,g,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=_u(g,x.mode,j),y.return=x,y):(y=s(y,g.children||[]),y.return=x,y)}function d(x,y,g,j,S){return y===null||y.tag!==7?(y=us(g,x.mode,j,S),y.return=x,y):(y=s(y,g),y.return=x,y)}function f(x,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Su(""+y,x.mode,g),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pa:return g=il(y.type,y.key,y.props,null,x.mode,g),g.ref=Ho(x,null,y),g.return=x,g;case Us:return y=_u(y,x.mode,g),y.return=x,y;case cr:var j=y._init;return f(x,j(y._payload),g)}if(ei(y)||Vo(y))return y=us(y,x.mode,g,null),y.return=x,y;Ca(x,y)}return null}function h(x,y,g,j){var S=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(x,y,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pa:return g.key===S?c(x,y,g,j):null;case Us:return g.key===S?u(x,y,g,j):null;case cr:return S=g._init,h(x,y,S(g._payload),j)}if(ei(g)||Vo(g))return S!==null?null:d(x,y,g,j,null);Ca(x,g)}return null}function p(x,y,g,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(g)||null,l(y,x,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case pa:return x=x.get(j.key===null?g:j.key)||null,c(y,x,j,S);case Us:return x=x.get(j.key===null?g:j.key)||null,u(y,x,j,S);case cr:var k=j._init;return p(x,y,g,k(j._payload),S)}if(ei(j)||Vo(j))return x=x.get(g)||null,d(y,x,j,S,null);Ca(y,j)}return null}function w(x,y,g,j){for(var S=null,k=null,E=y,_=y=0,C=null;E!==null&&_<g.length;_++){E.index>_?(C=E,E=null):C=E.sibling;var R=h(x,E,g[_],j);if(R===null){E===null&&(E=C);break}e&&E&&R.alternate===null&&t(x,E),y=o(R,y,_),k===null?S=R:k.sibling=R,k=R,E=C}if(_===g.length)return n(x,E),De&&Xr(x,_),S;if(E===null){for(;_<g.length;_++)E=f(x,g[_],j),E!==null&&(y=o(E,y,_),k===null?S=E:k.sibling=E,k=E);return De&&Xr(x,_),S}for(E=r(x,E);_<g.length;_++)C=p(E,x,_,g[_],j),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?_:C.key),y=o(C,y,_),k===null?S=C:k.sibling=C,k=C);return e&&E.forEach(function(I){return t(x,I)}),De&&Xr(x,_),S}function v(x,y,g,j){var S=Vo(g);if(typeof S!="function")throw Error(F(150));if(g=S.call(g),g==null)throw Error(F(151));for(var k=S=null,E=y,_=y=0,C=null,R=g.next();E!==null&&!R.done;_++,R=g.next()){E.index>_?(C=E,E=null):C=E.sibling;var I=h(x,E,R.value,j);if(I===null){E===null&&(E=C);break}e&&E&&I.alternate===null&&t(x,E),y=o(I,y,_),k===null?S=I:k.sibling=I,k=I,E=C}if(R.done)return n(x,E),De&&Xr(x,_),S;if(E===null){for(;!R.done;_++,R=g.next())R=f(x,R.value,j),R!==null&&(y=o(R,y,_),k===null?S=R:k.sibling=R,k=R);return De&&Xr(x,_),S}for(E=r(x,E);!R.done;_++,R=g.next())R=p(E,x,_,R.value,j),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?_:R.key),y=o(R,y,_),k===null?S=R:k.sibling=R,k=R);return e&&E.forEach(function(O){return t(x,O)}),De&&Xr(x,_),S}function b(x,y,g,j){if(typeof g=="object"&&g!==null&&g.type===Bs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case pa:e:{for(var S=g.key,k=y;k!==null;){if(k.key===S){if(S=g.type,S===Bs){if(k.tag===7){n(x,k.sibling),y=s(k,g.props.children),y.return=x,x=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===cr&&Pm(S)===k.type){n(x,k.sibling),y=s(k,g.props),y.ref=Ho(x,k,g),y.return=x,x=y;break e}n(x,k);break}else t(x,k);k=k.sibling}g.type===Bs?(y=us(g.props.children,x.mode,j,g.key),y.return=x,x=y):(j=il(g.type,g.key,g.props,null,x.mode,j),j.ref=Ho(x,y,g),j.return=x,x=j)}return i(x);case Us:e:{for(k=g.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(x,y.sibling),y=s(y,g.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=_u(g,x.mode,j),y.return=x,x=y}return i(x);case cr:return k=g._init,b(x,y,k(g._payload),j)}if(ei(g))return w(x,y,g,j);if(Vo(g))return v(x,y,g,j);Ca(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,g),y.return=x,x=y):(n(x,y),y=Su(g,x.mode,j),y.return=x,x=y),i(x)):n(x,y)}return b}var go=Ax(!0),Rx=Ax(!1),kl=Fr(null),Nl=null,Js=null,hh=null;function ph(){hh=Js=Nl=null}function mh(e){var t=kl.current;Me(kl),e._currentValue=t}function Id(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ao(e,t){Nl=e,hh=Js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(hh!==e)if(e={context:e,memoizedValue:t,next:null},Js===null){if(Nl===null)throw Error(F(308));Js=e,Nl.dependencies={lanes:0,firstContext:e}}else Js=Js.next=e;return t}var os=null;function gh(e){os===null?os=[e]:os.push(e)}function Ox(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,gh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Xn(e,r)}function Xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ur=!1;function vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ix(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Xn(e,n)}return s=r.interleaved,s===null?(t.next=t,gh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Xn(e,n)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nh(e,n)}}function Tm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pl(e,t,n,r){var s=e.updateQueue;ur=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(h=t,p=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=Ue({},f,h);break e;case 2:ur=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);gs|=i,e.lanes=i,e.memoizedState=f}}function Am(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var ta={},Nn=Fr(ta),Ii=Fr(ta),Li=Fr(ta);function is(e){if(e===ta)throw Error(F(174));return e}function yh(e,t){switch(Ne(Li,t),Ne(Ii,e),Ne(Nn,ta),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pd(t,e)}Me(Nn),Ne(Nn,t)}function vo(){Me(Nn),Me(Ii),Me(Li)}function Lx(e){is(Li.current);var t=is(Nn.current),n=pd(t,e.type);t!==n&&(Ne(Ii,e),Ne(Nn,n))}function xh(e){Ii.current===e&&(Me(Nn),Me(Ii))}var $e=Fr(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vu=[];function wh(){for(var e=0;e<vu.length;e++)vu[e]._workInProgressVersionPrimary=null;vu.length=0}var tl=nr.ReactCurrentDispatcher,yu=nr.ReactCurrentBatchConfig,ms=0,Ve=null,Ye=null,et=null,Al=!1,di=!1,Mi=0,BC=0;function lt(){throw Error(F(321))}function bh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function jh(e,t,n,r,s,o){if(ms=o,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?qC:GC,e=n(r,s),di){o=0;do{if(di=!1,Mi=0,25<=o)throw Error(F(301));o+=1,et=Ye=null,t.updateQueue=null,tl.current=KC,e=n(r,s)}while(di)}if(tl.current=Rl,t=Ye!==null&&Ye.next!==null,ms=0,et=Ye=Ve=null,Al=!1,t)throw Error(F(300));return e}function Sh(){var e=Mi!==0;return Mi=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ve.memoizedState=et=e:et=et.next=e,et}function Yt(){if(Ye===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=et===null?Ve.memoizedState:et.next;if(t!==null)et=t,Ye=e;else{if(e===null)throw Error(F(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},et===null?Ve.memoizedState=et=e:et=et.next=e}return et}function Di(e,t){return typeof t=="function"?t(e):t}function xu(e){var t=Yt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Ye,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((ms&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Ve.lanes|=d,gs|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,mn(r,t.memoizedState)||(_t=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ve.lanes|=o,gs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wu(e){var t=Yt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);mn(o,t.memoizedState)||(_t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mx(){}function Dx(e,t){var n=Ve,r=Yt(),s=t(),o=!mn(r.memoizedState,s);if(o&&(r.memoizedState=s,_t=!0),r=r.queue,_h(Vx.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,$i(9,Fx.bind(null,n,r,s,t),void 0,null),tt===null)throw Error(F(349));ms&30||$x(n,t,s)}return s}function $x(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fx(e,t,n,r){t.value=n,t.getSnapshot=r,Ux(t)&&Bx(e)}function Vx(e,t,n){return n(function(){Ux(t)&&Bx(e)})}function Ux(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function Bx(e){var t=Xn(e,1);t!==null&&dn(t,e,1,-1)}function Rm(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=HC.bind(null,Ve,e),[t.memoizedState,e]}function $i(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zx(){return Yt().memoizedState}function nl(e,t,n,r){var s=Sn();Ve.flags|=e,s.memoizedState=$i(1|t,n,void 0,r===void 0?null:r)}function hc(e,t,n,r){var s=Yt();r=r===void 0?null:r;var o=void 0;if(Ye!==null){var i=Ye.memoizedState;if(o=i.destroy,r!==null&&bh(r,i.deps)){s.memoizedState=$i(t,n,o,r);return}}Ve.flags|=e,s.memoizedState=$i(1|t,n,o,r)}function Om(e,t){return nl(8390656,8,e,t)}function _h(e,t){return hc(2048,8,e,t)}function Wx(e,t){return hc(4,2,e,t)}function Hx(e,t){return hc(4,4,e,t)}function qx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gx(e,t,n){return n=n!=null?n.concat([e]):null,hc(4,4,qx.bind(null,t,e),n)}function Ch(){}function Kx(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yx(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jx(e,t,n){return ms&21?(mn(n,t)||(n=tx(),Ve.lanes|=n,gs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=n)}function zC(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=yu.transition;yu.transition={};try{e(!1),t()}finally{Ce=n,yu.transition=r}}function Xx(){return Yt().memoizedState}function WC(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qx(e))Zx(t,n);else if(n=Ox(e,t,n,r),n!==null){var s=gt();dn(n,e,r,s),e0(n,t,r)}}function HC(e,t,n){var r=Er(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qx(e))Zx(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,mn(l,i)){var c=t.interleaved;c===null?(s.next=s,gh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Ox(e,t,s,r),n!==null&&(s=gt(),dn(n,e,r,s),e0(n,t,r))}}function Qx(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function Zx(e,t){di=Al=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function e0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nh(e,n)}}var Rl={readContext:Kt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},qC={readContext:Kt,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Om,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nl(4194308,4,qx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=Sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=WC.bind(null,Ve,e),[r.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:Rm,useDebugValue:Ch,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=Rm(!1),t=e[0];return e=zC.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ve,s=Sn();if(De){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),tt===null)throw Error(F(349));ms&30||$x(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Om(Vx.bind(null,r,o,e),[e]),r.flags|=2048,$i(9,Fx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Sn(),t=tt.identifierPrefix;if(De){var n=Wn,r=zn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=BC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GC={readContext:Kt,useCallback:Kx,useContext:Kt,useEffect:_h,useImperativeHandle:Gx,useInsertionEffect:Wx,useLayoutEffect:Hx,useMemo:Yx,useReducer:xu,useRef:zx,useState:function(){return xu(Di)},useDebugValue:Ch,useDeferredValue:function(e){var t=Yt();return Jx(t,Ye.memoizedState,e)},useTransition:function(){var e=xu(Di)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Mx,useSyncExternalStore:Dx,useId:Xx,unstable_isNewReconciler:!1},KC={readContext:Kt,useCallback:Kx,useContext:Kt,useEffect:_h,useImperativeHandle:Gx,useInsertionEffect:Wx,useLayoutEffect:Hx,useMemo:Yx,useReducer:wu,useRef:zx,useState:function(){return wu(Di)},useDebugValue:Ch,useDeferredValue:function(e){var t=Yt();return Ye===null?t.memoizedState=e:Jx(t,Ye.memoizedState,e)},useTransition:function(){var e=wu(Di)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Mx,useSyncExternalStore:Dx,useId:Xx,unstable_isNewReconciler:!1};function sn(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ld(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pc={isMounted:function(e){return(e=e._reactInternals)?Cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),s=Er(e),o=qn(r,s);o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,s),t!==null&&(dn(t,e,s,r),el(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),s=Er(e),o=qn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,s),t!==null&&(dn(t,e,s,r),el(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=Er(e),s=qn(n,r);s.tag=2,t!=null&&(s.callback=t),t=_r(e,s,r),t!==null&&(dn(t,e,r,n),el(t,e,r))}};function Im(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ti(n,r)||!Ti(s,o):!0}function t0(e,t,n){var r=!1,s=Or,o=t.contextType;return typeof o=="object"&&o!==null?o=Kt(o):(s=Et(t)?hs:ft.current,r=t.contextTypes,o=(r=r!=null)?po(e,s):Or),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Lm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pc.enqueueReplaceState(t,t.state,null)}function Md(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},vh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Kt(o):(o=Et(t)?hs:ft.current,s.context=po(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ld(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pc.enqueueReplaceState(s,s.state,null),Pl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t){try{var n="",r=t;do n+=j_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function bu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Dd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var YC=typeof WeakMap=="function"?WeakMap:Map;function n0(e,t,n){n=qn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Il||(Il=!0,Gd=r),Dd(e,t)},n}function r0(e,t,n){n=qn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Dd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Dd(e,t),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Mm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new YC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cE.bind(null,e,t,n),t.then(e,e))}function Dm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $m(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var JC=nr.ReactCurrentOwner,_t=!1;function mt(e,t,n,r){t.child=e===null?Rx(t,null,n,r):go(t,e.child,n,r)}function Fm(e,t,n,r,s){n=n.render;var o=t.ref;return ao(t,s),r=jh(e,t,n,r,o,s),n=Sh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qn(e,t,s)):(De&&n&&uh(t),t.flags|=1,mt(e,t,r,s),t.child)}function Vm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Oh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,s0(e,t,o,r,s)):(e=il(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ti,n(i,r)&&e.ref===t.ref)return Qn(e,t,s)}return t.flags|=1,e=kr(o,r),e.ref=t.ref,e.return=t,t.child=e}function s0(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ti(o,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,Qn(e,t,s)}return $d(e,t,n,r,s)}function o0(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Qs,Tt),Tt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Qs,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(Qs,Tt),Tt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ne(Qs,Tt),Tt|=r;return mt(e,t,s,n),t.child}function i0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $d(e,t,n,r,s){var o=Et(n)?hs:ft.current;return o=po(t,o),ao(t,s),n=jh(e,t,n,r,o,s),r=Sh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qn(e,t,s)):(De&&r&&uh(t),t.flags|=1,mt(e,t,n,s),t.child)}function Um(e,t,n,r,s){if(Et(n)){var o=!0;_l(t)}else o=!1;if(ao(t,s),t.stateNode===null)rl(e,t),t0(t,n,r),Md(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kt(u):(u=Et(n)?hs:ft.current,u=po(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Lm(t,i,r,u),ur=!1;var h=t.memoizedState;i.state=h,Pl(t,r,i,s),c=t.memoizedState,l!==r||h!==c||Ct.current||ur?(typeof d=="function"&&(Ld(t,n,d,r),c=t.memoizedState),(l=ur||Im(t,n,l,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ix(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:sn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kt(c):(c=Et(n)?hs:ft.current,c=po(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Lm(t,i,r,c),ur=!1,h=t.memoizedState,i.state=h,Pl(t,r,i,s);var w=t.memoizedState;l!==f||h!==w||Ct.current||ur?(typeof p=="function"&&(Ld(t,n,p,r),w=t.memoizedState),(u=ur||Im(t,n,u,r,h,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Fd(e,t,n,r,o,s)}function Fd(e,t,n,r,s,o){i0(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Em(t,n,!1),Qn(e,t,o);r=t.stateNode,JC.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=go(t,e.child,null,o),t.child=go(t,null,l,o)):mt(e,t,l,o),t.memoizedState=r.state,s&&Em(t,n,!0),t.child}function a0(e){var t=e.stateNode;t.pendingContext?Cm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cm(e,t.context,!1),yh(e,t.containerInfo)}function Bm(e,t,n,r,s){return mo(),fh(s),t.flags|=256,mt(e,t,n,r),t.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function l0(e,t,n){var r=t.pendingProps,s=$e.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne($e,s&1),e===null)return Od(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=vc(i,r,0,null),e=us(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ud(n),t.memoizedState=Vd,e):Eh(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return XC(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=kr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=kr(l,o):(o=us(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Ud(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Vd,r}return o=e.child,e=o.sibling,r=kr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Eh(e,t){return t=vc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ea(e,t,n,r){return r!==null&&fh(r),go(t,e.child,null,n),e=Eh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function XC(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=bu(Error(F(422))),Ea(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=vc({mode:"visible",children:r.children},s,0,null),o=us(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&go(t,e.child,null,i),t.child.memoizedState=Ud(i),t.memoizedState=Vd,o);if(!(t.mode&1))return Ea(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(F(419)),r=bu(o,r,void 0),Ea(e,t,i,r)}if(l=(i&e.childLanes)!==0,_t||l){if(r=tt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Xn(e,s),dn(r,e,s,-1))}return Rh(),r=bu(Error(F(421))),Ea(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=uE.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Rt=Sr(s.nextSibling),Ot=t,De=!0,cn=null,e!==null&&(zt[Wt++]=zn,zt[Wt++]=Wn,zt[Wt++]=ps,zn=e.id,Wn=e.overflow,ps=t),t=Eh(t,r.children),t.flags|=4096,t)}function zm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Id(e.return,t,n)}function ju(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function c0(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(mt(e,t,r.children,n),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zm(e,n,t);else if(e.tag===19)zm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne($e,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Tl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ju(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Tl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ju(t,!0,n,null,o);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=kr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function QC(e,t,n){switch(t.tag){case 3:a0(t),mo();break;case 5:Lx(t);break;case 1:Et(t.type)&&_l(t);break;case 4:yh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ne(kl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?l0(e,t,n):(Ne($e,$e.current&1),e=Qn(e,t,n),e!==null?e.sibling:null);Ne($e,$e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return c0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,o0(e,t,n)}return Qn(e,t,n)}var u0,Bd,d0,f0;u0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bd=function(){};d0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,is(Nn.current);var o=null;switch(n){case"input":s=ud(e,s),r=ud(e,r),o=[];break;case"select":s=Ue({},s,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":s=hd(e,s),r=hd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jl)}md(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Si.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Si.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};f0=function(e,t,n,r){n!==r&&(t.flags|=4)};function qo(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ZC(e,t,n){var r=t.pendingProps;switch(dh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Et(t.type)&&Sl(),ct(t),null;case 3:return r=t.stateNode,vo(),Me(Ct),Me(ft),wh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_a(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(Jd(cn),cn=null))),Bd(e,t),ct(t),null;case 5:xh(t);var s=is(Li.current);if(n=t.type,e!==null&&t.stateNode!=null)d0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return ct(t),null}if(e=is(Nn.current),_a(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[_n]=t,r[Oi]=o,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<ni.length;s++)Le(ni[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Qp(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":em(r,o),Le("invalid",r)}md(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Sa(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Sa(r.textContent,l,e),s=["children",""+l]):Si.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Le("scroll",r)}switch(n){case"input":ma(r),Zp(r,o,!0);break;case"textarea":ma(r),tm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[_n]=t,e[Oi]=r,u0(e,t,!1,!1),t.stateNode=e;e:{switch(i=gd(n,r),n){case"dialog":Le("cancel",e),Le("close",e),s=r;break;case"iframe":case"object":case"embed":Le("load",e),s=r;break;case"video":case"audio":for(s=0;s<ni.length;s++)Le(ni[s],e);s=r;break;case"source":Le("error",e),s=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=r;break;case"details":Le("toggle",e),s=r;break;case"input":Qp(e,r),s=ud(e,r),Le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ue({},r,{value:void 0}),Le("invalid",e);break;case"textarea":em(e,r),s=hd(e,r),Le("invalid",e);break;default:s=r}md(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?zy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Uy(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_i(e,c):typeof c=="number"&&_i(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Si.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Le("scroll",e):c!=null&&Jf(e,o,c,i))}switch(n){case"input":ma(e),Zp(e,r,!1);break;case"textarea":ma(e),tm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ro(e,!!r.multiple,o,!1):r.defaultValue!=null&&ro(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)f0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=is(Li.current),is(Nn.current),_a(t)){if(r=t.stateNode,n=t.memoizedProps,r[_n]=t,(o=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:Sa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=t,t.stateNode=r}return ct(t),null;case 13:if(Me($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Rt!==null&&t.mode&1&&!(t.flags&128))Tx(),mo(),t.flags|=98560,o=!1;else if(o=_a(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[_n]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),o=!1}else cn!==null&&(Jd(cn),cn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?Je===0&&(Je=3):Rh())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return vo(),Bd(e,t),e===null&&Ai(t.stateNode.containerInfo),ct(t),null;case 10:return mh(t.type._context),ct(t),null;case 17:return Et(t.type)&&Sl(),ct(t),null;case 19:if(Me($e),o=t.memoizedState,o===null)return ct(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)qo(o,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Tl(e),i!==null){for(t.flags|=128,qo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne($e,$e.current&1|2),t.child}e=e.sibling}o.tail!==null&&He()>xo&&(t.flags|=128,r=!0,qo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Tl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!De)return ct(t),null}else 2*He()-o.renderingStartTime>xo&&n!==1073741824&&(t.flags|=128,r=!0,qo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=He(),t.sibling=null,n=$e.current,Ne($e,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return Ah(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function eE(e,t){switch(dh(t),t.tag){case 1:return Et(t.type)&&Sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vo(),Me(Ct),Me(ft),wh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xh(t),null;case 13:if(Me($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me($e),null;case 4:return vo(),null;case 10:return mh(t.type._context),null;case 22:case 23:return Ah(),null;case 24:return null;default:return null}}var ka=!1,dt=!1,tE=typeof WeakSet=="function"?WeakSet:Set,G=null;function Xs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function zd(e,t,n){try{n()}catch(r){Be(e,t,r)}}var Wm=!1;function nE(e,t){if(Ed=xl,e=vx(),ch(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=i),h===o&&++d===r&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kd={focusedElem:e,selectionRange:n},xl=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:sn(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){Be(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return w=Wm,Wm=!1,w}function fi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&zd(t,n,o)}s=s.next}while(s!==r)}}function mc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function h0(e){var t=e.alternate;t!==null&&(e.alternate=null,h0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_n],delete t[Oi],delete t[Td],delete t[$C],delete t[FC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function p0(e){return e.tag===5||e.tag===3||e.tag===4}function Hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jl));else if(r!==4&&(e=e.child,e!==null))for(Hd(e,t,n),e=e.sibling;e!==null;)Hd(e,t,n),e=e.sibling}function qd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qd(e,t,n),e=e.sibling;e!==null;)qd(e,t,n),e=e.sibling}var st=null,an=!1;function sr(e,t,n){for(n=n.child;n!==null;)m0(e,t,n),n=n.sibling}function m0(e,t,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 5:dt||Xs(n,t);case 6:var r=st,s=an;st=null,sr(e,t,n),st=r,an=s,st!==null&&(an?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(an?(e=st,n=n.stateNode,e.nodeType===8?mu(e.parentNode,n):e.nodeType===1&&mu(e,n),Ni(e)):mu(st,n.stateNode));break;case 4:r=st,s=an,st=n.stateNode.containerInfo,an=!0,sr(e,t,n),st=r,an=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&zd(n,t,i),s=s.next}while(s!==r)}sr(e,t,n);break;case 1:if(!dt&&(Xs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Be(n,t,l)}sr(e,t,n);break;case 21:sr(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,sr(e,t,n),dt=r):sr(e,t,n);break;default:sr(e,t,n)}}function qm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tE),t.forEach(function(r){var s=dE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:st=l.stateNode,an=!1;break e;case 3:st=l.stateNode.containerInfo,an=!0;break e;case 4:st=l.stateNode.containerInfo,an=!0;break e}l=l.return}if(st===null)throw Error(F(160));m0(o,i,s),st=null,an=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Be(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)g0(t,e),t=t.sibling}function g0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),jn(e),r&4){try{fi(3,e,e.return),mc(3,e)}catch(v){Be(e,e.return,v)}try{fi(5,e,e.return)}catch(v){Be(e,e.return,v)}}break;case 1:Zt(t,e),jn(e),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(Zt(t,e),jn(e),r&512&&n!==null&&Xs(n,n.return),e.flags&32){var s=e.stateNode;try{_i(s,"")}catch(v){Be(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&$y(s,o),gd(l,i);var u=gd(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?zy(s,f):d==="dangerouslySetInnerHTML"?Uy(s,f):d==="children"?_i(s,f):Jf(s,d,f,u)}switch(l){case"input":dd(s,o);break;case"textarea":Fy(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ro(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ro(s,!!o.multiple,o.defaultValue,!0):ro(s,!!o.multiple,o.multiple?[]:"",!1))}s[Oi]=o}catch(v){Be(e,e.return,v)}}break;case 6:if(Zt(t,e),jn(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){Be(e,e.return,v)}}break;case 3:if(Zt(t,e),jn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ni(t.containerInfo)}catch(v){Be(e,e.return,v)}break;case 4:Zt(t,e),jn(e);break;case 13:Zt(t,e),jn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ph=He())),r&4&&qm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||d,Zt(t,e),dt=u):Zt(t,e),jn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(f=G=d;G!==null;){switch(h=G,p=h.child,h.tag){case 0:case 11:case 14:case 15:fi(4,h,h.return);break;case 1:Xs(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Be(r,n,v)}}break;case 5:Xs(h,h.return);break;case 22:if(h.memoizedState!==null){Km(f);continue}}p!==null?(p.return=h,G=p):Km(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=By("display",i))}catch(v){Be(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Be(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zt(t,e),jn(e),r&4&&qm(e);break;case 21:break;default:Zt(t,e),jn(e)}}function jn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(p0(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_i(s,""),r.flags&=-33);var o=Hm(e);qd(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Hm(e);Hd(e,l,i);break;default:throw Error(F(161))}}catch(c){Be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rE(e,t,n){G=e,v0(e)}function v0(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ka;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||dt;l=ka;var u=dt;if(ka=i,(dt=c)&&!u)for(G=s;G!==null;)i=G,c=i.child,i.tag===22&&i.memoizedState!==null?Ym(s):c!==null?(c.return=i,G=c):Ym(s);for(;o!==null;)G=o,v0(o),o=o.sibling;G=s,ka=l,dt=u}Gm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,G=o):Gm(e)}}function Gm(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||mc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:sn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Am(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Am(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ni(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}dt||t.flags&512&&Wd(t)}catch(h){Be(t,t.return,h)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Km(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Ym(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mc(4,t)}catch(c){Be(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Be(t,s,c)}}var o=t.return;try{Wd(t)}catch(c){Be(t,o,c)}break;case 5:var i=t.return;try{Wd(t)}catch(c){Be(t,i,c)}}}catch(c){Be(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var sE=Math.ceil,Ol=nr.ReactCurrentDispatcher,kh=nr.ReactCurrentOwner,qt=nr.ReactCurrentBatchConfig,we=0,tt=null,Ke=null,ot=0,Tt=0,Qs=Fr(0),Je=0,Fi=null,gs=0,gc=0,Nh=0,hi=null,jt=null,Ph=0,xo=1/0,Fn=null,Il=!1,Gd=null,Cr=null,Na=!1,gr=null,Ll=0,pi=0,Kd=null,sl=-1,ol=0;function gt(){return we&6?He():sl!==-1?sl:sl=He()}function Er(e){return e.mode&1?we&2&&ot!==0?ot&-ot:UC.transition!==null?(ol===0&&(ol=tx()),ol):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:lx(e.type)),e):1}function dn(e,t,n,r){if(50<pi)throw pi=0,Kd=null,Error(F(185));Qi(e,n,r),(!(we&2)||e!==tt)&&(e===tt&&(!(we&2)&&(gc|=n),Je===4&&hr(e,ot)),kt(e,r),n===1&&we===0&&!(t.mode&1)&&(xo=He()+500,fc&&Vr()))}function kt(e,t){var n=e.callbackNode;U_(e,t);var r=yl(e,e===tt?ot:0);if(r===0)n!==null&&sm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sm(n),t===1)e.tag===0?VC(Jm.bind(null,e)):kx(Jm.bind(null,e)),MC(function(){!(we&6)&&Vr()}),n=null;else{switch(nx(r)){case 1:n=th;break;case 4:n=Zy;break;case 16:n=vl;break;case 536870912:n=ex;break;default:n=vl}n=C0(n,y0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function y0(e,t){if(sl=-1,ol=0,we&6)throw Error(F(327));var n=e.callbackNode;if(lo()&&e.callbackNode!==n)return null;var r=yl(e,e===tt?ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ml(e,r);else{t=r;var s=we;we|=2;var o=w0();(tt!==e||ot!==t)&&(Fn=null,xo=He()+500,cs(e,t));do try{aE();break}catch(l){x0(e,l)}while(1);ph(),Ol.current=o,we=s,Ke!==null?t=0:(tt=null,ot=0,t=Je)}if(t!==0){if(t===2&&(s=bd(e),s!==0&&(r=s,t=Yd(e,s))),t===1)throw n=Fi,cs(e,0),hr(e,r),kt(e,He()),n;if(t===6)hr(e,r);else{if(s=e.current.alternate,!(r&30)&&!oE(s)&&(t=Ml(e,r),t===2&&(o=bd(e),o!==0&&(r=o,t=Yd(e,o))),t===1))throw n=Fi,cs(e,0),hr(e,r),kt(e,He()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Qr(e,jt,Fn);break;case 3:if(hr(e,r),(r&130023424)===r&&(t=Ph+500-He(),10<t)){if(yl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pd(Qr.bind(null,e,jt,Fn),t);break}Qr(e,jt,Fn);break;case 4:if(hr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-un(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sE(r/1960))-r,10<r){e.timeoutHandle=Pd(Qr.bind(null,e,jt,Fn),r);break}Qr(e,jt,Fn);break;case 5:Qr(e,jt,Fn);break;default:throw Error(F(329))}}}return kt(e,He()),e.callbackNode===n?y0.bind(null,e):null}function Yd(e,t){var n=hi;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=Ml(e,t),e!==2&&(t=jt,jt=n,t!==null&&Jd(t)),e}function Jd(e){jt===null?jt=e:jt.push.apply(jt,e)}function oE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!mn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hr(e,t){for(t&=~Nh,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-un(t),r=1<<n;e[n]=-1,t&=~r}}function Jm(e){if(we&6)throw Error(F(327));lo();var t=yl(e,0);if(!(t&1))return kt(e,He()),null;var n=Ml(e,t);if(e.tag!==0&&n===2){var r=bd(e);r!==0&&(t=r,n=Yd(e,r))}if(n===1)throw n=Fi,cs(e,0),hr(e,t),kt(e,He()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qr(e,jt,Fn),kt(e,He()),null}function Th(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(xo=He()+500,fc&&Vr())}}function vs(e){gr!==null&&gr.tag===0&&!(we&6)&&lo();var t=we;we|=1;var n=qt.transition,r=Ce;try{if(qt.transition=null,Ce=1,e)return e()}finally{Ce=r,qt.transition=n,we=t,!(we&6)&&Vr()}}function Ah(){Tt=Qs.current,Me(Qs)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LC(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(dh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sl();break;case 3:vo(),Me(Ct),Me(ft),wh();break;case 5:xh(r);break;case 4:vo();break;case 13:Me($e);break;case 19:Me($e);break;case 10:mh(r.type._context);break;case 22:case 23:Ah()}n=n.return}if(tt=e,Ke=e=kr(e.current,null),ot=Tt=t,Je=0,Fi=null,Nh=gc=gs=0,jt=hi=null,os!==null){for(t=0;t<os.length;t++)if(n=os[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}os=null}return e}function x0(e,t){do{var n=Ke;try{if(ph(),tl.current=Rl,Al){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Al=!1}if(ms=0,et=Ye=Ve=null,di=!1,Mi=0,kh.current=null,n===null||n.return===null){Je=1,Fi=t,Ke=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=ot,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Dm(i);if(p!==null){p.flags&=-257,$m(p,i,l,o,t),p.mode&1&&Mm(o,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){Mm(o,u,t),Rh();break e}c=Error(F(426))}}else if(De&&l.mode&1){var b=Dm(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$m(b,i,l,o,t),fh(yo(c,l));break e}}o=c=yo(c,l),Je!==4&&(Je=2),hi===null?hi=[o]:hi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=n0(o,c,t);Tm(o,x);break e;case 1:l=c;var y=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cr===null||!Cr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=r0(o,l,t);Tm(o,j);break e}}o=o.return}while(o!==null)}j0(n)}catch(S){t=S,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function w0(){var e=Ol.current;return Ol.current=Rl,e===null?Rl:e}function Rh(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||!(gs&268435455)&&!(gc&268435455)||hr(tt,ot)}function Ml(e,t){var n=we;we|=2;var r=w0();(tt!==e||ot!==t)&&(Fn=null,cs(e,t));do try{iE();break}catch(s){x0(e,s)}while(1);if(ph(),we=n,Ol.current=r,Ke!==null)throw Error(F(261));return tt=null,ot=0,Je}function iE(){for(;Ke!==null;)b0(Ke)}function aE(){for(;Ke!==null&&!R_();)b0(Ke)}function b0(e){var t=_0(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?j0(e):Ke=t,kh.current=null}function j0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eE(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ke=null;return}}else if(n=ZC(n,t,Tt),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Je===0&&(Je=5)}function Qr(e,t,n){var r=Ce,s=qt.transition;try{qt.transition=null,Ce=1,lE(e,t,n,r)}finally{qt.transition=s,Ce=r}return null}function lE(e,t,n,r){do lo();while(gr!==null);if(we&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(B_(e,o),e===tt&&(Ke=tt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Na||(Na=!0,C0(vl,function(){return lo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=qt.transition,qt.transition=null;var i=Ce;Ce=1;var l=we;we|=4,kh.current=null,nE(e,n),g0(n,e),NC(kd),xl=!!Ed,kd=Ed=null,e.current=n,rE(n),O_(),we=l,Ce=i,qt.transition=o}else e.current=n;if(Na&&(Na=!1,gr=e,Ll=s),o=e.pendingLanes,o===0&&(Cr=null),M_(n.stateNode),kt(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Il)throw Il=!1,e=Gd,Gd=null,e;return Ll&1&&e.tag!==0&&lo(),o=e.pendingLanes,o&1?e===Kd?pi++:(pi=0,Kd=e):pi=0,Vr(),null}function lo(){if(gr!==null){var e=nx(Ll),t=qt.transition,n=Ce;try{if(qt.transition=null,Ce=16>e?16:e,gr===null)var r=!1;else{if(e=gr,gr=null,Ll=0,we&6)throw Error(F(331));var s=we;for(we|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:fi(8,d,o)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var h=d.sibling,p=d.return;if(h0(d),d===u){G=null;break}if(h!==null){h.return=p,G=h;break}G=p}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fi(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,G=x;break e}G=o.return}}var y=e.current;for(G=y;G!==null;){i=G;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,G=g;else e:for(i=y;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mc(9,l)}}catch(S){Be(l,l.return,S)}if(l===i){G=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,G=j;break e}G=l.return}}if(we=s,Vr(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(ac,e)}catch{}r=!0}return r}finally{Ce=n,qt.transition=t}}return!1}function Xm(e,t,n){t=yo(n,t),t=n0(e,t,1),e=_r(e,t,1),t=gt(),e!==null&&(Qi(e,1,t),kt(e,t))}function Be(e,t,n){if(e.tag===3)Xm(e,e,n);else for(;t!==null;){if(t.tag===3){Xm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){e=yo(n,e),e=r0(t,e,1),t=_r(t,e,1),e=gt(),t!==null&&(Qi(t,1,e),kt(t,e));break}}t=t.return}}function cE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(ot&n)===n&&(Je===4||Je===3&&(ot&130023424)===ot&&500>He()-Ph?cs(e,0):Nh|=n),kt(e,t)}function S0(e,t){t===0&&(e.mode&1?(t=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):t=1);var n=gt();e=Xn(e,t),e!==null&&(Qi(e,t,n),kt(e,n))}function uE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),S0(e,n)}function dE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),S0(e,n)}var _0;_0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)_t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _t=!1,QC(e,t,n);_t=!!(e.flags&131072)}else _t=!1,De&&t.flags&1048576&&Nx(t,El,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rl(e,t),e=t.pendingProps;var s=po(t,ft.current);ao(t,n),s=jh(null,t,r,e,s,n);var o=Sh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(r)?(o=!0,_l(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vh(t),s.updater=pc,t.stateNode=s,s._reactInternals=t,Md(t,r,e,n),t=Fd(null,t,r,!0,o,n)):(t.tag=0,De&&o&&uh(t),mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hE(r),e=sn(r,e),s){case 0:t=$d(null,t,r,e,n);break e;case 1:t=Um(null,t,r,e,n);break e;case 11:t=Fm(null,t,r,e,n);break e;case 14:t=Vm(null,t,r,sn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sn(r,s),$d(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sn(r,s),Um(e,t,r,s,n);case 3:e:{if(a0(t),e===null)throw Error(F(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Ix(e,t),Pl(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=yo(Error(F(423)),t),t=Bm(e,t,r,n,s);break e}else if(r!==s){s=yo(Error(F(424)),t),t=Bm(e,t,r,n,s);break e}else for(Rt=Sr(t.stateNode.containerInfo.firstChild),Ot=t,De=!0,cn=null,n=Rx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===s){t=Qn(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return Lx(t),e===null&&Od(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Nd(r,s)?i=null:o!==null&&Nd(r,o)&&(t.flags|=32),i0(e,t),mt(e,t,i,n),t.child;case 6:return e===null&&Od(t),null;case 13:return l0(e,t,n);case 4:return yh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=go(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sn(r,s),Fm(e,t,r,s,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ne(kl,r._currentValue),r._currentValue=i,o!==null)if(mn(o.value,i)){if(o.children===s.children&&!Ct.current){t=Qn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=qn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Id(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(F(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Id(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ao(t,n),s=Kt(s),r=r(s),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,s=sn(r,t.pendingProps),s=sn(r.type,s),Vm(e,t,r,s,n);case 15:return s0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sn(r,s),rl(e,t),t.tag=1,Et(r)?(e=!0,_l(t)):e=!1,ao(t,n),t0(t,r,s),Md(t,r,s,n),Fd(null,t,r,!0,e,n);case 19:return c0(e,t,n);case 22:return o0(e,t,n)}throw Error(F(156,t.tag))};function C0(e,t){return Qy(e,t)}function fE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new fE(e,t,n,r)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hE(e){if(typeof e=="function")return Oh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qf)return 11;if(e===Zf)return 14}return 2}function kr(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function il(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Oh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Bs:return us(n.children,s,o,t);case Xf:i=8,s|=8;break;case id:return e=Ht(12,n,t,s|2),e.elementType=id,e.lanes=o,e;case ad:return e=Ht(13,n,t,s),e.elementType=ad,e.lanes=o,e;case ld:return e=Ht(19,n,t,s),e.elementType=ld,e.lanes=o,e;case Ly:return vc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oy:i=10;break e;case Iy:i=9;break e;case Qf:i=11;break e;case Zf:i=14;break e;case cr:i=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ht(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function us(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function vc(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=Ly,e.lanes=n,e.stateNode={isHidden:!1},e}function Su(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function _u(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ih(e,t,n,r,s,o,i,l,c){return e=new pE(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(o),e}function mE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function E0(e){if(!e)return Or;e=e._reactInternals;e:{if(Cs(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Et(n))return Ex(e,n,t)}return t}function k0(e,t,n,r,s,o,i,l,c){return e=Ih(n,r,!0,e,s,o,i,l,c),e.context=E0(null),n=e.current,r=gt(),s=Er(n),o=qn(r,s),o.callback=t??null,_r(n,o,s),e.current.lanes=s,Qi(e,s,r),kt(e,r),e}function yc(e,t,n,r){var s=t.current,o=gt(),i=Er(s);return n=E0(n),t.context===null?t.context=n:t.pendingContext=n,t=qn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(s,t,i),e!==null&&(dn(e,s,i,o),el(e,s,i)),i}function Dl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lh(e,t){Qm(e,t),(e=e.alternate)&&Qm(e,t)}function gE(){return null}var N0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mh(e){this._internalRoot=e}xc.prototype.render=Mh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));yc(e,t,null,null)};xc.prototype.unmount=Mh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vs(function(){yc(null,e,null,null)}),t[Jn]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ox();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fr.length&&t!==0&&t<fr[n].priority;n++);fr.splice(n,0,e),n===0&&ax(e)}};function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function vE(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Dl(i);o.call(u)}}var i=k0(t,r,e,0,null,!1,!1,"",Zm);return e._reactRootContainer=i,e[Jn]=i.current,Ai(e.nodeType===8?e.parentNode:e),vs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Dl(c);l.call(u)}}var c=Ih(e,0,!1,null,null,!1,!1,"",Zm);return e._reactRootContainer=c,e[Jn]=c.current,Ai(e.nodeType===8?e.parentNode:e),vs(function(){yc(t,c,n,r)}),c}function bc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Dl(i);l.call(c)}}yc(t,i,e,s)}else i=vE(n,t,e,s,r);return Dl(i)}rx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ti(t.pendingLanes);n!==0&&(nh(t,n|1),kt(t,He()),!(we&6)&&(xo=He()+500,Vr()))}break;case 13:vs(function(){var r=Xn(e,1);if(r!==null){var s=gt();dn(r,e,1,s)}}),Lh(e,1)}};rh=function(e){if(e.tag===13){var t=Xn(e,134217728);if(t!==null){var n=gt();dn(t,e,134217728,n)}Lh(e,134217728)}};sx=function(e){if(e.tag===13){var t=Er(e),n=Xn(e,t);if(n!==null){var r=gt();dn(n,e,t,r)}Lh(e,t)}};ox=function(){return Ce};ix=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};yd=function(e,t,n){switch(t){case"input":if(dd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=dc(r);if(!s)throw Error(F(90));Dy(r),dd(r,s)}}}break;case"textarea":Fy(e,n);break;case"select":t=n.value,t!=null&&ro(e,!!n.multiple,t,!1)}};qy=Th;Gy=vs;var yE={usingClientEntryPoint:!1,Events:[ea,qs,dc,Wy,Hy,Th]},Go={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xE={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jy(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||gE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{ac=Pa.inject(xE),kn=Pa}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yE;Ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(t))throw Error(F(200));return mE(e,t,null,n)};Ft.createRoot=function(e,t){if(!Dh(e))throw Error(F(299));var n=!1,r="",s=N0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ih(e,1,!1,null,null,n,!1,r,s),e[Jn]=t.current,Ai(e.nodeType===8?e.parentNode:e),new Mh(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Jy(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return vs(e)};Ft.hydrate=function(e,t,n){if(!wc(t))throw Error(F(200));return bc(null,e,t,!0,n)};Ft.hydrateRoot=function(e,t,n){if(!Dh(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=N0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=k0(t,null,e,1,n??null,s,!1,o,i),e[Jn]=t.current,Ai(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new xc(t)};Ft.render=function(e,t,n){if(!wc(t))throw Error(F(200));return bc(null,e,t,!1,n)};Ft.unmountComponentAtNode=function(e){if(!wc(e))throw Error(F(40));return e._reactRootContainer?(vs(function(){bc(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};Ft.unstable_batchedUpdates=Th;Ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wc(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return bc(e,t,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function P0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P0)}catch(e){console.error(e)}}P0(),Py.exports=Ft;var Es=Py.exports;const wE=vy(Es);var eg=Es;sd.createRoot=eg.createRoot,sd.hydrateRoot=eg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(this,arguments)}var vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vr||(vr={}));const tg="popstate";function bE(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return Xd("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$l(s)}return SE(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jE(){return Math.random().toString(36).substr(2,8)}function ng(e,t){return{usr:e.state,key:e.key,idx:t}}function Xd(e,t,n,r){return n===void 0&&(n=null),Vi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Po(t):t,{state:n,key:t&&t.key||r||jE()})}function $l(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Po(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function SE(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=vr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Vi({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=vr.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:x})}function h(b,x){l=vr.Push;let y=Xd(v.location,b,x);n&&n(y,b),u=d()+1;let g=ng(y,u),j=v.createHref(y);try{i.pushState(g,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}o&&c&&c({action:l,location:v.location,delta:1})}function p(b,x){l=vr.Replace;let y=Xd(v.location,b,x);n&&n(y,b),u=d();let g=ng(y,u),j=v.createHref(y);i.replaceState(g,"",j),o&&c&&c({action:l,location:v.location,delta:0})}function w(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:$l(b);return y=y.replace(/ $/,"%20"),qe(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(tg,f),c=b,()=>{s.removeEventListener(tg,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let x=w(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(b){return i.go(b)}};return v}var rg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rg||(rg={}));function _E(e,t,n){return n===void 0&&(n="/"),CE(e,t,n,!1)}function CE(e,t,n,r){let s=typeof t=="string"?Po(t):t,o=$h(s.pathname||"/",n);if(o==null)return null;let i=A0(e);EE(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=DE(o);l=LE(i[c],u,r)}return l}function A0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Nr([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),A0(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:OE(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of R0(o.path))s(o,i,c)}),t}function R0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=R0(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function EE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:IE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kE=/^:[\w-]+$/,NE=3,PE=2,TE=1,AE=10,RE=-2,sg=e=>e==="*";function OE(e,t){let n=e.split("/"),r=n.length;return n.some(sg)&&(r+=RE),t&&(r+=PE),n.filter(s=>!sg(s)).reduce((s,o)=>s+(kE.test(o)?NE:o===""?TE:AE),r)}function IE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function LE(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=og({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=og({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Nr([o,f.pathname]),pathnameBase:UE(Nr([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Nr([o,f.pathnameBase]))}return i}function og(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ME(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=l[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[f];return p&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function ME(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),T0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function DE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return T0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $h(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $E(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Po(e):e;return{pathname:n?n.startsWith("/")?n:FE(n,t):t,search:BE(r),hash:zE(s)}}function FE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fh(e,t){let n=VE(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Po(e):(s=Vi({},e),qe(!s.pathname||!s.pathname.includes("?"),Cu("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),Cu("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),Cu("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=$E(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Nr=e=>e.join("/").replace(/\/\/+/g,"/"),UE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const O0=["post","put","patch","delete"];new Set(O0);const HE=["get",...O0];new Set(HE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ui.apply(this,arguments)}const Uh=m.createContext(null),qE=m.createContext(null),Ur=m.createContext(null),jc=m.createContext(null),Mn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),I0=m.createContext(null);function GE(e,t){let{relative:n}=t===void 0?{}:t;To()||qe(!1);let{basename:r,navigator:s}=m.useContext(Ur),{hash:o,pathname:i,search:l}=M0(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Nr([r,i])),s.createHref({pathname:c,search:l,hash:o})}function To(){return m.useContext(jc)!=null}function Ao(){return To()||qe(!1),m.useContext(jc).location}function L0(e){m.useContext(Ur).static||m.useLayoutEffect(e)}function Bh(){let{isDataRoute:e}=m.useContext(Mn);return e?ck():KE()}function KE(){To()||qe(!1);let e=m.useContext(Uh),{basename:t,future:n,navigator:r}=m.useContext(Ur),{matches:s}=m.useContext(Mn),{pathname:o}=Ao(),i=JSON.stringify(Fh(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return L0(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Vh(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Nr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}const YE=m.createContext(null);function JE(e){let t=m.useContext(Mn).outlet;return t&&m.createElement(YE.Provider,{value:e},t)}function XE(){let{matches:e}=m.useContext(Mn),t=e[e.length-1];return t?t.params:{}}function M0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Ur),{matches:s}=m.useContext(Mn),{pathname:o}=Ao(),i=JSON.stringify(Fh(s,r.v7_relativeSplatPath));return m.useMemo(()=>Vh(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function QE(e,t){return ZE(e,t)}function ZE(e,t,n,r){To()||qe(!1);let{navigator:s}=m.useContext(Ur),{matches:o}=m.useContext(Mn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ao(),d;if(t){var f;let b=typeof t=="string"?Po(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||qe(!1),d=b}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=_E(e,{pathname:p}),v=sk(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Nr([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Nr([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&v?m.createElement(jc.Provider,{value:{location:Ui({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vr.Pop}},v):v}function ek(){let e=lk(),t=WE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,o)}const tk=m.createElement(ek,null);class nk extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Mn.Provider,{value:this.props.routeContext},m.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rk(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(Uh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Mn.Provider,{value:t},r)}function sk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||qe(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,w=!1,v=null,b=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||tk,c&&(u<0&&h===0?(uk("route-fallback",!1),w=!0,b=null):u===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),y=()=>{let g;return p?g=v:w?g=b:f.route.Component?g=m.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,m.createElement(rk,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(nk,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var D0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(D0||{}),Fl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fl||{});function ok(e){let t=m.useContext(Uh);return t||qe(!1),t}function ik(e){let t=m.useContext(qE);return t||qe(!1),t}function ak(e){let t=m.useContext(Mn);return t||qe(!1),t}function $0(e){let t=ak(),n=t.matches[t.matches.length-1];return n.route.id||qe(!1),n.route.id}function lk(){var e;let t=m.useContext(I0),n=ik(Fl.UseRouteError),r=$0(Fl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ck(){let{router:e}=ok(D0.UseNavigateStable),t=$0(Fl.UseNavigateStable),n=m.useRef(!1);return L0(()=>{n.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ui({fromRouteId:t},o)))},[e,t])}const ig={};function uk(e,t,n){!t&&!ig[e]&&(ig[e]=!0)}function dk(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Vl(e){let{to:t,replace:n,state:r,relative:s}=e;To()||qe(!1);let{future:o,static:i}=m.useContext(Ur),{matches:l}=m.useContext(Mn),{pathname:c}=Ao(),u=Bh(),d=Vh(t,Fh(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function fk(e){return JE(e.context)}function bt(e){qe(!1)}function hk(e){let{basename:t="/",children:n=null,location:r,navigationType:s=vr.Pop,navigator:o,static:i=!1,future:l}=e;To()&&qe(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Ui({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=Po(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:w="default"}=r,v=m.useMemo(()=>{let b=$h(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:w},navigationType:s}},[c,d,f,h,p,w,s]);return v==null?null:m.createElement(Ur.Provider,{value:u},m.createElement(jc.Provider,{children:n,value:v}))}function pk(e){let{children:t,location:n}=e;return QE(Qd(t),n)}new Promise(()=>{});function Qd(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let o=[...t,s];if(r.type===m.Fragment){n.push.apply(n,Qd(r.props.children,o));return}r.type!==bt&&qe(!1),!r.props.index||!r.props.children||qe(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Qd(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(this,arguments)}function mk(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function gk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vk(e,t){return e.button===0&&(!t||t==="_self")&&!gk(e)}const yk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xk="6";try{window.__reactRouterVersion=xk}catch{}const wk="startTransition",ag=Gf[wk];function bk(e){let{basename:t,children:n,future:r,window:s}=e,o=m.useRef();o.current==null&&(o.current=bE({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&ag?ag(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>dk(r),[r]),m.createElement(hk,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bi=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=mk(t,yk),{basename:p}=m.useContext(Ur),w,v=!1;if(typeof u=="string"&&Sk.test(u)&&(w=u,jk))try{let g=new URL(window.location.href),j=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=$h(j.pathname,p);j.origin===g.origin&&S!=null?u=S+j.search+j.hash:v=!0}catch{}let b=GE(u,{relative:s}),x=_k(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(g){r&&r(g),g.defaultPrevented||x(g)}return m.createElement("a",Zd({},h,{href:w||b,onClick:v||o?r:y,ref:n,target:c}))});var lg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lg||(lg={}));var cg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cg||(cg={}));function _k(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Bh(),u=Ao(),d=M0(e,{relative:i});return m.useCallback(f=>{if(vk(f,n)){f.preventDefault();let h=r!==void 0?r:$l(u)===$l(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,s,n,e,o,i,l])}function F0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=F0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function V0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=F0(e))&&(r&&(r+=" "),r+=t);return r}function Ck(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=U0(t))&&(r&&(r+=" "),r+=n);return r}function U0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=U0(e[r]))&&(n&&(n+=" "),n+=t);return n}var zh="-";function Ek(e){var t=Nk(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(zh);return c[0]===""&&c.length!==1&&c.shift(),B0(c,t)||kk(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function B0(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?B0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(zh);return(i=t.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var ug=/^\[(.+)\]$/;function kk(e){if(ug.test(e)){var t=ug.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Nk(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=Tk(Object.entries(e.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];ef(l,r,i,t)}),r}function ef(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var o=s===""?t:dg(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(Pk(s)){ef(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];ef(c,dg(t,l),n,r)})})}function dg(e,t){var n=e;return t.split(zh).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Pk(e){return e.isThemeGetter}function Tk(e,t){return t?e.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,o]}):e}function Ak(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var z0="!";function Rk(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var h=i[f];if(c===0){if(h===r&&(n||i.slice(f,f+s)===t)){l.push(i.slice(u,f)),u=f+s;continue}if(h==="/"){d=f;continue}}h==="["?c++:h==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith(z0),v=w?p.substring(1):p,b=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:b}}}function Ok(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Ik(e){return{cache:Ak(e.cacheSize),splitModifiers:Rk(e),...Ek(e)}}var Lk=/\s+/;function Mk(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(Lk).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,h=r(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:i};if(h=r(d),!h)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=Ok(c).join(":"),v=u?w+z0:w;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function Dk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,o,i=l;function l(u){var d=t[0],f=t.slice(1),h=f.reduce(function(p,w){return w(p)},d());return r=Ik(h),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=Mk(u,r);return o(u,f),f}return function(){return i(Ck.apply(null,arguments))}}function Ie(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var W0=/^\[(?:([a-z-]+):)?(.+)\]$/i,$k=/^\d+\/\d+$/,Fk=new Set(["px","full","screen"]),Vk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Uk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bk=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function en(e){return as(e)||Fk.has(e)||$k.test(e)||tf(e)}function tf(e){return ks(e,"length",Kk)}function zk(e){return ks(e,"size",H0)}function Wk(e){return ks(e,"position",H0)}function Hk(e){return ks(e,"url",Yk)}function Ta(e){return ks(e,"number",as)}function as(e){return!Number.isNaN(Number(e))}function qk(e){return e.endsWith("%")&&as(e.slice(0,-1))}function Ko(e){return fg(e)||ks(e,"number",fg)}function pe(e){return W0.test(e)}function Yo(){return!0}function or(e){return Vk.test(e)}function Gk(e){return ks(e,"",Jk)}function ks(e,t,n){var r=W0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Kk(e){return Uk.test(e)}function H0(){return!1}function Yk(e){return e.startsWith("url(")}function fg(e){return Number.isInteger(Number(e))}function Jk(e){return Bk.test(e)}function Xk(){var e=Ie("colors"),t=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),o=Ie("borderRadius"),i=Ie("borderSpacing"),l=Ie("borderWidth"),c=Ie("contrast"),u=Ie("grayscale"),d=Ie("hueRotate"),f=Ie("invert"),h=Ie("gap"),p=Ie("gradientColorStops"),w=Ie("gradientColorStopPositions"),v=Ie("inset"),b=Ie("margin"),x=Ie("opacity"),y=Ie("padding"),g=Ie("saturate"),j=Ie("scale"),S=Ie("sepia"),k=Ie("skew"),E=Ie("space"),_=Ie("translate"),C=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},I=function(){return["auto",pe,t]},O=function(){return[pe,t]},N=function(){return["",en]},P=function(){return["auto",as,pe]},D=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},M=function(){return["solid","dashed","dotted","double","none"]},$=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},A=function(){return["start","end","center","between","around","evenly","stretch"]},T=function(){return["","0",pe]},z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},L=function(){return[as,Ta]},V=function(){return[as,pe]};return{cacheSize:500,theme:{colors:[Yo],spacing:[en],blur:["none","",or,pe],brightness:L(),borderColor:[e],borderRadius:["none","","full",or,pe],borderSpacing:O(),borderWidth:N(),contrast:L(),grayscale:T(),hueRotate:V(),invert:T(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[qk,tf],inset:I(),margin:I(),opacity:L(),padding:O(),saturate:L(),scale:L(),sepia:T(),skew:V(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[or]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(D(),[pe])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ko]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Ko]}],"grid-cols":[{"grid-cols":[Yo]}],"col-start-end":[{col:["auto",{span:["full",Ko]},pe]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Yo]}],"row-start-end":[{row:["auto",{span:[Ko]},pe]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(A())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(A(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(A(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",pe,t]}],"min-w":[{"min-w":["min","max","fit",pe,en]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[or]},or,pe]}],h:[{h:[pe,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",pe,en]}],"max-h":[{"max-h":[pe,t,"min","max","fit"]}],"font-size":[{text:["base",or,tf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ta]}],"font-family":[{font:[Yo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",as,Ta]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pe,en]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(M(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",en]}],"underline-offset":[{"underline-offset":["auto",pe,en]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(D(),[Wk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(M(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(M())}],"outline-offset":[{"outline-offset":[pe,en]}],"outline-w":[{outline:[en]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[en]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",or,Gk]}],"shadow-color":[{shadow:[Yo]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":$()}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",or,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ko,pe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[en,Ta]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Qk=Dk(Xk);function me(...e){return Qk(V0(e))}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function hg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function q0(...e){return t=>{let n=!1;const r=e.map(s=>{const o=hg(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():hg(e[s],null)}}}}function Te(...e){return m.useCallback(q0(...e),e)}function Zk(e,t){const n=m.createContext(t),r=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Br(e,t=[]){let n=[];function r(o,i){const l=m.createContext(i),c=n.length;n=[...n,i];const u=f=>{var x;const{scope:h,children:p,...w}=f,v=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=m.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:b,children:p})};u.displayName=o+"Provider";function d(f,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=m.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,eN(s,...t)]}function eN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function wo(e){const t=nN(e),n=m.forwardRef((r,s)=>{const{children:o,...i}=r,l=m.Children.toArray(o),c=l.find(sN);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var tN=wo("Slot");function nN(e){const t=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const i=iN(s),l=oN(o,s.props);return s.type!==m.Fragment&&(l.ref=r?q0(r,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rN=Symbol("radix.slottable");function sN(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rN}function oN(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function iN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Wh(e){const t=e+"CollectionProvider",[n,r]=Br(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:b,children:x}=v,y=oe.useRef(null),g=oe.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:g,collectionRef:y,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=wo(l),u=oe.forwardRef((v,b)=>{const{scope:x,children:y}=v,g=o(l,x),j=Te(b,g.collectionRef);return a.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=wo(d),p=oe.forwardRef((v,b)=>{const{scope:x,children:y,...g}=v,j=oe.useRef(null),S=Te(b,j),k=o(d,x);return oe.useEffect(()=>(k.itemMap.set(j,{ref:j,...g}),()=>void k.itemMap.delete(j))),a.jsx(h,{[f]:"",ref:S,children:y})});p.displayName=d;function w(v){const b=o(e+"CollectionConsumer",v);return oe.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,E)=>g.indexOf(k.ref.current)-g.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var aN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=aN.reduce((e,t)=>{const n=wo(`Primitive.${t}`),r=m.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function G0(e,t){e&&Es.flushSync(()=>e.dispatchEvent(t))}function Jt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function lN(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var cN="DismissableLayer",nf="dismissableLayer.update",uN="dismissableLayer.pointerDownOutside",dN="dismissableLayer.focusOutside",pg,K0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sc=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(K0),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=Te(t,E=>f(E)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(b),y=d?v.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=x,S=hN(E=>{const _=E.target,C=[...u.branches].some(R=>R.contains(_));!j||C||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},h),k=pN(E=>{const _=E.target;[...u.branches].some(R=>R.contains(_))||(o==null||o(E),i==null||i(E),E.defaultPrevented||l==null||l())},h);return lN(E=>{y===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),mg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=pg)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),mg())},[d,u]),m.useEffect(()=>{const E=()=>p({});return document.addEventListener(nf,E),()=>document.removeEventListener(nf,E)},[]),a.jsx(le.div,{...c,ref:w,style:{pointerEvents:g?j?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,k.onFocusCapture),onBlurCapture:se(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,S.onPointerDownCapture)})});Sc.displayName=cN;var fN="DismissableLayerBranch",Y0=m.forwardRef((e,t)=>{const n=m.useContext(K0),r=m.useRef(null),s=Te(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(le.div,{...e,ref:s})});Y0.displayName=fN;function hN(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){J0(uN,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function pN(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&J0(dN,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mg(){const e=new CustomEvent(nf);document.dispatchEvent(e)}function J0(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?G0(s,o):s.dispatchEvent(o)}var mN=Sc,gN=Y0,at=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},vN="Portal",_c=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=m.useState(!1);at(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?wE.createPortal(a.jsx(le.div,{...r,ref:t}),i):null});_c.displayName=vN;function yN(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Ro=e=>{const{present:t,children:n}=e,r=xN(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Te(r.ref,wN(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};Ro.displayName="Presence";function xN(e){const[t,n]=m.useState(),r=m.useRef(null),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=yN(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Aa(r.current);o.current=l==="mounted"?u:"none"},[l]),at(()=>{const u=r.current,d=s.current;if(d!==e){const h=o.current,p=Aa(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),at(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const v=Aa(r.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(o.current=Aa(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Aa(e){return(e==null?void 0:e.animationName)||"none"}function wN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bN=Gf[" useInsertionEffect ".trim().toString()]||at;function ys({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=jN({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=m.useCallback(d=>{var f;if(l){const h=SN(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else o(d)},[l,e,o,i]);return[c,u]}function jN({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),s=m.useRef(n),o=m.useRef(t);return bN(()=>{o.current=t},[t]),m.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function SN(e){return typeof e=="function"}var X0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_N="VisuallyHidden",Hh=m.forwardRef((e,t)=>a.jsx(le.span,{...e,ref:t,style:{...X0,...e.style}}));Hh.displayName=_N;var qh="ToastProvider",[Gh,CN,EN]=Wh("Toast"),[Q0,$4]=Br("Toast",[EN]),[kN,Cc]=Q0(qh),Z0=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qh}\`. Expected non-empty \`string\`.`),a.jsx(Gh.Provider,{scope:t,children:a.jsx(kN,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};Z0.displayName=qh;var ew="ToastViewport",NN=["F8"],rf="toast.viewportPause",sf="toast.viewportResume",tw=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=NN,label:s="Notifications ({hotkey})",...o}=e,i=Cc(ew,n),l=CN(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=Te(t,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;m.useEffect(()=>{const b=x=>{var g;r.length!==0&&r.every(j=>x[j]||x.code===j)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=c.current,x=f.current;if(w&&b&&x){const y=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(rf);x.dispatchEvent(k),i.isClosePausedRef.current=!0}},g=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(sf);x.dispatchEvent(k),i.isClosePausedRef.current=!1}},j=k=>{!b.contains(k.relatedTarget)&&g()},S=()=>{b.contains(document.activeElement)||g()};return b.addEventListener("focusin",y),b.addEventListener("focusout",j),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",g),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",g)}}},[w,i.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:b})=>{const y=l().map(g=>{const j=g.ref.current,S=[j,...UN(j)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const x=y=>{var S,k,E;const g=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!g){const _=document.activeElement,C=y.shiftKey;if(y.target===b&&C){(S=u.current)==null||S.focus();return}const O=v({tabbingDirection:C?"backwards":"forwards"}),N=O.findIndex(P=>P===_);Eu(O.slice(N+1))?y.preventDefault():C?(k=u.current)==null||k.focus():(E=d.current)==null||E.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,v]),a.jsxs(gN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(of,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Eu(b)}}),a.jsx(Gh.Slot,{scope:n,children:a.jsx(le.ol,{tabIndex:-1,...o,ref:h})}),w&&a.jsx(of,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Eu(b)}})]})});tw.displayName=ew;var nw="ToastFocusProxy",of=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Cc(nw,n);return a.jsx(Hh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});of.displayName=nw;var na="Toast",PN="toast.swipeStart",TN="toast.swipeMove",AN="toast.swipeCancel",RN="toast.swipeEnd",rw=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=ys({prop:r,defaultProp:s??!0,onChange:o,caller:na});return a.jsx(Ro,{present:n||l,children:a.jsx(LN,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Jt(e.onPause),onResume:Jt(e.onResume),onSwipeStart:se(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});rw.displayName=na;var[ON,IN]=Q0(na,{onClose(){}}),LN=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...w}=e,v=Cc(na,n),[b,x]=m.useState(null),y=Te(t,P=>x(P)),g=m.useRef(null),j=m.useRef(null),S=s||v.duration,k=m.useRef(0),E=m.useRef(S),_=m.useRef(0),{onToastAdd:C,onToastRemove:R}=v,I=Jt(()=>{var D;(b==null?void 0:b.contains(document.activeElement))&&((D=v.viewport)==null||D.focus()),i()}),O=m.useCallback(P=>{!P||P===1/0||(window.clearTimeout(_.current),k.current=new Date().getTime(),_.current=window.setTimeout(I,P))},[I]);m.useEffect(()=>{const P=v.viewport;if(P){const D=()=>{O(E.current),u==null||u()},M=()=>{const $=new Date().getTime()-k.current;E.current=E.current-$,window.clearTimeout(_.current),c==null||c()};return P.addEventListener(rf,M),P.addEventListener(sf,D),()=>{P.removeEventListener(rf,M),P.removeEventListener(sf,D)}}},[v.viewport,S,c,u,O]),m.useEffect(()=>{o&&!v.isClosePausedRef.current&&O(S)},[o,S,v.isClosePausedRef,O]),m.useEffect(()=>(C(),()=>R()),[C,R]);const N=m.useMemo(()=>b?uw(b):null,[b]);return v.viewport?a.jsxs(a.Fragment,{children:[N&&a.jsx(MN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),a.jsx(ON,{scope:n,onClose:I,children:Es.createPortal(a.jsx(Gh.ItemSlot,{scope:n,children:a.jsx(mN,{asChild:!0,onEscapeKeyDown:se(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||I(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:se(e.onPointerDown,P=>{P.button===0&&(g.current={x:P.clientX,y:P.clientY})}),onPointerMove:se(e.onPointerMove,P=>{if(!g.current)return;const D=P.clientX-g.current.x,M=P.clientY-g.current.y,$=!!j.current,A=["left","right"].includes(v.swipeDirection),T=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,z=A?T(0,D):0,L=A?0:T(0,M),V=P.pointerType==="touch"?10:2,ee={x:z,y:L},ge={originalEvent:P,delta:ee};$?(j.current=ee,Ra(TN,f,ge,{discrete:!1})):gg(ee,v.swipeDirection,V)?(j.current=ee,Ra(PN,d,ge,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(D)>V||Math.abs(M)>V)&&(g.current=null)}),onPointerUp:se(e.onPointerUp,P=>{const D=j.current,M=P.target;if(M.hasPointerCapture(P.pointerId)&&M.releasePointerCapture(P.pointerId),j.current=null,g.current=null,D){const $=P.currentTarget,A={originalEvent:P,delta:D};gg(D,v.swipeDirection,v.swipeThreshold)?Ra(RN,p,A,{discrete:!0}):Ra(AN,h,A,{discrete:!0}),$.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),MN=e=>{const{__scopeToast:t,children:n,...r}=e,s=Cc(na,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return FN(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(_c,{asChild:!0,children:a.jsx(Hh,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},DN="ToastTitle",sw=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(le.div,{...r,ref:t})});sw.displayName=DN;var $N="ToastDescription",ow=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(le.div,{...r,ref:t})});ow.displayName=$N;var iw="ToastAction",aw=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(cw,{altText:n,asChild:!0,children:a.jsx(Kh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${iw}\`. Expected non-empty \`string\`.`),null)});aw.displayName=iw;var lw="ToastClose",Kh=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=IN(lw,n);return a.jsx(cw,{asChild:!0,children:a.jsx(le.button,{type:"button",...r,ref:t,onClick:se(e.onClick,s.onClose)})})});Kh.displayName=lw;var cw=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function uw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),VN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...uw(r))}}),t}function Ra(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?G0(s,o):s.dispatchEvent(o)}var gg=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function FN(e=()=>{}){const t=Jt(e);at(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function VN(e){return e.nodeType===e.ELEMENT_NODE}function UN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Eu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var BN=Z0,dw=tw,fw=rw,hw=sw,pw=ow,mw=aw,gw=Kh;const vg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yg=V0,Ec=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return yg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=vg(d)||vg(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...o,...l}[v]):{...o,...l}[v]===b})?[...u,f,h]:u},[]);return yg(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};var zN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>m.createElement("svg",{ref:u,...zN,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${WN(e)}`,...c},[...t.map(([d,f])=>m.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},HN=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xg=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),vw=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),qN=Z("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),wg=Z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),GN=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),KN=Z("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),yw=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),YN=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xw=Z("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]),JN=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),xs=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),XN=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),QN=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ww=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ZN=Z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),eP=Z("GalleryHorizontalEnd",[["path",{d:"M2 7v10",key:"a2pl2d"}],["path",{d:"M6 5v14",key:"1kq3d7"}],["rect",{width:"12",height:"18",x:"10",y:"3",rx:"2",key:"13i7bc"}]]),al=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ku=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),tP=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),nP=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),af=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),rP=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),sP=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),oP=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ul=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),iP=Z("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Pn=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),kc=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),aP=Z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),lP=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),gn=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cP=Z("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),bg=Z("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),uP=Z("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Yh=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),dP=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fP=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),hP=Z("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),zi=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Wi=Z("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),lf=Z("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Oo=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),pP=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Nc=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),jg=Z("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),ds=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),fs=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),mP=Z("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),Sg=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Jh=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gP=BN,bw=oe.forwardRef(({className:e,...t},n)=>a.jsx(dw,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bw.displayName=dw.displayName;const vP=Ec("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jw=oe.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(fw,{ref:r,className:me(vP({variant:t}),e),...n}));jw.displayName=fw.displayName;const yP=oe.forwardRef(({className:e,...t},n)=>a.jsx(mw,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yP.displayName=mw.displayName;const Sw=oe.forwardRef(({className:e,...t},n)=>a.jsx(gw,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Jh,{className:"h-4 w-4"})}));Sw.displayName=gw.displayName;const _w=oe.forwardRef(({className:e,...t},n)=>a.jsx(hw,{ref:n,className:me("text-sm font-semibold",e),...t}));_w.displayName=hw.displayName;const Cw=oe.forwardRef(({className:e,...t},n)=>a.jsx(pw,{ref:n,className:me("text-sm opacity-90",e),...t}));Cw.displayName=pw.displayName;const xP=1;let Nu=0;function wP(){return Nu=(Nu+1)%Number.MAX_VALUE,Nu.toString()}const ht={state:{toasts:[]},listeners:[],getState:()=>ht.state,setState:e=>{typeof e=="function"?ht.state=e(ht.state):ht.state={...ht.state,...e},ht.listeners.forEach(t=>t(ht.state))},subscribe:e=>(ht.listeners.push(e),()=>{ht.listeners=ht.listeners.filter(t=>t!==e)})},bP=({...e})=>{const t=wP(),n=s=>ht.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...s}:i)})),r=()=>ht.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==t)}));return ht.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,xP)})),{id:t,dismiss:r,update:n}};function Pt(){const[e,t]=m.useState(ht.getState());return m.useEffect(()=>ht.subscribe(r=>{t(r)}),[]),m.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:bP,toasts:e.toasts}}function jP(){const{toasts:e}=Pt();return a.jsxs(gP,{children:[e.map(({id:t,title:n,description:r,action:s,dismiss:o,...i})=>a.jsxs(jw,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(_w,{children:n}),r&&a.jsx(Cw,{children:r})]}),s,a.jsx(Sw,{})]},t)),a.jsx(bw,{})]})}const Ew=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Pc=m.createContext({}),Tc=m.createContext(null),Ac=typeof document<"u",Xh=Ac?m.useLayoutEffect:m.useEffect,kw=m.createContext({strict:!1}),Qh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),SP="framerAppearId",Nw="data-"+Qh(SP);function _P(e,t,n,r){const{visualElement:s}=m.useContext(Pc),o=m.useContext(kw),i=m.useContext(Tc),l=m.useContext(Ew).reducedMotion,c=m.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;m.useInsertionEffect(()=>{u&&u.update(n,i)});const d=m.useRef(!!(n[Nw]&&!window.HandoffComplete));return Xh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Zs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CP(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Zs(n)&&(n.current=r))},[t])}function Hi(e){return typeof e=="string"||Array.isArray(e)}function Rc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Zh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ep=["initial",...Zh];function Oc(e){return Rc(e.animate)||ep.some(t=>Hi(e[t]))}function Pw(e){return!!(Oc(e)||e.variants)}function EP(e,t){if(Oc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Hi(n)?n:void 0,animate:Hi(r)?r:void 0}}return e.inherit!==!1?t:{}}function kP(e){const{initial:t,animate:n}=EP(e,m.useContext(Pc));return m.useMemo(()=>({initial:t,animate:n}),[_g(t),_g(n)])}function _g(e){return Array.isArray(e)?e.join(" "):e}const Cg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qi={};for(const e in Cg)qi[e]={isEnabled:t=>Cg[e].some(n=>!!t[n])};function NP(e){for(const t in e)qi[t]={...qi[t],...e[t]}}const tp=m.createContext({}),Tw=m.createContext({}),PP=Symbol.for("motionComponentSymbol");function TP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&NP(e);function o(l,c){let u;const d={...m.useContext(Ew),...l,layoutId:AP(l)},{isStatic:f}=d,h=kP(l),p=r(l,f);if(!f&&Ac){h.visualElement=_P(s,p,d,t);const w=m.useContext(Tw),v=m.useContext(kw).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,v,e,w))}return m.createElement(Pc.Provider,{value:h},u&&h.visualElement?m.createElement(u,{visualElement:h.visualElement,...d}):null,n(s,l,CP(p,h.visualElement,c),p,f,h.visualElement))}const i=m.forwardRef(o);return i[PP]=s,i}function AP({layoutId:e}){const t=m.useContext(tp).id;return t&&e!==void 0?t+"-"+e:e}function RP(e){function t(r,s={}){return TP(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const OP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function np(e){return typeof e!="string"||e.includes("-")?!1:!!(OP.indexOf(e)>-1||/[A-Z]/.test(e))}const Bl={};function IP(e){Object.assign(Bl,e)}const ra=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ns=new Set(ra);function Aw(e,{layout:t,layoutId:n}){return Ns.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Bl[e]||e==="opacity")}const Nt=e=>!!(e&&e.getVelocity),LP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MP=ra.length;function DP(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<MP;i++){const l=ra[i];if(e[l]!==void 0){const c=LP[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const Rw=e=>t=>typeof t=="string"&&t.startsWith(e),Ow=Rw("--"),cf=Rw("var(--"),$P=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,FP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ir=(e,t,n)=>Math.min(Math.max(n,e),t),Ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},mi={...Ps,transform:e=>Ir(0,1,e)},Oa={...Ps,default:1},gi=e=>Math.round(e*1e5)/1e5,Ic=/(-)?([\d]*\.?[\d])+/g,Iw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,VP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function sa(e){return typeof e=="string"}const oa=e=>({test:t=>sa(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ir=oa("deg"),Tn=oa("%"),te=oa("px"),UP=oa("vh"),BP=oa("vw"),Eg={...Tn,parse:e=>Tn.parse(e)/100,transform:e=>Tn.transform(e*100)},kg={...Ps,transform:Math.round},Lw={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:ir,rotateX:ir,rotateY:ir,rotateZ:ir,scale:Oa,scaleX:Oa,scaleY:Oa,scaleZ:Oa,skew:ir,skewX:ir,skewY:ir,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:mi,originX:Eg,originY:Eg,originZ:te,zIndex:kg,fillOpacity:mi,strokeOpacity:mi,numOctaves:kg};function rp(e,t,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(Ow(f)){o[f]=h;continue}const p=Lw[f],w=FP(h,p);if(Ns.has(f)){if(c=!0,i[f]=w,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=w):s[f]=w}if(t.transform||(c||r?s.transform=DP(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const sp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mw(e,t,n){for(const r in t)!Nt(t[r])&&!Aw(r,n)&&(e[r]=t[r])}function zP({transformTemplate:e},t,n){return m.useMemo(()=>{const r=sp();return rp(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function WP(e,t,n){const r=e.style||{},s={};return Mw(s,r,e),Object.assign(s,zP(e,t,n)),e.transformValues?e.transformValues(s):s}function HP(e,t,n){const r={},s=WP(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const qP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qP.has(e)}let Dw=e=>!zl(e);function GP(e){e&&(Dw=t=>t.startsWith("on")?!zl(t):e(t))}try{GP(require("@emotion/is-prop-valid").default)}catch{}function KP(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Dw(s)||n===!0&&zl(s)||!t&&!zl(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Ng(e,t,n){return typeof e=="string"?e:te.transform(t+n*e)}function YP(e,t,n){const r=Ng(t,e.x,e.width),s=Ng(n,e.y,e.height);return`${r} ${s}`}const JP={offset:"stroke-dashoffset",array:"stroke-dasharray"},XP={offset:"strokeDashoffset",array:"strokeDasharray"};function QP(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?JP:XP;e[o.offset]=te.transform(-r);const i=te.transform(t),l=te.transform(n);e[o.array]=`${i} ${l}`}function op(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(rp(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w,dimensions:v}=e;p.transform&&(v&&(w.transform=p.transform),delete p.transform),v&&(s!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=YP(v,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&QP(p,i,l,c,!1)}const $w=()=>({...sp(),attrs:{}}),ip=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZP(e,t,n,r){const s=m.useMemo(()=>{const o=$w();return op(o,t,{enableHardwareAcceleration:!1},ip(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Mw(o,e.style,e),s.style={...o,...s.style}}return s}function eT(e=!1){return(n,r,s,{latestValues:o},i)=>{const c=(np(n)?ZP:HP)(r,o,i,n),d={...KP(r,typeof n=="string",e),...c,ref:s},{children:f}=r,h=m.useMemo(()=>Nt(f)?f.get():f,[f]);return m.createElement(n,{...d,children:h})}}function Fw(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const Vw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uw(e,t,n,r){Fw(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Vw.has(s)?s:Qh(s),t.attrs[s])}function ap(e,t){const{style:n}=e,r={};for(const s in n)(Nt(n[s])||t.style&&Nt(t.style[s])||Aw(s,e))&&(r[s]=n[s]);return r}function Bw(e,t){const n=ap(e,t);for(const r in e)if(Nt(e[r])||Nt(t[r])){const s=ra.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function lp(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function zw(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wl=e=>Array.isArray(e),tT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),nT=e=>Wl(e)?e[e.length-1]||0:e;function ll(e){const t=Nt(e)?e.get():e;return tT(t)?t.toValue():t}function rT({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const i={latestValues:sT(r,s,o,e),renderState:t()};return n&&(i.mount=l=>n(r,l,i)),i}const Ww=e=>(t,n)=>{const r=m.useContext(Pc),s=m.useContext(Tc),o=()=>rT(e,t,r,s);return n?o():zw(o)};function sT(e,t,n,r){const s={},o=r(e,{});for(const h in o)s[h]=ll(o[h]);let{initial:i,animate:l}=e;const c=Oc(e),u=Pw(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!Rc(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const w=lp(e,p);if(!w)return;const{transitionEnd:v,transition:b,...x}=w;for(const y in x){let g=x[y];if(Array.isArray(g)){const j=d?g.length-1:0;g=g[j]}g!==null&&(s[y]=g)}for(const y in v)s[y]=v[y]}),s}const We=e=>e;class Pg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function oT(e){let t=new Pg,n=new Pg,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:n;return u&&i.add(c),h.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),i.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const Ia=["prepare","read","update","preRender","render","postRender"],iT=40;function aT(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Ia.reduce((f,h)=>(f[h]=oT(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,iT),1),s.timestamp=f,s.isProcessing=!0,Ia.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:Ia.reduce((f,h)=>{const p=o[h];return f[h]=(w,v=!1,b=!1)=>(n||c(),p.schedule(w,v,b)),f},{}),cancel:f=>Ia.forEach(h=>o[h].cancel(f)),state:s,steps:o}}const{schedule:Pe,cancel:Zn,state:ut,steps:Pu}=aT(typeof requestAnimationFrame<"u"?requestAnimationFrame:We,!0),lT={useVisualState:Ww({scrapeMotionValuesFromProps:Bw,createRenderState:$w,onMount:(e,t,{renderState:n,latestValues:r})=>{Pe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Pe.render(()=>{op(n,r,{enableHardwareAcceleration:!1},ip(t.tagName),e.transformTemplate),Uw(t,n)})}})},cT={useVisualState:Ww({scrapeMotionValuesFromProps:ap,createRenderState:sp})};function uT(e,{forwardMotionProps:t=!1},n,r){return{...np(e)?lT:cT,preloadedFeatures:n,useRender:eT(t),createVisualElement:r,Component:e}}function Hn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Hw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Lc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const dT=e=>t=>Hw(t)&&e(t,Lc(t));function Gn(e,t,n,r){return Hn(e,t,dT(n),r)}const fT=(e,t)=>n=>t(e(n)),Pr=(...e)=>e.reduce(fT);function qw(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Tg=qw("dragHorizontal"),Ag=qw("dragVertical");function Gw(e){let t=!1;if(e==="y")t=Ag();else if(e==="x")t=Tg();else{const n=Tg(),r=Ag();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Kw(){const e=Gw(!0);return e?(e(),!1):!0}class zr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Rg(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||Kw())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Pe.update(()=>l[r](o,i))};return Gn(e.current,n,s,{passive:!e.getProps()[r]})}class hT extends zr{mount(){this.unmount=Pr(Rg(this.node,!0),Rg(this.node,!1))}unmount(){}}class pT extends zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pr(Hn(this.node.current,"focus",()=>this.onFocus()),Hn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Yw=(e,t)=>t?e===t?!0:Yw(e,t.parentElement):!1;function Tu(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Lc(n))}class mT extends zr{constructor(){super(...arguments),this.removeStartListeners=We,this.removeEndListeners=We,this.removeAccessibleListeners=We,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Gn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Pe.update(()=>{!f&&!Yw(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=Gn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Pr(o,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Tu("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Pe.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Hn(this.node.current,"keyup",i),Tu("down",(l,c)=>{this.startPress(l,c)})},n=Hn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Tu("cancel",(o,i)=>this.cancelPress(o,i))},s=Hn(this.node.current,"blur",r);this.removeAccessibleListeners=Pr(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Pe.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Kw()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Pe.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Gn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Hn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Pr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uf=new WeakMap,Au=new WeakMap,gT=e=>{const t=uf.get(e.target);t&&t(e)},vT=e=>{e.forEach(gT)};function yT({root:e,...t}){const n=e||document;Au.has(n)||Au.set(n,{});const r=Au.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(vT,{root:e,...t})),r[s]}function xT(e,t,n){const r=yT(t);return uf.set(e,n),r.observe(e),()=>{uf.delete(e),r.unobserve(e)}}const wT={some:0,all:1};class bT extends zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:wT[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return xT(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(jT(t,n))&&this.startObserver()}unmount(){}}function jT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ST={inView:{Feature:bT},tap:{Feature:mT},focus:{Feature:pT},hover:{Feature:hT}};function Jw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _T(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function CT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Mc(e,t,n){const r=e.getProps();return lp(r,t,n!==void 0?n:r.custom,_T(e),CT(e))}let ET=We,cp=We;const Tr=e=>e*1e3,Kn=e=>e/1e3,kT={current:!1},Xw=e=>Array.isArray(e)&&typeof e[0]=="number";function Qw(e){return!!(!e||typeof e=="string"&&Zw[e]||Xw(e)||Array.isArray(e)&&e.every(Qw))}const ri=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Zw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ri([0,.65,.55,1]),circOut:ri([.55,0,1,.45]),backIn:ri([.31,.01,.66,-.59]),backOut:ri([.33,1.53,.69,.99])};function eb(e){if(e)return Xw(e)?ri(e):Array.isArray(e)?e.map(eb):Zw[e]}function NT(e,t,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=eb(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function PT(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const tb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,TT=1e-7,AT=12;function RT(e,t,n,r,s){let o,i,l=0;do i=t+(n-t)/2,o=tb(i,r,s)-e,o>0?n=i:t=i;while(Math.abs(o)>TT&&++l<AT);return i}function ia(e,t,n,r){if(e===t&&n===r)return We;const s=o=>RT(o,0,1,e,n);return o=>o===0||o===1?o:tb(s(o),t,r)}const OT=ia(.42,0,1,1),IT=ia(0,0,.58,1),nb=ia(.42,0,.58,1),LT=e=>Array.isArray(e)&&typeof e[0]!="number",rb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sb=e=>t=>1-e(1-t),up=e=>1-Math.sin(Math.acos(e)),ob=sb(up),MT=rb(up),ib=ia(.33,1.53,.69,.99),dp=sb(ib),DT=rb(dp),$T=e=>(e*=2)<1?.5*dp(e):.5*(2-Math.pow(2,-10*(e-1))),FT={linear:We,easeIn:OT,easeInOut:nb,easeOut:IT,circIn:up,circInOut:MT,circOut:ob,backIn:dp,backInOut:DT,backOut:ib,anticipate:$T},Og=e=>{if(Array.isArray(e)){cp(e.length===4);const[t,n,r,s]=e;return ia(t,n,r,s)}else if(typeof e=="string")return FT[e];return e},fp=(e,t)=>n=>!!(sa(n)&&VP.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),ab=(e,t,n)=>r=>{if(!sa(r))return r;const[s,o,i,l]=r.match(Ic);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},VT=e=>Ir(0,255,e),Ru={...Ps,transform:e=>Math.round(VT(e))},ls={test:fp("rgb","red"),parse:ab("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ru.transform(e)+", "+Ru.transform(t)+", "+Ru.transform(n)+", "+gi(mi.transform(r))+")"};function UT(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const df={test:fp("#"),parse:UT,transform:ls.transform},eo={test:fp("hsl","hue"),parse:ab("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Tn.transform(gi(t))+", "+Tn.transform(gi(n))+", "+gi(mi.transform(r))+")"},pt={test:e=>ls.test(e)||df.test(e)||eo.test(e),parse:e=>ls.test(e)?ls.parse(e):eo.test(e)?eo.parse(e):df.parse(e),transform:e=>sa(e)?e:e.hasOwnProperty("red")?ls.transform(e):eo.transform(e)},Fe=(e,t,n)=>-n*e+n*t+e;function Ou(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function BT({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,i=0;if(!t)s=o=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Ou(c,l,e+1/3),o=Ou(c,l,e),i=Ou(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Iu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},zT=[df,ls,eo],WT=e=>zT.find(t=>t.test(e));function Ig(e){const t=WT(e);let n=t.parse(e);return t===eo&&(n=BT(n)),n}const lb=(e,t)=>{const n=Ig(e),r=Ig(t),s={...n};return o=>(s.red=Iu(n.red,r.red,o),s.green=Iu(n.green,r.green,o),s.blue=Iu(n.blue,r.blue,o),s.alpha=Fe(n.alpha,r.alpha,o),ls.transform(s))};function HT(e){var t,n;return isNaN(e)&&sa(e)&&(((t=e.match(Ic))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Iw))===null||n===void 0?void 0:n.length)||0)>0}const cb={regex:$P,countKey:"Vars",token:"${v}",parse:We},ub={regex:Iw,countKey:"Colors",token:"${c}",parse:pt.parse},db={regex:Ic,countKey:"Numbers",token:"${n}",parse:Ps.parse};function Lu(e,{regex:t,countKey:n,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function Hl(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Lu(n,cb),Lu(n,ub),Lu(n,db),n}function fb(e){return Hl(e).values}function hb(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Hl(e),o=t.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(cb.token,i[c]):c<r+n?l=l.replace(ub.token,pt.transform(i[c])):l=l.replace(db.token,gi(i[c]));return l}}const qT=e=>typeof e=="number"?0:e;function GT(e){const t=fb(e);return hb(e)(t.map(qT))}const Lr={test:HT,parse:fb,createTransformer:hb,getAnimatableNone:GT},pb=(e,t)=>n=>`${n>0?t:e}`;function mb(e,t){return typeof e=="number"?n=>Fe(e,t,n):pt.test(e)?lb(e,t):e.startsWith("var(")?pb(e,t):vb(e,t)}const gb=(e,t)=>{const n=[...e],r=n.length,s=e.map((o,i)=>mb(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},KT=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=mb(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},vb=(e,t)=>{const n=Lr.createTransformer(t),r=Hl(e),s=Hl(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Pr(gb(r.values,s.values),n):pb(e,t)},Gi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Lg=(e,t)=>n=>Fe(e,t,n);function YT(e){return typeof e=="number"?Lg:typeof e=="string"?pt.test(e)?lb:vb:Array.isArray(e)?gb:typeof e=="object"?KT:Lg}function JT(e,t,n){const r=[],s=n||YT(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||We:t;l=Pr(c,l)}r.push(l)}return r}function yb(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(cp(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=JT(t,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Gi(e[d],e[d+1],u);return i[d](f)};return n?u=>c(Ir(e[0],e[o-1],u)):c}function XT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Gi(0,t,r);e.push(Fe(n,1,s))}}function QT(e){const t=[0];return XT(t,e.length-1),t}function ZT(e,t){return e.map(n=>n*t)}function e2(e,t){return e.map(()=>t||nb).splice(0,e.length-1)}function ql({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=LT(r)?r.map(Og):Og(r),o={done:!1,value:t[0]},i=ZT(n&&n.length===t.length?n:QT(t),e),l=yb(i,t,{ease:Array.isArray(s)?s:e2(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function xb(e,t){return t?e*(1e3/t):0}const t2=5;function wb(e,t,n){const r=Math.max(t-t2,0);return xb(n-e(r),t-r)}const Mu=.001,n2=.01,Mg=10,r2=.05,s2=1;function o2({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o;ET(e<=Tr(Mg));let i=1-t;i=Ir(r2,s2,i),e=Ir(n2,Mg,Kn(e)),i<1?(s=u=>{const d=u*i,f=d*e,h=d-n,p=ff(u,i),w=Math.exp(-f);return Mu-h/p*w},o=u=>{const f=u*i*e,h=f*n+n,p=Math.pow(i,2)*Math.pow(u,2)*e,w=Math.exp(-f),v=ff(Math.pow(u,2),i);return(-s(u)+Mu>0?-1:1)*((h-p)*w)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Mu+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=a2(s,o,l);if(e=Tr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const i2=12;function a2(e,t,n){let r=n;for(let s=1;s<i2;s++)r=r-e(r)/t(r);return r}function ff(e,t){return e*Math.sqrt(1-t*t)}const l2=["duration","bounce"],c2=["stiffness","damping","mass"];function Dg(e,t){return t.some(n=>e[n]!==void 0)}function u2(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Dg(e,c2)&&Dg(e,l2)){const n=o2(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function bb({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=u2({...r,velocity:-Kn(r.velocity||0)}),p=f||0,w=c/(2*Math.sqrt(l*u)),v=o-s,b=Kn(Math.sqrt(l/u)),x=Math.abs(v)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let y;if(w<1){const g=ff(b,w);y=j=>{const S=Math.exp(-w*b*j);return o-S*((p+w*b*v)/g*Math.sin(g*j)+v*Math.cos(g*j))}}else if(w===1)y=g=>o-Math.exp(-b*g)*(v+(p+b*v)*g);else{const g=b*Math.sqrt(w*w-1);y=j=>{const S=Math.exp(-w*b*j),k=Math.min(g*j,300);return o-S*((p+w*b*v)*Math.sinh(k)+g*v*Math.cosh(k))/g}}return{calculatedDuration:h&&d||null,next:g=>{const j=y(g);if(h)i.done=g>=d;else{let S=p;g!==0&&(w<1?S=wb(y,g,j):S=0);const k=Math.abs(S)<=n,E=Math.abs(o-j)<=t;i.done=k&&E}return i.value=i.done?o:j,i}}}function $g({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,w=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let v=n*t;const b=f+v,x=i===void 0?b:i(b);x!==b&&(v=x-f);const y=_=>-v*Math.exp(-_/r),g=_=>x+y(_),j=_=>{const C=y(_),R=g(_);h.done=Math.abs(C)<=u,h.value=h.done?x:R};let S,k;const E=_=>{p(h.value)&&(S=_,k=bb({keyframes:[h.value,w(h.value)],velocity:wb(g,_,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:_=>{let C=!1;return!k&&S===void 0&&(C=!0,j(_),E(_)),S!==void 0&&_>S?k.next(_-S):(!C&&j(_),h)}}}const d2=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Pe.update(t,!0),stop:()=>Zn(t),now:()=>ut.isProcessing?ut.timestamp:performance.now()}},Fg=2e4;function Vg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Fg;)t+=n,r=e.next(t);return t>=Fg?1/0:t}const f2={decay:$g,inertia:$g,tween:ql,keyframes:ql,spring:bb};function Gl({autoplay:e=!0,delay:t=0,driver:n=d2,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,w=!1,v,b;const x=()=>{b=new Promise(L=>{v=L})};x();let y;const g=f2[s]||ql;let j;g!==ql&&typeof r[0]!="number"&&(j=yb([0,100],r,{clamp:!1}),r=[0,100]);const S=g({...h,keyframes:r});let k;l==="mirror"&&(k=g({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let E="idle",_=null,C=null,R=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=Vg(S));const{calculatedDuration:I}=S;let O=1/0,N=1/0;I!==null&&(O=I+i,N=O*(o+1)-i);let P=0;const D=L=>{if(C===null)return;p>0&&(C=Math.min(C,L)),p<0&&(C=Math.min(L-N/p,C)),_!==null?P=_:P=Math.round(L-C)*p;const V=P-t*(p>=0?1:-1),ee=p>=0?V<0:V>N;P=Math.max(V,0),E==="finished"&&_===null&&(P=N);let ge=P,Ae=S;if(o){const Re=Math.min(P,N)/O;let ce=Math.floor(Re),ie=Re%1;!ie&&Re>=1&&(ie=1),ie===1&&ce--,ce=Math.min(ce,o+1),!!(ce%2)&&(l==="reverse"?(ie=1-ie,i&&(ie-=i/O)):l==="mirror"&&(Ae=k)),ge=Ir(0,1,ie)*O}const Ee=ee?{done:!1,value:r[0]}:Ae.next(ge);j&&(Ee.value=j(Ee.value));let{done:J}=Ee;!ee&&I!==null&&(J=p>=0?P>=N:P<=0);const ve=_===null&&(E==="finished"||E==="running"&&J);return f&&f(Ee.value),ve&&A(),Ee},M=()=>{y&&y.stop(),y=void 0},$=()=>{E="idle",M(),v(),x(),C=R=null},A=()=>{E="finished",d&&d(),M(),v()},T=()=>{if(w)return;y||(y=n(D));const L=y.now();c&&c(),_!==null?C=L-_:(!C||E==="finished")&&(C=L),E==="finished"&&x(),R=C,_=null,E="running",y.start()};e&&T();const z={then(L,V){return b.then(L,V)},get time(){return Kn(P)},set time(L){L=Tr(L),P=L,_!==null||!y||p===0?_=L:C=y.now()-L/p},get duration(){const L=S.calculatedDuration===null?Vg(S):S.calculatedDuration;return Kn(L)},get speed(){return p},set speed(L){L===p||!y||(p=L,z.time=Kn(P))},get state(){return E},play:T,pause:()=>{E="paused",_=P},stop:()=>{w=!0,E!=="idle"&&(E="idle",u&&u(),$())},cancel:()=>{R!==null&&D(R),$()},complete:()=>{E="finished"},sample:L=>(C=0,D(L))};return z}function h2(e){let t;return()=>(t===void 0&&(t=e()),t)}const p2=h2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),m2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),La=10,g2=2e4,v2=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Qw(t.ease);function y2(e,t,{onUpdate:n,onComplete:r,...s}){if(!(p2()&&m2.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(g=>{l=g})};d();let{keyframes:f,duration:h=300,ease:p,times:w}=s;if(v2(t,s)){const g=Gl({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const S=[];let k=0;for(;!j.done&&k<g2;)j=g.sample(k),S.push(j.value),k+=La;w=void 0,f=S,h=k-La,p="linear"}const v=NT(e.owner.current,t,f,{...s,duration:h,ease:p,times:w}),b=()=>{u=!1,v.cancel()},x=()=>{u=!0,Pe.update(b),l(),d()};return v.onfinish=()=>{u||(e.set(PT(f,s)),r&&r(),x())},{then(g,j){return c.then(g,j)},attachTimeline(g){return v.timeline=g,v.onfinish=null,We},get time(){return Kn(v.currentTime||0)},set time(g){v.currentTime=Tr(g)},get speed(){return v.playbackRate},set speed(g){v.playbackRate=g},get duration(){return Kn(h)},play:()=>{i||(v.play(),Zn(b))},pause:()=>v.pause(),stop:()=>{if(i=!0,v.playState==="idle")return;const{currentTime:g}=v;if(g){const j=Gl({...s,autoplay:!1});e.setWithVelocity(j.sample(g-La).value,j.sample(g).value,La)}x()},complete:()=>{u||v.finish()},cancel:x}}function x2({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:We,pause:We,stop:We,then:o=>(o(),Promise.resolve()),cancel:We,complete:We});return t?Gl({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const w2={type:"spring",stiffness:500,damping:25,restSpeed:10},b2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),j2={type:"keyframes",duration:.8},S2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_2=(e,{keyframes:t})=>t.length>2?j2:Ns.has(e)?e.startsWith("scale")?b2(t[1]):w2:S2,hf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lr.test(t)||t==="0")&&!t.startsWith("url(")),C2=new Set(["brightness","contrast","saturate","opacity"]);function E2(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ic)||[];if(!r)return e;const s=n.replace(r,"");let o=C2.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const k2=/([a-z-]*)\(.*?\)/g,pf={...Lr,getAnimatableNone:e=>{const t=e.match(k2);return t?t.map(E2).join(" "):e}},N2={...Lw,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:pf,WebkitFilter:pf},hp=e=>N2[e];function jb(e,t){let n=hp(e);return n!==pf&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Sb=e=>/^0[^.\s]+$/.test(e);function P2(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Sb(e)}function T2(e,t,n,r){const s=hf(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),P2(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=jb(t,l)}return o}function A2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function pp(e,t){return e[t]||e.default||e}const R2={skipAnimations:!1},mp=(e,t,n,r={})=>s=>{const o=pp(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Tr(i);const c=T2(t,e,n,o),u=c[0],d=c[c.length-1],f=hf(e,u),h=hf(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:w=>{t.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(A2(o)||(p={...p,..._2(e,p)}),p.duration&&(p.duration=Tr(p.duration)),p.repeatDelay&&(p.repeatDelay=Tr(p.repeatDelay)),!f||!h||kT.current||o.type===!1||R2.skipAnimations)return x2(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=y2(t,e,p);if(w)return w}return Gl(p)};function Kl(e){return!!(Nt(e)&&e.add)}const _b=e=>/^\-?\d*\.?\d+$/.test(e);function gp(e,t){e.indexOf(t)===-1&&e.push(t)}function vp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class yp{constructor(){this.subscriptions=[]}add(t){return gp(this.subscriptions,t),()=>vp(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const O2=e=>!isNaN(parseFloat(e));class I2{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=ut;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,Pe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Pe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=O2(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yp);const r=this.events[t].add(n);return t==="change"?()=>{r(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?xb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bo(e,t){return new I2(e,t)}const Cb=e=>t=>t.test(e),L2={test:e=>e==="auto",parse:e=>e},Eb=[Ps,te,Tn,ir,BP,UP,L2],Jo=e=>Eb.find(Cb(e)),M2=[...Eb,pt,Lr],D2=e=>M2.find(Cb(e));function $2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,bo(n))}function F2(e,t){const n=Mc(e,t);let{transitionEnd:r={},transition:s={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=nT(o[i]);$2(e,i,l)}}function V2(e,t,n){var r,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(_b(d)||Sb(d))?d=parseFloat(d):!D2(d)&&Lr.test(u)&&(d=jb(c,u)),e.addValue(c,bo(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function U2(e,t){return t?(t[e]||t.default||t).from:void 0}function B2(e,t,n){const r={};for(const s in e){const o=U2(s,t);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function z2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function W2(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function kb(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&z2(d,f))continue;const w={delay:n,elapsed:0,...pp(o||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[Nw];if(x){const y=window.HandoffAppearAnimations(x,f,h,Pe);y!==null&&(w.elapsed=y,w.isHandoff=!0)}}let v=!w.isHandoff&&!W2(h,p);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(mp(f,h,p,e.shouldReduceMotion&&Ns.has(f)?{type:!1}:w));const b=h.animation;Kl(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return i&&Promise.all(u).then(()=>{i&&F2(e,i)}),u}function mf(e,t,n={}){const r=Mc(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(kb(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return H2(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function H2(e,t,n=0,r=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(q2).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(mf(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function q2(e,t){return e.sortNodePosition(t)}function G2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>mf(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=mf(e,t,n);else{const s=typeof t=="function"?Mc(e,t,n.custom):t;r=Promise.all(kb(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const K2=[...Zh].reverse(),Y2=Zh.length;function J2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>G2(e,n,r)))}function X2(e){let t=J2(e);const n=Z2();let r=!0;const s=(c,u)=>{const d=Mc(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function o(c){t=c(e)}function i(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let w={},v=1/0;for(let x=0;x<Y2;x++){const y=K2[x],g=n[y],j=d[y]!==void 0?d[y]:f[y],S=Hi(j),k=y===u?g.isActive:null;k===!1&&(v=x);let E=j===f[y]&&j!==d[y]&&S;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...w},!g.isActive&&k===null||!j&&!g.prevProp||Rc(j)||typeof j=="boolean")continue;let C=Q2(g.prevProp,j)||y===u&&g.isActive&&!E&&S||x>v&&S,R=!1;const I=Array.isArray(j)?j:[j];let O=I.reduce(s,{});k===!1&&(O={});const{prevResolvedValues:N={}}=g,P={...N,...O},D=M=>{C=!0,p.has(M)&&(R=!0,p.delete(M)),g.needsAnimating[M]=!0};for(const M in P){const $=O[M],A=N[M];if(w.hasOwnProperty(M))continue;let T=!1;Wl($)&&Wl(A)?T=!Jw($,A):T=$!==A,T?$!==void 0?D(M):p.add(M):$!==void 0&&p.has(M)?D(M):g.protectedKeys[M]=!0}g.prevProp=j,g.prevResolvedValues=O,g.isActive&&(w={...w,...O}),r&&e.blockInitialAnimation&&(C=!1),C&&(!E||R)&&h.push(...I.map(M=>({animation:M,options:{type:y,...c}})))}if(p.size){const x={};p.forEach(y=>{const g=e.getBaseTarget(y);g!==void 0&&(x[y]=g)}),h.push({animation:x})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const h=i(d,c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function Q2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Jw(t,e):!1}function Yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z2(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class eA extends zr{constructor(t){super(t),t.animationState||(t.animationState=X2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Rc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let tA=0;class nA extends zr{constructor(){super(...arguments),this.id=tA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const rA={animation:{Feature:eA},exit:{Feature:nA}},Ug=(e,t)=>Math.abs(e-t);function sA(e,t){const n=Ug(e.x,t.x),r=Ug(e.y,t.y);return Math.sqrt(n**2+r**2)}class Nb{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$u(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=sA(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:w}=f,{timestamp:v}=ut;this.history.push({...w,timestamp:v});const{onStart:b,onMove:x}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Du(h,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=$u(f.type==="pointercancel"?this.lastMoveEventInfo:Du(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),w&&w(f,b)},!Hw(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=Lc(t),l=Du(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=ut;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,$u(l,this.history)),this.removeListeners=Pr(Gn(this.contextWindow,"pointermove",this.handlePointerMove),Gn(this.contextWindow,"pointerup",this.handlePointerUp),Gn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zn(this.updatePoint)}}function Du(e,t){return t?{point:t(e.point)}:e}function Bg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $u({point:e},t){return{point:e,delta:Bg(e,Pb(t)),offset:Bg(e,oA(t)),velocity:iA(t,.1)}}function oA(e){return e[0]}function Pb(e){return e[e.length-1]}function iA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Pb(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Tr(t)));)n--;if(!r)return{x:0,y:0};const o=Kn(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Dt(e){return e.max-e.min}function gf(e,t=0,n=.01){return Math.abs(e-t)<=n}function zg(e,t,n,r=.5){e.origin=r,e.originPoint=Fe(t.min,t.max,e.origin),e.scale=Dt(n)/Dt(t),(gf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Fe(n.min,n.max,e.origin)-e.originPoint,(gf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vi(e,t,n,r){zg(e.x,t.x,n.x,r?r.originX:void 0),zg(e.y,t.y,n.y,r?r.originY:void 0)}function Wg(e,t,n){e.min=n.min+t.min,e.max=e.min+Dt(t)}function aA(e,t,n){Wg(e.x,t.x,n.x),Wg(e.y,t.y,n.y)}function Hg(e,t,n){e.min=t.min-n.min,e.max=e.min+Dt(t)}function yi(e,t,n){Hg(e.x,t.x,n.x),Hg(e.y,t.y,n.y)}function lA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Fe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Fe(n,e,r.max):Math.min(e,n)),e}function qg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cA(e,{top:t,left:n,bottom:r,right:s}){return{x:qg(e.x,n,s),y:qg(e.y,t,r)}}function Gg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function uA(e,t){return{x:Gg(e.x,t.x),y:Gg(e.y,t.y)}}function dA(e,t){let n=.5;const r=Dt(e),s=Dt(t);return s>r?n=Gi(t.min,t.max-r,e.min):r>s&&(n=Gi(e.min,e.max-s,t.min)),Ir(0,1,n)}function fA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const vf=.35;function hA(e=vf){return e===!1?e=0:e===!0&&(e=vf),{x:Kg(e,"left","right"),y:Kg(e,"top","bottom")}}function Kg(e,t,n){return{min:Yg(e,t),max:Yg(e,n)}}function Yg(e,t){return typeof e=="number"?e:e[t]||0}const Jg=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:Jg(),y:Jg()}),Xg=()=>({min:0,max:0}),Ge=()=>({x:Xg(),y:Xg()});function Bt(e){return[e("x"),e("y")]}function Tb({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function pA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fu(e){return e===void 0||e===1}function yf({scale:e,scaleX:t,scaleY:n}){return!Fu(e)||!Fu(t)||!Fu(n)}function Zr(e){return yf(e)||Ab(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Ab(e){return Qg(e.x)||Qg(e.y)}function Qg(e){return e&&e!=="0%"}function Yl(e,t,n){const r=e-n,s=t*r;return n+s}function Zg(e,t,n,r,s){return s!==void 0&&(e=Yl(e,s,r)),Yl(e,n,r)+t}function xf(e,t=0,n=1,r,s){e.min=Zg(e.min,t,n,r,s),e.max=Zg(e.max,t,n,r,s)}function Rb(e,{x:t,y:n}){xf(e.x,t.translate,t.scale,t.originPoint),xf(e.y,n.translate,n.scale,n.originPoint)}function gA(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&no(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Rb(e,i)),r&&Zr(o.latestValues)&&no(e,o.latestValues))}t.x=ev(t.x),t.y=ev(t.y)}function ev(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function dr(e,t){e.min=e.min+t,e.max=e.max+t}function tv(e,t,[n,r,s]){const o=t[s]!==void 0?t[s]:.5,i=Fe(e.min,e.max,o);xf(e,t[n],t[r],i,t.scale)}const vA=["x","scaleX","originX"],yA=["y","scaleY","originY"];function no(e,t){tv(e.x,t,vA),tv(e.y,t,yA)}function Ob(e,t){return Tb(mA(e.getBoundingClientRect(),t))}function xA(e,t,n){const r=Ob(e,n),{scroll:s}=t;return s&&(dr(r.x,s.offset.x),dr(r.y,s.offset.y)),r}const Ib=({current:e})=>e?e.ownerDocument.defaultView:null,wA=new WeakMap;class bA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lc(d,"page").point)},o=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:w}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Gw(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bt(b=>{let x=this.getAxisMotionValue(b).get()||0;if(Tn.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const g=y.layout.layoutBox[b];g&&(x=Dt(g)*(parseFloat(x)/100))}}this.originPoint[b]=x}),w&&Pe.update(()=>w(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:w,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=jA(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Bt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Nb(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Ib(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Pe.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ma(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=lA(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Zs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=cA(s.layoutBox,n):this.constraints=!1,this.elastic=hA(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Bt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=fA(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Zs(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=xA(r,s.root,this.visualElement.getTransformPagePoint());let i=uA(s.layout.layoutBox,o);if(n){const l=n(pA(i));this.hasMutatedConstraints=!!l,l&&(i=Tb(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Bt(d=>{if(!Ma(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(mp(t,r,0,n))}stopAnimation(){Bt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Bt(n=>{const{drag:r}=this.getProps();if(!Ma(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(t[n]-Fe(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zs(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Bt(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=dA({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bt(i=>{if(!Ma(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Fe(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;wA.set(this.visualElement,this);const t=this.visualElement.current,n=Gn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Zs(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=Hn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Bt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=vf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Ma(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class SA extends zr{constructor(t){super(t),this.removeGroupControls=We,this.removeListeners=We,this.controls=new bA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||We}unmount(){this.removeGroupControls(),this.removeListeners()}}const nv=e=>(t,n)=>{e&&Pe.update(()=>e(t,n))};class _A extends zr{constructor(){super(...arguments),this.removePointerDownListener=We}onPointerDown(t){this.session=new Nb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ib(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:nv(t),onStart:nv(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&Pe.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=Gn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function CA(){const e=m.useContext(Tc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=m.useId();return m.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const cl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const n=rv(e,t.target.x),r=rv(e,t.target.y);return`${n}% ${r}%`}},EA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Lr.parse(e);if(s.length>5)return r;const o=Lr.createTransformer(e),i=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=Fe(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class kA extends oe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;IP(NA),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),cl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Pe.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lb(e){const[t,n]=CA(),r=m.useContext(tp);return oe.createElement(kA,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(Tw),isPresent:t,safeToRemove:n})}const NA={borderRadius:{...Xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xo,borderTopRightRadius:Xo,borderBottomLeftRadius:Xo,borderBottomRightRadius:Xo,boxShadow:EA},Mb=["TopLeft","TopRight","BottomLeft","BottomRight"],PA=Mb.length,sv=e=>typeof e=="string"?parseFloat(e):e,ov=e=>typeof e=="number"||te.test(e);function TA(e,t,n,r,s,o){s?(e.opacity=Fe(0,n.opacity!==void 0?n.opacity:1,AA(r)),e.opacityExit=Fe(t.opacity!==void 0?t.opacity:1,0,RA(r))):o&&(e.opacity=Fe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<PA;i++){const l=`border${Mb[i]}Radius`;let c=iv(t,l),u=iv(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ov(c)===ov(u)?(e[l]=Math.max(Fe(sv(c),sv(u),r),0),(Tn.test(u)||Tn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Fe(t.rotate||0,n.rotate||0,r))}function iv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const AA=Db(0,.5,ob),RA=Db(.5,.95,We);function Db(e,t,n){return r=>r<e?0:r>t?1:n(Gi(e,t,r))}function av(e,t){e.min=t.min,e.max=t.max}function Ut(e,t){av(e.x,t.x),av(e.y,t.y)}function lv(e,t,n,r,s){return e-=t,e=Yl(e,1/n,r),s!==void 0&&(e=Yl(e,1/s,r)),e}function OA(e,t=0,n=1,r=.5,s,o=e,i=e){if(Tn.test(t)&&(t=parseFloat(t),t=Fe(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Fe(o.min,o.max,r);e===o&&(l-=t),e.min=lv(e.min,t,n,l,s),e.max=lv(e.max,t,n,l,s)}function cv(e,t,[n,r,s],o,i){OA(e,t[n],t[r],t[s],t.scale,o,i)}const IA=["x","scaleX","originX"],LA=["y","scaleY","originY"];function uv(e,t,n,r){cv(e.x,t,IA,n?n.x:void 0,r?r.x:void 0),cv(e.y,t,LA,n?n.y:void 0,r?r.y:void 0)}function dv(e){return e.translate===0&&e.scale===1}function $b(e){return dv(e.x)&&dv(e.y)}function MA(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Fb(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function fv(e){return Dt(e.x)/Dt(e.y)}class DA{constructor(){this.members=[]}add(t){gp(this.members,t),t.scheduleRender()}remove(t){if(vp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hv(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const $A=(e,t)=>e.depth-t.depth;class FA{constructor(){this.children=[],this.isDirty=!1}add(t){gp(this.children,t),this.isDirty=!0}remove(t){vp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($A),this.isDirty=!1,this.children.forEach(t)}}function VA(e,t){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(Zn(r),e(o-t))};return Pe.read(r,!0),()=>Zn(r)}function UA(e){window.MotionDebug&&window.MotionDebug.record(e)}function BA(e){return e instanceof SVGElement&&e.tagName!=="svg"}function zA(e,t,n){const r=Nt(e)?e:bo(e);return r.start(mp("",r,t,n)),r.animation}const pv=["","X","Y","Z"],WA={visibility:"hidden"},mv=1e3;let HA=0;const es={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Vb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=HA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,es.totalNodes=es.resolvedTargetDeltas=es.recalculatedProjection=0,this.nodes.forEach(KA),this.nodes.forEach(ZA),this.nodes.forEach(eR),this.nodes.forEach(YA),UA(es)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new FA)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new yp),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=BA(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=VA(h,250),cl.hasAnimatedSinceResize&&(cl.hasAnimatedSinceResize=!1,this.nodes.forEach(vv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||oR,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!Fb(this.targetLayout,w)||p,g=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const j={...pp(v,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||vv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tR),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gv);return}this.isUpdating||this.nodes.forEach(XA),this.isUpdating=!1,this.nodes.forEach(QA),this.nodes.forEach(qA),this.nodes.forEach(GA),this.clearAllSnapshots();const l=performance.now();ut.delta=Ir(0,1e3/60,l-ut.timestamp),ut.timestamp=l,ut.isProcessing=!0,Pu.update.process(ut),Pu.preRender.process(ut),Pu.render.process(ut),ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(JA),this.sharedNodes.forEach(nR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!$b(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||Zr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),iR(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Ge();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(dr(l.x,c.offset.x),dr(l.y,c.offset.y)),l}removeElementScroll(i){const l=Ge();Ut(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ut(l,i);const{scroll:h}=this.root;h&&(dr(l.x,-h.offset.x),dr(l.y,-h.offset.y))}dr(l.x,d.offset.x),dr(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=Ge();Ut(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&no(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zr(d.latestValues)&&no(c,d.latestValues)}return Zr(this.latestValues)&&no(c,this.latestValues),c}removeTransform(i){const l=Ge();Ut(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Zr(u.latestValues))continue;yf(u.latestValues)&&u.updateSnapshot();const d=Ge(),f=u.measurePageBox();Ut(d,f),uv(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Zr(this.latestValues)&&uv(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ut.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),yi(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ut(this.target,this.layout.layoutBox),Rb(this.target,this.targetDelta)):Ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),yi(this.relativeTargetOrigin,this.target,p.target),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}es.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yf(this.parent.latestValues)||Ab(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ut.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ut(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;gA(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=to(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=to(),this.projectionDeltaWithTransform=to());const v=this.projectionTransform;vi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=hv(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),es.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=to();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ge(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,v=p!==w,b=this.getStack(),x=!b||b.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(sR));this.animationProgress=0;let g;this.mixTargetDelta=j=>{const S=j/1e3;yv(f.x,i.x,S),yv(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rR(this.relativeTarget,this.relativeTargetOrigin,h,S),g&&MA(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Ge()),Ut(g,this.relativeTarget)),v&&(this.animationValues=d,TA(d,u,this.latestValues,S,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{cl.hasAnimatedSinceResize=!0,this.currentAnimation=zA(0,mv,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&Ub(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ge();const f=Dt(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=Dt(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Ut(l,c),no(l,d),vi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new DA),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<pv.length;d++){const f="rotate"+pv[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WA;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ll(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ll(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=hv(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:w}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Bl){if(h[v]===void 0)continue;const{correct:b,applyTo:x}=Bl[v],y=u.transform==="none"?h[v]:b(h[v],f);if(x){const g=x.length;for(let j=0;j<g;j++)u[x[j]]=y}else u[v]=y}return this.options.layoutId&&(u.pointerEvents=f===this?ll(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(gv),this.root.sharedNodes.clear()}}}function qA(e){e.updateLayout()}function GA(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;o==="size"?Bt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],p=Dt(h);h.min=r[f].min,h.max=h.min+p}):Ub(o,n.layoutBox,r)&&Bt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],p=Dt(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=to();vi(l,r,n.layoutBox);const c=to();i?vi(c,e.applyTransform(s,!0),n.measuredBox):vi(c,r,n.layoutBox);const u=!$b(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const w=Ge();yi(w,n.layoutBox,h.layoutBox);const v=Ge();yi(v,r,p.layoutBox),Fb(w,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function KA(e){es.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function YA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JA(e){e.clearSnapshot()}function gv(e){e.clearMeasurements()}function XA(e){e.isLayoutDirty=!1}function QA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ZA(e){e.resolveTargetDelta()}function eR(e){e.calcProjection()}function tR(e){e.resetRotation()}function nR(e){e.removeLeadSnapshot()}function yv(e,t,n){e.translate=Fe(t.translate,0,n),e.scale=Fe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xv(e,t,n,r){e.min=Fe(t.min,n.min,r),e.max=Fe(t.max,n.max,r)}function rR(e,t,n,r){xv(e.x,t.x,n.x,r),xv(e.y,t.y,n.y,r)}function sR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oR={duration:.45,ease:[.4,0,.1,1]},wv=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),bv=wv("applewebkit/")&&!wv("chrome/")?Math.round:We;function jv(e){e.min=bv(e.min),e.max=bv(e.max)}function iR(e){jv(e.x),jv(e.y)}function Ub(e,t,n){return e==="position"||e==="preserve-aspect"&&!gf(fv(t),fv(n),.2)}const aR=Vb({attachResizeListener:(e,t)=>Hn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vu={current:void 0},Bb=Vb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vu.current){const e=new aR({});e.mount(window),e.setOptions({layoutScroll:!0}),Vu.current=e}return Vu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lR={pan:{Feature:_A},drag:{Feature:SA,ProjectionNode:Bb,MeasureLayout:Lb}},cR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function uR(e){const t=cR.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function wf(e,t,n=1){const[r,s]=uR(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return _b(i)?parseFloat(i):i}else return cf(s)?wf(s,t,n+1):s}function dR(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const o=s.get();if(!cf(o))return;const i=wf(o,r);i&&s.set(i)});for(const s in t){const o=t[s];if(!cf(o))continue;const i=wf(o,r);i&&(t[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:t,transitionEnd:n}}const fR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zb=e=>fR.has(e),hR=e=>Object.keys(e).some(zb),Sv=e=>e===Ps||e===te,_v=(e,t)=>parseFloat(e.split(", ")[t]),Cv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return _v(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?_v(o[1],e):0}},pR=new Set(["x","y","z"]),mR=ra.filter(e=>!pR.has(e));function gR(e){const t=[];return mR.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const jo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Cv(4,13),y:Cv(5,14)};jo.translateX=jo.x;jo.translateY=jo.y;const vR=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=jo[u](r,o)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=jo[u](c,o)}),e},yR=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(zb);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=Jo(d);const h=t[c];let p;if(Wl(h)){const w=h.length,v=h[0]===null?1:0;d=h[v],f=Jo(d);for(let b=v;b<w&&h[b]!==null;b++)p?cp(Jo(h[b])===p):p=Jo(h[b])}else p=Jo(h);if(f!==p)if(Sv(f)&&Sv(p)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===te&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(i||(o=gR(e),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=vR(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Ac&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function xR(e,t,n,r){return hR(t)?yR(e,t,n,r):{target:t,transitionEnd:r}}const wR=(e,t,n,r)=>{const s=dR(e,t,r);return t=s.target,r=s.transitionEnd,xR(e,t,n,r)},bf={current:null},Wb={current:!1};function bR(){if(Wb.current=!0,!!Ac)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bf.current=e.matches;e.addListener(t),t()}else bf.current=!1}function jR(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],i=n[s];if(Nt(o))e.addValue(s,o),Kl(r)&&r.add(s);else if(Nt(i))e.addValue(s,bo(o,{owner:e})),Kl(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,bo(l!==void 0?l:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Ev=new WeakMap,Hb=Object.keys(qi),SR=Hb.length,kv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],_R=ep.length;class CR{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Pe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Oc(n),this.isVariantNode=Pw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&Nt(h)&&(h.set(l[f],!1),Kl(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Ev.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Wb.current||bR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ev.delete(this.current),this.projection&&this.projection.unmount(),Zn(this.notifyUpdate),Zn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ns.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Pe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let i,l;for(let c=0;c<SR;c++){const u=Hb[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=qi[u];h&&(i=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Zs(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<kv.length;r++){const s=kv[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=jR(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<_R;r++){const s=ep[r],o=this.props[s];(Hi(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=bo(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=lp(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Nt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class qb extends CR{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},o){let i=B2(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){V2(this,r,i);const l=wR(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function ER(e){return window.getComputedStyle(e)}class kR extends qb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ns.has(n)){const r=hp(n);return r&&r.default||0}else{const r=ER(t),s=(Ow(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ob(t,n)}build(t,n,r,s){rp(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return ap(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){Fw(t,n,r,s)}}class NR extends qb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ns.has(n)){const r=hp(n);return r&&r.default||0}return n=Vw.has(n)?n:Qh(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ge()}scrapeMotionValuesFromProps(t,n){return Bw(t,n)}build(t,n,r,s){op(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){Uw(t,n,r,s)}mount(t){this.isSVGTag=ip(t.tagName),super.mount(t)}}const PR=(e,t)=>np(e)?new NR(t,{enableHardwareAcceleration:!1}):new kR(t,{enableHardwareAcceleration:!0}),TR={layout:{ProjectionNode:Bb,MeasureLayout:Lb}},AR={...rA,...ST,...lR,...TR},Wr=RP((e,t)=>uT(e,t,AR,PR));function Gb(){const e=m.useRef(!1);return Xh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function RR(){const e=Gb(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>Pe.postRender(r),[r]),t]}class OR extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function IR({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),m.createElement(OR,{isPresent:t,childRef:r,sizeRef:s},m.cloneElement(e,{ref:r}))}const Uu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=zw(LR),c=m.useId(),u=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return m.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(e=m.createElement(IR,{isPresent:n},e)),m.createElement(Tc.Provider,{value:u},e)};function LR(){return new Map}function MR(e){return m.useEffect(()=>()=>e(),[])}const ts=e=>e.key||"";function DR(e,t){e.forEach(n=>{const r=ts(n);t.set(r,n)})}function $R(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const FR=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=m.useContext(tp).forceRender||RR()[0],c=Gb(),u=$R(e);let d=u;const f=m.useRef(new Map).current,h=m.useRef(d),p=m.useRef(new Map).current,w=m.useRef(!0);if(Xh(()=>{w.current=!1,DR(u,p),h.current=d}),MR(()=>{w.current=!0,p.clear(),f.clear()}),w.current)return m.createElement(m.Fragment,null,d.map(y=>m.createElement(Uu,{key:ts(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},y)));d=[...d];const v=h.current.map(ts),b=u.map(ts),x=v.length;for(let y=0;y<x;y++){const g=v[y];b.indexOf(g)===-1&&!f.has(g)&&f.set(g,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((y,g)=>{if(b.indexOf(g)!==-1)return;const j=p.get(g);if(!j)return;const S=v.indexOf(g);let k=y;if(!k){const E=()=>{f.delete(g);const _=Array.from(p.keys()).filter(C=>!b.includes(C));if(_.forEach(C=>p.delete(C)),h.current=u.filter(C=>{const R=ts(C);return R===g||_.includes(R)}),!f.size){if(c.current===!1)return;l(),r&&r()}};k=m.createElement(Uu,{key:ts(j),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:o,mode:i},j),f.set(g,k)}d.splice(S,0,k)}),d=d.map(y=>{const g=y.key;return f.has(g)?y:m.createElement(Uu,{key:ts(y),isPresent:!0,presenceAffectsLayout:o,mode:i},y)}),m.createElement(m.Fragment,null,f.size?d:d.map(y=>m.cloneElement(y)))},VR=Ec("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=oe.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?tN:"button";return a.jsx(i,{className:me(VR({variant:t,size:n,className:e})),ref:o,...s})});U.displayName="Button";const K=oe.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));K.displayName="Input";var UR="Label",Kb=m.forwardRef((e,t)=>a.jsx(le.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Kb.displayName=UR;var Yb=Kb;const BR=Ec("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=oe.forwardRef(({className:e,...t},n)=>a.jsx(Yb,{ref:n,className:me(BR(),e),...t}));H.displayName=Yb.displayName;const ne=oe.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const je=oe.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",e),...t}));je.displayName="CardHeader";const Se=oe.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));Se.displayName="CardTitle";const Jb=oe.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",e),...t}));Jb.displayName="CardDescription";const re=oe.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("p-6 pt-0",e),...t}));re.displayName="CardContent";const zR=oe.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",e),...t}));zR.displayName="CardFooter";const WR="modulepreload",HR=function(e){return"/"+e},Nv={},aa=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=HR(o),o in Nv)return;Nv[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":WR,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},qR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>aa(()=>Promise.resolve().then(()=>Io),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class xp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class GR extends xp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pv extends xp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tv extends xp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jf||(jf={}));var KR=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class YR{constructor(t,{headers:n={},customFetch:r,region:s=jf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=qR(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return KR(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new GR(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Pv(f);if(!f.ok)throw new Tv(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield f.json():p==="application/octet-stream"?w=yield f.blob():p==="text/event-stream"?w=f:p==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Tv||s instanceof Pv?s.context:void 0}}})}}var St={},wp={},Dc={},la={},$c={},Fc={},JR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},So=JR();const XR=So.fetch,Xb=So.fetch.bind(So),Qb=So.Headers,QR=So.Request,ZR=So.Response,Io=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qb,Request:QR,Response:ZR,default:Xb,fetch:XR},Symbol.toStringTag,{value:"Module"})),eO=KS(Io);var Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});let tO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Vc.default=tO;var Zb=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fc,"__esModule",{value:!0});const nO=Zb(eO),rO=Zb(Vc);let sO=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,u;let d=null,f=null,h=null,p=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await o.text();try{d=JSON.parse(b),Array.isArray(d)&&o.status===404&&(f=[],d=null,p=200,w="OK")}catch{o.status===404&&b===""?(p=204,w="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,w="OK"),d&&this.shouldThrowOnError)throw new rO.default(d)}return{error:d,data:f,count:h,status:p,statusText:w}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Fc.default=sO;var oO=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});const iO=oO(Fc);let aO=class extends iO.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};$c.default=aO;var lO=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});const cO=lO($c);let uO=class extends cO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};la.default=uO;var dO=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dc,"__esModule",{value:!0});const Qo=dO(la);let fO=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new Qo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Qo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Qo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Dc.default=fO;var ej=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wp,"__esModule",{value:!0});const hO=ej(Dc),pO=ej(la);let mO=class tj{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new hO.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new pO.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};wp.default=mO;var Lo=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(St,"__esModule",{value:!0});St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const nj=Lo(wp);St.PostgrestClient=nj.default;const rj=Lo(Dc);St.PostgrestQueryBuilder=rj.default;const sj=Lo(la);St.PostgrestFilterBuilder=sj.default;const oj=Lo($c);St.PostgrestTransformBuilder=oj.default;const ij=Lo(Fc);St.PostgrestBuilder=ij.default;const aj=Lo(Vc);St.PostgrestError=aj.default;var gO=St.default={PostgrestClient:nj.default,PostgrestQueryBuilder:rj.default,PostgrestFilterBuilder:sj.default,PostgrestTransformBuilder:oj.default,PostgrestBuilder:ij.default,PostgrestError:aj.default};const{PostgrestClient:vO,PostgrestQueryBuilder:H4,PostgrestFilterBuilder:q4,PostgrestTransformBuilder:G4,PostgrestBuilder:K4,PostgrestError:Y4}=gO;function yO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const xO=yO(),wO="2.12.2",bO=`realtime-js/${wO}`,jO="1.0.0",lj=1e4,SO=1e3;var xi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xi||(xi={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var ln;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ln||(ln={}));var Sf;(function(e){e.websocket="websocket"})(Sf||(Sf={}));var rs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rs||(rs={}));class _O{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class cj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ke||(ke={}));const Av=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=CO(i,e,t,s),o),{})},CO=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?uj(o,i):_f(i)},uj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return PO(t,n)}switch(e){case ke.bool:return EO(t);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return kO(t);case ke.json:case ke.jsonb:return NO(t);case ke.timestamp:return TO(t);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return _f(t);default:return _f(t)}},_f=e=>e,EO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},NO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>uj(t,l))}return e},TO=e=>typeof e=="string"?e.replace(" ","T"):e,dj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Bu{constructor(t,n,r={},s=lj){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rv||(Rv={}));class wi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=wi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wi.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),w=d.filter(b=>p.indexOf(b.presence_ref)<0),v=f.filter(b=>h.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ov;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ov||(Ov={}));var Jl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jl||(Jl={}));var Vn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vn||(Vn={}));class bp{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,ln.join,this.params,this.timeout),this.rejoinTimer=new cj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new wi(this),this.broadcastEndpointURL=dj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Jl.PRESENCE],d={},f={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Vn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Vn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(Vn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,b=[];for(let x=0;x<v;x++){const y=w[x],{filter:{event:g,schema:j,table:S,filter:k}}=y,E=h&&h[x];if(E&&E.event===g&&E.schema===j&&E.table===S&&E.filter===k)b.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Vn.SUBSCRIBED);return}}).receive("error",h=>{this.state=rt.errored,t==null||t(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===rt.joined&&t===Jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Bu(this,ln.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bu(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ln;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,v,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var w,v,b,x,y,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,S=(w=p.filter)===null||w===void 0?void 0:w.event;return j&&((v=n.ids)===null||v===void 0?void 0:v.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:v,table:b,commit_timestamp:x,type:y,errors:g}=w;h=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:x,eventType:y,new:{},old:{},errors:g}),this._getPayloadRecords(w))}p.callback(h,r)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&bp.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ln.close,{},t)}_onError(t){this._on(ln.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Av(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Av(t.columns,t.old_record)),n}}const Iv=()=>{},AO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RO{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lj,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iv,this.ref=0,this.logger=Iv,this.conn=null,this.sendBuffer=[],this.serializer=new _O,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>aa(()=>Promise.resolve().then(()=>Io),void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Sf.websocket}`,this.httpEndpoint=dj(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(setTimeout(()=>{this.setAuth().catch(t=>{this.log("error","error setting auth",t)})},0),!this.conn){if(this.transport||(this.transport=xO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xi.connecting:return rs.Connecting;case xi.open:return rs.Open;case xi.closing:return rs.Closing;default:return rs.Closed}}isConnected(){return this.connectionState()===rs.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new bp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:bO};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ln.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(SO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ln.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([AO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class jp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class OO extends jp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cf extends jp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var IO=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const fj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>aa(()=>Promise.resolve().then(()=>Io),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},LO=()=>IO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield aa(()=>Promise.resolve().then(()=>Io),void 0)).Response:Response}),Ef=e=>{if(Array.isArray(e))return e.map(n=>Ef(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Ef(r)}),t},MO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ts=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const zu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DO=(e,t,n)=>Ts(void 0,void 0,void 0,function*(){const r=yield LO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new OO(zu(s),o,i))}).catch(s=>{t(new Cf(zu(s),s))}):t(new Cf(zu(e),e))}),$O=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(MO(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function ca(e,t,n,r,s,o){return Ts(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,$O(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>DO(c,l,r))})})}function Xl(e,t,n,r){return Ts(this,void 0,void 0,function*(){return ca(e,"GET",t,n,r)})}function Un(e,t,n,r,s){return Ts(this,void 0,void 0,function*(){return ca(e,"POST",t,r,s,n)})}function kf(e,t,n,r,s){return Ts(this,void 0,void 0,function*(){return ca(e,"PUT",t,r,s,n)})}function FO(e,t,n,r){return Ts(this,void 0,void 0,function*(){return ca(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hj(e,t,n,r,s){return Ts(this,void 0,void 0,function*(){return ca(e,"DELETE",t,r,s,n)})}var wt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const VO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UO{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=fj(s)}uploadOrUpdate(t,n,r,s){return wt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Lv),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?kf:Un)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}upload(t,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return wt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Lv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield kf(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Un(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new jp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}update(t,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return wt(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}copy(t,n,r){return wt(this,void 0,void 0,function*(){try{return{data:{path:(yield Un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return wt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Un(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return wt(this,void 0,void 0,function*(){try{const s=yield Un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}download(t,n){return wt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Xl(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}info(t){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Xl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ef(r),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}exists(t){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield FO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ze(r)&&r instanceof Cf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return wt(this,void 0,void 0,function*(){try{return{data:yield hj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}list(t,n,r){return wt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},VO),n),{prefix:t||""});return{data:yield Un(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const BO="2.10.2",zO={"X-Client-Info":`storage-js/${BO}`};var Rs=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class WO{constructor(t,n={},r,s){const o=new URL(t);if(s!=null&&s.useNewHostname){const i=/supabase\.(co|in|red)$/.test(o.hostname),l="/storage";i&&!o.hostname.includes("storage.supabase.")&&o.pathname.startsWith(l)&&(o.pathname=o.pathname.substring(l.length),o.hostname=o.hostname.replace("supabase.","storage.supabase."))}this.url=o.href,this.headers=Object.assign(Object.assign({},zO),n),this.fetch=fj(r)}listBuckets(){return Rs(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ze(t))return{data:null,error:t};throw t}})}getBucket(t){return Rs(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Rs(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Rs(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Rs(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Rs(this,void 0,void 0,function*(){try{return{data:yield hj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}}class HO extends WO{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new UO(this.url,this.headers,t,this.fetch)}}const qO="2.39.0";let si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";const GO={"X-Client-Info":`supabase-js-${si}/${qO}`};var KO=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const YO=e=>{let t;return e?t=e:typeof fetch>"u"?t=Xb:t=fetch,(...n)=>t(...n)},JO=()=>typeof Headers>"u"?Qb:Headers,XO=(e,t,n)=>{const r=YO(n),s=JO();return(o,i)=>KO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};function QO(e){return e.replace(/\/$/,"")}function ZO(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o)}}const pj="2.70.0",Vs=30*1e3,Nf=3,Wu=Nf*Vs,eI="http://localhost:9999",tI="supabase.auth.token",nI={"X-Client-Info":`gotrue-js/${pj}`},Pf="X-Supabase-Api-Version",mj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sI=6e5;class Sp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class oI extends Sp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function iI(e){return ae(e)&&e.name==="AuthApiError"}class gj extends Sp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hr extends Sp{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class ar extends Hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aI(e){return ae(e)&&e.name==="AuthSessionMissingError"}class Da extends Hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $a extends Hr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fa extends Hr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lI(e){return ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mv extends Hr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tf extends Hr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Hu(e){return ae(e)&&e.name==="AuthRetryableFetchError"}class Dv extends Hr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bi extends Hr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$v=` 	
\r=`.split(""),cI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$v.length;t+=1)e[$v[t].charCodeAt(0)]=-2;for(let t=0;t<Ql.length;t+=1)e[Ql[t].charCodeAt(0)]=t;return e})();function Fv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ql[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ql[r]),t.queuedBits-=6}}function vj(e,t,n){const r=cI[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vv(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{fI(i,r,n)};for(let i=0;i<e.length;i+=1)vj(e.charCodeAt(i),s,o);return t.join("")}function uI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}uI(r,t)}}function fI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function hI(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)vj(e.charCodeAt(s),n,r);return new Uint8Array(t)}function pI(e){const t=[];return dI(e,n=>t.push(n)),new Uint8Array(t)}function mI(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Fv(s,n,r)),Fv(null,n,r),t.join("")}function gI(e){return Math.round(Date.now()/1e3)+e}function vI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const nn=()=>typeof window<"u"&&typeof document<"u",Jr={tested:!1,writable:!1},ji=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jr.tested)return Jr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jr.tested=!0,Jr.writable=!0}catch{Jr.tested=!0,Jr.writable=!1}return Jr.writable};function yI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const yj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>aa(()=>Promise.resolve().then(()=>Io),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},xI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xj=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Va=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ua=async(e,t)=>{await e.removeItem(t)};class Uc{constructor(){this.promise=new Uc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Uc.promiseConstructor=Promise;function qu(e){const t=e.split(".");if(t.length!==3)throw new bi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!rI.test(t[r]))throw new bi("JWT not in base64url format");return{header:JSON.parse(Vv(t[0])),payload:JSON.parse(Vv(t[1])),signature:hI(t[2]),raw:{header:t[0],payload:t[1]}}}async function wI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bI(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function jI(e){return("0"+e.toString(16)).substr(-2)}function SI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,jI).join("")}async function _I(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function CI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await _I(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Os(e,t,n=!1){const r=SI();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await xj(e,`${t}-code-verifier`,s);const o=await CI(r);return[o,r===o?"plain":"s256"]}const EI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kI(e){const t=e.headers.get(Pf);if(!t||!t.match(EI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(e){if(!TI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var AI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ns=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RI=[502,503,504];async function Uv(e){var t;if(!xI(e))throw new Tf(ns(e),0);if(RI.includes(e.status))throw new Tf(ns(e),e.status);let n;try{n=await e.json()}catch(o){throw new gj(ns(o),o)}let r;const s=kI(e);if(s&&s.getTime()>=mj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Dv(ns(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ar}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Dv(ns(n),e.status,n.weak_password.reasons);throw new oI(ns(n),e.status||500,r)}const OI=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ue(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Pf]||(o[Pf]=mj["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await II(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function II(e,t,n,r,s,o){const i=OI(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Tf(ns(c),0)}if(l.ok||await Uv(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Uv(c)}}function $n(e){var t;let n=null;$I(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=gI(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Bv(e){const t=$n(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LI(e){return{data:e,error:null}}function MI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=AI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function DI(e){return e}function $I(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gu=["global","local","others"];var FI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class VI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=yj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Gu[0]){if(Gu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gu.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:pr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=FI(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:MI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:DI});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Is(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Is(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:pr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Is(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:pr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Is(t.userId);try{const{data:n,error:r}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Is(t.userId),Is(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}const UI={getItem:e=>ji()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ji()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ji()&&globalThis.localStorage.removeItem(e)}};function zv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function BI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ls={debug:!!(globalThis&&ji()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zI extends wj{}async function WI(e,t,n){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ls.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}BI();const HI={url:eI,storageKey:tI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wv(e,t,n){return await n()}class Ki{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ki.nextInstanceID,Ki.nextInstanceID+=1,this.instanceID>0&&nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},HI),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new VI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=yj(s.fetch),this.lock=s.lock||Wv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=WI:this.lock=Wv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ji()?this.storage=UI:(this.memoryStorage={},this.storage=zv(this.memoryStorage)):(this.memoryStorage={},this.storage=zv(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pj}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=yI(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),nn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),lI(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?{error:n}:{error:new gj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:$n}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Os(this.storage,this.storageKey)),o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:$n})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$n})}else throw new $a("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bv})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bv})}else throw new $a("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Da}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,l,c,u,d,f,h,p;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:b,wallet:x,statement:y,options:g}=t;let j;if(nn())if(typeof x=="object")j=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const S=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:b,error:x}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:mI(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$n});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Da}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(ae(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Va(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:$n});if(await Ua(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Da}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ae(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$n}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Da}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Os(this.storage,this.storageKey));const{error:f}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new $a("You must provide either an email or phone number.")}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:$n});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Os(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:LI})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ar;const{error:s}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ae(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new $a("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Wu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:pr})})}catch(n){if(ae(n))return aI(n)&&(await this._removeSession(),await Ua(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new ar;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Os(this.storage,this.storageKey));const{data:u,error:d}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:pr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ar;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=qu(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ar;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!nn())throw new Fa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mv("No code detected.");const{data:y,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new Fa("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:v,error:b}=await this._getUser(o);if(b)throw b;const x={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(ae(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Va(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(iI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ua(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=vI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Os(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return nn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ae(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await bI(async s=>(s>0&&await wI(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$n})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Hu(o)&&Date.now()+i-r<Vs})}catch(r){if(this._debug(n,"error",r),ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Va(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Wu;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Wu}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Hu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Uc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new ar;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ae(o)){const i={session:null,error:o};return Hu(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xj(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ua(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vs}ms, refresh threshold is ${Nf} ticks`),s<=Nf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Os(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=qu(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+sI>Date.now()))return r;const{data:s,error:o}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new bi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new bi("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};r=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=qu(r);if(NI(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=PI(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,pI(`${l}.${c}`)))throw new bi("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}}Ki.nextInstanceID=0;class qI extends Ki{constructor(t){super(t)}}var GI=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const KI={headers:GO},YI={schema:"public"},JI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XI={};class QI{constructor(t,n,r){var s,o,i,l,c,u,d,f;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=QO(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:YI,realtime:XI,auth:Object.assign(Object.assign({},JI),{storageKey:p}),global:KI},v=ZO(r??{},w);this.storageKey=(o=(s=v.auth)===null||s===void 0?void 0:s.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=(i=v.global)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,(u=v.global)===null||u===void 0?void 0:u.fetch),this.fetch=XO(n,this._getAccessToken.bind(this),(d=v.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new vO(`${h}/rest/v1`,{headers:this.headers,schema:(f=v.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new YR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new HO(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return GI(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qI({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,debug:l,fetch:u})}_initRealtimeClient(t){return new RO(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZI=(e,t,n)=>new QI(e,t,n),eL="https://ovpfcyqudltassvckvxk.supabase.co",tL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im92cGZjeXF1ZGx0YXNzdmNrdnhrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNzc0NTMsImV4cCI6MjA2NTg1MzQ1M30.0VVPA3XWy0nk5BQFa9e2KlFxqoMhU7MVkbBXq_q8XrM",Q=ZI(eL,tL),ze={ADMIN:"admin",MANAGER:"manager",CASHIER:"cashier",STOCK:"stock",SALESPERSON:"salesperson",NONE:"none"},X={MANAGE_USERS:"manage_users",MANAGE_PRODUCTS:"manage_products",MANAGE_STOCK:"manage_stock",MANAGE_CATEGORIES:"manage_categories",APPLY_DISCOUNTS:"apply_discounts",CANCEL_SALES:"cancel_sales",VIEW_REPORTS:"view_reports",PROCESS_SALES:"process_sales",VIEW_ALL_STORES_DATA:"view_all_stores_data",SHARE_STOCK:"share_stock",CASH_REGISTER_MANAGEMENT:"cash_register_management"},ul={[ze.ADMIN]:[X.MANAGE_USERS,X.MANAGE_PRODUCTS,X.MANAGE_STOCK,X.MANAGE_CATEGORIES,X.APPLY_DISCOUNTS,X.CANCEL_SALES,X.VIEW_REPORTS,X.PROCESS_SALES,X.VIEW_ALL_STORES_DATA,X.SHARE_STOCK,X.CASH_REGISTER_MANAGEMENT],[ze.MANAGER]:[X.MANAGE_PRODUCTS,X.MANAGE_STOCK,X.MANAGE_CATEGORIES,X.APPLY_DISCOUNTS,X.CANCEL_SALES,X.VIEW_REPORTS,X.PROCESS_SALES,X.SHARE_STOCK,X.CASH_REGISTER_MANAGEMENT],[ze.CASHIER]:[X.PROCESS_SALES],[ze.STOCK]:[X.MANAGE_STOCK,X.MANAGE_PRODUCTS,X.MANAGE_CATEGORIES,X.SHARE_STOCK],[ze.SALESPERSON]:[X.PROCESS_SALES],[ze.NONE]:[]},$t=(e,t)=>{var n;return((n=ul[e])==null?void 0:n.includes(t))||!1},Xe=()=>{const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null},Hv=e=>{localStorage.setItem("currentUser",JSON.stringify(e))},Af=()=>{localStorage.removeItem("currentUser")},bj=async()=>{try{console.log("🔄 Buscando usuários...");const e=await fetch("/api/usuarios",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Erro ao buscar usuários");const t=await e.json();console.log("👥 Usuários do backend:",t.users.length);const{data:n,error:r}=await Q.from("user_roles").select("*");if(r)return console.error("Erro ao buscar roles:",r),[];console.log("🏪 Roles encontradas:",n.length),console.log("🏪 Detalhes das roles:",n);const{data:s,error:o}=await Q.from("stores").select("*");if(o)return console.error("Erro ao buscar stores:",o),[];console.log("🏪 Stores encontradas:",s.length);const i={};return s.forEach(c=>{i[c.id]=c}),t.users.map(c=>{var h,p,w;console.log("🔍 Processando usuário:",c.id,"Nome:",((h=c.user_metadata)==null?void 0:h.name)||c.email.split("@")[0]);const u=n.find(v=>v.user_id===c.id);console.log("🔍 Role encontrada para usuário:",c.id,":",u);const d=u!=null&&u.store_id?i[u.store_id]:null;console.log("🔍 Store encontrada para usuário:",c.id,"store_id:",u==null?void 0:u.store_id,"store:",d);const f={id:c.id,username:c.email,name:((p=c.user_metadata)==null?void 0:p.name)||c.email.split("@")[0],role:u?u.role:"none",store_id:u?u.store_id:null,active:u?u.active:!0,created_at:c.created_at,stores:d};return console.log("👤 Usuário processado:",f.name,"Role:",f.role,"Loja:",((w=f.stores)==null?void 0:w.name)||"Não definida","Ativo:",f.active),f})}catch(e){return console.error("Erro ao buscar usuários:",e),[]}},nL=async(e,t)=>{var n;try{const{data:r,error:s}=await Q.auth.signInWithPassword({email:e,password:t});if(s||!(r!=null&&r.user))return console.error("[AUTH] Erro ao autenticar:",s),null;let o="none";return r.user.email==="admin@server.com"&&(o="admin"),{id:r.user.id,email:r.user.email,name:((n=r.user.user_metadata)==null?void 0:n.name)||e.split("@")[0],role:o,store_id:null,active:!0,created_at:r.user.created_at,stores:null}}catch(r){return console.error("[AUTH] Erro inesperado:",r),null}},rL=async(e,t)=>{try{const n=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,role:t.role,store_id:t.store_id,password:t.password||void 0})});if(!n.ok){const s=await n.json();throw console.error("❌ Erro do backend (update):",s),new Error(s.error||"Erro ao atualizar usuário")}return await n.json()}catch(n){throw console.error("❌ Erro na comunicação (update):",n),new Error(`Erro na comunicação com o backend: ${n.message}`)}},sL=async e=>{try{const t=await fetch(`/api/usuarios/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const n=await t.json();throw new Error(n.error||"Erro ao deletar usuário")}return await t.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},qr=async(e=!1)=>{let t=Q.from("stores").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_online_store",!1));const{data:n,error:r}=await t;return r?[]:n},oL=async(e,t)=>{try{const n=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:t})});if(!n.ok){const s=await n.json();throw console.error("❌ Erro do backend:",s),new Error(s.error||"Erro ao alterar status do usuário")}return await n.json()}catch(n){throw console.error("❌ Erro na comunicação:",n),new Error(`Erro na comunicação com o backend: ${n.message}`)}},iL=({onLogin:e})=>{const[t,n]=m.useState(""),[r,s]=m.useState(""),[o,i]=m.useState(!1),{toast:l}=Pt(),c=async u=>{u.preventDefault(),console.log("[LOGIN] handleSubmit chamado"),i(!0);try{console.log("[LOGIN] Antes do authenticateUser");const d=await nL(t,r);console.log("[LOGIN] Resultado do login:",d),d?d.role==="none"?(l({title:"Acesso restrito",description:"Seu usuário ainda não possui permissão de acesso. Solicite a um administrador para atribuir uma função (role).",variant:"destructive"}),console.warn("[LOGIN] Usuário sem role, acesso bloqueado:",d)):(l({title:"Login realizado com sucesso!",description:`Bem-vindo, ${d.email}!`}),e(d)):(l({title:"Erro no login",description:"Usuário ou senha incorretos, ou usuário sem permissão ativa.",variant:"destructive"}),console.error("[LOGIN] Falha no login: usuário não encontrado ou sem permissão."))}catch(d){console.error("[LOGIN] Erro inesperado:",d),l({title:"Erro no sistema",description:"Ocorreu um problema ao tentar fazer login. Tente novamente.",variant:"destructive"})}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg-fdg p-4",children:a.jsx(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:a.jsxs(ne,{className:"glass-effect neon-glow",children:[a.jsxs(je,{className:"text-center",children:[a.jsx("img",{src:"/images/logobranca fdg.png",alt:"Fio de Gala",className:"mx-auto mb-4 w-32 h-32 object-contain"}),a.jsx(Se,{className:"text-2xl font-bold text-white",children:"FDG System"}),a.jsx(Jb,{className:"text-gray-300",children:"Faça login para acessar o sistema"})]}),a.jsxs(re,{children:[a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",className:"text-white",children:"E-mail"}),a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(K,{id:"email",type:"email",placeholder:"Digite seu e-mail",value:t,onChange:u=>n(u.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password",className:"text-white",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(af,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(K,{id:"password",type:"password",placeholder:"Digite sua senha",value:r,onChange:u=>s(u.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),a.jsx(U,{type:"submit",className:"w-full bg-[#3B657B] hover:bg-[#33566a] text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105",disabled:o,children:o?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"loading-spinner w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Entrando..."]}):"Entrar"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-background/20 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Use o e-mail cadastrado no Supabase Authentication:"}),a.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[a.jsx("div",{children:"Exemplo: admin@admin.com / sua senha"}),a.jsx("div",{children:"Exemplo: gerente@empresa.com / sua senha"})]})]})]})]})})})},aL=({onLogout:e})=>{var p;const[t,n]=m.useState(!1),r=Xe(),s=Bh(),o=Ao(),l=[{id:"pos",label:"Frente de Caixa",icon:zi,path:"/pos",permission:X.PROCESS_SALES},{id:"products",label:"Produtos",icon:Pn,path:"/products",permission:X.MANAGE_PRODUCTS},{id:"categories",label:"Categorias",icon:lf,path:"/categories",permission:X.MANAGE_CATEGORIES},{id:"stock",label:"Estoque",icon:mP,path:"/stock",permission:X.MANAGE_STOCK},{id:"customers",label:"Clientes",icon:fs,path:"/customers",permission:X.MANAGE_PRODUCTS},{id:"reports",label:"Relatórios",icon:vw,path:"/reports",permission:X.VIEW_REPORTS},{id:"users",label:"Usuários",icon:dP,path:"/users",permission:X.MANAGE_USERS},{id:"cash-register",label:"Controle de Caixa",icon:xs,path:"/cash-register",permission:X.CASH_REGISTER_MANAGEMENT}].filter(w=>$t(r==null?void 0:r.role,w.permission)),c=()=>{Af(),e(),s("/login")},u=()=>{const w=o.pathname==="/"?"/pos":o.pathname,v=l.find(b=>b.path===w);return(v==null?void 0:v.label)||"Dashboard"};m.useEffect(()=>{const w=()=>{window.innerWidth>=1024?n(!0):n(!1)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const d={open:{x:0},closed:{x:"-100%"}},f={type:"spring",stiffness:300,damping:30},h=((p=r==null?void 0:r.stores)==null?void 0:p.name)||($t(r==null?void 0:r.role,X.VIEW_ALL_STORES_DATA)?"Todas as Lojas":"Loja não definida");return a.jsxs("div",{className:"min-h-screen bg-background flex",children:[a.jsx(FR,{children:t&&a.jsx(Wr.div,{variants:d,initial:"closed",animate:"open",exit:"closed",transition:f,className:"fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border shadow-lg lg:static lg:translate-x-0",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs(Bi,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("img",{src:"/images/logobranca fdg.png",alt:"FDG System",className:"w-8 h-8 object-contain"}),a.jsx("span",{className:"font-bold text-lg",children:"FDG System"})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(!1),className:"lg:hidden",children:a.jsx(Jh,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Logado como:"}),a.jsx("p",{className:"font-semibold",children:r==null?void 0:r.name}),a.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:r==null?void 0:r.role}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[a.jsx(Wi,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:h})]})]}),a.jsx("nav",{className:"space-y-2",children:l.map(w=>{const v=w.icon,b=o.pathname===w.path||o.pathname==="/"&&w.path==="/pos";return a.jsx(U,{variant:b?"default":"ghost",className:`w-full justify-start ${b?"bg-primary text-primary-foreground":""}`,asChild:!0,onClick:()=>{window.innerWidth<1024&&n(!1)},children:a.jsxs(Bi,{to:w.path,children:[a.jsx(v,{className:"w-5 h-5 mr-3"}),w.label]})},w.id)})})]}),a.jsx("div",{className:"p-4 border-t border-border",children:a.jsxs(U,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:c,children:[a.jsx(rP,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})},"sidebar")}),t&&window.innerWidth<1024&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>n(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[a.jsx("header",{className:"bg-card border-b border-border p-4 flex items-center justify-between sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(!0),className:"lg:hidden",children:a.jsx(oP,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-xl font-semibold",children:u()}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(Wi,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:h})]})]})]})}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(fk,{})})]})]})},lL=async()=>{var s;const e=Xe();let t=Q.from("stock_movements").select(`
      *,
      products (name, barcode),
      stores (name, is_online_store),
      product_store_stock (id)
    `).order("created_at",{ascending:!1});e&&e.store_id&&!((s=e.stores)!=null&&s.is_online_store)&&!$t(e.role,X.VIEW_ALL_STORES_DATA)&&(t=t.or(`store_id.eq.${e.store_id},stock_type.eq.online`));const{data:n,error:r}=await t;return r?(console.error("Error fetching stock movements:",r),[]):n.map(o=>{var i,l;return{...o,productName:((i=o.products)==null?void 0:i.name)||"Produto Desconhecido",userName:"Usuário do Sistema",storeName:((l=o.stores)==null?void 0:l.name)||(o.stock_type==="online"?"Estoque Online":"Loja Desconhecida")}})},jj=async e=>{const t=Xe();let n={...e};if(n.user_id=n.user_id||(t==null?void 0:t.id),!n.store_id&&n.stock_type!=="online")n.store_id=t==null?void 0:t.store_id;else if(n.stock_type==="online"){const i=(await qr()).find(l=>l.is_online_store);i&&(n.store_id=i.id)}if(!n.store_id&&n.stock_type==="physical_store"&&!$t(t==null?void 0:t.role,X.VIEW_ALL_STORES_DATA))throw console.error("Error: store_id is required for this user to add stock movement for a physical store."),new Error("store_id é obrigatório para movimentação em loja física.");const{data:r,error:s}=await Q.from("stock_movements").insert([n]).select().single();if(s)throw console.error("Error adding stock movement:",s),s;return r},Sj=async(e=!1)=>{Xe();let t=Q.from("products").select("*, stores(name, is_online_store)").eq("active",!0).order("name",{ascending:!0});const{data:n,error:r}=await t;if(r)return console.error("Error fetching products:",r),[];if(e&&n){for(let s of n)if(s.product_type==="variable"){const{data:o,error:i}=await Q.from("product_variations").select("*").eq("product_id",s.id);i&&console.error(`Error fetching variations for product ${s.id}:`,i),s.variations=o||[]}}return n},cL=async(e=!1)=>{console.log("🔍 getAllProducts iniciado, includeVariations:",e);let t=Q.from("products").select("*, stores(name, is_online_store)").order("name",{ascending:!0});const{data:n,error:r}=await t;if(r)return console.error("❌ Erro ao buscar todos os produtos:",r),[];if(console.log("📋 Produtos encontrados:",(n==null?void 0:n.length)||0),e&&n){for(let s of n)if(s.product_type==="variable"){const{data:o,error:i}=await Q.from("product_variations").select("*").eq("product_id",s.id);i&&console.error(`❌ Erro ao buscar variações do produto ${s.id}:`,i),s.variations=o||[]}}return console.log("✅ getAllProducts concluído"),n},uL=async e=>{console.log("🔄 addProduct iniciado com dados:",e);const t=Xe();console.log("👤 Usuário atual:",t);const{variations:n,...r}=e;let s={...r};if(console.log("📦 Dados principais para inserção:",s),!s.store_id){console.log("🏪 Buscando loja online...");const l=await qr();console.log("🏪 Lojas disponíveis:",l);const c=l.find(u=>u.is_online_store);if(c)s.store_id=c.id,console.log("✅ Loja online associada:",c.id);else throw console.error("❌ Loja online principal não encontrada para associar o produto."),new Error("Loja online principal não encontrada.")}console.log("📝 Inserindo produto no Supabase...");const{data:o,error:i}=await Q.from("products").insert([s]).select("*, stores(name, is_online_store)").single();if(i)throw console.error("❌ Erro ao inserir produto:",i),i;if(console.log("✅ Produto inserido com sucesso:",o),o&&o.product_type==="variable"&&n&&n.length>0){console.log("🔄 Inserindo variações...");const l=n.map(u=>({...u,product_id:o.id}));console.log("📦 Variações para inserir:",l);const{error:c}=await Q.from("product_variations").insert(l);if(c)throw console.error("❌ Erro ao inserir variações:",c),await Q.from("products").delete().eq("id",o.id),c;console.log("✅ Variações inseridas com sucesso")}return console.log("🎉 Produto criado completamente:",o),o},_j=async(e,t)=>{const{variations:n,...r}=t,{data:s,error:o}=await Q.from("products").update(r).eq("id",e).select("*, stores(name, is_online_store)").single();if(o)throw console.error("Error updating product:",o),o;if(s&&s.product_type==="variable"){if(await Q.from("product_variations").delete().eq("product_id",e),n&&n.length>0){const i=n.map(c=>{const{id:u,...d}=c;return{...d,product_id:e}}),{error:l}=await Q.from("product_variations").insert(i);if(l)throw console.error("Error updating product variations:",l),l}}else s&&s.product_type==="simple"&&await Q.from("product_variations").delete().eq("product_id",e);return s},dL=async e=>{const{data:t,error:n}=await Q.from("products").select("*, stores(name, is_online_store)").eq("id",e).single();if(n||!t)return console.error("Erro ao buscar produto por ID:",n),null;if(t.product_type==="variable"){const{data:r,error:s}=await Q.from("product_variations").select("*").eq("product_id",e);s&&console.error("Erro ao buscar variações:",s),t.variations=r||[]}else t.variations=[];if(Q.from("product_images")){const{data:r,error:s}=await Q.from("product_images").select("*").eq("product_id",e);s||(t.images=r)}return t},_o=async(e,t=null,n=null)=>{let r=Q.from("product_store_stock").select("*, stores(name, is_online_store), product_variations(id, attributes)").eq("product_id",e);t&&(r=r.eq("store_id",t)),n&&(r=r.eq("variation_id",n));const{data:s,error:o}=await r;return o?(console.error("Error fetching product store stock:",o),t&&n?null:[]):t&&n?s[0]||null:s},fL=async(e,t,n,r=null)=>{const s=await _o(e,t,r);let o,i=s==null?void 0:s.id;if(s){o=s.quantity+n;const{error:l}=await Q.from("product_store_stock").update({quantity:o}).eq("id",s.id);if(l)throw l}else{o=n;const{data:l,error:c}=await Q.from("product_store_stock").insert({product_id:e,store_id:t,variation_id:r,quantity:o}).select("id").single();if(c)throw c;i=l==null?void 0:l.id}return await Cj(e),await jj({product_id:e,variation_id:r,store_id:t,type:"transfer_in",quantity:n,previous_stock:s?s.quantity:0,new_stock:o,reason:"Compartilhamento de estoque para loja física.",stock_type:"physical_store",product_store_stock_id:i}),{success:!0}},Cj=async e=>{const{data:t,error:n}=await Q.from("products").select("product_type, stock").eq("id",e).single();if(n||!t){console.error("Error fetching product for stock recalculation:",n);return}let r=0;if(t.product_type==="variable"){const{data:s,error:o}=await Q.from("product_variations").select("stock").eq("product_id",e);if(o){console.error("Error fetching variations for stock recalculation:",o);return}r=s.reduce((i,l)=>i+l.stock,0)}else{const{data:s,error:o}=await Q.from("product_store_stock").select("quantity").eq("product_id",e).is("variation_id",null);if(o){console.error("Error fetching physical stocks for simple product:",o);return}r=s.reduce((i,l)=>i+l.quantity,0)}if(t.stock!==r){const{error:s}=await Q.from("products").update({stock:r}).eq("id",e);s&&console.error("Error updating online/general stock:",s)}},hL=async e=>{await Q.from("products").delete().eq("id",e),await Q.from("product_variations").delete().eq("product_id",e),Q.from("product_images")&&await Q.from("product_images").delete().eq("product_id",e)},pL=(e,t=null,n={specificStoreId:null})=>{var o;const r=Xe(),s=t?`${t}.`:"";return n.specificStoreId?e.eq(`${s}store_id`,n.specificStoreId):r&&r.store_id&&!((o=r.stores)!=null&&o.is_online_store)&&!$t(r.role,X.VIEW_ALL_STORES_DATA)?e.eq(`${s}store_id`,r.store_id):e},Ej=async()=>{let e=Q.from("sales").select("*, customers(name), stores(name, is_online_store)").order("created_at",{ascending:!1});e=pL(e,"sales");const{data:t,error:n}=await e;return n?(console.error("Error fetching sales:",n),[]):t},mL=async()=>{const{data:e,error:t}=await Q.from("customers").select("*").order("name",{ascending:!0});return t?(console.error("Error fetching customers:",t),[]):e},gL=async e=>{const{data:t,error:n}=await Q.from("customers").insert([e]).select();return n?(console.error("Error adding customer:",n),null):t?t[0]:null},vL=async(e,t)=>{const{data:n,error:r}=await Q.from("customers").update(t).eq("id",e).select();return r?(console.error("Error updating customer:",r),null):n?n[0]:null},yL=async e=>{const{error:t}=await Q.from("customers").delete().eq("id",e);return t?(console.error("Error deleting customer:",t),!1):!0},xL=async()=>{var i,l;const e=Xe();let t=Q.from("cash_register_logs").select("*, stores(name, is_online_store)").order("created_at",{ascending:!1}),n=null;if(e&&e.store_id&&!((i=e.stores)!=null&&i.is_online_store)&&!$t(e.role,X.VIEW_ALL_STORES_DATA))n=e.store_id;else if(e&&((l=e.stores)!=null&&l.is_online_store))n=e.store_id;else if(e&&e.role===ze.ADMIN&&!e.store_id){const u=(await qr()).find(d=>d.is_online_store);u&&(n=u.id)}if(n)t=t.eq("store_id",n);else if(!$t(e==null?void 0:e.role,X.VIEW_ALL_STORES_DATA))return console.warn("Usuário sem loja definida e sem permissão para ver todos os caixas. Retornando caixa fechado."),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};const{data:r,error:s}=await t.limit(1).maybeSingle();if(s)return console.error("Error fetching current cash register state:",s),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};if(!r)return{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:n,store:e==null?void 0:e.stores};const o=r.type!=="close";return{id:r.id,isOpen:o,openingAmount:r.type==="open"||o?r.initial_amount:0,currentAmount:r.current_amount,openedBy:o&&r.type==="open"||o?r.user_id:null,openedAt:o&&r.type==="open"||o?r.created_at:null,closedAt:r.type==="close"?r.created_at:null,store_id:r.store_id,store:r.stores}},kj="http://localhost:4000/api",Rf=async(e,t=null,n="varejo")=>{try{const r=new URLSearchParams;r.append("code",e),t&&r.append("store_id",t),n&&r.append("modalidade",n);const s=await fetch(`${kj}/sales/products/barcode/${e}?${r}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){const o=await s.json();throw new Error(o.error||"Erro ao buscar produto")}return await s.json()}catch(r){throw new Error(`Erro na comunicação com o backend: ${r.message}`)}},wL=async e=>{try{const t=await fetch(`${kj}/sales`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.error||"Erro ao criar venda")}return await t.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},bL=({onProductFound:e})=>{const[t,n]=m.useState(""),{toast:r}=Pt(),s=async i=>{if(i.preventDefault(),!!t.trim())try{const l=await Rf(t);l&&l.product?(e(l.product),n("")):r({title:"Produto não encontrado",description:`Código de barras: ${t}`,variant:"destructive"})}catch(l){r({title:"Erro ao buscar produto",description:l.message,variant:"destructive"})}},o=async i=>{try{const l=await Rf(i);l&&l.product?e(l.product):r({title:"Produto de teste não encontrado",description:`Código: ${i}`,variant:"destructive"})}catch(l){r({title:"Erro ao buscar produto de teste",description:l.message,variant:"destructive"})}};return a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(uP,{className:"w-5 h-5"}),a.jsx("span",{children:"Leitor de Código de Barras"})]})}),a.jsxs(re,{children:[a.jsxs("form",{onSubmit:s,className:"flex space-x-2",children:[a.jsx(K,{placeholder:"Escaneie ou digite o código de barras",value:t,onChange:i=>n(i.target.value),className:"flex-1 barcode-scanner",autoFocus:!0}),a.jsx(U,{type:"submit",children:a.jsx(gn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>o("7891234567890"),className:"text-sm",children:"Camiseta Básica"}),a.jsx(U,{variant:"outline",onClick:()=>o("7891234567891"),className:"text-sm",children:"Calça Jeans"}),a.jsx(U,{variant:"outline",onClick:()=>o("7891234567892"),className:"text-sm",children:"Vestido Floral"})]})]})]})},jL=({cart:e,onUpdateQuantity:t,onRemoveFromCart:n,onClearCart:r})=>a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zi,{className:"w-5 h-5"}),a.jsxs("span",{children:["Carrinho (",e.length," itens)"]})]}),e.length>0&&a.jsx(U,{variant:"outline",size:"sm",onClick:r,children:"Limpar"})]})}),a.jsx(re,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(zi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Carrinho vazio"}),a.jsx("p",{className:"text-sm",children:"Escaneie um produto para começar"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(s=>a.jsxs(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:s.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",s.price.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(U,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(s.id,s.quantity-1),children:a.jsx(Ul,{className:"w-3 h-3"})}),a.jsx("span",{className:"w-8 text-center",children:s.quantity}),a.jsx(U,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(s.id,s.quantity+1),children:a.jsx(gn,{className:"w-3 h-3"})}),a.jsxs("span",{className:"w-20 text-right font-medium",children:["R$ ",s.subtotal.toFixed(2)]}),a.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>n(s.id),children:a.jsx(Oo,{className:"w-3 h-3"})})]})]},s.id))})})]}),SL=({subtotal:e,discountAmount:t,total:n,onApplyDiscount:r})=>{const s=Xe();return a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(qN,{className:"w-5 h-5"}),a.jsx("span",{children:"Totais"})]})}),a.jsxs(re,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["R$ ",e.toFixed(2)]})]}),t>0&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Desconto:"}),a.jsxs("span",{children:["- R$ ",t.toFixed(2)]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["R$ ",n.toFixed(2)]})]})}),$t(s==null?void 0:s.role,X.APPLY_DISCOUNTS)&&a.jsx("div",{className:"pt-2 border-t",children:a.jsxs(U,{variant:"outline",size:"sm",className:"w-full",onClick:r,children:[a.jsx(aP,{className:"w-4 h-4 mr-2"}),"Aplicar Desconto"]})})]})]})},Ba={CASH:"cash",DEBIT:"debit",CREDIT:"credit",PIX:"pix"},Zl={[Ba.CASH]:"Dinheiro",[Ba.DEBIT]:"Cartão Débito",[Ba.CREDIT]:"Cartão Crédito",[Ba.PIX]:"PIX"},_L=({cartLength:e,payments:t,totalPaid:n,remainingAmount:r,onAddPayment:s,onFinalizeSale:o,canFinalize:i})=>e===0?null:a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(JN,{className:"w-5 h-5"}),a.jsx("span",{children:"Pagamento"})]})}),a.jsxs(re,{className:"space-y-4",children:[t.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Pagamentos:"}),t.map(l=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:Zl[l.method]}),a.jsxs("span",{children:["R$ ",l.amount.toFixed(2)]})]},l.id)),a.jsxs("div",{className:"border-t pt-2",children:[a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"Total Pago:"}),a.jsxs("span",{children:["R$ ",n.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"Restante:"}),a.jsxs("span",{children:["R$ ",r.toFixed(2)]})]})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Zl).map(([l,c])=>a.jsx(U,{variant:"outline",size:"sm",onClick:()=>{r>0&&s(l,r)},disabled:r<=0,children:c},l))}),a.jsxs(U,{className:"w-full",size:"lg",onClick:o,disabled:!i,children:[a.jsx(cP,{className:"w-4 h-4 mr-2"}),"Finalizar Venda"]})]})]});function qv(e,[t,n]){return Math.min(n,Math.max(t,e))}var CL=m.createContext(void 0);function _p(e){const t=m.useContext(CL);return e||t||"ltr"}var Ku=0;function Nj(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Gv()),document.body.insertAdjacentElement("beforeend",e[1]??Gv()),Ku++,()=>{Ku===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ku--}},[])}function Gv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yu="focusScope.autoFocusOnMount",Ju="focusScope.autoFocusOnUnmount",Kv={bubbles:!1,cancelable:!0},EL="FocusScope",Cp=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=Jt(s),d=Jt(o),f=m.useRef(null),h=Te(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(g){if(p.paused||!l)return;const j=g.target;l.contains(j)?f.current=j:lr(f.current,{select:!0})},b=function(g){if(p.paused||!l)return;const j=g.relatedTarget;j!==null&&(l.contains(j)||lr(f.current,{select:!0}))},x=function(g){if(document.activeElement===document.body)for(const S of g)S.removedNodes.length>0&&lr(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),y.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){Jv.add(p);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(Yu,Kv);l.addEventListener(Yu,u),l.dispatchEvent(x),x.defaultPrevented||(kL(RL(Pj(l)),{select:!0}),document.activeElement===v&&lr(l))}return()=>{l.removeEventListener(Yu,u),setTimeout(()=>{const x=new CustomEvent(Ju,Kv);l.addEventListener(Ju,d),l.dispatchEvent(x),x.defaultPrevented||lr(v??document.body,{select:!0}),l.removeEventListener(Ju,d),Jv.remove(p)},0)}}},[l,u,d,p]);const w=m.useCallback(v=>{if(!n&&!r||p.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const y=v.currentTarget,[g,j]=NL(y);g&&j?!v.shiftKey&&x===j?(v.preventDefault(),n&&lr(g,{select:!0})):v.shiftKey&&x===g&&(v.preventDefault(),n&&lr(j,{select:!0})):x===y&&v.preventDefault()}},[n,r,p.paused]);return a.jsx(le.div,{tabIndex:-1,...i,ref:h,onKeyDown:w})});Cp.displayName=EL;function kL(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(lr(r,{select:t}),document.activeElement!==n)return}function NL(e){const t=Pj(e),n=Yv(t,e),r=Yv(t.reverse(),e);return[n,r]}function Pj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yv(e,t){for(const n of e)if(!PL(n,{upTo:t}))return n}function PL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TL(e){return e instanceof HTMLInputElement&&"select"in e}function lr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&TL(e)&&t&&e.select()}}var Jv=AL();function AL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xv(e,t),e.unshift(t)},remove(t){var n;e=Xv(e,t),(n=e[0])==null||n.resume()}}}function Xv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function RL(e){return e.filter(t=>t.tagName!=="A")}var OL=Gf[" useId ".trim().toString()]||(()=>{}),IL=0;function Ar(e){const[t,n]=m.useState(OL());return at(()=>{e||n(r=>r??String(IL++))},[e]),e||(t?`radix-${t}`:"")}const LL=["top","right","bottom","left"],Mr=Math.min,At=Math.max,ec=Math.round,za=Math.floor,An=e=>({x:e,y:e}),ML={left:"right",right:"left",bottom:"top",top:"bottom"},DL={start:"end",end:"start"};function Of(e,t,n){return At(e,Mr(t,n))}function er(e,t){return typeof e=="function"?e(t):e}function tr(e){return e.split("-")[0]}function Mo(e){return e.split("-")[1]}function Ep(e){return e==="x"?"y":"x"}function kp(e){return e==="y"?"height":"width"}const $L=new Set(["top","bottom"]);function En(e){return $L.has(tr(e))?"y":"x"}function Np(e){return Ep(En(e))}function FL(e,t,n){n===void 0&&(n=!1);const r=Mo(e),s=Np(e),o=kp(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=tc(i)),[i,tc(i)]}function VL(e){const t=tc(e);return[If(e),t,If(t)]}function If(e){return e.replace(/start|end/g,t=>DL[t])}const Qv=["left","right"],Zv=["right","left"],UL=["top","bottom"],BL=["bottom","top"];function zL(e,t,n){switch(e){case"top":case"bottom":return n?t?Zv:Qv:t?Qv:Zv;case"left":case"right":return t?UL:BL;default:return[]}}function WL(e,t,n,r){const s=Mo(e);let o=zL(tr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(If)))),o}function tc(e){return e.replace(/left|right|bottom|top/g,t=>ML[t])}function HL(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tj(e){return typeof e!="number"?HL(e):{top:e,right:e,bottom:e,left:e}}function nc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ey(e,t,n){let{reference:r,floating:s}=e;const o=En(t),i=Np(t),l=kp(i),c=tr(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Mo(t)){case"start":p[i]-=h*(n&&u?-1:1);break;case"end":p[i]+=h*(n&&u?-1:1);break}return p}const qL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=ey(u,r,c),h=r,p={},w=0;for(let v=0;v<l.length;v++){const{name:b,fn:x}=l[v],{x:y,y:g,data:j,reset:S}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=g??f,p={...p,[b]:{...p[b],...j}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=ey(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Yi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=er(t,e),w=Tj(p),b=l[h?f==="floating"?"reference":"floating":f],x=nc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},S=nc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:g,strategy:c}):y);return{top:(x.top-S.top+w.top)/j.y,bottom:(S.bottom-x.bottom+w.bottom)/j.y,left:(x.left-S.left+w.left)/j.x,right:(S.right-x.right+w.right)/j.x}}const GL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=er(e,t)||{};if(u==null)return{};const f=Tj(d),h={x:n,y:r},p=Np(s),w=kp(p),v=await i.getDimensions(u),b=p==="y",x=b?"top":"left",y=b?"bottom":"right",g=b?"clientHeight":"clientWidth",j=o.reference[w]+o.reference[p]-h[p]-o.floating[w],S=h[p]-o.reference[p],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=k?k[g]:0;(!E||!await(i.isElement==null?void 0:i.isElement(k)))&&(E=l.floating[g]||o.floating[w]);const _=j/2-S/2,C=E/2-v[w]/2-1,R=Mr(f[x],C),I=Mr(f[y],C),O=R,N=E-v[w]-I,P=E/2-v[w]/2+_,D=Of(O,P,N),M=!c.arrow&&Mo(s)!=null&&P!==D&&o.reference[w]/2-(P<O?R:I)-v[w]/2<0,$=M?P<O?P-O:P-N:0;return{[p]:h[p]+$,data:{[p]:D,centerOffset:P-D-$,...M&&{alignmentOffset:$}},reset:M}}}),KL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=er(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=tr(s),y=En(l),g=tr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(g||!v?[tc(l)]:VL(l)),k=w!=="none";!h&&k&&S.push(...WL(l,v,w,j));const E=[l,...S],_=await Yi(t,b),C=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&C.push(_[x]),f){const P=FL(s,i,j);C.push(_[P[0]],_[P[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(P=>P<=0)){var I,O;const P=(((I=o.flip)==null?void 0:I.index)||0)+1,D=E[P];if(D&&(!(f==="alignment"?y!==En(D):!1)||R.every(A=>A.overflows[0]>0&&En(A.placement)===y)))return{data:{index:P,overflows:R},reset:{placement:D}};let M=(O=R.filter($=>$.overflows[0]<=0).sort(($,A)=>$.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!M)switch(p){case"bestFit":{var N;const $=(N=R.filter(A=>{if(k){const T=En(A.placement);return T===y||T==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(T=>T>0).reduce((T,z)=>T+z,0)]).sort((A,T)=>A[1]-T[1])[0])==null?void 0:N[0];$&&(M=$);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function ty(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ny(e){return LL.some(t=>e[t]>=0)}const YL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=er(e,t);switch(r){case"referenceHidden":{const o=await Yi(t,{...s,elementContext:"reference"}),i=ty(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ny(i)}}}case"escaped":{const o=await Yi(t,{...s,altBoundary:!0}),i=ty(o,n.floating);return{data:{escapedOffsets:i,escaped:ny(i)}}}default:return{}}}}},Aj=new Set(["left","top"]);async function JL(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=tr(n),l=Mo(n),c=En(n)==="y",u=Aj.has(i)?-1:1,d=o&&c?-1:1,f=er(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const XL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await JL(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},QL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x,y}=b;return{x,y}}},...c}=er(e,t),u={x:n,y:r},d=await Yi(t,c),f=En(tr(s)),h=Ep(f);let p=u[h],w=u[f];if(o){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=p+d[b],g=p-d[x];p=Of(y,p,g)}if(i){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=w+d[b],g=w-d[x];w=Of(y,w,g)}const v=l.fn({...t,[h]:p,[f]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:i}}}}}},ZL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=er(e,t),d={x:n,y:r},f=En(s),h=Ep(f);let p=d[h],w=d[f];const v=er(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const g=h==="y"?"height":"width",j=o.reference[h]-o.floating[g]+b.mainAxis,S=o.reference[h]+o.reference[g]-b.mainAxis;p<j?p=j:p>S&&(p=S)}if(u){var x,y;const g=h==="y"?"width":"height",j=Aj.has(tr(s)),S=o.reference[f]-o.floating[g]+(j&&((x=i.offset)==null?void 0:x[f])||0)+(j?0:b.crossAxis),k=o.reference[f]+o.reference[g]+(j?0:((y=i.offset)==null?void 0:y[f])||0)-(j?b.crossAxis:0);w<S?w=S:w>k&&(w=k)}return{[h]:p,[f]:w}}}},eM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=er(e,t),d=await Yi(t,u),f=tr(s),h=Mo(s),p=En(s)==="y",{width:w,height:v}=o.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,g=w-d.left-d.right,j=Mr(v-d[b],y),S=Mr(w-d[x],g),k=!t.middlewareData.shift;let E=j,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=y),k&&!h){const R=At(d.left,0),I=At(d.right,0),O=At(d.top,0),N=At(d.bottom,0);p?_=w-2*(R!==0||I!==0?R+I:At(d.left,d.right)):E=v-2*(O!==0||N!==0?O+N:At(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:E});const C=await i.getDimensions(l.floating);return w!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function Bc(){return typeof window<"u"}function Do(e){return Rj(e)?(e.nodeName||"").toLowerCase():"#document"}function It(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dn(e){var t;return(t=(Rj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Rj(e){return Bc()?e instanceof Node||e instanceof It(e).Node:!1}function vn(e){return Bc()?e instanceof Element||e instanceof It(e).Element:!1}function On(e){return Bc()?e instanceof HTMLElement||e instanceof It(e).HTMLElement:!1}function ry(e){return!Bc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof It(e).ShadowRoot}const tM=new Set(["inline","contents"]);function ua(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=yn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!tM.has(s)}const nM=new Set(["table","td","th"]);function rM(e){return nM.has(Do(e))}const sM=[":popover-open",":modal"];function zc(e){return sM.some(t=>{try{return e.matches(t)}catch{return!1}})}const oM=["transform","translate","scale","rotate","perspective"],iM=["transform","translate","scale","rotate","perspective","filter"],aM=["paint","layout","strict","content"];function Pp(e){const t=Tp(),n=vn(e)?yn(e):e;return oM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||iM.some(r=>(n.willChange||"").includes(r))||aM.some(r=>(n.contain||"").includes(r))}function lM(e){let t=Dr(e);for(;On(t)&&!Co(t);){if(Pp(t))return t;if(zc(t))return null;t=Dr(t)}return null}function Tp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cM=new Set(["html","body","#document"]);function Co(e){return cM.has(Do(e))}function yn(e){return It(e).getComputedStyle(e)}function Wc(e){return vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dr(e){if(Do(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ry(e)&&e.host||Dn(e);return ry(t)?t.host:t}function Oj(e){const t=Dr(e);return Co(t)?e.ownerDocument?e.ownerDocument.body:e.body:On(t)&&ua(t)?t:Oj(t)}function Ji(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Oj(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=It(s);if(o){const l=Lf(i);return t.concat(i,i.visualViewport||[],ua(s)?s:[],l&&n?Ji(l):[])}return t.concat(s,Ji(s,[],n))}function Lf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ij(e){const t=yn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=On(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=ec(n)!==o||ec(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Ap(e){return vn(e)?e:e.contextElement}function co(e){const t=Ap(e);if(!On(t))return An(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Ij(t);let i=(o?ec(n.width):n.width)/r,l=(o?ec(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const uM=An(0);function Lj(e){const t=It(e);return!Tp()||!t.visualViewport?uM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==It(e)?!1:t}function ws(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Ap(e);let i=An(1);t&&(r?vn(r)&&(i=co(r)):i=co(e));const l=dM(o,n,r)?Lj(o):An(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=It(o),p=r&&vn(r)?It(r):r;let w=h,v=Lf(w);for(;v&&r&&p!==w;){const b=co(v),x=v.getBoundingClientRect(),y=yn(v),g=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,j=x.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=g,u+=j,w=It(v),v=Lf(w)}}return nc({width:d,height:f,x:c,y:u})}function Rp(e,t){const n=Wc(e).scrollLeft;return t?t.left+n:ws(Dn(e)).left+n}function Mj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Rp(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function fM(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Dn(r),l=t?zc(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=An(1);const d=An(0),f=On(r);if((f||!f&&!o)&&((Do(r)!=="body"||ua(i))&&(c=Wc(r)),On(r))){const p=ws(r);u=co(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=i&&!f&&!o?Mj(i,c,!0):An(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function hM(e){return Array.from(e.getClientRects())}function pM(e){const t=Dn(e),n=Wc(e),r=e.ownerDocument.body,s=At(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=At(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Rp(e);const l=-n.scrollTop;return yn(r).direction==="rtl"&&(i+=At(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function mM(e,t){const n=It(e),r=Dn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Tp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const gM=new Set(["absolute","fixed"]);function vM(e,t){const n=ws(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=On(e)?co(e):An(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function sy(e,t,n){let r;if(t==="viewport")r=mM(e,n);else if(t==="document")r=pM(Dn(e));else if(vn(t))r=vM(t,n);else{const s=Lj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return nc(r)}function Dj(e,t){const n=Dr(e);return n===t||!vn(n)||Co(n)?!1:yn(n).position==="fixed"||Dj(n,t)}function yM(e,t){const n=t.get(e);if(n)return n;let r=Ji(e,[],!1).filter(l=>vn(l)&&Do(l)!=="body"),s=null;const o=yn(e).position==="fixed";let i=o?Dr(e):e;for(;vn(i)&&!Co(i);){const l=yn(i),c=Pp(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&gM.has(s.position)||ua(i)&&!c&&Dj(e,i))?r=r.filter(d=>d!==i):s=l,i=Dr(i)}return t.set(e,r),r}function xM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?zc(t)?[]:yM(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=sy(t,d,s);return u.top=At(f.top,u.top),u.right=Mr(f.right,u.right),u.bottom=Mr(f.bottom,u.bottom),u.left=At(f.left,u.left),u},sy(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wM(e){const{width:t,height:n}=Ij(e);return{width:t,height:n}}function bM(e,t,n){const r=On(t),s=Dn(t),o=n==="fixed",i=ws(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=An(0);function u(){c.x=Rp(s)}if(r||!r&&!o)if((Do(t)!=="body"||ua(s))&&(l=Wc(t)),r){const p=ws(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Mj(s,l):An(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Xu(e){return yn(e).position==="static"}function oy(e,t){if(!On(e)||yn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Dn(e)===n&&(n=n.ownerDocument.body),n}function $j(e,t){const n=It(e);if(zc(e))return n;if(!On(e)){let s=Dr(e);for(;s&&!Co(s);){if(vn(s)&&!Xu(s))return s;s=Dr(s)}return n}let r=oy(e,t);for(;r&&rM(r)&&Xu(r);)r=oy(r,t);return r&&Co(r)&&Xu(r)&&!Pp(r)?n:r||lM(e)||n}const jM=async function(e){const t=this.getOffsetParent||$j,n=this.getDimensions,r=await n(e.floating);return{reference:bM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SM(e){return yn(e).direction==="rtl"}const _M={convertOffsetParentRelativeRectToViewportRelativeRect:fM,getDocumentElement:Dn,getClippingRect:xM,getOffsetParent:$j,getElementRects:jM,getClientRects:hM,getDimensions:wM,getScale:co,isElement:vn,isRTL:SM};function Fj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CM(e,t){let n=null,r;const s=Dn(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const w=za(f),v=za(s.clientWidth-(d+h)),b=za(s.clientHeight-(f+p)),x=za(d),g={rootMargin:-w+"px "+-v+"px "+-b+"px "+-x+"px",threshold:At(0,Mr(1,c))||1};let j=!0;function S(k){const E=k[0].intersectionRatio;if(E!==c){if(!j)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!Fj(u,e.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(S,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,g)}n.observe(e)}return i(!0),o}function EM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ap(e),d=s||o?[...u?Ji(u):[],...Ji(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=u&&l?CM(u,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=p)==null||g.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,v=c?ws(e):null;c&&b();function b(){const x=ws(e);v&&!Fj(v,x)&&n(),v=x,w=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const kM=XL,NM=QL,PM=KL,TM=eM,AM=YL,iy=GL,RM=ZL,OM=(e,t,n)=>{const r=new Map,s={platform:_M,...n},o={...s.platform,_c:r};return qL(e,t,{...s,platform:o})};var IM=typeof document<"u",LM=function(){},dl=IM?m.useLayoutEffect:LM;function rc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!rc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!rc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Vj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ay(e,t){const n=Vj(e);return Math.round(t*n)/n}function Qu(e){const t=m.useRef(e);return dl(()=>{t.current=e}),t}function MM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);rc(h,r)||p(r);const[w,v]=m.useState(null),[b,x]=m.useState(null),y=m.useCallback(A=>{A!==k.current&&(k.current=A,v(A))},[]),g=m.useCallback(A=>{A!==E.current&&(E.current=A,x(A))},[]),j=o||w,S=i||b,k=m.useRef(null),E=m.useRef(null),_=m.useRef(d),C=c!=null,R=Qu(c),I=Qu(s),O=Qu(u),N=m.useCallback(()=>{if(!k.current||!E.current)return;const A={placement:t,strategy:n,middleware:h};I.current&&(A.platform=I.current),OM(k.current,E.current,A).then(T=>{const z={...T,isPositioned:O.current!==!1};P.current&&!rc(_.current,z)&&(_.current=z,Es.flushSync(()=>{f(z)}))})},[h,t,n,I,O]);dl(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const P=m.useRef(!1);dl(()=>(P.current=!0,()=>{P.current=!1}),[]),dl(()=>{if(j&&(k.current=j),S&&(E.current=S),j&&S){if(R.current)return R.current(j,S,N);N()}},[j,S,N,R,C]);const D=m.useMemo(()=>({reference:k,floating:E,setReference:y,setFloating:g}),[y,g]),M=m.useMemo(()=>({reference:j,floating:S}),[j,S]),$=m.useMemo(()=>{const A={position:n,left:0,top:0};if(!M.floating)return A;const T=ay(M.floating,d.x),z=ay(M.floating,d.y);return l?{...A,transform:"translate("+T+"px, "+z+"px)",...Vj(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:z}},[n,l,M.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:N,refs:D,elements:M,floatingStyles:$}),[d,N,D,M,$])}const DM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?iy({element:r.current,padding:s}).fn(n):{}:r?iy({element:r,padding:s}).fn(n):{}}}},$M=(e,t)=>({...kM(e),options:[e,t]}),FM=(e,t)=>({...NM(e),options:[e,t]}),VM=(e,t)=>({...RM(e),options:[e,t]}),UM=(e,t)=>({...PM(e),options:[e,t]}),BM=(e,t)=>({...TM(e),options:[e,t]}),zM=(e,t)=>({...AM(e),options:[e,t]}),WM=(e,t)=>({...DM(e),options:[e,t]});var HM="Arrow",Uj=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(le.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Uj.displayName=HM;var qM=Uj;function Bj(e){const[t,n]=m.useState(void 0);return at(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Op="Popper",[zj,Wj]=Br(Op),[GM,Hj]=zj(Op),qj=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return a.jsx(GM,{scope:t,anchor:r,onAnchorChange:s,children:n})};qj.displayName=Op;var Gj="PopperAnchor",Kj=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Hj(Gj,n),i=m.useRef(null),l=Te(t,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(le.div,{...s,ref:l})});Kj.displayName=Gj;var Ip="PopperContent",[KM,YM]=zj(Ip),Yj=m.forwardRef((e,t)=>{var J,ve,Re,ce,ie,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:w,...v}=e,b=Hj(Ip,n),[x,y]=m.useState(null),g=Te(t,nt=>y(nt)),[j,S]=m.useState(null),k=Bj(j),E=(k==null?void 0:k.width)??0,_=(k==null?void 0:k.height)??0,C=r+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,N={padding:R,boundary:I.filter(XM),altBoundary:O},{refs:P,floatingStyles:D,placement:M,isPositioned:$,middlewareData:A}=MM({strategy:"fixed",placement:C,whileElementsMounted:(...nt)=>EM(...nt,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[$M({mainAxis:s+_,alignmentAxis:i}),c&&FM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?VM():void 0,...N}),c&&UM({...N}),BM({...N,apply:({elements:nt,rects:xt,availableWidth:B,availableHeight:q})=>{const{width:be,height:fe}=xt.reference,Qe=nt.floating.style;Qe.setProperty("--radix-popper-available-width",`${B}px`),Qe.setProperty("--radix-popper-available-height",`${q}px`),Qe.setProperty("--radix-popper-anchor-width",`${be}px`),Qe.setProperty("--radix-popper-anchor-height",`${fe}px`)}}),j&&WM({element:j,padding:l}),QM({arrowWidth:E,arrowHeight:_}),h&&zM({strategy:"referenceHidden",...N})]}),[T,z]=Qj(M),L=Jt(w);at(()=>{$&&(L==null||L())},[$,L]);const V=(J=A.arrow)==null?void 0:J.x,ee=(ve=A.arrow)==null?void 0:ve.y,ge=((Re=A.arrow)==null?void 0:Re.centerOffset)!==0,[Ae,Ee]=m.useState();return at(()=>{x&&Ee(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:$?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(ce=A.transformOrigin)==null?void 0:ce.x,(ie=A.transformOrigin)==null?void 0:ie.y].join(" "),...((ye=A.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(KM,{scope:n,placedSide:T,onArrowChange:S,arrowX:V,arrowY:ee,shouldHideArrow:ge,children:a.jsx(le.div,{"data-side":T,"data-align":z,...v,ref:g,style:{...v.style,animation:$?void 0:"none"}})})})});Yj.displayName=Ip;var Jj="PopperArrow",JM={top:"bottom",right:"left",bottom:"top",left:"right"},Xj=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=YM(Jj,r),i=JM[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(qM,{...s,ref:n,style:{...s.style,display:"block"}})})});Xj.displayName=Jj;function XM(e){return e!==null}var QM=e=>({name:"transformOrigin",options:e,fn(t){var b,x,y;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Qj(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=i?f:`${h}px`,v=`${-c}px`):u==="top"?(w=i?f:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=i?f:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,v=i?f:`${p}px`),{data:{x:w,y:v}}}});function Qj(e){const[t,n="center"]=e.split("-");return[t,n]}var ZM=qj,eD=Kj,tD=Yj,nD=Xj;function Zj(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var rD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ms=new WeakMap,Wa=new WeakMap,Ha={},Zu=0,e1=function(e){return e&&(e.host||e1(e.parentNode))},sD=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=e1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},oD=function(e,t,n,r){var s=sD(t,Array.isArray(e)?e:[e]);Ha[n]||(Ha[n]=new WeakMap);var o=Ha[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(r),w=p!==null&&p!=="false",v=(Ms.get(h)||0)+1,b=(o.get(h)||0)+1;Ms.set(h,v),o.set(h,b),i.push(h),v===1&&w&&Wa.set(h,!0),b===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Zu++,function(){i.forEach(function(f){var h=Ms.get(f)-1,p=o.get(f)-1;Ms.set(f,h),o.set(f,p),h||(Wa.has(f)||f.removeAttribute(r),Wa.delete(f)),p||f.removeAttribute(n)}),Zu--,Zu||(Ms=new WeakMap,Ms=new WeakMap,Wa=new WeakMap,Ha={})}},t1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||rD(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),oD(r,s,n,"aria-hidden")):function(){return null}},Cn=function(){return Cn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Cn.apply(this,arguments)};function n1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function iD(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var fl="right-scroll-bar-position",hl="width-before-scroll-bar",aD="with-scroll-bars-hidden",lD="--removed-body-scroll-bar-size";function ed(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cD(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var uD=typeof window<"u"?m.useLayoutEffect:m.useEffect,ly=new WeakMap;function dD(e,t){var n=cD(t||null,function(r){return e.forEach(function(s){return ed(s,r)})});return uD(function(){var r=ly.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||ed(l,null)}),o.forEach(function(l){s.has(l)||ed(l,i)})}ly.set(n,e)},[e]),n}function fD(e){return e}function hD(e,t){t===void 0&&(t=fD);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function pD(e){e===void 0&&(e={});var t=hD(null);return t.options=Cn({async:!0,ssr:!1},e),t}var r1=function(e){var t=e.sideCar,n=n1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Cn({},n))};r1.isSideCarExport=!0;function mD(e,t){return e.useMedium(t),r1}var s1=pD(),td=function(){},Hc=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:td,onWheelCapture:td,onTouchMoveCapture:td}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,w=e.noIsolation,v=e.inert,b=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,g=e.gapMode,j=n1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=dD([n,t]),E=Cn(Cn({},j),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:s1,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:v,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:g}),i?m.cloneElement(m.Children.only(l),Cn(Cn({},E),{ref:k})):m.createElement(y,Cn({},E,{className:c,ref:k}),l))});Hc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hc.classNames={fullWidth:hl,zeroRight:fl};var cy,gD=function(){if(cy)return cy;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gD();return t&&e.setAttribute("nonce",t),e}function yD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vD())&&(yD(t,n),xD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bD=function(){var e=wD();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},o1=function(){var e=bD(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},jD={left:0,top:0,right:0,gap:0},nd=function(e){return parseInt(e||"",10)||0},SD=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[nd(n),nd(r),nd(s)]},_D=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jD;var t=SD(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},CD=o1(),uo="data-scroll-locked",ED=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(aD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(uo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(hl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fl," .").concat(fl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hl," .").concat(hl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uo,`] {
    `).concat(lD,": ").concat(l,`px;
  }
`)},uy=function(){var e=parseInt(document.body.getAttribute(uo)||"0",10);return isFinite(e)?e:0},kD=function(){m.useEffect(function(){return document.body.setAttribute(uo,(uy()+1).toString()),function(){var e=uy()-1;e<=0?document.body.removeAttribute(uo):document.body.setAttribute(uo,e.toString())}},[])},ND=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;kD();var o=m.useMemo(function(){return _D(s)},[s]);return m.createElement(CD,{styles:ED(o,!t,s,n?"":"!important")})},Mf=!1;if(typeof window<"u")try{var qa=Object.defineProperty({},"passive",{get:function(){return Mf=!0,!0}});window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Mf=!1}var Ds=Mf?{passive:!1}:!1,PD=function(e){return e.tagName==="TEXTAREA"},i1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!PD(e)&&n[t]==="visible")},TD=function(e){return i1(e,"overflowY")},AD=function(e){return i1(e,"overflowX")},dy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=a1(e,r);if(s){var o=l1(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RD=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},OD=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},a1=function(e,t){return e==="v"?TD(t):AD(t)},l1=function(e,t){return e==="v"?RD(t):OD(t)},ID=function(e,t){return e==="h"&&t==="rtl"?-1:1},LD=function(e,t,n,r,s){var o=ID(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var p=l1(e,l),w=p[0],v=p[1],b=p[2],x=v-b-o*w;(w||x)&&a1(e,l)&&(f+=x,h+=w);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(h)<1||!s&&-i>h))&&(u=!0),u},Ga=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fy=function(e){return[e.deltaX,e.deltaY]},hy=function(e){return e&&"current"in e?e.current:e},MD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$D=0,$s=[];function FD(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState($D++)[0],o=m.useState(o1)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=iD([e.lockRef.current],(e.shards||[]).map(hy),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var x=Ga(v),y=n.current,g="deltaX"in v?v.deltaX:y[0]-x[0],j="deltaY"in v?v.deltaY:y[1]-x[1],S,k=v.target,E=Math.abs(g)>Math.abs(j)?"h":"v";if("touches"in v&&E==="h"&&k.type==="range")return!1;var _=dy(E,k);if(!_)return!0;if(_?S=E:(S=E==="v"?"h":"v",_=dy(E,k)),!_)return!1;if(!r.current&&"changedTouches"in v&&(g||j)&&(r.current=S),!S)return!0;var C=r.current||S;return LD(C,b,v,C==="h"?g:j,!0)},[]),c=m.useCallback(function(v){var b=v;if(!(!$s.length||$s[$s.length-1]!==o)){var x="deltaY"in b?fy(b):Ga(b),y=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&MD(S.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var g=(i.current.shards||[]).map(hy).filter(Boolean).filter(function(S){return S.contains(b.target)}),j=g.length>0?l(b,g[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(v,b,x,y){var g={name:v,delta:b,target:x,should:y,shadowParent:VD(x)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(j){return j!==g})},1)},[]),d=m.useCallback(function(v){n.current=Ga(v),r.current=void 0},[]),f=m.useCallback(function(v){u(v.type,fy(v),v.target,l(v,e.lockRef.current))},[]),h=m.useCallback(function(v){u(v.type,Ga(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return $s.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ds),document.addEventListener("touchmove",c,Ds),document.addEventListener("touchstart",d,Ds),function(){$s=$s.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Ds),document.removeEventListener("touchmove",c,Ds),document.removeEventListener("touchstart",d,Ds)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:DD(s)}):null,p?m.createElement(ND,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function VD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UD=mD(s1,FD);var c1=m.forwardRef(function(e,t){return m.createElement(Hc,Cn({},e,{ref:t,sideCar:UD}))});c1.classNames=Hc.classNames;const u1=c1;var BD=[" ","Enter","ArrowUp","ArrowDown"],zD=[" ","Enter"],bs="Select",[qc,Gc,WD]=Wh(bs),[$o,J4]=Br(bs,[WD,Wj]),Kc=Wj(),[HD,Gr]=$o(bs),[qD,GD]=$o(bs),d1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:w}=e,v=Kc(t),[b,x]=m.useState(null),[y,g]=m.useState(null),[j,S]=m.useState(!1),k=_p(u),[E,_]=ys({prop:r,defaultProp:s??!1,onChange:o,caller:bs}),[C,R]=ys({prop:i,defaultProp:l,onChange:c,caller:bs}),I=m.useRef(null),O=b?w||!!b.closest("form"):!0,[N,P]=m.useState(new Set),D=Array.from(N).map(M=>M.props.value).join(";");return a.jsx(ZM,{...v,children:a.jsxs(HD,{required:p,scope:t,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:g,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Ar(),value:C,onValueChange:R,open:E,onOpenChange:_,dir:k,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(qc.Provider,{scope:t,children:a.jsx(qD,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(M=>{P($=>new Set($).add(M))},[]),onNativeOptionRemove:m.useCallback(M=>{P($=>{const A=new Set($);return A.delete(M),A})},[]),children:n})}),O?a.jsxs(L1,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:M=>R(M.target.value),disabled:h,form:w,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(N)]},D):null]})})};d1.displayName=bs;var f1="SelectTrigger",h1=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Kc(n),i=Gr(f1,n),l=i.disabled||r,c=Te(t,i.onTriggerChange),u=Gc(n),d=m.useRef("touch"),[f,h,p]=D1(v=>{const b=u().filter(g=>!g.disabled),x=b.find(g=>g.value===i.value),y=$1(b,v,x);y!==void 0&&i.onValueChange(y.value)}),w=v=>{l||(i.onOpenChange(!0),p()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(eD,{asChild:!0,...o,children:a.jsx(le.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":M1(i.value)?"":void 0,...s,ref:c,onClick:se(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&w(v)}),onPointerDown:se(s.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:se(s.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(b&&v.key===" ")&&BD.includes(v.key)&&(w(),v.preventDefault())})})})});h1.displayName=f1;var p1="SelectValue",m1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=Gr(p1,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Te(t,c.onValueNodeChange);return at(()=>{u(d)},[u,d]),a.jsx(le.span,{...l,ref:f,style:{pointerEvents:"none"},children:M1(c.value)?a.jsx(a.Fragment,{children:i}):o})});m1.displayName=p1;var KD="SelectIcon",g1=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(le.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});g1.displayName=KD;var YD="SelectPortal",v1=e=>a.jsx(_c,{asChild:!0,...e});v1.displayName=YD;var js="SelectContent",y1=m.forwardRef((e,t)=>{const n=Gr(js,e.__scopeSelect),[r,s]=m.useState();if(at(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Es.createPortal(a.jsx(x1,{scope:e.__scopeSelect,children:a.jsx(qc.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(w1,{...e,ref:t})});y1.displayName=js;var rn=10,[x1,Kr]=$o(js),JD="SelectContentImpl",XD=wo("SelectContent.RemoveScroll"),w1=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:b,...x}=e,y=Gr(js,n),[g,j]=m.useState(null),[S,k]=m.useState(null),E=Te(t,J=>j(J)),[_,C]=m.useState(null),[R,I]=m.useState(null),O=Gc(n),[N,P]=m.useState(!1),D=m.useRef(!1);m.useEffect(()=>{if(g)return t1(g)},[g]),Nj();const M=m.useCallback(J=>{const[ve,...Re]=O().map(ye=>ye.ref.current),[ce]=Re.slice(-1),ie=document.activeElement;for(const ye of J)if(ye===ie||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===ve&&S&&(S.scrollTop=0),ye===ce&&S&&(S.scrollTop=S.scrollHeight),ye==null||ye.focus(),document.activeElement!==ie))return},[O,S]),$=m.useCallback(()=>M([_,g]),[M,_,g]);m.useEffect(()=>{N&&$()},[N,$]);const{onOpenChange:A,triggerPointerDownPosRef:T}=y;m.useEffect(()=>{if(g){let J={x:0,y:0};const ve=ce=>{var ie,ye;J={x:Math.abs(Math.round(ce.pageX)-(((ie=T.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((ye=T.current)==null?void 0:ye.y)??0))}},Re=ce=>{J.x<=10&&J.y<=10?ce.preventDefault():g.contains(ce.target)||A(!1),document.removeEventListener("pointermove",ve),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",Re,{capture:!0})}}},[g,A,T]),m.useEffect(()=>{const J=()=>A(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[A]);const[z,L]=D1(J=>{const ve=O().filter(ie=>!ie.disabled),Re=ve.find(ie=>ie.ref.current===document.activeElement),ce=$1(ve,J,Re);ce&&setTimeout(()=>ce.ref.current.focus())}),V=m.useCallback((J,ve,Re)=>{const ce=!D.current&&!Re;(y.value!==void 0&&y.value===ve||ce)&&(C(J),ce&&(D.current=!0))},[y.value]),ee=m.useCallback(()=>g==null?void 0:g.focus(),[g]),ge=m.useCallback((J,ve,Re)=>{const ce=!D.current&&!Re;(y.value!==void 0&&y.value===ve||ce)&&I(J)},[y.value]),Ae=r==="popper"?Df:b1,Ee=Ae===Df?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return a.jsx(x1,{scope:n,content:g,viewport:S,onViewportChange:k,itemRefCallback:V,selectedItem:_,onItemLeave:ee,itemTextRefCallback:ge,focusSelectedItem:$,selectedItemText:R,position:r,isPositioned:N,searchRef:z,children:a.jsx(u1,{as:XD,allowPinchZoom:!0,children:a.jsx(Cp,{asChild:!0,trapped:y.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:se(s,J=>{var ve;(ve=y.trigger)==null||ve.focus({preventScroll:!0}),J.preventDefault()}),children:a.jsx(Sc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(Ae,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:J=>J.preventDefault(),...x,...Ee,onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:se(x.onKeyDown,J=>{const ve=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ve&&J.key.length===1&&L(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ce=O().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ie=J.target,ye=ce.indexOf(ie);ce=ce.slice(ye+1)}setTimeout(()=>M(ce)),J.preventDefault()}})})})})})})});w1.displayName=JD;var QD="SelectItemAlignedPosition",b1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Gr(js,n),i=Kr(js,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Te(t,E=>d(E)),h=Gc(n),p=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=i,g=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&v&&b&&x){const E=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(o.dir!=="rtl"){const ie=R.left-_.left,ye=C.left-ie,nt=E.left-ye,xt=E.width+nt,B=Math.max(xt,_.width),q=window.innerWidth-rn,be=qv(ye,[rn,Math.max(rn,q-B)]);l.style.minWidth=xt+"px",l.style.left=be+"px"}else{const ie=_.right-R.right,ye=window.innerWidth-C.right-ie,nt=window.innerWidth-E.right-ye,xt=E.width+nt,B=Math.max(xt,_.width),q=window.innerWidth-rn,be=qv(ye,[rn,Math.max(rn,q-B)]);l.style.minWidth=xt+"px",l.style.right=be+"px"}const I=h(),O=window.innerHeight-rn*2,N=v.scrollHeight,P=window.getComputedStyle(u),D=parseInt(P.borderTopWidth,10),M=parseInt(P.paddingTop,10),$=parseInt(P.borderBottomWidth,10),A=parseInt(P.paddingBottom,10),T=D+M+N+A+$,z=Math.min(b.offsetHeight*5,T),L=window.getComputedStyle(v),V=parseInt(L.paddingTop,10),ee=parseInt(L.paddingBottom,10),ge=E.top+E.height/2-rn,Ae=O-ge,Ee=b.offsetHeight/2,J=b.offsetTop+Ee,ve=D+M+J,Re=T-ve;if(ve<=ge){const ie=I.length>0&&b===I[I.length-1].ref.current;l.style.bottom="0px";const ye=u.clientHeight-v.offsetTop-v.offsetHeight,nt=Math.max(Ae,Ee+(ie?ee:0)+ye+$),xt=ve+nt;l.style.height=xt+"px"}else{const ie=I.length>0&&b===I[0].ref.current;l.style.top="0px";const nt=Math.max(ge,D+v.offsetTop+(ie?V:0)+Ee)+Re;l.style.height=nt+"px",v.scrollTop=ve-ge+v.offsetTop}l.style.margin=`${rn}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,l,u,v,b,x,o.dir,r]);at(()=>g(),[g]);const[j,S]=m.useState();at(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=m.useCallback(E=>{E&&w.current===!0&&(g(),y==null||y(),w.current=!1)},[g,y]);return a.jsx(e$,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});b1.displayName=QD;var ZD="SelectPopperPosition",Df=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=rn,...o}=e,i=Kc(n);return a.jsx(tD,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Df.displayName=ZD;var[e$,Lp]=$o(js,{}),$f="SelectViewport",j1=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Kr($f,n),i=Lp($f,n),l=Te(t,o.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(qc.Slot,{scope:n,children:a.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-rn*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(v,b);if(x<w){const y=x+p,g=Math.min(w,y),j=y-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});j1.displayName=$f;var S1="SelectGroup",[t$,n$]=$o(S1),r$=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ar();return a.jsx(t$,{scope:n,id:s,children:a.jsx(le.div,{role:"group","aria-labelledby":s,...r,ref:t})})});r$.displayName=S1;var _1="SelectLabel",C1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=n$(_1,n);return a.jsx(le.div,{id:s.id,...r,ref:t})});C1.displayName=_1;var sc="SelectItem",[s$,E1]=$o(sc),k1=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=Gr(sc,n),c=Kr(sc,n),u=l.value===r,[d,f]=m.useState(o??""),[h,p]=m.useState(!1),w=Te(t,y=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,y,r,s)}),v=Ar(),b=m.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(s$,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(y=>{f(g=>g||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(qc.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(le.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:se(i.onFocus,()=>p(!0)),onBlur:se(i.onBlur,()=>p(!1)),onClick:se(i.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:se(i.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:se(i.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:se(i.onPointerMove,y=>{var g;b.current=y.pointerType,s?(g=c.onItemLeave)==null||g.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(i.onPointerLeave,y=>{var g;y.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:se(i.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(zD.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});k1.displayName=sc;var oi="SelectItemText",N1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Gr(oi,n),l=Kr(oi,n),c=E1(oi,n),u=GD(oi,n),[d,f]=m.useState(null),h=Te(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return at(()=>(v(w),()=>b(w)),[v,b,w]),a.jsxs(a.Fragment,{children:[a.jsx(le.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Es.createPortal(o.children,i.valueNode):null]})});N1.displayName=oi;var P1="SelectItemIndicator",T1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return E1(P1,n).isSelected?a.jsx(le.span,{"aria-hidden":!0,...r,ref:t}):null});T1.displayName=P1;var Ff="SelectScrollUpButton",A1=m.forwardRef((e,t)=>{const n=Kr(Ff,e.__scopeSelect),r=Lp(Ff,e.__scopeSelect),[s,o]=m.useState(!1),i=Te(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(O1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});A1.displayName=Ff;var Vf="SelectScrollDownButton",R1=m.forwardRef((e,t)=>{const n=Kr(Vf,e.__scopeSelect),r=Lp(Vf,e.__scopeSelect),[s,o]=m.useState(!1),i=Te(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(O1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});R1.displayName=Vf;var O1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Kr("SelectScrollButton",n),i=m.useRef(null),l=Gc(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),at(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(le.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{c()})})}),o$="SelectSeparator",I1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(le.div,{"aria-hidden":!0,...r,ref:t})});I1.displayName=o$;var Uf="SelectArrow",i$=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Kc(n),o=Gr(Uf,n),i=Kr(Uf,n);return o.open&&i.position==="popper"?a.jsx(nD,{...s,...r,ref:t}):null});i$.displayName=Uf;var a$="SelectBubbleInput",L1=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=m.useRef(null),o=Te(r,s),i=Zj(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(le.select,{...n,style:{...X0,...n.style},ref:o,defaultValue:t})});L1.displayName=a$;function M1(e){return e===""||e===void 0}function D1(e){const t=Jt(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function $1(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=l$(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function l$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var c$=d1,F1=h1,u$=m1,d$=g1,f$=v1,V1=y1,h$=j1,U1=C1,B1=k1,p$=N1,m$=T1,z1=A1,W1=R1,H1=I1;const In=c$,Ln=u$,xn=oe.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(F1,{ref:r,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(d$,{asChild:!0,children:a.jsx(yw,{className:"h-4 w-4 opacity-50"})})]}));xn.displayName=F1.displayName;const q1=oe.forwardRef(({className:e,...t},n)=>a.jsx(z1,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(YN,{className:"h-4 w-4"})}));q1.displayName=z1.displayName;const G1=oe.forwardRef(({className:e,...t},n)=>a.jsx(W1,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(yw,{className:"h-4 w-4"})}));G1.displayName=W1.displayName;const wn=oe.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(f$,{children:a.jsxs(V1,{ref:s,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(q1,{}),a.jsx(h$,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(G1,{})]})}));wn.displayName=V1.displayName;const g$=oe.forwardRef(({className:e,...t},n)=>a.jsx(U1,{ref:n,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));g$.displayName=U1.displayName;const Lt=oe.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(B1,{ref:r,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(m$,{children:a.jsx(KN,{className:"h-4 w-4"})})}),a.jsx(p$,{children:t})]}));Lt.displayName=B1.displayName;const v$=oe.forwardRef(({className:e,...t},n)=>a.jsx(H1,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));v$.displayName=H1.displayName;const py=[{value:"varejo",label:"Varejo"},{value:"atacado",label:"Atacado"},{value:"atacarejo",label:"Atacarejo"}],y$=Array.from({length:10},(e,t)=>t+1),my=()=>{const[e,t]=m.useState([]),[n,r]=m.useState({type:"percentage",value:0}),[s,o]=m.useState([]),[i,l]=m.useState({isOpen:!1,currentAmount:0,openingAmount:0,id:null,store_id:null}),[c,u]=m.useState(null),{toast:d}=Pt(),f=Xe(),h=!!(f!=null&&f.store_id)&&!$t(f.role,X.VIEW_ALL_STORES_DATA),[p,w]=m.useState(0),[v,b]=m.useState(""),[x,y]=m.useState(null),[g,j]=m.useState([]),[S,k]=m.useState(!1),[E,_]=m.useState(1),[C,R]=m.useState([{method:"",amount:"",parcelas:1},{method:"",amount:"",parcelas:1}]),[I,O]=m.useState(!1),[N,P]=m.useState(!1),D=()=>{var B;return a.jsxs("div",{className:"space-y-6 max-w-2xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumo da Venda"}),a.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Modalidade:"})," ",(B=py.find(q=>q.value===v))==null?void 0:B.label]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Vendedor:"})," ",x==null?void 0:x.name]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Tipo de venda:"})," ",I?"Troca":"Normal"]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Itens:"}),a.jsx("ul",{className:"ml-4 list-disc",children:e.map(q=>a.jsxs("li",{children:[q.name," - ",q.quantity," x R$ ",q.price.toFixed(2)," = R$ ",(q.price*q.quantity).toFixed(2)]},q.id))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Total:"})," R$ ",Ae().toFixed(2)]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("b",{children:"Pagamentos:"}),a.jsx("ul",{className:"ml-4 list-disc",children:C.slice(0,E).map((q,be)=>a.jsxs("li",{children:[Zl[q.method]," - R$ ",parseFloat(q.amount).toFixed(2),q.method==="credit"?` (${q.parcelas}x)`:""]},be))})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("input",{type:"checkbox",id:"troca",checked:I,onChange:q=>O(q.target.checked)}),a.jsxs("label",{htmlFor:"troca",className:"text-sm",children:["Esta venda é uma ",a.jsx("b",{children:"troca"})]})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(U,{onClick:async()=>{P(!0);try{const q={items:e.map(fe=>({productId:fe.productId,name:fe.name,price:fe.price,barcode:fe.barcode,quantity:fe.quantity,subtotal:fe.subtotal})),subtotal:ee(),discount:ge(),total:Ae(),payments:C.slice(0,E).map(fe=>({method:fe.method,amount:parseFloat(fe.amount),parcelas:fe.method==="credit"?fe.parcelas:void 0})),cashier:f==null?void 0:f.name,cashierId:f==null?void 0:f.id,store_id:(c==null?void 0:c.id)||(f==null?void 0:f.store_id)||null,modalidade:v,vendedor_id:x==null?void 0:x.id,tipo_venda:I?"troca":"normal"},be=await wL(q);V(),O(!1),w(0),y(null),R([{method:"",amount:"",parcelas:1},{method:"",amount:"",parcelas:1}]),_(1),d({title:"Venda finalizada com sucesso!",description:`Venda #${be.sale.id} criada.`,variant:"default"})}catch(q){d({title:"Erro ao finalizar venda",description:q.message||"Tente novamente.",variant:"destructive"})}finally{P(!1)}},disabled:N,children:N?"Finalizando...":"Finalizar Venda"}),a.jsx(U,{variant:"ghost",onClick:()=>w(3),disabled:N,children:"Voltar"})]})]})};m.useEffect(()=>{p===1&&g.length===0&&(k(!0),bj().then(B=>{const q=B.filter(be=>["manager","cashier","admin"].includes(be.role));j(q)}).finally(()=>k(!1)))},[p,g.length]);const M=m.useCallback(async()=>{const B=await xL();l(B),h&&(f!=null&&f.store_id)?u({id:f.store_id,name:f.store_name||"Loja Física"}):u({id:null,name:"Loja Online"})},[h,f==null?void 0:f.store_id,f==null?void 0:f.store_name]);m.useEffect(()=>{M()},[M]);const $=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(bL,{onProductFound:T,getProductByBarcode:Rf}),a.jsx(jL,{cart:e,onUpdateQuantity:z,onRemoveFromCart:L,onClearCart:V}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(U,{onClick:()=>e.length>0&&w(3),disabled:e.length===0,children:"Avançar"}),a.jsx(U,{variant:"ghost",onClick:()=>w(1),children:"Voltar"})]})]}),A=B=>v==="varejo"&&B.price_varejo!=null?B.price_varejo:v==="atacado"&&B.price_atacado!=null?B.price_atacado:v==="atacarejo"&&B.price_atacarejo!=null?B.price_atacarejo:B.price,T=async B=>{var fe,Qe;if(h&&B.is_physical_store_stock&&(!B.stock||B.stock<=0)){d({title:"Sem estoque na sua loja",description:`O produto ${B.name} não tem estoque disponível na sua loja.`,variant:"warning"});return}if(!h&&(!B.stock||B.stock<=0)){d({title:"Sem estoque online",description:`O produto ${B.name} não tem estoque online disponível.`,variant:"warning"});return}const q=A(B),be=e.find(Xt=>Xt.productId===B.id);if(be)z(be.id,be.quantity+1,B.stock);else{const Xt={id:`${B.id}-${Date.now()}`,productId:B.id,name:B.name,price:q,barcode:B.barcode,quantity:1,size:((fe=B.sizes)==null?void 0:fe[0])||null,color:((Qe=B.colors)==null?void 0:Qe[0])||null,subtotal:q,product_main_store_id:B.store_id,max_available_stock:B.stock};t(rr=>[...rr,Xt])}d({title:"Produto adicionado",description:`${B.name} adicionado ao carrinho. Estoque disponível: ${B.stock}`})},z=(B,q,be)=>{const fe=e.find(Xt=>Xt.id===B);if(!fe)return;const Qe=be!==void 0?be:fe.max_available_stock;if(q>Qe&&(d({title:"Quantidade excede estoque",description:`Máximo de ${Qe} unidades disponíveis.`,variant:"warning"}),q=Qe),q<=0){L(B);return}t(Xt=>Xt.map(rr=>rr.id===B?{...rr,quantity:q,subtotal:rr.price*q}:rr))},L=B=>{t(q=>q.filter(be=>be.id!==B))},V=()=>{t([]),o([]),r({type:"percentage",value:0})},ee=()=>e.reduce((B,q)=>B+q.subtotal,0),ge=()=>{const B=ee();return n.type==="percentage"?B*n.value/100:Math.min(n.value,B)},Ae=()=>ee()-ge(),Ee=()=>{if(!$t(f==null?void 0:f.role,X.APPLY_DISCOUNTS)){d({title:"Sem permissão",description:"Você não tem permissão para aplicar descontos",variant:"destructive"});return}const B=prompt("Digite a porcentagem de desconto (ex: 10 para 10%):"),q=parseFloat(B);!isNaN(q)&&q>=0&&q<=100?(r({type:"percentage",value:q}),d({title:"Desconto aplicado",description:`${q}% de desconto.`})):B!==null&&d({title:"Valor inválido",description:"Por favor, insira um valor entre 0 e 100.",variant:"destructive"})},J=(B,q)=>{o(be=>[...be,{method:B,amount:parseFloat(q.toFixed(2)),id:Date.now()}])},ve=()=>s.reduce((B,q)=>B+q.amount,0),Re=()=>Ae()-ve(),ce=()=>e.length>0&&Re()<=.001,ie=(B,q,be)=>{R(fe=>fe.map((Qe,Xt)=>Xt===B?{...Qe,[q]:be}:Qe))},ye=()=>a.jsxs("div",{className:"space-y-6 max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Formas de Pagamento"}),a.jsxs("div",{className:"flex gap-4 mb-2",children:[a.jsx(U,{variant:E===1?"default":"outline",onClick:()=>_(1),children:"1 Forma"}),a.jsx(U,{variant:E===2?"default":"outline",onClick:()=>_(2),children:"2 Formas"})]}),[...Array(E)].map((B,q)=>{var be;return a.jsxs("div",{className:"border rounded-lg p-4 mb-2 bg-card",children:[a.jsxs("div",{className:"mb-2 font-medium",children:["Pagamento ",q+1]}),a.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[a.jsxs(In,{value:C[q].method,onValueChange:fe=>ie(q,"method",fe),children:[a.jsx(xn,{className:"w-40",children:a.jsx(Ln,{placeholder:"Forma de Pagamento"})}),a.jsx(wn,{children:Object.entries(Zl).map(([fe,Qe])=>a.jsx(Lt,{value:fe,children:Qe},fe))})]}),a.jsx(K,{type:"number",min:"0",step:"0.01",placeholder:"Valor",className:"w-32",value:C[q].amount,onChange:fe=>ie(q,"amount",fe.target.value)}),C[q].method==="credit"&&a.jsxs(In,{value:((be=C[q].parcelas)==null?void 0:be.toString())||"1",onValueChange:fe=>ie(q,"parcelas",parseInt(fe)),children:[a.jsx(xn,{className:"w-28",children:a.jsx(Ln,{placeholder:"Parcelas"})}),a.jsx(wn,{children:y$.map(fe=>a.jsxs(Lt,{value:fe.toString(),children:[fe,"x"]},fe))})]})]})]},q)}),a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-medium",children:"Total da venda:"})," R$ ",Ae().toFixed(2),a.jsx("br",{}),a.jsx("span",{className:"font-medium",children:"Total informado:"})," R$ ",ve().toFixed(2)]}),!ce&&a.jsx("div",{className:"text-destructive text-sm mb-2",children:"Preencha todas as formas de pagamento corretamente e o valor total deve bater com o total da venda."}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(U,{onClick:()=>ce&&w(4),disabled:!ce,children:"Avançar"}),a.jsx(U,{variant:"ghost",onClick:()=>w(2),children:"Voltar"})]})]}),nt=()=>a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione a modalidade da venda"}),a.jsx("div",{className:"flex gap-4 mb-4",children:py.map(B=>a.jsx(U,{variant:v===B.value?"default":"outline",onClick:()=>b(B.value),className:"min-w-[120px]",children:B.label},B.value))}),a.jsx(U,{onClick:()=>v&&w(1),disabled:!v,className:"mt-2",children:"Avançar"})]}),xt=()=>a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione o vendedor responsável"}),S?a.jsx("div",{children:"Carregando vendedores..."}):a.jsx("div",{className:"flex flex-col gap-2 mb-4 max-w-md",children:g.map(B=>a.jsxs(U,{variant:(x==null?void 0:x.id)===B.id?"default":"outline",onClick:()=>y(B),className:"justify-start",children:[B.name," ",a.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",B.role,")"]})]},B.id))}),a.jsx(U,{onClick:()=>x&&w(2),disabled:!x,className:"mt-2",children:"Avançar"}),a.jsx(U,{variant:"ghost",className:"mt-2 ml-2",onClick:()=>w(0),children:"Voltar"})]});return Ae(),C.slice(0,E).reduce((B,q)=>B+(parseFloat(q.amount)||0),0),C.slice(0,E).every(B=>B.method&&B.amount&&!isNaN(parseFloat(B.amount))&&(B.method!=="credit"||B.parcelas)),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p===0&&nt(),p===1&&xt(),p===2&&$(),p===3&&ye(),p===4&&D()]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(SL,{subtotal:ee(),discountAmount:ge(),total:Ae(),onApplyDiscount:Ee}),a.jsx(_L,{cartLength:e.length,payments:s,totalPaid:ve(),remainingAmount:Re(),onAddPayment:J}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(xs,{className:"w-5 h-5"}),a.jsx("span",{children:"Status do Caixa"})]})}),a.jsxs(re,{className:"space-y-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx("p",{className:`font-bold ${i.isOpen?"text-green-600":"text-red-600"}`,children:i.isOpen?"ABERTO":"FECHADO"}),i.isOpen&&a.jsxs("p",{className:"text-lg font-bold",children:["R$ ",i.currentAmount.toFixed(2)]})]}),a.jsx("div",{className:"text-center",children:a.jsx(U,{variant:"outline",size:"sm",onClick:()=>window.location.href="/cash-register",className:"w-full",children:"Gerenciar Caixa"})})]})]})]})]})},x$=({products:e,onEdit:t,onDelete:n,stores:r,currentUser:s})=>{if(e.length===0)return a.jsx(ne,{children:a.jsxs(re,{className:"text-center py-12",children:[a.jsx(Pn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum produto encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro produto."})]})});const o=i=>{var l;return((l=r.find(c=>c.id===i))==null?void 0:l.name)||"Loja Desconhecida"};return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>{var u,d,f;let l=i.stock,c="Est. Online/Geral";if(s&&s.store_id&&!((u=s.stores)!=null&&u.is_online_store)){const h=(d=i.physicalStocks)==null?void 0:d.find(p=>p.store_id===s.store_id);h?(l=h.quantity,c=`Est. ${s.stores.name}`):(l=0,c=`Est. ${s.stores.name}`)}return a.jsx(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:a.jsxs(ne,{className:"glass-effect flex flex-col h-full",children:[a.jsxs(je,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[i.image_url?a.jsx("img",{src:i.image_url,alt:i.name,className:"w-10 h-10 object-cover rounded-md border",onError:h=>{console.log("❌ Erro ao carregar imagem:",i.image_url,"para produto:",i.name),h.target.style.display="none",h.target.nextSibling.style.display="block"},onLoad:()=>{console.log("✅ Imagem carregada com sucesso:",i.image_url,"para produto:",i.name)}}):null,a.jsx(Pn,{className:`w-5 h-5 text-primary ${i.image_url?"hidden":"block"}`}),a.jsx(Se,{className:"text-lg",children:i.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Bi,{to:`/products/${i.id}`,children:a.jsx(U,{variant:"ghost",size:"icon",children:a.jsx(ww,{className:"w-4 h-4"})})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>t(i),children:a.jsx(kc,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(i.id),className:"text-destructive hover:text-destructive",children:a.jsx(Oo,{className:"w-4 h-4"})})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground pt-1",children:["Cód: ",i.barcode]}),a.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:["Tipo: ",i.product_type==="variable"?"Variável":"Simples"]}),i.store_id&&a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(Wi,{className:"w-3 h-3 mr-1"}),a.jsxs("span",{children:["Cadastrado em: ",o(i.store_id)]})]})]}),a.jsxs(re,{className:"space-y-3 flex-grow flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Categoria:"}),a.jsx("p",{children:i.category||"-"})]})}),s&&(((f=s.stores)==null?void 0:f.is_online_store)||s.role==="admin")&&i.physicalStocks&&i.physicalStocks.length>0&&a.jsxs("div",{className:"mt-3 pt-2 border-t border-dashed",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Estoque nas Lojas Físicas:"}),a.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto text-xs",children:i.physicalStocks.map(h=>{var p;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xw,{className:"w-3 h-3 mr-1 text-muted-foreground"}),a.jsxs("span",{children:[((p=h.stores)==null?void 0:p.name)||o(h.store_id),":"]})]}),a.jsxs("span",{children:[h.quantity," un."]})]},h.id)})})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t mt-3",children:[a.jsxs("span",{className:"text-xl font-bold text-primary",children:["R$ ",i.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-sm font-medium ${l<=i.min_stock?"text-orange-600":"text-green-600"}`,children:[c,": ",l]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Alerta Mín: ",i.min_stock]})]})]})]})]})},i.id)})})};var Yc="Dialog",[K1,X4]=Br(Yc),[w$,bn]=K1(Yc),Y1=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=ys({prop:r,defaultProp:s??!1,onChange:o,caller:Yc});return a.jsx(w$,{scope:t,triggerRef:l,contentRef:c,contentId:Ar(),titleId:Ar(),descriptionId:Ar(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};Y1.displayName=Yc;var J1="DialogTrigger",X1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(J1,n),o=Te(t,s.triggerRef);return a.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$p(s.open),...r,ref:o,onClick:se(e.onClick,s.onOpenToggle)})});X1.displayName=J1;var Mp="DialogPortal",[b$,Q1]=K1(Mp,{forceMount:void 0}),Z1=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=bn(Mp,t);return a.jsx(b$,{scope:t,forceMount:n,children:m.Children.map(r,i=>a.jsx(Ro,{present:n||o.open,children:a.jsx(_c,{asChild:!0,container:s,children:i})}))})};Z1.displayName=Mp;var oc="DialogOverlay",eS=m.forwardRef((e,t)=>{const n=Q1(oc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=bn(oc,e.__scopeDialog);return o.modal?a.jsx(Ro,{present:r||o.open,children:a.jsx(S$,{...s,ref:t})}):null});eS.displayName=oc;var j$=wo("DialogOverlay.RemoveScroll"),S$=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(oc,n);return a.jsx(u1,{as:j$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(le.div,{"data-state":$p(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",tS=m.forwardRef((e,t)=>{const n=Q1(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=bn(Ss,e.__scopeDialog);return a.jsx(Ro,{present:r||o.open,children:o.modal?a.jsx(_$,{...s,ref:t}):a.jsx(C$,{...s,ref:t})})});tS.displayName=Ss;var _$=m.forwardRef((e,t)=>{const n=bn(Ss,e.__scopeDialog),r=m.useRef(null),s=Te(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return t1(o)},[]),a.jsx(nS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:se(e.onFocusOutside,o=>o.preventDefault())})}),C$=m.forwardRef((e,t)=>{const n=bn(Ss,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return a.jsx(nS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),nS=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=bn(Ss,n),c=m.useRef(null),u=Te(t,c);return Nj(),a.jsxs(a.Fragment,{children:[a.jsx(Cp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Sc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$p(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(E$,{titleId:l.titleId}),a.jsx(N$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Dp="DialogTitle",rS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(Dp,n);return a.jsx(le.h2,{id:s.titleId,...r,ref:t})});rS.displayName=Dp;var sS="DialogDescription",oS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(sS,n);return a.jsx(le.p,{id:s.descriptionId,...r,ref:t})});oS.displayName=sS;var iS="DialogClose",aS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=bn(iS,n);return a.jsx(le.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>s.onOpenChange(!1))})});aS.displayName=iS;function $p(e){return e?"open":"closed"}var lS="DialogTitleWarning",[Q4,cS]=Zk(lS,{contentName:Ss,titleName:Dp,docsSlug:"dialog"}),E$=({titleId:e})=>{const t=cS(lS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},k$="DialogDescriptionWarning",N$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cS(k$).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},P$=Y1,T$=X1,A$=Z1,uS=eS,dS=tS,fS=rS,hS=oS,R$=aS;const Rn=P$,fo=T$,O$=A$,pS=oe.forwardRef(({className:e,...t},n)=>a.jsx(uS,{ref:n,className:me("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pS.displayName=uS.displayName;const fn=oe.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(O$,{children:[a.jsx(pS,{}),a.jsxs(dS,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(R$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Jh,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fn.displayName=dS.displayName;const hn=({className:e,...t})=>a.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hn.displayName="DialogHeader";const pn=oe.forwardRef(({className:e,...t},n)=>a.jsx(fS,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));pn.displayName=fS.displayName;const mS=oe.forwardRef(({className:e,...t},n)=>a.jsx(hS,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));mS.displayName=hS.displayName;const I$=async()=>{try{const e=Xe();let t=Q.from("categories").select("*").order("name");(e==null?void 0:e.role)!=="admin"&&(e!=null&&e.store_id)?t=t.eq("store_id",e.store_id):(e==null?void 0:e.role)!=="admin"&&(t=t.is("store_id",null));const{data:n,error:r}=await t;if(r)throw console.error("Erro ao buscar categorias:",r),new Error("Erro ao buscar categorias");return n||[]}catch(e){throw console.error("Erro em getCategories:",e),e}},L$=async e=>{try{const t=Xe(),n={...e,store_id:(t==null?void 0:t.store_id)||null},{data:r,error:s}=await Q.from("categories").insert([n]).select().single();if(s)throw console.error("Erro ao adicionar categoria:",s),new Error("Erro ao adicionar categoria");return r}catch(t){throw console.error("Erro em addCategory:",t),t}},M$=async(e,t)=>{try{const{data:n,error:r}=await Q.from("categories").update(t).eq("id",e).select().single();if(r)throw console.error("Erro ao atualizar categoria:",r),new Error("Erro ao atualizar categoria");return n}catch(n){throw console.error("Erro em updateCategory:",n),n}},D$=async e=>{try{const{error:t}=await Q.from("categories").delete().eq("id",e);if(t)throw console.error("Erro ao deletar categoria:",t),new Error("Erro ao deletar categoria");return!0}catch(t){throw console.error("Erro em deleteCategory:",t),t}},$$=async()=>{try{const e=Xe();let t=Q.from("categories").select("*").eq("active",!0).order("name");(e==null?void 0:e.role)!=="admin"&&(e!=null&&e.store_id)?t=t.eq("store_id",e.store_id):(e==null?void 0:e.role)!=="admin"&&(t=t.is("store_id",null));const{data:n,error:r}=await t;if(r)throw console.error("Erro ao buscar categorias ativas:",r),new Error("Erro ao buscar categorias ativas");return n||[]}catch(e){throw console.error("Erro em getActiveCategories:",e),e}},F$=async e=>{try{const{data:t,error:n}=await Q.from("products").select("id, name").eq("category",e).limit(1);if(n)throw console.error("Erro ao verificar uso da categoria:",n),new Error("Erro ao verificar uso da categoria");return t.length>0}catch(t){throw console.error("Erro em checkCategoryUsage:",t),t}},on={SIMPLE:"simple",VARIABLE:"variable"},V$=({formData:e,handleInputChange:t,handleProductTypeChange:n,categories:r=[]})=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"name",children:"Nome do Produto *"}),a.jsx(K,{id:"name",name:"name",value:e.name,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"category",children:"Categoria"}),a.jsxs(In,{name:"category",value:e.category,onValueChange:s=>t({target:{name:"category",value:s}}),children:[a.jsx(xn,{children:a.jsx(Ln,{placeholder:"Selecione a categoria"})}),a.jsx(wn,{children:r.map(s=>a.jsx(Lt,{value:s.name,children:s.name},s.id))})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"barcode",children:"Código de Barras Principal *"}),a.jsx(K,{id:"barcode",name:"barcode",value:e.barcode,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"price",children:"Preço Principal *"}),a.jsx(K,{id:"price",name:"price",type:"number",step:"0.01",value:e.price,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"price_varejo",children:"Preço de Varejo"}),a.jsx(K,{id:"price_varejo",name:"price_varejo",type:"number",step:"0.01",value:e.price_varejo||"",onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"price_atacado",children:"Preço de Atacado"}),a.jsx(K,{id:"price_atacado",name:"price_atacado",type:"number",step:"0.01",value:e.price_atacado||"",onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"price_atacarejo",children:"Cliente Exclusivo"}),a.jsx(K,{id:"price_atacarejo",name:"price_atacarejo",type:"number",step:"0.01",value:e.price_atacarejo||"",onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"product_type",children:"Tipo de Produto *"}),a.jsxs(In,{name:"product_type",value:e.product_type,onValueChange:n,children:[a.jsx(xn,{children:a.jsx(Ln,{placeholder:"Selecione o tipo"})}),a.jsxs(wn,{children:[a.jsx(Lt,{value:on.SIMPLE,children:"Produto Simples"}),a.jsx(Lt,{value:on.VARIABLE,children:"Produto Variável"})]})]})]}),e.product_type===on.SIMPLE&&a.jsxs("div",{children:[a.jsx(H,{htmlFor:"stock",children:"Estoque (Simples) *"}),a.jsx(K,{id:"stock",name:"stock",type:"number",value:e.stock,onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"referencia",children:"Referência *"}),a.jsx(K,{id:"referencia",name:"referencia",value:e.referencia||"",onChange:t,required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"min_stock",children:"Estoque Mínimo Global (Alerta)"}),a.jsx(K,{id:"min_stock",name:"min_stock",type:"number",value:e.min_stock,onChange:t})]})]}),a.jsxs("div",{className:"pt-4 border-t mt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dimensões e Peso (para frete)"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"weight",children:"Peso (kg)"}),a.jsx(K,{id:"weight",name:"weight",type:"number",step:"0.01",value:e.weight,onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"length",children:"Comprimento (cm)"}),a.jsx(K,{id:"length",name:"length",type:"number",step:"0.1",value:e.length,onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"height",children:"Altura (cm)"}),a.jsx(K,{id:"height",name:"height",type:"number",step:"0.1",value:e.height,onChange:t})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"width",children:"Largura (cm)"}),a.jsx(K,{id:"width",name:"width",type:"number",step:"0.1",value:e.width,onChange:t})]})]})]})]}),gS=({title:e,imageUrlPreview:t,handleImageChange:n,imageInputRef:r,idPrefix:s="main"})=>a.jsxs("div",{className:"pt-4 border-t mt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:e}),a.jsx(K,{type:"file",accept:"image/*",onChange:n,ref:r,className:"mb-2",id:`${s}_image_upload`}),t&&a.jsx("img",{src:t,alt:`Preview ${e}`,className:"w-32 h-32 object-cover rounded-md border"})]}),U$=({variations:e,handleVariationChange:t,handleVariationAttributeChange:n,removeVariation:r,addVariation:s,handleVariationImageChange:o,variationImageUrlPreviews:i})=>!e||e.length===0?a.jsx("div",{className:"pt-4 border-t mt-6",children:a.jsxs(U,{type:"button",variant:"outline",onClick:s,children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Adicionar Primeira Variação"]})}):a.jsxs("div",{className:"pt-4 border-t mt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Variações do Produto"}),e.map((l,c)=>a.jsxs("div",{className:"p-4 border rounded-md mb-4 space-y-3 bg-muted/20 relative",children:[a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-destructive",onClick:()=>r(c),children:a.jsx(Oo,{className:"w-4 h-4"})}),a.jsxs("p",{className:"font-semibold text-md",children:["Variação ",c+1]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(l.attributes||[{name:"",value:""}]).map((u,d)=>a.jsxs(oe.Fragment,{children:[a.jsxs("div",{children:[a.jsxs(H,{htmlFor:`variation_${c}_attribute_name_${d}`,children:["Nome do Atributo ",d+1," (Ex: Cor, Tamanho)"]}),a.jsx(K,{id:`variation_${c}_attribute_name_${d}`,value:u.name,onChange:f=>n(c,d,"name",f.target.value)})]}),a.jsxs("div",{children:[a.jsxs(H,{htmlFor:`variation_${c}_attribute_value_${d}`,children:["Valor do Atributo ",d+1," (Ex: Azul, M)"]}),a.jsx(K,{id:`variation_${c}_attribute_value_${d}`,value:u.value,onChange:f=>n(c,d,"value",f.target.value)})]})]},d))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_sku_${c}`,children:"SKU da Variação"}),a.jsx(K,{id:`variation_sku_${c}`,value:l.sku||"",onChange:u=>t(c,"sku",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_barcode_${c}`,children:"Cód. Barras Variação"}),a.jsx(K,{id:`variation_barcode_${c}`,value:l.barcode||"",onChange:u=>t(c,"barcode",u.target.value),onKeyDown:u=>{var d;if(u.key==="Enter"){u.preventDefault(),u.stopPropagation();const f=(d=u.target.closest("form"))==null?void 0:d.querySelector(`#variation_referencia_${c}`);f&&f.focus()}}})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_referencia_${c}`,children:"Referência"}),a.jsx(K,{id:`variation_referencia_${c}`,value:l.referencia||"",onChange:u=>t(c,"referencia",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_price_${c}`,children:"Preço Variação (opcional)"}),a.jsx(K,{id:`variation_price_${c}`,type:"number",step:"0.01",value:l.price||"",onChange:u=>t(c,"price",u.target.value),placeholder:"Usar preço principal"})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_price_varejo_${c}`,children:"Preço Varejo"}),a.jsx(K,{id:`variation_price_varejo_${c}`,type:"number",step:"0.01",value:l.price_varejo||"",onChange:u=>t(c,"price_varejo",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_price_atacado_${c}`,children:"Preço Atacado"}),a.jsx(K,{id:`variation_price_atacado_${c}`,type:"number",step:"0.01",value:l.price_atacado||"",onChange:u=>t(c,"price_atacado",u.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_price_atacarejo_${c}`,children:"Cliente Exclusivo"}),a.jsx(K,{id:`variation_price_atacarejo_${c}`,type:"number",step:"0.01",value:l.price_atacarejo||"",onChange:u=>t(c,"price_atacarejo",u.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`variation_stock_${c}`,children:"Estoque da Variação *"}),a.jsx(K,{id:`variation_stock_${c}`,type:"number",value:l.stock||"0",onChange:u=>t(c,"stock",u.target.value),required:!0})]}),a.jsx(gS,{title:"Imagem da Variação (opcional)",imageUrlPreview:i[c],handleImageChange:u=>o(c,u),idPrefix:`variation_${c}`})]},c)),a.jsxs(U,{type:"button",variant:"outline",onClick:s,children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Adicionar Variação"]})]}),B$=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingProduct:o,resetForm:i,onStockShared:l})=>{const[c,u]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState(!1),[w,v]=m.useState(""),[b,x]=m.useState(""),[y,g]=m.useState([]),[j,S]=m.useState([]),[k,E]=m.useState(null),[_,C]=m.useState(""),[R,I]=m.useState({}),[O,N]=m.useState({}),[P,D]=m.useState([]),[M,$]=m.useState([]),[A,T]=m.useState(!1),[z,L]=m.useState(n.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""});m.useRef(null);const{toast:V}=Pt(),ee=Xe(),ge={name:"",category:"",barcode:"",price:"",price_varejo:"",price_atacado:"",price_atacarejo:"",referencia:"",stock:"0",min_stock:"0",active:!0,weight:"",length:"",height:"",width:"",product_type:on.SIMPLE,image_url:""};m.useEffect(()=>{var W,Y,he,Oe,_e,Qt,Fo,Qc,Bp,zp;if(o){r({name:o.name||"",category:o.category||"",barcode:o.barcode||"",price:((W=o.price)==null?void 0:W.toString())||"",price_varejo:((Y=o.price_varejo)==null?void 0:Y.toString())||"",price_atacado:((he=o.price_atacado)==null?void 0:he.toString())||"",price_atacarejo:((Oe=o.price_atacarejo)==null?void 0:Oe.toString())||"",referencia:o.referencia||"",stock:o.product_type===on.SIMPLE&&((_e=o.stock)==null?void 0:_e.toString())||"0",min_stock:((Qt=o.min_stock)==null?void 0:Qt.toString())||"0",active:o.active!==void 0?o.active:!0,weight:((Fo=o.weight)==null?void 0:Fo.toString())||"",length:((Qc=o.length)==null?void 0:Qc.toString())||"",height:((Bp=o.height)==null?void 0:Bp.toString())||"",width:((zp=o.width)==null?void 0:zp.toString())||"",product_type:o.product_type||on.SIMPLE,image_url:o.image_url||""}),S(o.variations||[]),C(o.image_url||"");const Wp={};(o.variations||[]).forEach((Hp,qS)=>{Hp.image_url&&(Wp[qS]=Hp.image_url)}),N(Wp)}else r(ge),S([]),C(""),N({})},[o,e,r]),m.useEffect(()=>{L(n.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""})},[n.medidas]);const Ae=()=>{const W=n.category,Y=["Camiseta","Gola Média","Camisa","Blazer","Jaqueta","Súeter"],he=["Calças","Bermudas"];return Y.includes(W)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"busto",label:"Busto"},{name:"cintura",label:"Cintura"},{name:"ombro",label:"Ombro"},{name:"manga",label:"Manga"}]:he.includes(W)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"cintura",label:"Cintura"},{name:"tornozelo",label:"Tornozelo"}]:[]};m.useEffect(()=>{(async()=>{const Y=await qr(!0);u(Y||[])})()},[]),m.useEffect(()=>{(async()=>{try{const Y=await $$();f(Y||[])}catch(Y){console.error("Erro ao buscar categorias:",Y)}})()},[]),m.useEffect(()=>{e&&o&&(async()=>{if(o&&o.id){const Y=await _o(o.id);g(Y||[])}else g([])})()},[e,o]);const Ee=W=>{const{name:Y,value:he}=W.target;r(Oe=>({...Oe,[Y]:he}))},J=W=>{const{name:Y,value:he}=W.target;L(Oe=>({...Oe,[Y]:he}))},ve=()=>{r(W=>({...W,medidas:z})),T(!1)},Re=W=>{r(Y=>({...Y,product_type:W,stock:W===on.SIMPLE?Y.stock:"0"})),W===on.SIMPLE?S([]):j.length===0&&ce()},ce=()=>{S(W=>[...W,{attributes:[{name:"Cor",value:""},{name:"Tamanho",value:""}],sku:"",barcode:"",price:"",stock:"0",image_url:""}])},ie=(W,Y,he)=>{const Oe=[...j];Oe[W][Y]=he,S(Oe)},ye=(W,Y,he,Oe)=>{const _e=[...j];_e[W].attributes||(_e[W].attributes=[]),_e[W].attributes[Y]||(_e[W].attributes[Y]={name:"",value:""}),_e[W].attributes[Y][he]=Oe,S(_e)},nt=W=>{S(Y=>Y.filter((he,Oe)=>Oe!==W)),I(Y=>{const he={...Y};return delete he[W],he}),N(Y=>{const he={...Y};return delete he[W],he})},xt=W=>{const Y=W.target.files[0];Y&&(E(Y),C(URL.createObjectURL(Y)))},B=(W,Y)=>{const he=Y.target.files[0];he&&(I(Oe=>({...Oe,[W]:he})),N(Oe=>({...Oe,[W]:URL.createObjectURL(he)})))},q=W=>{const Y=Array.from(W.target.files);D(Y),$(Y.map(he=>URL.createObjectURL(he)))},be=async(W,Y="img-products")=>{if(!W)return null;const he=`${Date.now()}_${W.name.replace(/\s/g,"_")}`,{data:Oe,error:_e}=await Q.storage.from(Y).upload(he,W);if(_e)throw V({title:"Erro no Upload da Imagem",description:_e.message,variant:"destructive"}),_e;const{data:{publicUrl:Qt}}=Q.storage.from(Y).getPublicUrl(he);return Qt},fe=async W=>{W.preventDefault(),await Qe()},Qe=async()=>{let W=n.image_url;if(k)try{W=await be(k)}catch{return}let Y=[];P.length>0&&(Y=await Promise.all(P.map(async _e=>{try{return await be(_e)}catch{return null}})),Y=Y.filter(Boolean));const he=await Promise.all(j.map(async(_e,Qt)=>{let Fo=_e.image_url;if(R[Qt])try{Fo=await be(R[Qt])}catch{throw new Error(`Erro ao fazer upload da imagem para variação ${Qt+1}.`)}return{..._e,image_url:Fo,price:parseFloat(_e.price)||null,stock:parseInt(_e.stock)||0}})).catch(_e=>(V({title:"Erro no processamento de variações",description:_e.message,variant:"destructive"}),null));if(!he&&j.length>0)return;const Oe={...n,referencia:n.referencia,image_url:W,variations:n.product_type===on.VARIABLE?he:[],weight:parseFloat(n.weight)||null,length:parseFloat(n.length)||null,height:parseFloat(n.height)||null,width:parseFloat(n.width)||null};Oe.product_type===on.VARIABLE?Oe.stock=(he||[]).reduce((_e,Qt)=>_e+(parseInt(Qt.stock)||0),0):Oe.stock=parseInt(n.stock)||0,s(Oe,Y)},Xt=async()=>{if(!o||!w||!b){V({title:"Erro",description:"Selecione produto, loja e quantidade para compartilhar.",variant:"destructive"});return}const W=parseInt(b);if(isNaN(W)||W<=0){V({title:"Erro",description:"Quantidade inválida.",variant:"destructive"});return}try{await fL(o.id,w,W,null),V({title:"Estoque Compartilhado!",description:`${W} unidades compartilhadas com sucesso.`}),v(""),x(""),p(!1);const Y=await _o(o.id);g(Y||[]),l&&l()}catch(Y){V({title:"Erro ao compartilhar",description:Y.message,variant:"destructive"})}},rr=ee&&$t(ee.role,X.SHARE_STOCK),Up=()=>{t(!1),i(),p(!1),v(""),x(""),g([]),S([]),E(null),C(""),I({}),N({})};return a.jsxs(Rn,{open:e,onOpenChange:W=>{W?t(!0):Up()},children:[a.jsx(fo,{asChild:!0,children:a.jsxs(U,{children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Novo Produto"]})}),a.jsxs(fn,{className:"max-w-4xl",children:[a.jsx(hn,{children:a.jsx(pn,{children:o?"Editar Produto":"Novo Produto"})}),a.jsxs("form",{onSubmit:fe,className:"space-y-6 max-h-[80vh] overflow-y-auto p-2",children:[a.jsx(V$,{formData:n,handleInputChange:Ee,handleProductTypeChange:Re,categories:d}),a.jsx(gS,{title:"Imagem Principal (opcional)",imageUrlPreview:_,handleImageChange:xt,idPrefix:"main"}),a.jsxs("div",{className:"mt-4",children:[a.jsx(H,{children:"Imagens do Produto (várias)"}),a.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[M.map((W,Y)=>a.jsxs("div",{className:`relative group rounded-lg shadow-md border bg-background ${Y===0?"ring-2 ring-primary":""}`,children:[a.jsx("img",{src:W,alt:`Imagem ${Y+1}`,className:"w-24 h-24 object-cover rounded-lg transition-transform group-hover:scale-105"}),Y===0&&a.jsx("span",{className:"absolute top-1 left-1 bg-primary text-xs text-white px-2 py-0.5 rounded shadow",children:"Destaque"}),a.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-destructive text-white rounded-full p-1 opacity-80 hover:opacity-100",onClick:()=>{D(he=>he.filter((Oe,_e)=>_e!==Y)),$(he=>he.filter((Oe,_e)=>_e!==Y))},title:"Remover imagem",children:"×"})]},Y)),a.jsxs("label",{className:"flex flex-col items-center justify-center w-24 h-24 border-2 border-dashed border-muted-foreground rounded-lg cursor-pointer hover:bg-muted transition",children:[a.jsx("span",{className:"text-3xl text-muted-foreground",children:"+"}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:q})]})]}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"A primeira imagem será a de destaque."})]}),n.product_type===on.VARIABLE&&a.jsx(U$,{variations:j,handleVariationChange:ie,handleVariationAttributeChange:ye,removeVariation:nt,addVariation:ce,handleVariationImageChange:B,variationImageUrlPreviews:O}),o&&rr&&a.jsxs("div",{className:"pt-4 border-t mt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Compartilhar Estoque com Lojas Físicas"}),a.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>p(!h),children:[a.jsx(fP,{className:"w-4 h-4 mr-2"}),h?"Fechar":"Abrir"," Compartilhamento"]})]}),h&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-md bg-muted/30",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"shareStoreId",children:"Loja Física"}),a.jsxs(In,{value:w,onValueChange:v,children:[a.jsx(xn,{children:a.jsx(Ln,{placeholder:"Selecione a loja"})}),a.jsx(wn,{children:c.map(W=>a.jsx(Lt,{value:W.id,children:W.name},W.id))})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"shareQuantity",children:"Qtd. a Compartilhar"}),a.jsx("input",{id:"shareQuantity",type:"number",min:"1",value:b,onChange:W=>x(W.target.value),className:"input w-full border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 rounded-md"})]}),a.jsx("div",{className:"md:self-end",children:a.jsx(U,{type:"button",onClick:Xt,className:"w-full",children:"Compartilhar"})})]}),y.length>0&&a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Estoque Compartilhado:"}),y.map(W=>{var Y;return a.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-background rounded-md",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xw,{className:"w-4 h-4 mr-2 text-muted-foreground"}),a.jsx("span",{children:((Y=W.stores)==null?void 0:Y.name)||"Loja desconhecida"})]}),a.jsxs("span",{children:[W.quantity," unidades"]})]},W.id)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-6 border-t",children:[a.jsx(U,{type:"button",variant:"outline",onClick:Up,children:"Cancelar"}),a.jsxs(U,{type:"submit",children:[o?"Atualizar":"Criar"," Produto"]})]})]}),a.jsx(U,{type:"button",variant:"outline",className:"mt-2",onClick:()=>T(!0),children:"Adicionar Medidas"}),a.jsx(Rn,{open:A,onOpenChange:T,children:a.jsxs(fn,{children:[a.jsx(hn,{children:a.jsx(pn,{children:"Medidas da Peça"})}),n.category?a.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:Ae().map(W=>a.jsxs("div",{children:[a.jsx(H,{children:W.label}),a.jsx(K,{name:W.name,value:z[W.name]||"",onChange:J})]},W.name))}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Selecione uma categoria primeiro para ver os campos de medidas disponíveis."}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx(U,{type:"button",variant:"ghost",onClick:()=>T(!1),children:"Cancelar"}),a.jsx(U,{type:"button",onClick:ve,children:"Salvar"})]})]})})]})]})},z$=({products:e})=>e.length===0?null:a.jsxs(ne,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2 text-orange-700 dark:text-orange-300",children:[a.jsx(HN,{className:"w-5 h-5"}),a.jsx("span",{children:"Produtos com Estoque Baixo"})]})}),a.jsx(re,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.map(t=>a.jsxs("div",{className:"text-sm p-2 bg-orange-100 dark:bg-orange-900/50 rounded",children:[a.jsx("span",{className:"font-medium",children:t.name}),a.jsxs("span",{className:"text-orange-600 dark:text-orange-400 ml-2",children:["(Estoque: ",t.stock," / Mín: ",t.min_stock,")"]})]},t.id))})})]}),W$=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(""),[s,o]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!0),[d,f]=m.useState([]),{toast:h}=Pt(),p=Xe(),[w,v]=m.useState({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),[b,x]=m.useState({barcode:"",sku:"",referencia:"",name:""}),y=I=>{const{name:O,value:N}=I.target;x(P=>({...P,[O]:N}))},g=e.filter(I=>{var O,N,P,D;return(!b.barcode||((O=I.barcode)==null?void 0:O.toLowerCase().includes(b.barcode.toLowerCase())))&&(!b.sku||((N=I.sku)==null?void 0:N.toLowerCase().includes(b.sku.toLowerCase()))||I.variations&&I.variations.some(M=>{var $;return($=M.sku)==null?void 0:$.toLowerCase().includes(b.sku.toLowerCase())}))&&(!b.referencia||((P=I.referencia)==null?void 0:P.toLowerCase().includes(b.referencia.toLowerCase()))||I.variations&&I.variations.some(M=>{var $;return($=M.referencia)==null?void 0:$.toLowerCase().includes(b.referencia.toLowerCase())}))&&(!b.name||((D=I.name)==null?void 0:D.toLowerCase().includes(b.name.toLowerCase())))}),j=m.useCallback(async()=>{u(!0);try{const[I,O]=await Promise.all([Sj(),qr()]),N=await Promise.all((I||[]).map(async P=>{const D=await _o(P.id);return{...P,physicalStocks:D||[]}}));t(N),f(O||[])}catch(I){h({title:"Erro ao carregar produtos ou lojas",description:I.message,variant:"destructive"})}finally{u(!1)}},[h,p==null?void 0:p.store_id,p==null?void 0:p.role]);m.useEffect(()=>{j()},[j]);const S=()=>{v({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),o(null)},k=async I=>{var N,P;console.log("🚀 Iniciando criação de produto..."),console.log("📋 Dados recebidos:",I);const O={...I,price:parseFloat(I.price)||0,stock:parseInt(I.stock)||0,min_stock:parseInt(I.min_stock)||0,sizes:I.sizes?I.sizes.split(",").map(D=>D.trim()).filter(D=>D):[],colors:I.colors?I.colors.split(",").map(D=>D.trim()).filter(D=>D):[]};if(console.log("📦 Dados processados:",O),!O.name||!O.barcode||!O.price||isNaN(O.stock)){console.log("❌ Erro de validação:",{name:O.name,barcode:O.barcode,price:O.price,stock:O.stock}),h({title:"Erro de Validação",description:"Nome, Código de Barras, Preço e Estoque Online são obrigatórios.",variant:"destructive"});return}u(!0);try{if(console.log("🏪 Verificando loja..."),!s&&!((N=p==null?void 0:p.stores)!=null&&N.is_online_store)){const D=d.find(M=>M.is_online_store);if(console.log("🏪 Loja online encontrada:",D),D)O.store_id=D.id;else{console.log("❌ Loja online não encontrada"),h({title:"Erro",description:"Loja online principal não encontrada para cadastro.",variant:"destructive"}),u(!1);return}}else s?O.store_id=s.store_id:(P=p==null?void 0:p.stores)!=null&&P.is_online_store&&(O.store_id=p.store_id);if(console.log("📦 Dados finais antes de salvar:",O),s)console.log("✏️ Atualizando produto..."),await _j(s.id,O),h({title:"Produto atualizado!",description:`${O.name} foi atualizado.`});else{console.log("🔍 Verificando código de barras duplicado...");const D=await cL();if(console.log("📋 Produtos existentes:",D.length),D.some($=>$.barcode===O.barcode)){console.log("❌ Código de barras já existe:",O.barcode),h({title:"Erro de Validação",description:"Código de barras já existe.",variant:"destructive"}),u(!1);return}console.log("✅ Criando produto...");const M=await uL(O);console.log("✅ Produto criado com sucesso:",M),h({title:"Produto criado!",description:`${O.name} foi criado.`})}j(),l(!1),S()}catch(D){console.error("❌ Erro ao salvar produto:",D),h({title:"Erro ao salvar produto",description:D.message,variant:"destructive"})}finally{u(!1)}},E=async I=>{var O,N;u(!0);try{const P=await dL(I.id);o(P),v({name:P.name,category:P.category||"",brand:P.brand||"",barcode:P.barcode,sizes:((O=P.sizes)==null?void 0:O.join(", "))||"",colors:((N=P.colors)==null?void 0:N.join(", "))||"",price:P.price.toString(),stock:P.stock.toString(),min_stock:P.min_stock.toString(),active:P.active}),l(!0)}catch(P){h({title:"Erro ao buscar produto para edição",description:P.message,variant:"destructive"})}finally{u(!1)}},_=async I=>{if(window.confirm("Deseja realmente excluir este produto? Esta ação é irreversível!")){u(!0);try{await hL(I),h({title:"Produto excluído!",description:"O produto foi removido do sistema."}),j()}catch(O){h({title:"Erro ao excluir produto",description:O.message,variant:"destructive"})}finally{u(!1)}}},C=()=>e.filter(I=>I.active&&I.stock<=I.min_stock),R=()=>{j()};return c&&e.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx(K,{placeholder:"Buscar por Código de Barras",name:"barcode",value:b.barcode,onChange:y,className:"w-44"}),a.jsx(K,{placeholder:"Buscar por SKU",name:"sku",value:b.sku,onChange:y,className:"w-36"}),a.jsx(K,{placeholder:"Buscar por Referência",name:"referencia",value:b.referencia,onChange:y,className:"w-32"}),a.jsx(K,{placeholder:"Buscar por Nome",name:"name",value:b.name,onChange:y,className:"w-44"})]}),a.jsx(B$,{open:i,onOpenChange:l,formData:w,setFormData:v,onSubmit:k,editingProduct:s,resetForm:S,onStockShared:R})]}),a.jsx(z$,{products:C()}),a.jsx(ne,{children:a.jsx(re,{className:"pt-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Yh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(K,{placeholder:"Buscar produtos por nome, categoria, marca ou código...",value:n,onChange:I=>r(I.target.value),className:"pl-10"})]})})}),e.length>0?a.jsx(x$,{products:g,onEdit:E,onDelete:_,stores:d,currentUser:p}):a.jsx(ne,{className:"mt-6",children:a.jsxs(re,{className:"text-center py-12",children:[a.jsx(iP,{className:"w-16 h-16 mx-auto mb-6 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum produto encontrado"}),a.jsxs("p",{className:"text-muted-foreground mb-6",children:[n?"Tente ajustar sua busca ou ":"",'Clique em "Novo Produto" para começar a cadastrar.']})]})})]})},H$=()=>{var E;const{id:e}=XE(),[t,n]=m.useState(null),[r,s]=m.useState([]),[o,i]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!0),[f,h]=m.useState([]),[p,w]=m.useState(null),[v,b]=m.useState(!1),{toast:x}=Pt(),y=m.useCallback(async()=>{d(!0);try{const{data:_,error:C}=await Q.from("products").select("*").eq("id",e).single();if(C)throw C;n(_);const R=[];if(_.image_url&&R.push({id:"main",image_url:_.image_url,is_featured:!0}),h(R),console.log("🖼️ Imagens encontradas:",R),_.product_type==="variable"){const{data:N,error:P}=await Q.from("product_variations").select("*").eq("product_id",e);if(P)throw P;s(N||[]),console.log("🔄 Variações encontradas:",N)}const I=await _o(e);i(I||[]);const O=await qr();c(O||[])}catch(_){x({title:"Erro ao buscar detalhes do produto",description:_.message,variant:"destructive"}),n(null)}finally{d(!1)}},[e,x]);m.useEffect(()=>{y()},[y]);const g=_=>{var C;return((C=l.find(R=>R.id===_))==null?void 0:C.name)||"Loja Desconhecida"},j=_=>{w(_),b(!0)},S=()=>{b(!1),w(null)};if(u)return a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"loading-spinner"})});if(!t)return a.jsxs("div",{className:"container mx-auto p-6 text-center",children:[a.jsx(Pn,{className:"w-24 h-24 mx-auto text-muted-foreground mb-4"}),a.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Produto não encontrado"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"O produto que você está procurando não existe ou foi removido."}),a.jsx(U,{asChild:!0,variant:"outline",children:a.jsxs(Bi,{to:"/products",children:[a.jsx(xg,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})})]});const k=t.product_type==="variable"?r.reduce((_,C)=>_+C.stock,0):t.stock;return a.jsxs("div",{className:"container mx-auto p-4 md:p-8 space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(U,{asChild:!0,variant:"outline",size:"sm",children:a.jsxs(Bi,{to:"/products",children:[a.jsx(xg,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})}),a.jsx("h1",{className:"text-3xl font-bold text-center flex-grow",children:t.name}),a.jsx("div",{className:"w-24"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center",children:[a.jsx(eP,{className:"mr-2 text-primary"})," Imagens do Produto"]})}),a.jsx(re,{children:f.length>0?a.jsxs("div",{children:[a.jsx("img",{src:f[0].image_url,alt:"Destaque",className:"w-full h-64 object-cover rounded-lg border mb-2 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>j(f[0]),onError:_=>{console.log("❌ Erro ao carregar imagem principal:",f[0].image_url),_.target.style.display="none",_.target.nextSibling.style.display="flex"},onLoad:()=>{console.log("✅ Imagem principal carregada:",f[0].image_url)}}),a.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center hidden",children:a.jsx(ku,{className:"w-16 h-16 text-muted-foreground"})}),a.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:f.map((_,C)=>a.jsx("img",{src:_.image_url,alt:`Imagem ${C+1}`,className:`w-16 h-16 object-cover rounded border cursor-pointer hover:opacity-90 transition-opacity ${C===0?"ring-2 ring-primary":""}`,title:_.is_featured?"Destaque":"",onClick:()=>j(_),onError:R=>{console.log("❌ Erro ao carregar miniatura:",_.image_url),R.target.style.display="none"},onLoad:()=>{console.log("✅ Miniatura carregada:",_.image_url)}},_.id))})]}):a.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center",children:a.jsx(ku,{className:"w-16 h-16 text-muted-foreground"})})})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center",children:[a.jsx(tP,{className:"mr-2 text-primary"})," Dados Principais"]})}),a.jsxs(re,{className:"space-y-3 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Nome:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Referência:"})," ",t.referencia||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Categoria:"})," ",t.category||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Código de Barras:"})," ",t.barcode]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Tipo:"})," ",a.jsx("span",{className:"capitalize",children:t.product_type==="variable"?"Produto Variável":"Produto Simples"})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",t.active?"Ativo":"Inativo"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Data de Cadastro:"})," ",t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"]})]})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center",children:[a.jsx(xs,{className:"mr-2 text-primary"})," Preços"]})}),a.jsxs(re,{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Principal:"})," R$ ",(E=t.price)==null?void 0:E.toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Varejo:"})," ",t.price_varejo?`R$ ${t.price_varejo.toFixed(2)}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Atacado:"})," ",t.price_atacado?`R$ ${t.price_atacado.toFixed(2)}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Atacarejo:"})," ",t.price_atacarejo?`R$ ${t.price_atacarejo.toFixed(2)}`:"N/A"]})]})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center",children:[a.jsx(bg,{className:"mr-2 text-primary"})," Dimensões e Peso"]})}),a.jsxs(re,{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Peso:"})," ",t.weight?`${t.weight} kg`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Comprimento:"})," ",t.length?`${t.length} cm`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Altura:"})," ",t.height?`${t.height} cm`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Largura:"})," ",t.width?`${t.width} cm`:"N/A"]})]})]}),t.medidas&&a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center",children:[a.jsx(bg,{className:"mr-2 text-primary"})," Medidas da Peça"]})}),a.jsx(re,{className:"space-y-2 text-sm",children:Object.entries(t.medidas).map(([_,C])=>a.jsxs("p",{children:[a.jsxs("strong",{children:[_.charAt(0).toUpperCase()+_.slice(1),":"]})," ",C||"N/A"]},_))})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center",children:[a.jsx(hP,{className:"mr-2 text-primary"})," Estoque"]})}),a.jsxs(re,{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Estoque Mínimo Global:"})," ",t.min_stock," unidades"]}),a.jsxs("p",{className:`font-semibold ${k<=t.min_stock?"text-orange-500":"text-green-500"}`,children:["Estoque Online/Geral Total: ",k," unidades"]})]})]}),o.length>0&&a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center",children:[a.jsx(Wi,{className:"mr-2 text-primary"})," Estoque nas Lojas Físicas"]})}),a.jsx(re,{className:"space-y-2",children:o.map(_=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-background/30 rounded-md text-sm",children:[a.jsx("p",{children:a.jsxs("strong",{children:[g(_.store_id),":"]})}),a.jsxs("p",{children:[_.quantity," unidades ",_.variation_id?`(Variação ID: ${_.variation_id.substring(0,8)}...)`:"(Produto Simples/Agregado)"]})]},_.id))})]}),o.length===0&&a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6 text-center text-muted-foreground",children:"Este produto (ou suas variações) ainda não teve estoque compartilhado com lojas físicas."})}),t.product_type==="variable"&&r.length>0&&a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center",children:[a.jsx(nP,{className:"mr-2 text-primary"})," Variações do Produto (",r.length,")"]})}),a.jsx(re,{className:"space-y-4",children:r.map((_,C)=>{var R;return a.jsx(ne,{className:"bg-background/30 p-4 rounded-md",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[a.jsxs("div",{className:"md:col-span-1",children:[_.image_url?a.jsx("img",{src:_.image_url,alt:`Variação ${C+1}`,className:"w-full h-auto object-cover rounded border aspect-square cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>j({image_url:_.image_url,id:_.id}),onError:I=>{console.log("❌ Erro ao carregar imagem da variação:",_.image_url),I.target.style.display="none",I.target.nextSibling.style.display="flex"},onLoad:()=>{console.log("✅ Imagem da variação carregada:",_.image_url)}}):null,a.jsx("div",{className:"w-full h-32 bg-muted rounded flex items-center justify-center",style:{display:_.image_url?"none":"flex"},children:a.jsx(ku,{className:"w-10 h-10 text-muted-foreground"})})]}),a.jsxs("div",{className:"md:col-span-2 space-y-2 text-sm",children:[a.jsx("p",{className:"font-semibold text-base",children:((R=_.attributes)==null?void 0:R.map(I=>`${I.name}: ${I.value}`).join(" / "))||`Variação ${C+1}`}),_.sku&&a.jsxs("p",{children:[a.jsx("strong",{children:"SKU:"})," ",_.sku]}),_.barcode&&a.jsxs("p",{children:[a.jsx("strong",{children:"Cód. Barras:"})," ",_.barcode]}),_.referencia&&a.jsxs("p",{children:[a.jsx("strong",{children:"Referência:"})," ",_.referencia]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Específico:"})," ",_.price?`R$ ${_.price.toFixed(2)}`:"Usar preço principal"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Varejo:"})," ",_.price_varejo?`R$ ${_.price_varejo}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Atacado:"})," ",_.price_atacado?`R$ ${_.price_atacado}`:"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preço Atacarejo:"})," ",_.price_atacarejo?`R$ ${_.price_atacarejo}`:"N/A"]}),a.jsxs("p",{className:"font-medium",children:[a.jsx("strong",{children:"Estoque da Variação:"})," ",_.stock," unidades"]}),_.medidas&&a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"font-semibold",children:"Medidas:"}),a.jsx("ul",{className:"ml-4 list-disc",children:Object.entries(_.medidas).map(([I,O])=>a.jsxs("li",{children:[a.jsxs("strong",{children:[I.charAt(0).toUpperCase()+I.slice(1),":"]})," ",O||"N/A"]},I))})]})]})]})},_.id||C)})})]}),t.product_type==="variable"&&r.length===0&&a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6 text-center text-muted-foreground",children:"Nenhuma variação cadastrada para este produto."})})]})]}),v&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:S,children:a.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[a.jsx("button",{onClick:S,className:"absolute top-4 right-4 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full p-2 transition-all z-10",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("img",{src:p.image_url,alt:"Visualização",className:"max-w-full max-h-full object-contain rounded-lg",onClick:_=>_.stopPropagation()})]})})]})},xe={IN:"in",OUT:"out",ADJUSTMENT:"adjustment",SALE_ONLINE:"sale_online_physical_debit",SALE_PHYSICAL:"sale_physical_store",TRANSFER_IN:"transfer_in",TRANSFER_OUT:"transfer_out"},Ka={[xe.IN]:"Entrada Manual",[xe.OUT]:"Saída Manual",[xe.ADJUSTMENT]:"Ajuste Manual",[xe.SALE_ONLINE]:"Venda Online (Débito Físico)",[xe.SALE_PHYSICAL]:"Venda Loja Física",[xe.TRANSFER_IN]:"Transferência (Entrada Loja)",[xe.TRANSFER_OUT]:"Transferência (Saída Online)"},q$=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[s,o]=m.useState(""),[i,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState([]),[w,v]=m.useState(!0),[b,x]=m.useState(null),{toast:y}=Pt(),g=Xe(),[j,S]=m.useState({type:"",quantity:"",reason:"",target_store_id:""}),k=m.useCallback(async()=>{v(!0),x(null);try{console.log("[STOCK] Iniciando carregamento de dados...");const[N,P,D]=await Promise.all([Sj(),lL(),qr()]);console.log("[STOCK] Dados carregados:",{products:(N==null?void 0:N.length)||0,movements:(P==null?void 0:P.length)||0,stores:(D==null?void 0:D.length)||0});const M=await Promise.all((N||[]).map(async $=>{try{const A=await _o($.id);return{...$,physicalStocks:A||[]}}catch(A){return console.error("[STOCK] Erro ao carregar estoque físico para produto:",$.id,A),{...$,physicalStocks:[]}}}));t(M),r(P||[]),p(D||[]),console.log("[STOCK] Dados processados com sucesso")}catch(N){console.error("[STOCK] Erro ao carregar dados:",N),x(N.message),y({title:"Erro ao carregar dados de estoque",description:N.message,variant:"destructive"})}finally{v(!1)}},[y,g==null?void 0:g.store_id]);if(m.useEffect(()=>{k()},[k]),b)return a.jsx("div",{className:"min-h-screen bg-background p-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Pn,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Erro ao Carregar Estoque"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:b}),a.jsx(U,{onClick:k,className:"bg-red-600 hover:bg-red-700",children:"Tentar Novamente"})]})})});if(w)return a.jsx("div",{className:"min-h-screen bg-background p-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"loading-spinner w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Carregando Estoque..."}),a.jsx("p",{className:"text-muted-foreground",children:"Aguarde enquanto carregamos os dados"})]})})});const E=e.filter(N=>{var P,D,M;return N.active&&(((P=N.name)==null?void 0:P.toLowerCase().includes(s.toLowerCase()))||((D=N.category)==null?void 0:D.toLowerCase().includes(s.toLowerCase()))||((M=N.barcode)==null?void 0:M.includes(s)))}),_=async N=>{var D;if(N.preventDefault(),!c||!j.type||!j.quantity){y({title:"Erro",description:"Produto, tipo e quantidade são obrigatórios.",variant:"destructive"});return}const P=parseInt(j.quantity);if(isNaN(P)||P<=0){y({title:"Erro",description:"Quantidade deve ser um número positivo.",variant:"destructive"});return}v(!0);try{let M,$,A=j.target_store_id||c.store_id,T="online",z=null;if(j.target_store_id){T="physical_store";const L=c.physicalStocks.find(V=>V.store_id===j.target_store_id);if(M=L?L.quantity:0,z=L?L.id:null,j.type===xe.IN?$=M+P:j.type===xe.OUT?$=M-P:j.type===xe.ADJUSTMENT&&($=P),$<0&&j.type!==xe.ADJUSTMENT){y({title:"Erro",description:"Estoque da loja física não pode ficar negativo.",variant:"destructive"}),v(!1);return}if(j.type===xe.ADJUSTMENT&&$<0&&($=0),L)await Q.from("product_store_stock").update({quantity:$}).eq("id",L.id);else{const{data:V}=await Q.from("product_store_stock").insert({product_id:c.id,store_id:j.target_store_id,quantity:$}).select("id").single();z=V==null?void 0:V.id}await Cj(c.id)}else{if(!((D=g==null?void 0:g.stores)!=null&&D.is_online_store)&&(g==null?void 0:g.role)!==ze.ADMIN){y({title:"Ação não permitida",description:"Selecione uma loja física para esta movimentação ou realize no estoque Online (se admin/online).",variant:"destructive"}),v(!1);return}if(A=c.store_id,M=c.stock,j.type===xe.IN?$=M+P:j.type===xe.OUT?$=M-P:j.type===xe.ADJUSTMENT&&($=P),$<0&&j.type!==xe.ADJUSTMENT){y({title:"Erro",description:"Estoque online/geral não pode ficar negativo.",variant:"destructive"}),v(!1);return}j.type===xe.ADJUSTMENT&&$<0&&($=0),await _j(c.id,{stock:$})}await jj({product_id:c.id,type:j.type,quantity:P,previous_stock:M,new_stock:$,reason:j.reason,user_id:g==null?void 0:g.id,store_id:A,stock_type:T,product_store_stock_id:T==="physical_store"?z:null}),y({title:"Movimentação registrada!",description:`${Ka[j.type]} de ${P} unidades para ${c.name}.`}),k(),l(!1),S({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null)}catch(M){y({title:"Erro ao registrar movimentação",description:M.message,variant:"destructive"})}finally{v(!1)}},C=(N,P,D=null)=>{var M;u(N),f(D),S({...j,type:P,target_store_id:D?D.id:(M=g==null?void 0:g.stores)!=null&&M.is_online_store||(g==null?void 0:g.role)===ze.ADMIN?"":g==null?void 0:g.store_id}),l(!0)},R=()=>e.filter(N=>N.active&&N.stock<=N.min_stock).length,I=()=>e.filter(N=>N.active).length,O=()=>e.filter(N=>N.active).reduce((N,P)=>N+P.stock,0);return h.filter(N=>!N.is_online_store),a.jsx("div",{className:"min-h-screen bg-background p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Controle de Estoque"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie o estoque dos seus produtos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(Pn,{className:"w-7 h-7 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-foreground",children:I()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Produtos Ativos"})]})]}),a.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(Nc,{className:"w-7 h-7 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-foreground",children:O()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Estoque Online"})]})]}),a.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(pP,{className:"w-7 h-7 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-foreground",children:R()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Estoque Baixo"})]})]}),a.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm",children:[a.jsx(al,{className:"w-7 h-7 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Movimentações"})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"relative max-w-md mx-auto",children:[a.jsx(Yh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(K,{placeholder:"Buscar produtos...",value:s,onChange:N=>o(N.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"space-y-4 mt-8",children:E.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Pn,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhum produto encontrado"})]}):E.map(N=>a.jsxs(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-xl bg-card border border-border p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 shadow-sm hover:shadow-lg transition",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-lg font-bold text-foreground",children:N.name}),N.stock<=N.min_stock&&a.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Baixo estoque"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.category," • ",N.barcode]}),a.jsx("div",{className:"flex flex-wrap gap-3 mt-2",children:a.jsxs("span",{className:"text-xs text-foreground bg-muted rounded px-2 py-0.5",children:["Online: ",a.jsx("b",{children:N.stock})," un."]})})]}),a.jsxs("div",{className:"flex flex-col md:items-end gap-1",children:[a.jsxs("span",{className:`text-base font-semibold ${N.stock<=N.min_stock?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:["Online: ",N.stock," un."]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Mín. Online: ",N.min_stock]})]}),a.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>C(N,xe.IN),children:[a.jsx(gn,{className:"w-4 h-4 mr-1"}),"Entrada"]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>C(N,xe.OUT),children:[a.jsx(Ul,{className:"w-4 h-4 mr-1"}),"Saída"]}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>C(N,xe.ADJUSTMENT),children:"Ajuste"})]})]},N.id))}),a.jsxs("div",{className:"mt-10",children:[a.jsxs("h3",{className:"text-lg font-bold text-foreground mb-2 flex items-center gap-2",children:[a.jsx(al,{className:"w-5 h-5 text-purple-500"}),"Histórico de Movimentações"]}),a.jsx("div",{className:"rounded-xl bg-card border border-border p-4 max-h-96 overflow-y-auto",children:n.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(al,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma movimentação registrada"})]}):a.jsx("div",{className:"space-y-3",children:n.slice(0,20).map(N=>{var P,D;return a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 transition text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold text-foreground",children:[N.productName||((P=N.products)==null?void 0:P.name)," (",(D=N.products)==null?void 0:D.barcode,")"]}),a.jsxs("p",{className:"text-muted-foreground",children:[Ka[N.type]||N.type," • ",N.storeName]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.userName," • ",new Date(N.created_at).toLocaleString()," • ",N.reason]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium ${N.type===xe.IN||N.type===xe.TRANSFER_IN?"text-green-600 dark:text-green-400":N.type===xe.OUT||N.type===xe.TRANSFER_OUT||N.type===xe.SALE_ONLINE||N.type===xe.SALE_PHYSICAL?"text-red-600 dark:text-red-400":"text-purple-600 dark:text-purple-400"}`,children:[N.type===xe.IN||N.type===xe.TRANSFER_IN?"+":N.type===xe.OUT||N.type===xe.TRANSFER_OUT||N.type===xe.SALE_ONLINE||N.type===xe.SALE_PHYSICAL?"-":"=",N.quantity]}),a.jsxs("p",{className:"text-muted-foreground",children:[N.previous_stock," → ",N.new_stock]})]})]},N.id)})})})]}),a.jsx(Rn,{open:i,onOpenChange:N=>{l(N),N||(S({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null))},children:a.jsxs(fn,{children:[a.jsx(hn,{children:a.jsx(pn,{children:j.type&&`${Ka[j.type]||j.type} de Estoque`})}),c&&a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Produto"}),a.jsx(K,{value:c.name,disabled:!0})]}),a.jsxs("div",{children:[a.jsx(H,{children:"Estoque Atual"}),a.jsx(K,{value:`${c.stock} unidades`,disabled:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"quantity",children:j.type===xe.ADJUSTMENT?"Novo Estoque":"Quantidade da Movimentação"}),a.jsx(K,{id:"quantity",type:"number",min:"1",value:j.quantity,onChange:N=>S({...j,quantity:N.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"reason",children:"Motivo/Observação"}),a.jsx(K,{id:"reason",placeholder:"Descreva o motivo da movimentação",value:j.reason,onChange:N=>S({...j,reason:N.target.value}),required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),a.jsx(U,{type:"submit",disabled:w,children:w?"Salvando...":`Confirmar ${Ka[j.type]||j.type}`})]})]})]})})]})})},G$=Ec("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),vS=oe.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,className:me(G$({variant:t}),e),...n}));vS.displayName="Badge";const K$=({categories:e,onEdit:t,onDelete:n,loading:r})=>r?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(lf,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Nenhuma categoria encontrada"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Crie sua primeira categoria para organizar seus produtos"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((s,o)=>a.jsxs(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-card border border-border rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color||"#3B82F6"}}),a.jsx("h3",{className:"font-semibold text-lg",children:s.name})]}),a.jsx(vS,{variant:s.active?"default":"secondary",children:s.active?"Ativa":"Inativa"})]}),s.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:s.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[a.jsx(lf,{className:"w-3 h-3"}),a.jsxs("span",{children:["Criada em ",new Date(s.created_at).toLocaleDateString("pt-BR")]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>t(s),className:"h-8 w-8 p-0",children:a.jsx(kc,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>n(s),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:a.jsx(Oo,{className:"w-4 h-4"})})]})]})]},s.id))}),yS=oe.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));yS.displayName="Textarea";var Jc="Switch",[Y$,Z4]=Br(Jc),[J$,X$]=Y$(Jc),xS=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),w=Te(t,g=>p(g)),v=m.useRef(!1),b=h?d||!!h.closest("form"):!0,[x,y]=ys({prop:s,defaultProp:o??!1,onChange:u,caller:Jc});return a.jsxs(J$,{scope:n,checked:x,disabled:l,children:[a.jsx(le.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":SS(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:se(e.onClick,g=>{y(j=>!j),b&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),b&&a.jsx(jS,{control:h,bubbles:!v.current,name:r,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});xS.displayName=Jc;var wS="SwitchThumb",bS=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=X$(wS,n);return a.jsx(le.span,{"data-state":SS(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});bS.displayName=wS;var Q$="SwitchBubbleInput",jS=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=m.useRef(null),l=Te(i,o),c=Zj(n),u=Bj(t);return m.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(w)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jS.displayName=Q$;function SS(e){return e?"checked":"unchecked"}var _S=xS,Z$=bS;const CS=oe.forwardRef(({className:e,...t},n)=>a.jsx(_S,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(Z$,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));CS.displayName=_S.displayName;const e4=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingCategory:o})=>{const i=(u,d)=>{r(f=>({...f,[u]:d}))},l=[{value:"tag",label:"Tag"},{value:"shirt",label:"Camisa"},{value:"footprints",label:"Calçados"},{value:"watch",label:"Relógio"},{value:"dumbbell",label:"Esportes"},{value:"baby",label:"Infantil"},{value:"home",label:"Casa"},{value:"gift",label:"Presente"},{value:"heart",label:"Coração"},{value:"star",label:"Estrela"},{value:"bookmark",label:"Marcador"},{value:"package",label:"Pacote"}],c=[{value:"#3B82F6",label:"Azul"},{value:"#10B981",label:"Verde"},{value:"#F59E0B",label:"Amarelo"},{value:"#EF4444",label:"Vermelho"},{value:"#8B5CF6",label:"Roxo"},{value:"#06B6D4",label:"Ciano"},{value:"#F97316",label:"Laranja"},{value:"#EC4899",label:"Rosa"},{value:"#6B7280",label:"Cinza"},{value:"#000000",label:"Preto"}];return a.jsx(Rn,{open:e,onOpenChange:t,children:a.jsxs(fn,{className:"sm:max-w-[500px]",children:[a.jsx(hn,{children:a.jsx(pn,{children:o?"Editar Categoria":"Nova Categoria"})}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"name",children:"Nome da Categoria *"}),a.jsx(K,{id:"name",value:n.name,onChange:u=>i("name",u.target.value),placeholder:"Ex: Roupas, Calçados, Acessórios",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"description",children:"Descrição"}),a.jsx(yS,{id:"description",value:n.description,onChange:u=>i("description",u.target.value),placeholder:"Descreva brevemente esta categoria...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"icon",children:"Ícone"}),a.jsxs(In,{value:n.icon,onValueChange:u=>i("icon",u),children:[a.jsx(xn,{children:a.jsx(Ln,{placeholder:"Selecione um ícone"})}),a.jsx(wn,{children:l.map(u=>a.jsx(Lt,{value:u.value,children:u.label},u.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"color",children:"Cor"}),a.jsxs(In,{value:n.color,onValueChange:u=>i("color",u),children:[a.jsx(xn,{children:a.jsx(Ln,{placeholder:"Selecione uma cor"})}),a.jsx(wn,{children:c.map(u=>a.jsx(Lt,{value:u.value,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:u.value}}),a.jsx("span",{children:u.label})]})},u.value))})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(CS,{id:"active",checked:n.active,onCheckedChange:u=>i("active",u)}),a.jsx(H,{htmlFor:"active",children:"Categoria ativa"})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),a.jsxs(U,{type:"submit",children:[o?"Atualizar":"Criar"," Categoria"]})]})]})]})})},t4=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(""),[s,o]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!0),{toast:d}=Pt();Xe();const[f,h]=m.useState({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),p=m.useCallback(async()=>{u(!0);try{const g=await I$();t(g||[])}catch(g){d({title:"Erro ao carregar categorias",description:g.message,variant:"destructive"})}finally{u(!1)}},[d]);m.useEffect(()=>{p()},[p]);const w=e.filter(g=>{var j,S;return((j=g.name)==null?void 0:j.toLowerCase().includes(n.toLowerCase()))||((S=g.description)==null?void 0:S.toLowerCase().includes(n.toLowerCase()))}),v=async g=>{if(g.preventDefault(),!f.name.trim()){d({title:"Erro",description:"Nome da categoria é obrigatório",variant:"destructive"});return}try{s?(await M$(s.id,f),d({title:"Sucesso",description:"Categoria atualizada com sucesso!"})):(await L$(f),d({title:"Sucesso",description:"Categoria criada com sucesso!"})),l(!1),o(null),h({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),p()}catch(j){d({title:"Erro",description:j.message,variant:"destructive"})}},b=g=>{o(g),h({name:g.name,description:g.description||"",color:g.color||"#3B82F6",icon:g.icon||"tag",active:g.active}),l(!0)},x=async g=>{try{if(await F$(g.id)){d({title:"Não é possível deletar",description:"Esta categoria está sendo usada por produtos. Remova a associação primeiro.",variant:"destructive"});return}window.confirm(`Tem certeza que deseja deletar a categoria "${g.name}"?`)&&(await D$(g.id),d({title:"Sucesso",description:"Categoria deletada com sucesso!"}),p())}catch(j){d({title:"Erro",description:j.message,variant:"destructive"})}},y=()=>{o(null),h({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),l(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Categorias"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie as categorias dos seus produtos"})]}),a.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Nova Categoria"]})]}),a.jsx(ne,{children:a.jsxs(re,{className:"p-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),a.jsx(K,{placeholder:"Buscar categorias...",value:n,onChange:g=>r(g.target.value),className:"pl-10"})]})}),a.jsx(K$,{categories:w,onEdit:b,onDelete:x,loading:c})]})}),a.jsx(e4,{open:i,onOpenChange:l,formData:f,setFormData:h,onSubmit:v,editingCategory:s})]})},n4=({customers:e,onEdit:t,onDelete:n,onViewHistory:r,getCustomerPurchases:s,getCustomerTotalSpent:o,formatCPF:i,formatPhone:l})=>e.length===0?a.jsx(ne,{children:a.jsxs(re,{className:"text-center py-12",children:[a.jsx(ds,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum cliente encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro cliente."})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>{const u=s(c.id),d=o(c.id);return a.jsx(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ds,{className:"w-5 h-5 text-primary"}),a.jsx(Se,{className:"text-lg",children:c.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>r(c),title:"Ver Histórico",children:a.jsx(ZN,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>t(c),title:"Editar Cliente",children:a.jsx(kc,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(c.id),className:"text-destructive hover:text-destructive",title:"Remover Cliente",children:a.jsx(Oo,{className:"w-4 h-4"})})]})]})}),a.jsxs(re,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-1",children:[c.cpf&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(ds,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{children:i(c.cpf)})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(lP,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{children:l(c.phone)})]}),c.email&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(sP,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{className:"truncate",children:c.email})]})]}),a.jsx("div",{className:"pt-3 border-t",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold text-primary",children:u.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Compras"})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",d.toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Gasto"})]})]})}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cliente desde: ",new Date(c.created_at||c.createdAt).toLocaleDateString()]})]})]})},c.id)})}),r4=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingCustomer:o,formatCPF:i,formatPhone:l,resetForm:c})=>{const[u,d]=m.useState(!1),f=async p=>{const w=p.target.value.replace(/\D/g,"");if(w.length===8){d(!0);try{const b=await(await fetch(`https://viacep.com.br/ws/${w}/json/`)).json();b.erro||r({...n,cep:b.cep,street:b.logradouro,bairro:b.bairro,cidade:b.localidade,estado:b.uf,complemento:b.complemento})}finally{d(!1)}}},h=n.category==="Atacado"||n.category==="Atacarejo";return a.jsxs(Rn,{open:e,onOpenChange:p=>{t(p),p||c()},children:[a.jsx(fo,{asChild:!0,children:a.jsxs(U,{children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),a.jsxs(fn,{className:"max-w-2xl",children:[a.jsx(hn,{children:a.jsx(pn,{children:o?"Editar Cliente":"Novo Cliente"})}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"name",children:"Nome Completo *"}),a.jsx(K,{id:"name",value:n.name,onChange:p=>r({...n,name:p.target.value})})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"cpf",children:"CPF"}),a.jsx(K,{id:"cpf",placeholder:"000.000.000-00",value:n.cpf,onChange:p=>r({...n,cpf:i(p.target.value)})})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"phone",children:"Telefone *"}),a.jsx(K,{id:"phone",placeholder:"(00) 00000-0000",value:n.phone,onChange:p=>r({...n,phone:l(p.target.value)})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"email",children:"E-mail"}),a.jsx(K,{id:"email",type:"email",value:n.email,onChange:p=>r({...n,email:p.target.value})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"category",children:"Categoria *"}),a.jsxs("select",{id:"category",value:n.category||"",onChange:p=>r({...n,category:p.target.value}),className:"bg-background/70 border-none text-white rounded-xl px-3 py-2 w-full",required:!0,children:[a.jsx("option",{value:"",children:"Selecione..."}),a.jsx("option",{value:"Varejo",children:"Varejo"}),a.jsx("option",{value:"Atacado",children:"Atacado"}),a.jsx("option",{value:"Atacarejo",children:"Atacarejo"})]})]}),h&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"cnpj",children:"CNPJ *"}),a.jsx(K,{id:"cnpj",placeholder:"00.000.000/0000-00",value:n.cnpj||"",onChange:p=>r({...n,cnpj:p.target.value}),required:h})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"razao_social",children:"Razão Social *"}),a.jsx(K,{id:"razao_social",value:n.razao_social||"",onChange:p=>r({...n,razao_social:p.target.value}),required:h})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"inscricao_estadual",children:"Inscrição Estadual *"}),a.jsx(K,{id:"inscricao_estadual",value:n.inscricao_estadual||"",onChange:p=>r({...n,inscricao_estadual:p.target.value}),required:h})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"nome_fantasia",children:"Nome Fantasia"}),a.jsx(K,{id:"nome_fantasia",value:n.nome_fantasia||"",onChange:p=>r({...n,nome_fantasia:p.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"cep",children:"CEP *"}),a.jsx(K,{id:"cep",placeholder:"00000-000",value:n.cep||"",onChange:p=>r({...n,cep:p.target.value}),onBlur:f,required:!0,disabled:u})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"street",children:"Rua *"}),a.jsx(K,{id:"street",value:n.street||"",onChange:p=>r({...n,street:p.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"bairro",children:"Bairro *"}),a.jsx(K,{id:"bairro",value:n.bairro||"",onChange:p=>r({...n,bairro:p.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"cidade",children:"Cidade *"}),a.jsx(K,{id:"cidade",value:n.cidade||"",onChange:p=>r({...n,cidade:p.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"estado",children:"Estado *"}),a.jsx(K,{id:"estado",value:n.estado||"",onChange:p=>r({...n,estado:p.target.value}),required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{htmlFor:"complemento",children:"Complemento"}),a.jsx(K,{id:"complemento",value:n.complemento||"",onChange:p=>r({...n,complemento:p.target.value})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>{t(!1),c()},children:"Cancelar"}),a.jsxs(U,{type:"submit",children:[o?"Atualizar":"Criar"," Cliente"]})]})]})]})]})},s4=({open:e,onOpenChange:t,customer:n,purchases:r})=>n?a.jsx(Rn,{open:e,onOpenChange:t,children:a.jsxs(fn,{className:"max-w-2xl",children:[a.jsx(hn,{children:a.jsxs(pn,{children:["Histórico de Compras: ",n.name]})}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3 p-1",children:r.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma compra encontrada para este cliente."}):r.map(s=>a.jsxs(ne,{className:"bg-background/50",children:[a.jsx(je,{className:"pb-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(Se,{className:"text-base",children:["Venda #",s.id]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at||s.date).toLocaleString()})]})}),a.jsxs(re,{children:[a.jsx("ul",{className:"text-sm space-y-1",children:(s.items||s.sale_items||[]).map(o=>{var i;return a.jsxs("li",{className:"flex justify-between",children:[a.jsxs("span",{children:[o.quantity,"x ",o.name||((i=o.products)==null?void 0:i.name)||"Produto Indisponível"]}),a.jsxs("span",{children:["R$ ",(o.subtotal||o.quantity*o.unit_price).toFixed(2)]})]},o.id||o.product_id)})}),a.jsxs("div",{className:"border-t mt-2 pt-2 flex justify-between font-semibold",children:[a.jsx("span",{children:"Total da Venda:"}),a.jsxs("span",{children:["R$ ",(s.total_amount||s.total).toFixed(2)]})]})]})]},s.id))})]})}):null,o4=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[s,o]=m.useState(""),[i,l]=m.useState(null),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(null),[w,v]=m.useState(!0),{toast:b}=Pt(),[x,y]=m.useState({name:"",cpf:"",phone:"",email:"",address:""}),g=m.useCallback(async()=>{v(!0);try{const L=await mL(),V=await Ej();t(L||[]),r(V||[])}catch(L){b({title:"Erro ao carregar dados",description:L.message,variant:"destructive"})}finally{v(!1)}},[b]);m.useEffect(()=>{g()},[g]);const j=e.filter(L=>L.category==="Varejo").length,S=e.filter(L=>L.category==="Atacado").length,k=e.filter(L=>L.category==="Atacarejo").length,[E,_]=m.useState(""),[C,R]=m.useState(""),I=e.filter(L=>{var Ae,Ee,J;const V=(Ae=L.name)==null?void 0:Ae.toLowerCase().includes(s.toLowerCase()),ee=E?L.category===E:!0,ge=C?((Ee=L.cpf)==null?void 0:Ee.includes(C))||((J=L.cnpj)==null?void 0:J.includes(C)):!0;return V&&ee&&ge}),O=()=>{y({name:"",cpf:"",phone:"",email:"",address:""}),l(null)},N=L=>{if(!L)return"";const V=L.replace(/\D/g,"");return V.length>11&&V.slice(0,11),V.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")},P=L=>{if(!L)return"";const V=L.replace(/\D/g,"");return V.length>11&&V.slice(0,11),V.length===11?V.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):V.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3")},D=async L=>{L.preventDefault();const V={...x,cpf:x.cpf.replace(/\D/g,""),phone:x.phone.replace(/\D/g,"")};if(!V.name||!V.phone){b({title:"Erro de Validação",description:"Nome e Telefone são obrigatórios.",variant:"destructive"});return}if(V.cpf&&V.cpf.length!==11){b({title:"Erro de Validação",description:"CPF inválido.",variant:"destructive"});return}v(!0);try{i?(await vL(i.id,V),b({title:"Cliente atualizado!",description:`${V.name} foi atualizado.`})):(await gL(V),b({title:"Cliente criado!",description:`${V.name} foi criado.`})),g(),u(!1),O()}catch(ee){b({title:"Erro ao salvar cliente",description:ee.message,variant:"destructive"})}finally{v(!1)}},M=L=>{l(L),y({name:L.name,cpf:N(L.cpf),phone:P(L.phone),email:L.email,address:L.address||""}),u(!0)},$=async L=>{if(window.confirm("Tem certeza que deseja remover este cliente?")){v(!0);try{await yL(L),b({title:"Cliente removido!",description:"O cliente foi removido."}),g()}catch(V){b({title:"Erro ao remover cliente",description:V.message,variant:"destructive"})}finally{v(!1)}}},A=m.useCallback(L=>n.filter(V=>V.customer_id===L).sort((V,ee)=>new Date(ee.created_at||ee.date)-new Date(V.created_at||V.date)),[n]),T=m.useCallback(L=>A(L).reduce((ee,ge)=>ee+(ge.total_amount||ge.total),0),[A]),z=L=>{p(L),f(!0)};return w&&e.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Clientes"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie o cadastro de clientes e seus históricos."})]}),a.jsx(r4,{open:c,onOpenChange:u,formData:x,setFormData:y,onSubmit:D,editingCustomer:i,formatCPF:N,formatPhone:P,resetForm:O})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"w-8 h-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"})]})]})})}),a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ds,{className:"w-8 h-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:j}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Varejo"})]})]})})}),a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ds,{className:"w-8 h-8 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:S}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Atacado"})]})]})})}),a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ds,{className:"w-8 h-8 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:k}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Atacarejo"})]})]})})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[a.jsx(K,{placeholder:"Buscar por nome...",value:s,onChange:L=>o(L.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"}),a.jsxs("select",{value:E,onChange:L=>_(L.target.value),className:"bg-background/70 border-none text-white rounded-xl px-3 py-2",children:[a.jsx("option",{value:"",children:"Todas as Categorias"}),a.jsx("option",{value:"Varejo",children:"Varejo"}),a.jsx("option",{value:"Atacado",children:"Atacado"}),a.jsx("option",{value:"Atacarejo",children:"Atacarejo"})]}),a.jsx(K,{placeholder:"Buscar por CPF ou CNPJ...",value:C,onChange:L=>R(L.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"})]}),a.jsx(n4,{customers:I,onEdit:M,onDelete:$,onViewHistory:z,getCustomerPurchases:A,getCustomerTotalSpent:T,formatCPF:N,formatPhone:P}),a.jsx(s4,{open:d,onOpenChange:f,customer:h,purchases:h?A(h.id):[]})]})};var rd="rovingFocusGroup.onEntryFocus",i4={bubbles:!1,cancelable:!0},da="RovingFocusGroup",[Bf,ES,a4]=Wh(da),[l4,kS]=Br(da,[a4]),[c4,u4]=l4(da),NS=m.forwardRef((e,t)=>a.jsx(Bf.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Bf.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(d4,{...e,ref:t})})}));NS.displayName=da;var d4=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=Te(t,h),w=_p(o),[v,b]=ys({prop:i,defaultProp:l??null,onChange:c,caller:da}),[x,y]=m.useState(!1),g=Jt(u),j=ES(n),S=m.useRef(!1),[k,E]=m.useState(0);return m.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(rd,g),()=>_.removeEventListener(rd,g)},[g]),a.jsx(c4,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(_=>b(_),[b]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>E(_=>_+1),[]),onFocusableItemRemove:m.useCallback(()=>E(_=>_-1),[]),children:a.jsx(le.div,{tabIndex:x||k===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{S.current=!0}),onFocus:se(e.onFocus,_=>{const C=!S.current;if(_.target===_.currentTarget&&C&&!x){const R=new CustomEvent(rd,i4);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const I=j().filter(M=>M.focusable),O=I.find(M=>M.active),N=I.find(M=>M.id===v),D=[O,N,...I].filter(Boolean).map(M=>M.ref.current);AS(D,d)}}S.current=!1}),onBlur:se(e.onBlur,()=>y(!1))})})}),PS="RovingFocusGroupItem",TS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Ar(),u=o||c,d=u4(PS,n),f=d.currentTabStopId===u,h=ES(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:v}=d;return m.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),a.jsx(Bf.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(le.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:se(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:se(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:se(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=p4(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let g=h().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")g.reverse();else if(x==="prev"||x==="next"){x==="prev"&&g.reverse();const j=g.indexOf(b.currentTarget);g=d.loop?m4(g,j+1):g.slice(j+1)}setTimeout(()=>AS(g))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});TS.displayName=PS;var f4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function h4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function p4(e,t,n){const r=h4(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return f4[r]}function AS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function m4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var g4=NS,v4=TS,Xc="Tabs",[y4,eF]=Br(Xc,[kS]),RS=kS(),[x4,Fp]=y4(Xc),OS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=_p(l),[f,h]=ys({prop:r,onChange:s,defaultProp:o??"",caller:Xc});return a.jsx(x4,{scope:n,baseId:Ar(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:a.jsx(le.div,{dir:d,"data-orientation":i,...u,ref:t})})});OS.displayName=Xc;var IS="TabsList",LS=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Fp(IS,n),i=RS(n);return a.jsx(g4,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(le.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});LS.displayName=IS;var MS="TabsTrigger",DS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Fp(MS,n),l=RS(n),c=VS(i.baseId,r),u=US(i.baseId,r),d=r===i.value;return a.jsx(v4,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:se(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:se(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});DS.displayName=MS;var $S="TabsContent",FS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=Fp($S,n),c=VS(l.baseId,r),u=US(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Ro,{present:s||d,children:({present:h})=>a.jsx(le.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});FS.displayName=$S;function VS(e,t){return`${e}-trigger-${t}`}function US(e,t){return`${e}-content-${t}`}var w4=OS,BS=LS,zS=DS,WS=FS;const HS=w4,Vp=oe.forwardRef(({className:e,...t},n)=>a.jsx(BS,{ref:n,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vp.displayName=BS.displayName;const yr=oe.forwardRef(({className:e,...t},n)=>a.jsx(zS,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));yr.displayName=zS.displayName;const xr=oe.forwardRef(({className:e,...t},n)=>a.jsx(WS,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xr.displayName=WS.displayName;const b4=({totalRevenue:e,totalSales:t,averageTicket:n,totalItemsSold:r})=>{const s=[{icon:xs,value:`R$ ${e.toFixed(2)}`,label:"Faturamento",color:"text-green-500"},{icon:zi,value:t,label:"Vendas",color:"text-blue-500"},{icon:Nc,value:`R$ ${n.toFixed(2)}`,label:"Ticket Médio",color:"text-purple-500"},{icon:Pn,value:r,label:"Itens Vendidos",color:"text-orange-500"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(o=>{const i=o.icon;return a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full bg-primary/10 ${o.color}`,children:a.jsx(i,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:o.value}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.label})]})]})})},o.label)})})},j4=({sales:e,salesByHour:t})=>a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(vw,{className:"w-5 h-5"}),a.jsx("span",{children:"Vendas Recentes"})]})}),a.jsx(re,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(zi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma venda no período selecionado"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.slice(0,10).map(n=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Venda #",n.id]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.cashier," • ",new Date(n.date).toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.items.length," itens"]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",n.total.toFixed(2)]})})]},n.id))})})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(wg,{className:"w-5 h-5"}),a.jsx("span",{children:"Vendas por Horário"})]})}),a.jsx(re,{children:Object.keys(t).length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(wg,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma venda por horário no período"})]}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Object.entries(t).sort(([n],[r])=>parseInt(n)-parseInt(r)).map(([n,r])=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-md",children:[a.jsxs("span",{className:"text-sm font-medium",children:[n.padStart(2,"0"),":00 - ",String(parseInt(n)+1).padStart(2,"0"),":00"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-xs px-2 py-0.5 bg-secondary rounded-full",children:[r.count," vendas"]}),a.jsxs("span",{className:"text-sm font-semibold text-primary",children:["R$ ",r.revenue.toFixed(2)]})]})]},n))})})]})]}),S4=({topProducts:e})=>a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(Pn,{className:"w-5 h-5"}),a.jsx("span",{children:"Produtos Mais Vendidos"})]})}),a.jsx(re,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Pn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhum produto vendido no período"})]}):a.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:e.map((t,n)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-primary-foreground font-bold ${n===0?"bg-yellow-500":n===1?"bg-gray-400":n===2?"bg-yellow-700":"bg-primary"}`,children:n+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.quantity," unidades vendidas"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",t.revenue.toFixed(2)]})})]},t.name))})})]}),_4={cash:"Dinheiro",debit:"Cartão Débito",credit:"Cartão Crédito",pix:"PIX"},C4=({paymentMethodStats:e,totalRevenue:t})=>a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(xs,{className:"w-5 h-5"}),a.jsx("span",{children:"Métodos de Pagamento"})]})}),a.jsx(re,{children:Object.keys(e).length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(xs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhum pagamento registrado no período"})]}):a.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:Object.entries(e).map(([n,r])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:_4[n]||n}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.count," transações"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",r.amount.toFixed(2)]}),t>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r.amount/t*100).toFixed(1),"% do total"]})]})]},n))})})]}),E4={today:"Hoje",yesterday:"Ontem",week:"Últimos 7 dias",month:"Este mês"},k4=({salesByUser:e,dateFilter:t,totalSales:n,totalRevenue:r,averageTicket:s,totalItemsSold:o})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"w-5 h-5"}),a.jsx("span",{children:"Performance por Operador"})]})}),a.jsx(re,{children:Object.keys(e).length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(fs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhuma venda por operador no período"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Object.entries(e).map(([i,l])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:i||"Não identificado"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.count," vendas"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",l.revenue.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ticket Médio: R$ ",(l.revenue/l.count||0).toFixed(2)]})]})]},i))})})]}),a.jsxs(ne,{className:"glass-effect",children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center space-x-2",children:[a.jsx(Nc,{className:"w-5 h-5"}),a.jsx("span",{children:"Resumo do Período"})]})}),a.jsx(re,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-primary",children:E4[t]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Período Selecionado"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total de Vendas:"}),a.jsx("span",{className:"font-medium",children:n})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Faturamento Total:"}),a.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",r.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ticket Médio:"}),a.jsxs("span",{className:"font-medium",children:["R$ ",s.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Itens Vendidos:"}),a.jsx("span",{className:"font-medium",children:o})]})]})]})})]})]}),N4={today:"Hoje",yesterday:"Ontem",week:"Últimos 7 dias",month:"Este mês",all:"Todo o período"},P4=()=>{const[e,t]=m.useState([]),[n,r]=m.useState("today"),[s,o]=m.useState(!0),{toast:i}=Pt(),l=m.useCallback(async()=>{o(!0);try{const f=await Ej();t(f||[])}catch(f){i({title:"Erro ao carregar vendas",description:f.message,variant:"destructive"})}finally{o(!1)}},[i]);m.useEffect(()=>{l()},[l]);const c=m.useMemo(()=>{const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),p=new Date(h);p.setDate(p.getDate()-1);const w=new Date(f);w.setDate(f.getDate()-6),w.setHours(0,0,0,0);const v=new Date(f.getFullYear(),f.getMonth(),1);return e.filter(b=>{const x=new Date(b.created_at||b.date);switch(n){case"today":return x>=h&&x<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"yesterday":return x>=p&&x<h;case"week":return x>=w&&x<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"month":return x>=v&&x<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"all":default:return!0}})},[e,n]),u=m.useMemo(()=>{const f=c.reduce((g,j)=>g+(j.total_amount||j.total||0),0),h=c.length,p=h>0?f/h:0,w=c.reduce((g,j)=>{const S=j.items||j.sale_items||[];return g+S.reduce((k,E)=>k+(E.quantity||0),0)},0),v=(()=>{const g={};return c.forEach(j=>{(j.items||j.sale_items||[]).forEach(k=>{var R;const E=k.product_id||k.productId,_=((R=k.products)==null?void 0:R.name)||k.name||"Produto Desconhecido",C=k.subtotal||k.quantity*k.unit_price||0;g[E]||(g[E]={id:E,name:_,quantity:0,revenue:0}),g[E].quantity+=k.quantity||0,g[E].revenue+=C})}),Object.values(g).sort((j,S)=>S.revenue-j.revenue).slice(0,10)})(),b=(()=>{const g={};return c.forEach(j=>{(j.payment_details||j.payments||[]).forEach(k=>{g[k.method]||(g[k.method]={count:0,amount:0}),g[k.method].count+=1,g[k.method].amount+=k.amount||0})}),g})(),x=(()=>{const g={};return c.forEach(j=>{const S=new Date(j.created_at||j.date).getHours().toString();g[S]||(g[S]={count:0,revenue:0}),g[S].count+=1,g[S].revenue+=j.total_amount||j.total||0}),g})(),y=(()=>{const g={};return c.forEach(j=>{const S=j.cashier_name||j.cashier||"Desconhecido";g[S]||(g[S]={count:0,revenue:0}),g[S].count+=1,g[S].revenue+=j.total_amount||j.total||0}),g})();return{totalRevenue:f,totalSales:h,averageTicket:p,totalItemsSold:w,topProducts:v,paymentMethodStats:b,salesByHour:x,salesByUser:y}},[c]),d=()=>{i({title:"🚧 Em Desenvolvimento 🚧",description:"A funcionalidade de exportar relatórios será implementada em breve!"})};return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Relatórios"}),a.jsx("p",{className:"text-muted-foreground",children:"Análise detalhada de vendas e performance da loja."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(In,{value:n,onValueChange:r,children:[a.jsx(xn,{className:"w-[180px]",children:a.jsx(Ln,{placeholder:"Selecione o período"})}),a.jsx(wn,{children:Object.entries(N4).map(([f,h])=>a.jsx(Lt,{value:f,children:h},f))})]}),a.jsxs(U,{variant:"outline",onClick:d,children:[a.jsx(XN,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),a.jsx(b4,{totalRevenue:u.totalRevenue,totalSales:u.totalSales,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold}),a.jsxs(HS,{defaultValue:"sales",className:"space-y-6",children:[a.jsxs(Vp,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[a.jsx(yr,{value:"sales",children:"Vendas"}),a.jsx(yr,{value:"products",children:"Produtos"}),a.jsx(yr,{value:"payments",children:"Pagamentos"}),a.jsx(yr,{value:"performance",children:"Performance"})]}),a.jsx(xr,{value:"sales",children:a.jsx(j4,{sales:c,salesByHour:u.salesByHour})}),a.jsx(xr,{value:"products",children:a.jsx(S4,{topProducts:u.topProducts})}),a.jsx(xr,{value:"payments",children:a.jsx(C4,{paymentMethodStats:u.paymentMethodStats,totalRevenue:u.totalRevenue})}),a.jsx(xr,{value:"performance",children:a.jsx(k4,{salesByUser:u.salesByUser,dateFilter:n,totalSales:u.totalSales,totalRevenue:u.totalRevenue,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold})})]})]})},gy={[ze.ADMIN]:"Administrador",[ze.MANAGER]:"Gerente",[ze.CASHIER]:"Operador de Caixa",[ze.STOCK]:"Estoquista",[ze.SALESPERSON]:"Vendedor"},Fs="__no_store_selected__",T4=()=>{var _;const[e,t]=m.useState([]),[n,r]=m.useState([]),[s,o]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!0),{toast:h}=Pt(),[p,w]=m.useState({username:"",password:"",name:"",role:"",store_id:Fs,active:!0}),v=((_=Xe())==null?void 0:_.role)===ze.ADMIN,b=m.useCallback(async()=>{f(!0);try{const[C,R]=await Promise.all([bj(),qr()]);t(C||[]),r(R||[])}catch(C){h({title:"Erro ao carregar dados",description:C.message,variant:"destructive"})}finally{f(!1)}},[h]);m.useEffect(()=>{b()},[b]);const x=()=>{w({username:"",password:"",name:"",role:"",store_id:Fs,active:!0}),o(null),u(!1)},y=async C=>{var P;C.preventDefault();const R=p.store_id===Fs?null:p.store_id,I=(P=n.find(D=>D.id===R))==null?void 0:P.is_online_store;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.username)){h({title:"Erro de Validação",description:"O e-mail do usuário é inválido.",variant:"destructive"});return}if(!p.role){h({title:"Erro de Validação",description:"Função é obrigatória.",variant:"destructive"});return}if(!R&&p.role!==ze.ADMIN&&!I){h({title:"Erro de Validação",description:"Loja é obrigatória para esta função (exceto Admin global ou se a loja for a online).",variant:"destructive"});return}if(e.find(D=>D.username===p.username&&(!s||D.id!==s.id))){h({title:"Erro",description:"Nome de usuário já existe.",variant:"destructive"});return}f(!0);try{const D={...p,store_id:R};if(s&&!p.password&&delete D.password,s)if(v){const M={name:p.name,role:p.role,store_id:p.store_id===Fs?null:p.store_id,password:p.password||void 0};await rL(s.id,M),h({title:"Usuário atualizado!",description:`${p.name} foi atualizado com sucesso.`})}else h({title:"Apenas admin pode alterar usuários!",variant:"destructive"});else await g(D),h({title:"Funcionário criado!",description:`${p.name} foi criado com sucesso.`});b(),l(!1),x()}catch(D){h({title:"Erro ao salvar usuário",description:D.message,variant:"destructive"})}finally{f(!1)}},g=async C=>{try{const R=await fetch("/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:C.username,password:C.password,name:C.name,role:C.role,store_id:C.store_id})});if(!R.ok){const I=await R.json();throw new Error(I.error||"Erro ao criar funcionário")}return await R.json()}catch(R){throw new Error(`Erro na comunicação com o backend: ${R.message}`)}},j=C=>{o(C),w({username:C.username,password:"",name:C.name||C.username.split("@")[0],role:C.role,store_id:C.store_id||Fs,active:C.active}),l(!0)},S=async C=>{f(!0);try{await oL(C.id,!C.active),h({title:C.active?"Usuário desativado":"Usuário ativado",description:`${C.name} foi ${C.active?"desativado":"ativado"}.`}),b()}catch(R){h({title:"Erro ao alterar status do usuário",description:R.message,variant:"destructive"})}finally{f(!1)}},k=async C=>{if(window.confirm("Tem certeza que deseja remover este usuário?")){f(!0);try{await sL(C),h({title:"Usuário removido!",description:"O usuário foi removido com sucesso."}),b()}catch(R){h({title:"Erro ao remover usuário",description:R.message,variant:"destructive"})}finally{f(!1)}}},E=C=>{switch(C){case ze.ADMIN:return"text-red-600 bg-red-100 dark:bg-red-900";case ze.MANAGER:return"text-blue-600 bg-blue-100 dark:bg-blue-900";case ze.CASHIER:return"text-green-600 bg-green-100 dark:bg-green-900";case ze.STOCK:return"text-purple-600 bg-purple-100 dark:bg-purple-900";case ze.SALESPERSON:return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900"}};return d&&e.length===0&&n.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"loading-spinner"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Usuários"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie usuários, funções e suas lojas"})]}),v&&a.jsxs(Rn,{open:i,onOpenChange:C=>{l(C),C||x()},children:[a.jsx(fo,{asChild:!0,children:a.jsxs(U,{onClick:()=>x(),children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Novo Funcionário"]})}),a.jsxs(fn,{className:"max-w-md",children:[a.jsxs(hn,{children:[a.jsx(pn,{children:s?"Editar Usuário":"Novo Funcionário"}),a.jsx(mS,{children:s?"Edite as informações do usuário.":"Crie um novo funcionário no sistema."})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"name",children:"Nome Completo"}),a.jsx(K,{id:"name",value:p.name,onChange:C=>w({...p,name:C.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"username",children:"E-mail do Usuário"}),a.jsx(K,{id:"username",type:"email",value:p.username,onChange:C=>w({...p,username:C.target.value}),required:!0,placeholder:"usuario@exemplo.com"})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"password",children:s?"Nova Senha (deixe vazio para manter atual)":"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(K,{id:"password",type:c?"text":"password",value:p.password,onChange:C=>w({...p,password:C.target.value}),required:!s}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:()=>u(!c),children:c?a.jsx(QN,{className:"w-4 h-4"}):a.jsx(ww,{className:"w-4 h-4"})})]})]}),v&&a.jsxs("div",{children:[a.jsx(H,{htmlFor:"role",children:"Função"}),a.jsxs(In,{value:p.role,onValueChange:C=>w({...p,role:C}),children:[a.jsx(xn,{children:a.jsx(Ln,{placeholder:"Selecione uma função"})}),a.jsx(wn,{children:Object.entries(gy).map(([C,R])=>a.jsx(Lt,{value:C,children:R},C))})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"store_id",children:"Loja"}),a.jsxs(In,{value:p.store_id,onValueChange:C=>w({...p,store_id:C}),children:[a.jsx(xn,{children:a.jsx(Ln,{placeholder:"Selecione uma loja"})}),a.jsxs(wn,{children:[a.jsx(Lt,{value:Fs,children:"Nenhuma (Global/Admin)"}),n.map(C=>a.jsxs(Lt,{value:C.id,children:[C.name," ",C.is_online_store?"(Online)":""]},C.id))]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),a.jsx(U,{type:"submit",disabled:d,children:d?"Salvando...":(s?"Atualizar":"Criar")+" Usuário"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"w-8 h-8 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Usuários"})]})]})})}),a.jsx(ne,{className:"glass-effect",children:a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wi,{className:"w-8 h-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:n.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Lojas"})]})]})})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(C=>{var R,I,O;return a.jsx(Wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:a.jsxs(ne,{className:`glass-effect ${C.active?"":"opacity-60"}`,children:[a.jsx(je,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"w-5 h-5 text-primary"}),a.jsx(Se,{className:"text-lg",children:C.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>j(C),children:a.jsx(kc,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>k(C.id),className:"text-destructive hover:text-destructive",children:a.jsx(Oo,{className:"w-4 h-4"})})]})]})}),a.jsxs(re,{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usuário: ",C.username]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nome: ",C.name||C.username.split("@")[0]]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Loja: ",(R=C.stores)!=null&&R.name?`${C.stores.name}${C.stores.is_online_store?" (Online)":""}`:C.role===ze.ADMIN?"Todas (Admin)":"Não definida"]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(C.role)}`,children:gy[C.role]}),v&&a.jsx(U,{size:"xs",variant:"outline",onClick:()=>j(C),children:"Alterar Role"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.active?"text-green-600 bg-green-100 dark:bg-green-900":"text-red-600 bg-red-100 dark:bg-red-900"}`,children:C.active?"Ativo":"Inativo"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Permissões:"}),a.jsxs("div",{className:"space-y-1",children:[(I=ul[C.role])==null?void 0:I.slice(0,3).map(N=>a.jsxs("div",{className:"text-xs text-muted-foreground",children:["• ",N.replace(/_/g," ").toLowerCase()]},N)),((O=ul[C.role])==null?void 0:O.length)>3&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["• +",ul[C.role].length-3," mais..."]})]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsx(U,{variant:"outline",size:"sm",className:"w-full",onClick:()=>S(C),disabled:d,children:d?"Aguarde...":(C.active?"Desativar":"Ativar")+" Usuário"})})]})]})},C.id)})}),e.length===0&&!d&&a.jsx(ne,{children:a.jsxs(re,{className:"text-center py-12",children:[a.jsx(fs,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum usuário encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:"Comece criando seu primeiro usuário"})]})})]})},fa="http://localhost:4000/api",A4=async(e=null)=>{try{const t=new URLSearchParams;e&&t.append("store_id",e);const n=await fetch(`${fa}/cash-register/state?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json();throw new Error(r.error||"Erro ao buscar estado do caixa")}return await n.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},R4=async(e,t,n)=>{try{const r=await fetch(`${fa}/cash-register/open`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initial_amount:e,store_id:t,user_id:n})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Erro ao abrir caixa")}return await r.json()}catch(r){throw new Error(`Erro na comunicação com o backend: ${r.message}`)}},O4=async(e,t,n,r=null)=>{try{const s=await fetch(`${fa}/cash-register/close`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({final_amount:e,store_id:t,user_id:n,notes:r})});if(!s.ok){const o=await s.json();throw new Error(o.error||"Erro ao fechar caixa")}return await s.json()}catch(s){throw new Error(`Erro na comunicação com o backend: ${s.message}`)}},I4=async(e={})=>{try{const t=new URLSearchParams;e.store_id&&t.append("store_id",e.store_id),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.date_from&&t.append("date_from",e.date_from),e.date_to&&t.append("date_to",e.date_to);const n=await fetch(`${fa}/cash-register/logs?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json();throw new Error(r.error||"Erro ao buscar logs do caixa")}return await n.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},L4=async(e,t,n,r,s=null)=>{try{const o=await fetch(`${fa}/cash-register/logs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,amount:t,store_id:n,user_id:r,notes:s})});if(!o.ok){const i=await o.json();throw new Error(i.error||"Erro ao adicionar log do caixa")}return await o.json()}catch(o){throw new Error(`Erro na comunicação com o backend: ${o.message}`)}},M4=()=>{var A;const[e,t]=m.useState({isOpen:!1,currentAmount:0,openingAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null}),[n,r]=m.useState([]),[s,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(""),[w,v]=m.useState(""),[b,x]=m.useState(""),[y,g]=m.useState("add"),[j,S]=m.useState(""),[k,E]=m.useState("status"),{toast:_}=Pt(),C=Xe(),R=$t(C==null?void 0:C.role,X.CASH_REGISTER_MANAGEMENT),I=async()=>{try{o(!0);const T=(C==null?void 0:C.store_id)||"1fa90f00-cf02-4a42-8167-c599537c22bb",z=await A4(T);t(z)}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}finally{o(!1)}},O=async()=>{try{const T=await I4({limit:100});r(T.logs||[])}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}};m.useEffect(()=>{I(),O()},[]);const N=async()=>{if(!h||parseFloat(h)<0){_({title:"Erro",description:"Valor inicial é obrigatório e deve ser maior ou igual a zero.",variant:"destructive"});return}try{o(!0);const T=await R4(parseFloat(h),e.store_id,C==null?void 0:C.id);t(T.cashRegister),l(!1),p(""),_({title:"Sucesso",description:T.message}),O()}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}finally{o(!1)}},P=async()=>{try{o(!0);const T=await O4(parseFloat(w)||e.currentAmount,e.store_id,C==null?void 0:C.id,j);t(T.cashRegister),u(!1),v(""),S(""),_({title:"Sucesso",description:T.message}),O()}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}finally{o(!1)}},D=async()=>{if(!b||parseFloat(b)<=0){_({title:"Erro",description:"Valor é obrigatório e deve ser maior que zero.",variant:"destructive"});return}try{o(!0);const T=parseFloat(b),z=y==="add"?T:-T;await L4(y,T,e.store_id,C==null?void 0:C.id,j),f(!1),x(""),g("add"),S(""),_({title:"Sucesso",description:"Movimentação registrada com sucesso!"}),I(),O()}catch(T){_({title:"Erro",description:T.message,variant:"destructive"})}finally{o(!1)}},M=T=>new Date(T).toLocaleString("pt-BR"),$=T=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T);return R?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(xs,{className:"w-8 h-8"}),"Controle de Caixa"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:((A=e.store)==null?void 0:A.name)||"Loja Online"}),a.jsx(U,{variant:"outline",size:"sm",onClick:async()=>{if(confirm("Tem certeza que deseja resetar o caixa? Isso apagará todo o histórico."))try{(await fetch(`http://31.97.86.88:4000/api/cash-register/reset/${e.store_id}`,{method:"DELETE"})).ok&&(_({title:"Sucesso",description:"Caixa resetado com sucesso!"}),I(),O())}catch{_({title:"Erro",description:"Erro ao resetar caixa",variant:"destructive"})}},children:"Resetar Caixa"})]})]}),a.jsxs(HS,{value:k,onValueChange:E,children:[a.jsxs(Vp,{className:"grid w-full grid-cols-3",children:[a.jsx(yr,{value:"status",children:"Status"}),a.jsx(yr,{value:"operations",children:"Operações"}),a.jsx(yr,{value:"history",children:"Histórico"})]}),a.jsx(xr,{value:"status",className:"space-y-6",children:a.jsxs(ne,{children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center gap-2",children:[e.isOpen?a.jsx(GN,{className:"w-6 h-6 text-green-500"}):a.jsx(Sg,{className:"w-6 h-6 text-red-500"}),"Status do Caixa"]})}),a.jsxs(re,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx("p",{className:`text-lg font-bold ${e.isOpen?"text-green-600":"text-red-600"}`,children:e.isOpen?"ABERTO":"FECHADO"})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Atual"}),a.jsx("p",{className:"text-2xl font-bold",children:$(e.currentAmount)})]})]}),e.isOpen&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Inicial"}),a.jsx("p",{className:"font-bold",children:$(e.openingAmount)})]}),a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto por"}),a.jsx("p",{className:"font-bold",children:e.openedBy||"N/A"})]}),a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto em"}),a.jsx("p",{className:"font-bold",children:e.openedAt?M(e.openedAt):"N/A"})]})]}),!e.isOpen&&e.closedAt&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fechado em"}),a.jsx("p",{className:"font-bold",children:M(e.closedAt)})]}),a.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Final"}),a.jsx("p",{className:"font-bold",children:$(e.currentAmount)})]})]})]})]})}),a.jsx(xr,{value:"operations",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(ne,{children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center gap-2",children:[a.jsx(jg,{className:"w-5 h-5"}),"Abrir Caixa"]})}),a.jsx(re,{children:a.jsxs(Rn,{open:i,onOpenChange:l,children:[a.jsx(fo,{asChild:!0,children:a.jsx(U,{className:"w-full",disabled:e.isOpen||s,children:"Abrir Caixa"})}),a.jsxs(fn,{children:[a.jsx(hn,{children:a.jsx(pn,{children:"Abrir Caixa"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"initialAmount",children:"Valor Inicial (R$)"}),a.jsx(K,{id:"initialAmount",type:"number",step:"0.01",min:"0",value:h,onChange:T=>p(T.target.value),placeholder:"0,00"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(U,{variant:"outline",onClick:()=>l(!1),disabled:s,children:"Cancelar"}),a.jsx(U,{onClick:N,disabled:s,children:s?"Abrindo...":"Abrir Caixa"})]})]})]})]})})]}),a.jsxs(ne,{children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center gap-2",children:[a.jsx(af,{className:"w-5 h-5"}),"Fechar Caixa"]})}),a.jsx(re,{children:a.jsxs(Rn,{open:c,onOpenChange:u,children:[a.jsx(fo,{asChild:!0,children:a.jsx(U,{variant:"outline",className:"w-full",disabled:!e.isOpen||s,children:"Fechar Caixa"})}),a.jsxs(fn,{children:[a.jsx(hn,{children:a.jsx(pn,{children:"Fechar Caixa"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"finalAmount",children:"Valor Final (R$)"}),a.jsx(K,{id:"finalAmount",type:"number",step:"0.01",min:"0",value:w,onChange:T=>v(T.target.value),placeholder:e.currentAmount.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"closeNotes",children:"Observações (opcional)"}),a.jsx(K,{id:"closeNotes",value:j,onChange:T=>S(T.target.value),placeholder:"Observações sobre o fechamento..."})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(U,{variant:"outline",onClick:()=>u(!1),disabled:s,children:"Cancelar"}),a.jsx(U,{onClick:P,disabled:s,children:s?"Fechando...":"Fechar Caixa"})]})]})]})]})})]}),a.jsxs(ne,{children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center gap-2",children:[a.jsx(Nc,{className:"w-5 h-5"}),"Movimentações"]})}),a.jsx(re,{children:a.jsxs(Rn,{open:d,onOpenChange:f,children:[a.jsx(fo,{asChild:!0,children:a.jsx(U,{variant:"outline",className:"w-full",disabled:!e.isOpen||s,children:"Adicionar/Remover"})}),a.jsxs(fn,{children:[a.jsx(hn,{children:a.jsx(pn,{children:"Movimentação de Caixa"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Tipo de Operação"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs(U,{variant:y==="add"?"default":"outline",onClick:()=>g("add"),className:"flex-1",children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),a.jsxs(U,{variant:y==="remove"?"default":"outline",onClick:()=>g("remove"),className:"flex-1",children:[a.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Remover"]})]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"movementAmount",children:"Valor (R$)"}),a.jsx(K,{id:"movementAmount",type:"number",step:"0.01",min:"0",value:b,onChange:T=>x(T.target.value),placeholder:"0,00"})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"movementNotes",children:"Observações (opcional)"}),a.jsx(K,{id:"movementNotes",value:j,onChange:T=>S(T.target.value),placeholder:"Motivo da movimentação..."})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(U,{variant:"outline",onClick:()=>f(!1),disabled:s,children:"Cancelar"}),a.jsx(U,{onClick:D,disabled:s,children:s?"Registrando...":"Registrar Movimentação"})]})]})]})]})})]})]})}),a.jsx(xr,{value:"history",className:"space-y-6",children:a.jsxs(ne,{children:[a.jsx(je,{children:a.jsxs(Se,{className:"flex items-center gap-2",children:[a.jsx(al,{className:"w-5 h-5"}),"Histórico de Operações"]})}),a.jsx(re,{children:a.jsxs("div",{className:"space-y-4",children:[n.map(T=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[T.type==="open"&&a.jsx(jg,{className:"w-5 h-5 text-green-500"}),T.type==="close"&&a.jsx(af,{className:"w-5 h-5 text-red-500"}),T.type==="add"&&a.jsx(gn,{className:"w-5 h-5 text-blue-500"}),T.type==="remove"&&a.jsx(Ul,{className:"w-5 h-5 text-orange-500"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[T.type==="open"&&"Abertura de Caixa",T.type==="close"&&"Fechamento de Caixa",T.type==="add"&&"Adição de Dinheiro",T.type==="remove"&&"Remoção de Dinheiro"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.notes})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold",children:$(T.current_amount)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:M(T.created_at)})]})]},T.id)),n.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma operação registrada."})]})})]})})]})]}):a.jsx("div",{className:"container mx-auto p-6",children:a.jsx(ne,{className:"max-w-md mx-auto",children:a.jsxs(re,{className:"p-6 text-center",children:[a.jsx(Sg,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Acesso Negado"}),a.jsx("p",{className:"text-muted-foreground",children:"Você não tem permissão para acessar o controle de caixa."})]})})})},tn=({element:e,requiredPermission:t,user:n})=>!n||n.role==="none"?a.jsx(Vl,{to:"/login"}):t&&!$t(n.role,t)?a.jsx(Vl,{to:"/"}):e,D4=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0),{toast:s}=Pt();m.useEffect(()=>{const l=d=>{s(d.detail)};window.addEventListener("show-toast",l),(async()=>{const d=Xe();d&&t(d),r(!1)})();const{data:u}=Q.auth.onAuthStateChange(async(d,f)=>{var h;if(f!=null&&f.user){let p="none";f.user.email==="admin@server.com"&&(p="admin");const w={id:f.user.id,email:f.user.email,name:((h=f.user.user_metadata)==null?void 0:h.name)||f.user.email.split("@")[0],role:p,store_id:null,active:!0,created_at:f.user.created_at,stores:null};t(w),Hv(w)}else t(null),Af();r(!1)});return()=>{var d;(d=u==null?void 0:u.subscription)==null||d.unsubscribe(),window.removeEventListener("show-toast",l)}},[s]);const o=l=>{t(l),Hv(l)},i=()=>{t(null),Af()};return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg",children:a.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-white border-t-transparent rounded-full"})}):a.jsxs(bk,{children:[a.jsxs(pk,{children:[a.jsx(bt,{path:"/login",element:e?a.jsx(Vl,{to:"/"}):a.jsx(iL,{onLogin:o})}),a.jsxs(bt,{path:"/",element:a.jsx(tn,{user:e,element:a.jsx(aL,{onLogout:i})}),children:[a.jsx(bt,{index:!0,element:a.jsx(tn,{user:e,element:a.jsx(my,{}),requiredPermission:X.PROCESS_SALES})}),a.jsx(bt,{path:"pos",element:a.jsx(tn,{user:e,element:a.jsx(my,{}),requiredPermission:X.PROCESS_SALES})}),a.jsx(bt,{path:"products",element:a.jsx(tn,{user:e,element:a.jsx(W$,{}),requiredPermission:X.MANAGE_PRODUCTS})}),a.jsx(bt,{path:"products/:id",element:a.jsx(tn,{user:e,element:a.jsx(H$,{}),requiredPermission:X.MANAGE_PRODUCTS})}),a.jsx(bt,{path:"categories",element:a.jsx(tn,{user:e,element:a.jsx(t4,{}),requiredPermission:X.MANAGE_CATEGORIES})}),a.jsx(bt,{path:"stock",element:a.jsx(tn,{user:e,element:a.jsx(q$,{}),requiredPermission:X.MANAGE_STOCK})}),a.jsx(bt,{path:"customers",element:a.jsx(tn,{user:e,element:a.jsx(o4,{}),requiredPermission:X.MANAGE_PRODUCTS})}),a.jsx(bt,{path:"reports",element:a.jsx(tn,{user:e,element:a.jsx(P4,{}),requiredPermission:X.VIEW_REPORTS})}),a.jsx(bt,{path:"users",element:a.jsx(tn,{user:e,element:a.jsx(T4,{}),requiredPermission:X.MANAGE_USERS})}),a.jsx(bt,{path:"cash-register",element:a.jsx(tn,{user:e,element:a.jsx(M4,{}),requiredPermission:X.CASH_REGISTER_MANAGEMENT})}),a.jsx(bt,{path:"*",element:a.jsx(Vl,{to:e?"/":"/login"})})]})]}),a.jsx(jP,{})]})};sd.createRoot(document.getElementById("root")).render(a.jsx(oe.StrictMode,{children:a.jsx(D4,{})}));
