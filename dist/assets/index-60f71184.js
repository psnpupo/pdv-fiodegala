function s_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ay(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ry={exports:{}},mc={},Oy={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=Symbol.for("react.element"),i_=Symbol.for("react.portal"),a_=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),f_=Symbol.for("react.forward_ref"),h_=Symbol.for("react.suspense"),p_=Symbol.for("react.memo"),m_=Symbol.for("react.lazy"),om=Symbol.iterator;function g_(e){return e===null||typeof e!="object"?null:(e=om&&e[om]||e["@@iterator"],typeof e=="function"?e:null)}var Iy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},My=Object.assign,Ly={};function Ao(e,t,n){this.props=e,this.context=t,this.refs=Ly,this.updater=n||Iy}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ao.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dy(){}Dy.prototype=Ao.prototype;function th(e,t,n){this.props=e,this.context=t,this.refs=Ly,this.updater=n||Iy}var nh=th.prototype=new Dy;nh.constructor=th;My(nh,Ao.prototype);nh.isPureReactComponent=!0;var im=Array.isArray,$y=Object.prototype.hasOwnProperty,rh={current:null},Fy={key:!0,ref:!0,__self:!0,__source:!0};function Vy(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)$y.call(t,r)&&!Fy.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:sa,type:e,key:o,ref:a,props:s,_owner:rh.current}}function v_(e,t){return{$$typeof:sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sh(e){return typeof e=="object"&&e!==null&&e.$$typeof===sa}function y_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var am=/\/+/g;function lu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y_(""+e.key):t.toString(36)}function nl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case sa:case i_:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+lu(a,0):r,im(s)?(n="",e!=null&&(n=e.replace(am,"$&/")+"/"),nl(s,t,n,"",function(u){return u})):s!=null&&(sh(s)&&(s=v_(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(am,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",im(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+lu(o,l);a+=nl(o,t,n,c,s)}else if(c=g_(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+lu(o,l++),a+=nl(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function wa(e,t,n){if(e==null)return e;var r=[],s=0;return nl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function x_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _t={current:null},rl={transition:null},w_={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:rl,ReactCurrentOwner:rh};function Uy(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:wa,forEach:function(e,t,n){wa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wa(e,function(){t++}),t},toArray:function(e){return wa(e,function(t){return t})||[]},only:function(e){if(!sh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Ao;ye.Fragment=a_;ye.Profiler=c_;ye.PureComponent=th;ye.StrictMode=l_;ye.Suspense=h_;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w_;ye.act=Uy;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=My({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=rh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$y.call(t,c)&&!Fy.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:sa,type:e.type,key:s,ref:o,props:r,_owner:a}};ye.createContext=function(e){return e={$$typeof:d_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:u_,_context:e},e.Consumer=e};ye.createElement=Vy;ye.createFactory=function(e){var t=Vy.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:f_,render:e}};ye.isValidElement=sh;ye.lazy=function(e){return{$$typeof:m_,_payload:{_status:-1,_result:e},_init:x_}};ye.memo=function(e,t){return{$$typeof:p_,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=rl.transition;rl.transition={};try{e()}finally{rl.transition=t}};ye.unstable_act=Uy;ye.useCallback=function(e,t){return _t.current.useCallback(e,t)};ye.useContext=function(e){return _t.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return _t.current.useDeferredValue(e)};ye.useEffect=function(e,t){return _t.current.useEffect(e,t)};ye.useId=function(){return _t.current.useId()};ye.useImperativeHandle=function(e,t,n){return _t.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return _t.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return _t.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return _t.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return _t.current.useReducer(e,t,n)};ye.useRef=function(e){return _t.current.useRef(e)};ye.useState=function(e){return _t.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return _t.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return _t.current.useTransition()};ye.version="18.3.1";Oy.exports=ye;var p=Oy.exports;const ae=Ay(p),oh=s_({__proto__:null,default:ae},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_=p,b_=Symbol.for("react.element"),S_=Symbol.for("react.fragment"),__=Object.prototype.hasOwnProperty,C_=j_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E_={key:!0,ref:!0,__self:!0,__source:!0};function By(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)__.call(t,r)&&!E_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:b_,type:e,key:o,ref:a,props:s,_owner:C_.current}}mc.Fragment=S_;mc.jsx=By;mc.jsxs=By;Ry.exports=mc;var i=Ry.exports,hd={},zy={exports:{}},qt={},Wy={exports:{}},qy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,P){var V=A.length;A.push(P);e:for(;0<V;){var M=V-1>>>1,W=A[M];if(0<s(W,P))A[M]=P,A[V]=W,V=M;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var P=A[0],V=A.pop();if(V!==P){A[0]=V;e:for(var M=0,W=A.length,Q=W>>>1;M<Q;){var ie=2*(M+1)-1,fe=A[ie],pe=ie+1,G=A[pe];if(0>s(fe,V))pe<W&&0>s(G,fe)?(A[M]=G,A[pe]=V,M=pe):(A[M]=fe,A[ie]=V,M=ie);else if(pe<W&&0>s(G,V))A[M]=G,A[pe]=V,M=pe;else break e}}return P}function s(A,P){var V=A.sortIndex-P.sortIndex;return V!==0?V:A.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,j=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=A)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function b(A){if(v=!1,g(A),!j)if(n(c)!==null)j=!0,T(S);else{var P=n(u);P!==null&&L(b,P.startTime-A)}}function S(A,P){j=!1,v&&(v=!1,x(_),_=-1),m=!0;var V=h;try{for(g(P),f=n(c);f!==null&&(!(f.expirationTime>P)||A&&!I());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var W=M(f.expirationTime<=P);P=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),g(P)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var ie=n(u);ie!==null&&L(b,ie.startTime-P),Q=!1}return Q}finally{f=null,h=V,m=!1}}var k=!1,E=null,_=-1,C=5,R=-1;function I(){return!(e.unstable_now()-R<C)}function O(){if(E!==null){var A=e.unstable_now();R=A;var P=!0;try{P=E(!0,A)}finally{P?F():(k=!1,E=null)}}else k=!1}var F;if(typeof y=="function")F=function(){y(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,D=N.port2;N.port1.onmessage=O,F=function(){D.postMessage(null)}}else F=function(){w(O,0)};function T(A){E=A,k||(k=!0,F())}function L(A,P){_=w(function(){A(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){j||m||(j=!0,T(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var V=h;h=P;try{return A()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,P){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=h;h=A;try{return P()}finally{h=V}},e.unstable_scheduleCallback=function(A,P,V){var M=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?M+V:M):V=M,A){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,A={id:d++,callback:P,priorityLevel:A,startTime:V,expirationTime:W,sortIndex:-1},V>M?(A.sortIndex=V,t(u,A),n(c)===null&&A===n(u)&&(v?(x(_),_=-1):v=!0,L(b,V-M))):(A.sortIndex=W,t(c,A),j||m||(j=!0,T(S))),A},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(A){var P=h;return function(){var V=h;h=P;try{return A.apply(this,arguments)}finally{h=V}}}})(qy);Wy.exports=qy;var N_=Wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_=p,zt=N_;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hy=new Set,Ti={};function ks(e,t){yo(e,t),yo(e+"Capture",t)}function yo(e,t){for(Ti[e]=t,e=0;e<t.length;e++)Hy.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pd=Object.prototype.hasOwnProperty,T_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lm={},cm={};function P_(e){return pd.call(cm,e)?!0:pd.call(lm,e)?!1:T_.test(e)?cm[e]=!0:(lm[e]=!0,!1)}function A_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R_(e,t,n,r){if(t===null||typeof t>"u"||A_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var ih=/[\-:]([a-z])/g;function ah(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ih,ah);at[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ih,ah);at[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ih,ah);at[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function lh(e,t,n,r){var s=at.hasOwnProperty(t)?at[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R_(t,n,s,r)&&(n=null),r||s===null?P_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var or=k_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),md=Symbol.for("react.profiler"),Gy=Symbol.for("react.provider"),Ky=Symbol.for("react.context"),uh=Symbol.for("react.forward_ref"),gd=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),Jy=Symbol.for("react.offscreen"),um=Symbol.iterator;function qo(e){return e===null||typeof e!="object"?null:(e=um&&e[um]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,cu;function si(e){if(cu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cu=t&&t[1]||""}return`
`+cu+e}var uu=!1;function du(e,t){if(!e||uu)return"";uu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{uu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?si(e):""}function O_(e){switch(e.tag){case 5:return si(e.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return e=du(e.type,!1),e;case 11:return e=du(e.type.render,!1),e;case 1:return e=du(e.type,!0),e;default:return""}}function yd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hs:return"Fragment";case qs:return"Portal";case md:return"Profiler";case ch:return"StrictMode";case gd:return"Suspense";case vd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ky:return(e.displayName||"Context")+".Consumer";case Gy:return(e._context.displayName||"Context")+".Provider";case uh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dh:return t=e.displayName||null,t!==null?t:yd(e.type)||"Memo";case dr:t=e._payload,e=e._init;try{return yd(e(t))}catch{}}return null}function I_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yd(t);case 8:return t===ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function M_(e){var t=Yy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ba(e){e._valueTracker||(e._valueTracker=M_(e))}function Xy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xd(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qy(e,t){t=t.checked,t!=null&&lh(e,"checked",t,!1)}function wd(e,t){Qy(e,t);var n=Mr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jd(e,t.type,n):t.hasOwnProperty("defaultValue")&&jd(e,t.type,Mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jd(e,t,n){(t!=="number"||Sl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oi=Array.isArray;function ao(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(oi(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mr(n)}}function Zy(e,t){var n=Mr(t.value),r=Mr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ex(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ex(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sa,tx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L_=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(e){L_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),di[t]=di[e]})});function nx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||di.hasOwnProperty(e)&&di[e]?(""+t).trim():t+"px"}function rx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=nx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var D_=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _d(e,t){if(t){if(D_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Cd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=null;function fh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nd=null,lo=null,co=null;function mm(e){if(e=aa(e)){if(typeof Nd!="function")throw Error(U(280));var t=e.stateNode;t&&(t=wc(t),Nd(e.stateNode,e.type,t))}}function sx(e){lo?co?co.push(e):co=[e]:lo=e}function ox(){if(lo){var e=lo,t=co;if(co=lo=null,mm(e),t)for(e=0;e<t.length;e++)mm(t[e])}}function ix(e,t){return e(t)}function ax(){}var fu=!1;function lx(e,t,n){if(fu)return e(t,n);fu=!0;try{return ix(e,t,n)}finally{fu=!1,(lo!==null||co!==null)&&(ax(),ox())}}function Ai(e,t){var n=e.stateNode;if(n===null)return null;var r=wc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var kd=!1;if(Qn)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){kd=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{kd=!1}function $_(e,t,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var fi=!1,_l=null,Cl=!1,Td=null,F_={onError:function(e){fi=!0,_l=e}};function V_(e,t,n,r,s,o,a,l,c){fi=!1,_l=null,$_.apply(F_,arguments)}function U_(e,t,n,r,s,o,a,l,c){if(V_.apply(this,arguments),fi){if(fi){var u=_l;fi=!1,_l=null}else throw Error(U(198));Cl||(Cl=!0,Td=u)}}function Ts(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gm(e){if(Ts(e)!==e)throw Error(U(188))}function B_(e){var t=e.alternate;if(!t){if(t=Ts(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return gm(s),e;if(o===r)return gm(s),t;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function ux(e){return e=B_(e),e!==null?dx(e):null}function dx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dx(e);if(t!==null)return t;e=e.sibling}return null}var fx=zt.unstable_scheduleCallback,vm=zt.unstable_cancelCallback,z_=zt.unstable_shouldYield,W_=zt.unstable_requestPaint,qe=zt.unstable_now,q_=zt.unstable_getCurrentPriorityLevel,hh=zt.unstable_ImmediatePriority,hx=zt.unstable_UserBlockingPriority,El=zt.unstable_NormalPriority,H_=zt.unstable_LowPriority,px=zt.unstable_IdlePriority,gc=null,Pn=null;function G_(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(gc,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Y_,K_=Math.log,J_=Math.LN2;function Y_(e){return e>>>=0,e===0?32:31-(K_(e)/J_|0)|0}var _a=64,Ca=4194304;function ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=ii(l):(o&=a,o!==0&&(r=ii(o)))}else a=n&~s,a!==0?r=ii(a):o!==0&&(r=ii(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pn(t),s=1<<n,r|=e[n],t&=~s;return r}function X_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-pn(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=X_(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Pd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mx(){var e=_a;return _a<<=1,!(_a&4194240)&&(_a=64),e}function hu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=n}function Z_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-pn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function ph(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ne=0;function gx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vx,mh,yx,xx,wx,Ad=!1,Ea=[],Sr=null,_r=null,Cr=null,Ri=new Map,Oi=new Map,pr=[],eC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(t.pointerId)}}function Go(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=aa(t),t!==null&&mh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tC(e,t,n,r,s){switch(t){case"focusin":return Sr=Go(Sr,e,t,n,r,s),!0;case"dragenter":return _r=Go(_r,e,t,n,r,s),!0;case"mouseover":return Cr=Go(Cr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ri.set(o,Go(Ri.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Oi.set(o,Go(Oi.get(o)||null,e,t,n,r,s)),!0}return!1}function jx(e){var t=ls(e.target);if(t!==null){var n=Ts(t);if(n!==null){if(t=n.tag,t===13){if(t=cx(n),t!==null){e.blockedOn=t,wx(e.priority,function(){yx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ed=r,n.target.dispatchEvent(r),Ed=null}else return t=aa(n),t!==null&&mh(t),e.blockedOn=n,!1;t.shift()}return!0}function xm(e,t,n){sl(e)&&n.delete(t)}function nC(){Ad=!1,Sr!==null&&sl(Sr)&&(Sr=null),_r!==null&&sl(_r)&&(_r=null),Cr!==null&&sl(Cr)&&(Cr=null),Ri.forEach(xm),Oi.forEach(xm)}function Ko(e,t){e.blockedOn===t&&(e.blockedOn=null,Ad||(Ad=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,nC)))}function Ii(e){function t(s){return Ko(s,e)}if(0<Ea.length){Ko(Ea[0],e);for(var n=1;n<Ea.length;n++){var r=Ea[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sr!==null&&Ko(Sr,e),_r!==null&&Ko(_r,e),Cr!==null&&Ko(Cr,e),Ri.forEach(t),Oi.forEach(t),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)jx(n),n.blockedOn===null&&pr.shift()}var uo=or.ReactCurrentBatchConfig,kl=!0;function rC(e,t,n,r){var s=Ne,o=uo.transition;uo.transition=null;try{Ne=1,gh(e,t,n,r)}finally{Ne=s,uo.transition=o}}function sC(e,t,n,r){var s=Ne,o=uo.transition;uo.transition=null;try{Ne=4,gh(e,t,n,r)}finally{Ne=s,uo.transition=o}}function gh(e,t,n,r){if(kl){var s=Rd(e,t,n,r);if(s===null)Su(e,t,r,Tl,n),ym(e,r);else if(tC(s,e,t,n,r))r.stopPropagation();else if(ym(e,r),t&4&&-1<eC.indexOf(e)){for(;s!==null;){var o=aa(s);if(o!==null&&vx(o),o=Rd(e,t,n,r),o===null&&Su(e,t,r,Tl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Su(e,t,r,null,n)}}var Tl=null;function Rd(e,t,n,r){if(Tl=null,e=fh(r),e=ls(e),e!==null)if(t=Ts(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tl=e,null}function bx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q_()){case hh:return 1;case hx:return 4;case El:case H_:return 16;case px:return 536870912;default:return 16}default:return 16}}var vr=null,vh=null,ol=null;function Sx(){if(ol)return ol;var e,t=vh,n=t.length,r,s="value"in vr?vr.value:vr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return ol=s.slice(e,1<r?1-r:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Na(){return!0}function wm(){return!1}function Ht(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Na:wm,this.isPropagationStopped=wm,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),t}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=Ht(Ro),ia=Be({},Ro,{view:0,detail:0}),oC=Ht(ia),pu,mu,Jo,vc=Be({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jo&&(Jo&&e.type==="mousemove"?(pu=e.screenX-Jo.screenX,mu=e.screenY-Jo.screenY):mu=pu=0,Jo=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:mu}}),jm=Ht(vc),iC=Be({},vc,{dataTransfer:0}),aC=Ht(iC),lC=Be({},ia,{relatedTarget:0}),gu=Ht(lC),cC=Be({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),uC=Ht(cC),dC=Be({},Ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fC=Ht(dC),hC=Be({},Ro,{data:0}),bm=Ht(hC),pC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gC[e])?!!t[e]:!1}function xh(){return vC}var yC=Be({},ia,{key:function(e){if(e.key){var t=pC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xC=Ht(yC),wC=Be({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sm=Ht(wC),jC=Be({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),bC=Ht(jC),SC=Be({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),_C=Ht(SC),CC=Be({},vc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EC=Ht(CC),NC=[9,13,27,32],wh=Qn&&"CompositionEvent"in window,hi=null;Qn&&"documentMode"in document&&(hi=document.documentMode);var kC=Qn&&"TextEvent"in window&&!hi,_x=Qn&&(!wh||hi&&8<hi&&11>=hi),_m=String.fromCharCode(32),Cm=!1;function Cx(e,t){switch(e){case"keyup":return NC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ex(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function TC(e,t){switch(e){case"compositionend":return Ex(t);case"keypress":return t.which!==32?null:(Cm=!0,_m);case"textInput":return e=t.data,e===_m&&Cm?null:e;default:return null}}function PC(e,t){if(Gs)return e==="compositionend"||!wh&&Cx(e,t)?(e=Sx(),ol=vh=vr=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _x&&t.locale!=="ko"?null:t.data;default:return null}}var AC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AC[e.type]:t==="textarea"}function Nx(e,t,n,r){sx(r),t=Pl(t,"onChange"),0<t.length&&(n=new yh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pi=null,Mi=null;function RC(e){$x(e,0)}function yc(e){var t=Ys(e);if(Xy(t))return e}function OC(e,t){if(e==="change")return t}var kx=!1;if(Qn){var vu;if(Qn){var yu="oninput"in document;if(!yu){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),yu=typeof Nm.oninput=="function"}vu=yu}else vu=!1;kx=vu&&(!document.documentMode||9<document.documentMode)}function km(){pi&&(pi.detachEvent("onpropertychange",Tx),Mi=pi=null)}function Tx(e){if(e.propertyName==="value"&&yc(Mi)){var t=[];Nx(t,Mi,e,fh(e)),lx(RC,t)}}function IC(e,t,n){e==="focusin"?(km(),pi=t,Mi=n,pi.attachEvent("onpropertychange",Tx)):e==="focusout"&&km()}function MC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yc(Mi)}function LC(e,t){if(e==="click")return yc(t)}function DC(e,t){if(e==="input"||e==="change")return yc(t)}function $C(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:$C;function Li(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pd.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function Tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pm(e,t){var n=Tm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tm(n)}}function Px(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Px(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ax(){for(var e=window,t=Sl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sl(e.document)}return t}function jh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FC(e){var t=Ax(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Px(n.ownerDocument.documentElement,n)){if(r!==null&&jh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Pm(n,o);var a=Pm(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VC=Qn&&"documentMode"in document&&11>=document.documentMode,Ks=null,Od=null,mi=null,Id=!1;function Am(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Id||Ks==null||Ks!==Sl(r)||(r=Ks,"selectionStart"in r&&jh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mi&&Li(mi,r)||(mi=r,r=Pl(Od,"onSelect"),0<r.length&&(t=new yh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ks)))}function ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Js={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},xu={},Rx={};Qn&&(Rx=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function xc(e){if(xu[e])return xu[e];if(!Js[e])return e;var t=Js[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rx)return xu[e]=t[n];return e}var Ox=xc("animationend"),Ix=xc("animationiteration"),Mx=xc("animationstart"),Lx=xc("transitionend"),Dx=new Map,Rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){Dx.set(e,t),ks(t,[e])}for(var wu=0;wu<Rm.length;wu++){var ju=Rm[wu],UC=ju.toLowerCase(),BC=ju[0].toUpperCase()+ju.slice(1);Ur(UC,"on"+BC)}Ur(Ox,"onAnimationEnd");Ur(Ix,"onAnimationIteration");Ur(Mx,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(Lx,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function Om(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,U_(r,t,void 0,e),e.currentTarget=null}function $x(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Om(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Om(s,l,u),o=c}}}if(Cl)throw e=Td,Cl=!1,Td=null,e}function Me(e,t){var n=t[Fd];n===void 0&&(n=t[Fd]=new Set);var r=e+"__bubble";n.has(r)||(Fx(t,e,2,!1),n.add(r))}function bu(e,t,n){var r=0;t&&(r|=4),Fx(n,e,r,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Di(e){if(!e[Ta]){e[Ta]=!0,Hy.forEach(function(n){n!=="selectionchange"&&(zC.has(n)||bu(n,!1,e),bu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,bu("selectionchange",!1,t))}}function Fx(e,t,n,r){switch(bx(t)){case 1:var s=rC;break;case 4:s=sC;break;default:s=gh}n=s.bind(null,t,n,e),s=void 0,!kd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Su(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ls(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}lx(function(){var u=o,d=fh(n),f=[];e:{var h=Dx.get(e);if(h!==void 0){var m=yh,j=e;switch(e){case"keypress":if(il(n)===0)break e;case"keydown":case"keyup":m=xC;break;case"focusin":j="focus",m=gu;break;case"focusout":j="blur",m=gu;break;case"beforeblur":case"afterblur":m=gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bC;break;case Ox:case Ix:case Mx:m=uC;break;case Lx:m=_C;break;case"scroll":m=oC;break;case"wheel":m=EC;break;case"copy":case"cut":case"paste":m=fC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Sm}var v=(t&4)!==0,w=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,g;y!==null;){g=y;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,x!==null&&(b=Ai(y,x),b!=null&&v.push($i(y,b,g)))),w)break;y=y.return}0<v.length&&(h=new m(h,j,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Ed&&(j=n.relatedTarget||n.fromElement)&&(ls(j)||j[Zn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(j=n.relatedTarget||n.toElement,m=u,j=j?ls(j):null,j!==null&&(w=Ts(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(m=null,j=u),m!==j)){if(v=jm,b="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Sm,b="onPointerLeave",x="onPointerEnter",y="pointer"),w=m==null?h:Ys(m),g=j==null?h:Ys(j),h=new v(b,y+"leave",m,n,d),h.target=w,h.relatedTarget=g,b=null,ls(d)===u&&(v=new v(x,y+"enter",j,n,d),v.target=g,v.relatedTarget=w,b=v),w=b,m&&j)t:{for(v=m,x=j,y=0,g=v;g;g=Ms(g))y++;for(g=0,b=x;b;b=Ms(b))g++;for(;0<y-g;)v=Ms(v),y--;for(;0<g-y;)x=Ms(x),g--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Ms(v),x=Ms(x)}v=null}else v=null;m!==null&&Im(f,h,m,v,!1),j!==null&&w!==null&&Im(f,w,j,v,!0)}}e:{if(h=u?Ys(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=OC;else if(Em(h))if(kx)S=DC;else{S=MC;var k=IC}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=LC);if(S&&(S=S(e,u))){Nx(f,S,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&jd(h,"number",h.value)}switch(k=u?Ys(u):window,e){case"focusin":(Em(k)||k.contentEditable==="true")&&(Ks=k,Od=u,mi=null);break;case"focusout":mi=Od=Ks=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,Am(f,n,d);break;case"selectionchange":if(VC)break;case"keydown":case"keyup":Am(f,n,d)}var E;if(wh)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Gs?Cx(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(_x&&n.locale!=="ko"&&(Gs||_!=="onCompositionStart"?_==="onCompositionEnd"&&Gs&&(E=Sx()):(vr=d,vh="value"in vr?vr.value:vr.textContent,Gs=!0)),k=Pl(u,_),0<k.length&&(_=new bm(_,e,null,n,d),f.push({event:_,listeners:k}),E?_.data=E:(E=Ex(n),E!==null&&(_.data=E)))),(E=kC?TC(e,n):PC(e,n))&&(u=Pl(u,"onBeforeInput"),0<u.length&&(d=new bm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}$x(f,t)})}function $i(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ai(e,n),o!=null&&r.unshift($i(e,o,s)),o=Ai(e,t),o!=null&&r.push($i(e,o,s))),e=e.return}return r}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Im(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ai(n,o),c!=null&&a.unshift($i(n,c,l))):s||(c=Ai(n,o),c!=null&&a.push($i(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var WC=/\r\n?/g,qC=/\u0000|\uFFFD/g;function Mm(e){return(typeof e=="string"?e:""+e).replace(WC,`
`).replace(qC,"")}function Pa(e,t,n){if(t=Mm(t),Mm(e)!==t&&n)throw Error(U(425))}function Al(){}var Md=null,Ld=null;function Dd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $d=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,GC=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(e){return Lm.resolve(null).then(e).catch(KC)}:$d;function KC(e){setTimeout(function(){throw e})}function _u(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ii(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ii(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Oo,Fi="__reactProps$"+Oo,Zn="__reactContainer$"+Oo,Fd="__reactEvents$"+Oo,JC="__reactListeners$"+Oo,YC="__reactHandles$"+Oo;function ls(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zn]||n[Nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dm(e);e!==null;){if(n=e[Nn])return n;e=Dm(e)}return t}e=n,n=e.parentNode}return null}function aa(e){return e=e[Nn]||e[Zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function wc(e){return e[Fi]||null}var Vd=[],Xs=-1;function Br(e){return{current:e}}function De(e){0>Xs||(e.current=Vd[Xs],Vd[Xs]=null,Xs--)}function Pe(e,t){Xs++,Vd[Xs]=e.current,e.current=t}var Lr={},gt=Br(Lr),At=Br(!1),vs=Lr;function xo(e,t){var n=e.type.contextTypes;if(!n)return Lr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rt(e){return e=e.childContextTypes,e!=null}function Rl(){De(At),De(gt)}function $m(e,t,n){if(gt.current!==Lr)throw Error(U(168));Pe(gt,t),Pe(At,n)}function Vx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,I_(e)||"Unknown",s));return Be({},n,r)}function Ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lr,vs=gt.current,Pe(gt,e),Pe(At,At.current),!0}function Fm(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Vx(e,t,vs),r.__reactInternalMemoizedMergedChildContext=e,De(At),De(gt),Pe(gt,e)):De(At),Pe(At,n)}var qn=null,jc=!1,Cu=!1;function Ux(e){qn===null?qn=[e]:qn.push(e)}function XC(e){jc=!0,Ux(e)}function zr(){if(!Cu&&qn!==null){Cu=!0;var e=0,t=Ne;try{var n=qn;for(Ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qn=null,jc=!1}catch(s){throw qn!==null&&(qn=qn.slice(e+1)),fx(hh,zr),s}finally{Ne=t,Cu=!1}}return null}var Qs=[],Zs=0,Il=null,Ml=0,Jt=[],Yt=0,ys=null,Hn=1,Gn="";function es(e,t){Qs[Zs++]=Ml,Qs[Zs++]=Il,Il=e,Ml=t}function Bx(e,t,n){Jt[Yt++]=Hn,Jt[Yt++]=Gn,Jt[Yt++]=ys,ys=e;var r=Hn;e=Gn;var s=32-pn(r)-1;r&=~(1<<s),n+=1;var o=32-pn(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Hn=1<<32-pn(t)+s|n<<s|r,Gn=o+e}else Hn=1<<o|n<<s|r,Gn=e}function bh(e){e.return!==null&&(es(e,1),Bx(e,1,0))}function Sh(e){for(;e===Il;)Il=Qs[--Zs],Qs[Zs]=null,Ml=Qs[--Zs],Qs[Zs]=null;for(;e===ys;)ys=Jt[--Yt],Jt[Yt]=null,Gn=Jt[--Yt],Jt[Yt]=null,Hn=Jt[--Yt],Jt[Yt]=null}var Ut=null,Vt=null,$e=!1,hn=null;function zx(e,t){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ut=e,Vt=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ut=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ys!==null?{id:Hn,overflow:Gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ut=e,Vt=null,!0):!1;default:return!1}}function Ud(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bd(e){if($e){var t=Vt;if(t){var n=t;if(!Vm(e,t)){if(Ud(e))throw Error(U(418));t=Er(n.nextSibling);var r=Ut;t&&Vm(e,t)?zx(r,n):(e.flags=e.flags&-4097|2,$e=!1,Ut=e)}}else{if(Ud(e))throw Error(U(418));e.flags=e.flags&-4097|2,$e=!1,Ut=e}}}function Um(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ut=e}function Aa(e){if(e!==Ut)return!1;if(!$e)return Um(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dd(e.type,e.memoizedProps)),t&&(t=Vt)){if(Ud(e))throw Wx(),Error(U(418));for(;t;)zx(e,t),t=Er(t.nextSibling)}if(Um(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vt=Er(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=Ut?Er(e.stateNode.nextSibling):null;return!0}function Wx(){for(var e=Vt;e;)e=Er(e.nextSibling)}function wo(){Vt=Ut=null,$e=!1}function _h(e){hn===null?hn=[e]:hn.push(e)}var QC=or.ReactCurrentBatchConfig;function Yo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Ra(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bm(e){var t=e._init;return t(e._payload)}function qx(e){function t(x,y){if(e){var g=x.deletions;g===null?(x.deletions=[y],x.flags|=16):g.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Pr(x,y),x.index=0,x.sibling=null,x}function o(x,y,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<y?(x.flags|=2,y):g):(x.flags|=2,y)):(x.flags|=1048576,y)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,g,b){return y===null||y.tag!==6?(y=Ru(g,x.mode,b),y.return=x,y):(y=s(y,g),y.return=x,y)}function c(x,y,g,b){var S=g.type;return S===Hs?d(x,y,g.props.children,b,g.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===dr&&Bm(S)===y.type)?(b=s(y,g.props),b.ref=Yo(x,y,g),b.return=x,b):(b=hl(g.type,g.key,g.props,null,x.mode,b),b.ref=Yo(x,y,g),b.return=x,b)}function u(x,y,g,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Ou(g,x.mode,b),y.return=x,y):(y=s(y,g.children||[]),y.return=x,y)}function d(x,y,g,b,S){return y===null||y.tag!==7?(y=ps(g,x.mode,b,S),y.return=x,y):(y=s(y,g),y.return=x,y)}function f(x,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ru(""+y,x.mode,g),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ja:return g=hl(y.type,y.key,y.props,null,x.mode,g),g.ref=Yo(x,null,y),g.return=x,g;case qs:return y=Ou(y,x.mode,g),y.return=x,y;case dr:var b=y._init;return f(x,b(y._payload),g)}if(oi(y)||qo(y))return y=ps(y,x.mode,g,null),y.return=x,y;Ra(x,y)}return null}function h(x,y,g,b){var S=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(x,y,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ja:return g.key===S?c(x,y,g,b):null;case qs:return g.key===S?u(x,y,g,b):null;case dr:return S=g._init,h(x,y,S(g._payload),b)}if(oi(g)||qo(g))return S!==null?null:d(x,y,g,b,null);Ra(x,g)}return null}function m(x,y,g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(g)||null,l(y,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ja:return x=x.get(b.key===null?g:b.key)||null,c(y,x,b,S);case qs:return x=x.get(b.key===null?g:b.key)||null,u(y,x,b,S);case dr:var k=b._init;return m(x,y,g,k(b._payload),S)}if(oi(b)||qo(b))return x=x.get(g)||null,d(y,x,b,S,null);Ra(y,b)}return null}function j(x,y,g,b){for(var S=null,k=null,E=y,_=y=0,C=null;E!==null&&_<g.length;_++){E.index>_?(C=E,E=null):C=E.sibling;var R=h(x,E,g[_],b);if(R===null){E===null&&(E=C);break}e&&E&&R.alternate===null&&t(x,E),y=o(R,y,_),k===null?S=R:k.sibling=R,k=R,E=C}if(_===g.length)return n(x,E),$e&&es(x,_),S;if(E===null){for(;_<g.length;_++)E=f(x,g[_],b),E!==null&&(y=o(E,y,_),k===null?S=E:k.sibling=E,k=E);return $e&&es(x,_),S}for(E=r(x,E);_<g.length;_++)C=m(E,x,_,g[_],b),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?_:C.key),y=o(C,y,_),k===null?S=C:k.sibling=C,k=C);return e&&E.forEach(function(I){return t(x,I)}),$e&&es(x,_),S}function v(x,y,g,b){var S=qo(g);if(typeof S!="function")throw Error(U(150));if(g=S.call(g),g==null)throw Error(U(151));for(var k=S=null,E=y,_=y=0,C=null,R=g.next();E!==null&&!R.done;_++,R=g.next()){E.index>_?(C=E,E=null):C=E.sibling;var I=h(x,E,R.value,b);if(I===null){E===null&&(E=C);break}e&&E&&I.alternate===null&&t(x,E),y=o(I,y,_),k===null?S=I:k.sibling=I,k=I,E=C}if(R.done)return n(x,E),$e&&es(x,_),S;if(E===null){for(;!R.done;_++,R=g.next())R=f(x,R.value,b),R!==null&&(y=o(R,y,_),k===null?S=R:k.sibling=R,k=R);return $e&&es(x,_),S}for(E=r(x,E);!R.done;_++,R=g.next())R=m(E,x,_,R.value,b),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?_:R.key),y=o(R,y,_),k===null?S=R:k.sibling=R,k=R);return e&&E.forEach(function(O){return t(x,O)}),$e&&es(x,_),S}function w(x,y,g,b){if(typeof g=="object"&&g!==null&&g.type===Hs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ja:e:{for(var S=g.key,k=y;k!==null;){if(k.key===S){if(S=g.type,S===Hs){if(k.tag===7){n(x,k.sibling),y=s(k,g.props.children),y.return=x,x=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===dr&&Bm(S)===k.type){n(x,k.sibling),y=s(k,g.props),y.ref=Yo(x,k,g),y.return=x,x=y;break e}n(x,k);break}else t(x,k);k=k.sibling}g.type===Hs?(y=ps(g.props.children,x.mode,b,g.key),y.return=x,x=y):(b=hl(g.type,g.key,g.props,null,x.mode,b),b.ref=Yo(x,y,g),b.return=x,x=b)}return a(x);case qs:e:{for(k=g.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(x,y.sibling),y=s(y,g.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=Ou(g,x.mode,b),y.return=x,x=y}return a(x);case dr:return k=g._init,w(x,y,k(g._payload),b)}if(oi(g))return j(x,y,g,b);if(qo(g))return v(x,y,g,b);Ra(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,g),y.return=x,x=y):(n(x,y),y=Ru(g,x.mode,b),y.return=x,x=y),a(x)):n(x,y)}return w}var jo=qx(!0),Hx=qx(!1),Ll=Br(null),Dl=null,eo=null,Ch=null;function Eh(){Ch=eo=Dl=null}function Nh(e){var t=Ll.current;De(Ll),e._currentValue=t}function zd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fo(e,t){Dl=e,Ch=eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pt=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(Ch!==e)if(e={context:e,memoizedValue:t,next:null},eo===null){if(Dl===null)throw Error(U(308));eo=e,Dl.dependencies={lanes:0,firstContext:e}}else eo=eo.next=e;return t}var cs=null;function kh(e){cs===null?cs=[e]:cs.push(e)}function Gx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,kh(t)):(n.next=s.next,s.next=n),t.interleaved=n,er(e,r)}function er(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fr=!1;function Th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,er(e,n)}return s=r.interleaved,s===null?(t.next=t,kh(r)):(t.next=s.next,s.next=t),r.interleaved=t,er(e,n)}function al(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ph(e,n)}}function zm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $l(e,t,n,r){var s=e.updateQueue;fr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,v=l;switch(h=t,m=n,v.tag){case 1:if(j=v.payload,typeof j=="function"){f=j.call(m,f,h);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,h=typeof j=="function"?j.call(m,f,h):j,h==null)break e;f=Be({},f,h);break e;case 2:fr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ws|=a,e.lanes=a,e.memoizedState=f}}function Wm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var la={},An=Br(la),Vi=Br(la),Ui=Br(la);function us(e){if(e===la)throw Error(U(174));return e}function Ph(e,t){switch(Pe(Ui,t),Pe(Vi,e),Pe(An,la),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sd(t,e)}De(An),Pe(An,t)}function bo(){De(An),De(Vi),De(Ui)}function Jx(e){us(Ui.current);var t=us(An.current),n=Sd(t,e.type);t!==n&&(Pe(Vi,e),Pe(An,n))}function Ah(e){Vi.current===e&&(De(An),De(Vi))}var Fe=Br(0);function Fl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eu=[];function Rh(){for(var e=0;e<Eu.length;e++)Eu[e]._workInProgressVersionPrimary=null;Eu.length=0}var ll=or.ReactCurrentDispatcher,Nu=or.ReactCurrentBatchConfig,xs=0,Ue=null,Xe=null,et=null,Vl=!1,gi=!1,Bi=0,ZC=0;function ct(){throw Error(U(321))}function Oh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Ih(e,t,n,r,s,o){if(xs=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ll.current=e===null||e.memoizedState===null?rE:sE,e=n(r,s),gi){o=0;do{if(gi=!1,Bi=0,25<=o)throw Error(U(301));o+=1,et=Xe=null,t.updateQueue=null,ll.current=oE,e=n(r,s)}while(gi)}if(ll.current=Ul,t=Xe!==null&&Xe.next!==null,xs=0,et=Xe=Ue=null,Vl=!1,t)throw Error(U(300));return e}function Mh(){var e=Bi!==0;return Bi=0,e}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ue.memoizedState=et=e:et=et.next=e,et}function tn(){if(Xe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=et===null?Ue.memoizedState:et.next;if(t!==null)et=t,Xe=e;else{if(e===null)throw Error(U(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},et===null?Ue.memoizedState=et=e:et=et.next=e}return et}function zi(e,t){return typeof t=="function"?t(e):t}function ku(e){var t=tn(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Xe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((xs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ue.lanes|=d,ws|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,xn(r,t.memoizedState)||(Pt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ue.lanes|=o,ws|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tu(e){var t=tn(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);xn(o,t.memoizedState)||(Pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Yx(){}function Xx(e,t){var n=Ue,r=tn(),s=t(),o=!xn(r.memoizedState,s);if(o&&(r.memoizedState=s,Pt=!0),r=r.queue,Lh(e0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Wi(9,Zx.bind(null,n,r,s,t),void 0,null),tt===null)throw Error(U(349));xs&30||Qx(n,t,s)}return s}function Qx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zx(e,t,n,r){t.value=n,t.getSnapshot=r,t0(t)&&n0(e)}function e0(e,t,n){return n(function(){t0(t)&&n0(e)})}function t0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function n0(e){var t=er(e,1);t!==null&&mn(t,e,1,-1)}function qm(e){var t=Cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},t.queue=e,e=e.dispatch=nE.bind(null,Ue,e),[t.memoizedState,e]}function Wi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function r0(){return tn().memoizedState}function cl(e,t,n,r){var s=Cn();Ue.flags|=e,s.memoizedState=Wi(1|t,n,void 0,r===void 0?null:r)}function bc(e,t,n,r){var s=tn();r=r===void 0?null:r;var o=void 0;if(Xe!==null){var a=Xe.memoizedState;if(o=a.destroy,r!==null&&Oh(r,a.deps)){s.memoizedState=Wi(t,n,o,r);return}}Ue.flags|=e,s.memoizedState=Wi(1|t,n,o,r)}function Hm(e,t){return cl(8390656,8,e,t)}function Lh(e,t){return bc(2048,8,e,t)}function s0(e,t){return bc(4,2,e,t)}function o0(e,t){return bc(4,4,e,t)}function i0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function a0(e,t,n){return n=n!=null?n.concat([e]):null,bc(4,4,i0.bind(null,t,e),n)}function Dh(){}function l0(e,t){var n=tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function c0(e,t){var n=tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function u0(e,t,n){return xs&21?(xn(n,t)||(n=mx(),Ue.lanes|=n,ws|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=n)}function eE(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var r=Nu.transition;Nu.transition={};try{e(!1),t()}finally{Ne=n,Nu.transition=r}}function d0(){return tn().memoizedState}function tE(e,t,n){var r=Tr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},f0(e))h0(t,n);else if(n=Gx(e,t,n,r),n!==null){var s=St();mn(n,e,r,s),p0(n,t,r)}}function nE(e,t,n){var r=Tr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(f0(e))h0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,xn(l,a)){var c=t.interleaved;c===null?(s.next=s,kh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Gx(e,t,s,r),n!==null&&(s=St(),mn(n,e,r,s),p0(n,t,r))}}function f0(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function h0(e,t){gi=Vl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function p0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ph(e,n)}}var Ul={readContext:en,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},rE={readContext:en,useCallback:function(e,t){return Cn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:Hm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cl(4194308,4,i0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return cl(4,2,e,t)},useMemo:function(e,t){var n=Cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tE.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Cn();return e={current:e},t.memoizedState=e},useState:qm,useDebugValue:Dh,useDeferredValue:function(e){return Cn().memoizedState=e},useTransition:function(){var e=qm(!1),t=e[0];return e=eE.bind(null,e[1]),Cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,s=Cn();if($e){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),tt===null)throw Error(U(349));xs&30||Qx(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Hm(e0.bind(null,r,o,e),[e]),r.flags|=2048,Wi(9,Zx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Cn(),t=tt.identifierPrefix;if($e){var n=Gn,r=Hn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sE={readContext:en,useCallback:l0,useContext:en,useEffect:Lh,useImperativeHandle:a0,useInsertionEffect:s0,useLayoutEffect:o0,useMemo:c0,useReducer:ku,useRef:r0,useState:function(){return ku(zi)},useDebugValue:Dh,useDeferredValue:function(e){var t=tn();return u0(t,Xe.memoizedState,e)},useTransition:function(){var e=ku(zi)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Xx,useId:d0,unstable_isNewReconciler:!1},oE={readContext:en,useCallback:l0,useContext:en,useEffect:Lh,useImperativeHandle:a0,useInsertionEffect:s0,useLayoutEffect:o0,useMemo:c0,useReducer:Tu,useRef:r0,useState:function(){return Tu(zi)},useDebugValue:Dh,useDeferredValue:function(e){var t=tn();return Xe===null?t.memoizedState=e:u0(t,Xe.memoizedState,e)},useTransition:function(){var e=Tu(zi)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Xx,useId:d0,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sc={isMounted:function(e){return(e=e._reactInternals)?Ts(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),s=Tr(e),o=Jn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Nr(e,o,s),t!==null&&(mn(t,e,s,r),al(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),s=Tr(e),o=Jn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Nr(e,o,s),t!==null&&(mn(t,e,s,r),al(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=Tr(e),s=Jn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Nr(e,s,r),t!==null&&(mn(t,e,r,n),al(t,e,r))}};function Gm(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Li(n,r)||!Li(s,o):!0}function m0(e,t,n){var r=!1,s=Lr,o=t.contextType;return typeof o=="object"&&o!==null?o=en(o):(s=Rt(t)?vs:gt.current,r=t.contextTypes,o=(r=r!=null)?xo(e,s):Lr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Km(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sc.enqueueReplaceState(t,t.state,null)}function qd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Th(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=en(o):(o=Rt(t)?vs:gt.current,s.context=xo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Wd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sc.enqueueReplaceState(s,s.state,null),$l(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function So(e,t){try{var n="",r=t;do n+=O_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Pu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iE=typeof WeakMap=="function"?WeakMap:Map;function g0(e,t,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,nf=r),Hd(e,t)},n}function v0(e,t,n){n=Jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Hd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Hd(e,t),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Jm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=wE.bind(null,e,t,n),t.then(e,e))}function Ym(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jn(-1,1),t.tag=2,Nr(n,t,1))),n.lanes|=1),e)}var aE=or.ReactCurrentOwner,Pt=!1;function wt(e,t,n,r){t.child=e===null?Hx(t,null,n,r):jo(t,e.child,n,r)}function Qm(e,t,n,r,s){n=n.render;var o=t.ref;return fo(t,s),r=Ih(e,t,n,r,o,s),n=Mh(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):($e&&n&&bh(t),t.flags|=1,wt(e,t,r,s),t.child)}function Zm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!qh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,y0(e,t,o,r,s)):(e=hl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Li,n(a,r)&&e.ref===t.ref)return tr(e,t,s)}return t.flags|=1,e=Pr(o,r),e.ref=t.ref,e.return=t,t.child=e}function y0(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Li(o,r)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,tr(e,t,s)}return Gd(e,t,n,r,s)}function x0(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(no,$t),$t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(no,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe(no,$t),$t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pe(no,$t),$t|=r;return wt(e,t,s,n),t.child}function w0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gd(e,t,n,r,s){var o=Rt(n)?vs:gt.current;return o=xo(t,o),fo(t,s),n=Ih(e,t,n,r,o,s),r=Mh(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):($e&&r&&bh(t),t.flags|=1,wt(e,t,n,s),t.child)}function eg(e,t,n,r,s){if(Rt(n)){var o=!0;Ol(t)}else o=!1;if(fo(t,s),t.stateNode===null)ul(e,t),m0(t,n,r),qd(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=en(u):(u=Rt(n)?vs:gt.current,u=xo(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Km(t,a,r,u),fr=!1;var h=t.memoizedState;a.state=h,$l(t,r,a,s),c=t.memoizedState,l!==r||h!==c||At.current||fr?(typeof d=="function"&&(Wd(t,n,d,r),c=t.memoizedState),(l=fr||Gm(t,n,l,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Kx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:cn(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=en(c):(c=Rt(n)?vs:gt.current,c=xo(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Km(t,a,r,c),fr=!1,h=t.memoizedState,a.state=h,$l(t,r,a,s);var j=t.memoizedState;l!==f||h!==j||At.current||fr?(typeof m=="function"&&(Wd(t,n,m,r),j=t.memoizedState),(u=fr||Gm(t,n,u,r,h,j,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,j,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,j,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),a.props=r,a.state=j,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Kd(e,t,n,r,o,s)}function Kd(e,t,n,r,s,o){w0(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Fm(t,n,!1),tr(e,t,o);r=t.stateNode,aE.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=jo(t,e.child,null,o),t.child=jo(t,null,l,o)):wt(e,t,l,o),t.memoizedState=r.state,s&&Fm(t,n,!0),t.child}function j0(e){var t=e.stateNode;t.pendingContext?$m(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$m(e,t.context,!1),Ph(e,t.containerInfo)}function tg(e,t,n,r,s){return wo(),_h(s),t.flags|=256,wt(e,t,n,r),t.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Yd(e){return{baseLanes:e,cachePool:null,transitions:null}}function b0(e,t,n){var r=t.pendingProps,s=Fe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pe(Fe,s&1),e===null)return Bd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ec(a,r,0,null),e=ps(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Yd(n),t.memoizedState=Jd,e):$h(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lE(e,t,a,r,l,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Pr(l,o):(o=ps(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Yd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Jd,r}return o=e.child,e=o.sibling,r=Pr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $h(e,t){return t=Ec({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oa(e,t,n,r){return r!==null&&_h(r),jo(t,e.child,null,n),e=$h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lE(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Pu(Error(U(422))),Oa(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ec({mode:"visible",children:r.children},s,0,null),o=ps(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&jo(t,e.child,null,a),t.child.memoizedState=Yd(a),t.memoizedState=Jd,o);if(!(t.mode&1))return Oa(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(U(419)),r=Pu(o,r,void 0),Oa(e,t,a,r)}if(l=(a&e.childLanes)!==0,Pt||l){if(r=tt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,er(e,s),mn(r,e,s,-1))}return Wh(),r=Pu(Error(U(421))),Oa(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jE.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Vt=Er(s.nextSibling),Ut=t,$e=!0,hn=null,e!==null&&(Jt[Yt++]=Hn,Jt[Yt++]=Gn,Jt[Yt++]=ys,Hn=e.id,Gn=e.overflow,ys=t),t=$h(t,r.children),t.flags|=4096,t)}function ng(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zd(e.return,t,n)}function Au(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function S0(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(wt(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ng(e,n,t);else if(e.tag===19)ng(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pe(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Fl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Au(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Au(t,!0,n,null,o);break;case"together":Au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cE(e,t,n){switch(t.tag){case 3:j0(t),wo();break;case 5:Jx(t);break;case 1:Rt(t.type)&&Ol(t);break;case 4:Ph(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Pe(Ll,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?b0(e,t,n):(Pe(Fe,Fe.current&1),e=tr(e,t,n),e!==null?e.sibling:null);Pe(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return S0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,x0(e,t,n)}return tr(e,t,n)}var _0,Xd,C0,E0;_0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xd=function(){};C0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,us(An.current);var o=null;switch(n){case"input":s=xd(e,s),r=xd(e,r),o=[];break;case"select":s=Be({},s,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":s=bd(e,s),r=bd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Al)}_d(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ti.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};E0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xo(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uE(e,t,n){var r=t.pendingProps;switch(Sh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Rt(t.type)&&Rl(),ut(t),null;case 3:return r=t.stateNode,bo(),De(At),De(gt),Rh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(of(hn),hn=null))),Xd(e,t),ut(t),null;case 5:Ah(t);var s=us(Ui.current);if(n=t.type,e!==null&&t.stateNode!=null)C0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return ut(t),null}if(e=us(An.current),Aa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Nn]=t,r[Fi]=o,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<ai.length;s++)Me(ai[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":dm(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":hm(r,o),Me("invalid",r)}_d(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Pa(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Pa(r.textContent,l,e),s=["children",""+l]):Ti.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Me("scroll",r)}switch(n){case"input":ba(r),fm(r,o,!0);break;case"textarea":ba(r),pm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Al)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ex(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Nn]=t,e[Fi]=r,_0(e,t,!1,!1),t.stateNode=e;e:{switch(a=Cd(n,r),n){case"dialog":Me("cancel",e),Me("close",e),s=r;break;case"iframe":case"object":case"embed":Me("load",e),s=r;break;case"video":case"audio":for(s=0;s<ai.length;s++)Me(ai[s],e);s=r;break;case"source":Me("error",e),s=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),s=r;break;case"details":Me("toggle",e),s=r;break;case"input":dm(e,r),s=xd(e,r),Me("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Be({},r,{value:void 0}),Me("invalid",e);break;case"textarea":hm(e,r),s=bd(e,r),Me("invalid",e);break;default:s=r}_d(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?rx(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tx(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pi(e,c):typeof c=="number"&&Pi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ti.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Me("scroll",e):c!=null&&lh(e,o,c,a))}switch(n){case"input":ba(e),fm(e,r,!1);break;case"textarea":ba(e),pm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ao(e,!!r.multiple,o,!1):r.defaultValue!=null&&ao(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)E0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=us(Ui.current),us(An.current),Aa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nn]=t,(o=r.nodeValue!==n)&&(e=Ut,e!==null))switch(e.tag){case 3:Pa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=t,t.stateNode=r}return ut(t),null;case 13:if(De(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Vt!==null&&t.mode&1&&!(t.flags&128))Wx(),wo(),t.flags|=98560,o=!1;else if(o=Aa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Nn]=t}else wo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),o=!1}else hn!==null&&(of(hn),hn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?Qe===0&&(Qe=3):Wh())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return bo(),Xd(e,t),e===null&&Di(t.stateNode.containerInfo),ut(t),null;case 10:return Nh(t.type._context),ut(t),null;case 17:return Rt(t.type)&&Rl(),ut(t),null;case 19:if(De(Fe),o=t.memoizedState,o===null)return ut(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Xo(o,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Fl(e),a!==null){for(t.flags|=128,Xo(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pe(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&qe()>_o&&(t.flags|=128,r=!0,Xo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Fl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!$e)return ut(t),null}else 2*qe()-o.renderingStartTime>_o&&n!==1073741824&&(t.flags|=128,r=!0,Xo(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,n=Fe.current,Pe(Fe,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return zh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$t&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function dE(e,t){switch(Sh(t),t.tag){case 1:return Rt(t.type)&&Rl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bo(),De(At),De(gt),Rh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ah(t),null;case 13:if(De(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));wo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Fe),null;case 4:return bo(),null;case 10:return Nh(t.type._context),null;case 22:case 23:return zh(),null;case 24:return null;default:return null}}var Ia=!1,ht=!1,fE=typeof WeakSet=="function"?WeakSet:Set,Y=null;function to(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function Qd(e,t,n){try{n()}catch(r){ze(e,t,r)}}var rg=!1;function hE(e,t){if(Md=kl,e=Ax(),jh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=a),h===o&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ld={focusedElem:e,selectionRange:n},kl=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,w=j.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:cn(t.type,v),w);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){ze(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return j=rg,rg=!1,j}function vi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Qd(t,n,o)}s=s.next}while(s!==r)}}function _c(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function N0(e){var t=e.alternate;t!==null&&(e.alternate=null,N0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nn],delete t[Fi],delete t[Fd],delete t[JC],delete t[YC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k0(e){return e.tag===5||e.tag===3||e.tag===4}function sg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ef(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Al));else if(r!==4&&(e=e.child,e!==null))for(ef(e,t,n),e=e.sibling;e!==null;)ef(e,t,n),e=e.sibling}function tf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tf(e,t,n),e=e.sibling;e!==null;)tf(e,t,n),e=e.sibling}var st=null,dn=!1;function ir(e,t,n){for(n=n.child;n!==null;)T0(e,t,n),n=n.sibling}function T0(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(gc,n)}catch{}switch(n.tag){case 5:ht||to(n,t);case 6:var r=st,s=dn;st=null,ir(e,t,n),st=r,dn=s,st!==null&&(dn?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(dn?(e=st,n=n.stateNode,e.nodeType===8?_u(e.parentNode,n):e.nodeType===1&&_u(e,n),Ii(e)):_u(st,n.stateNode));break;case 4:r=st,s=dn,st=n.stateNode.containerInfo,dn=!0,ir(e,t,n),st=r,dn=s;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Qd(n,t,a),s=s.next}while(s!==r)}ir(e,t,n);break;case 1:if(!ht&&(to(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,t,l)}ir(e,t,n);break;case 21:ir(e,t,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,ir(e,t,n),ht=r):ir(e,t,n);break;default:ir(e,t,n)}}function og(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fE),t.forEach(function(r){var s=bE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function sn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:st=l.stateNode,dn=!1;break e;case 3:st=l.stateNode.containerInfo,dn=!0;break e;case 4:st=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(st===null)throw Error(U(160));T0(o,a,s),st=null,dn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ze(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)P0(t,e),t=t.sibling}function P0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sn(t,e),_n(e),r&4){try{vi(3,e,e.return),_c(3,e)}catch(v){ze(e,e.return,v)}try{vi(5,e,e.return)}catch(v){ze(e,e.return,v)}}break;case 1:sn(t,e),_n(e),r&512&&n!==null&&to(n,n.return);break;case 5:if(sn(t,e),_n(e),r&512&&n!==null&&to(n,n.return),e.flags&32){var s=e.stateNode;try{Pi(s,"")}catch(v){ze(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Qy(s,o),Cd(l,a);var u=Cd(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?rx(s,f):d==="dangerouslySetInnerHTML"?tx(s,f):d==="children"?Pi(s,f):lh(s,d,f,u)}switch(l){case"input":wd(s,o);break;case"textarea":Zy(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ao(s,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?ao(s,!!o.multiple,o.defaultValue,!0):ao(s,!!o.multiple,o.multiple?[]:"",!1))}s[Fi]=o}catch(v){ze(e,e.return,v)}}break;case 6:if(sn(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){ze(e,e.return,v)}}break;case 3:if(sn(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(v){ze(e,e.return,v)}break;case 4:sn(t,e),_n(e);break;case 13:sn(t,e),_n(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Uh=qe())),r&4&&og(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ht=(u=ht)||d,sn(t,e),ht=u):sn(t,e),_n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(f=Y=d;Y!==null;){switch(h=Y,m=h.child,h.tag){case 0:case 11:case 14:case 15:vi(4,h,h.return);break;case 1:to(h,h.return);var j=h.stateNode;if(typeof j.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){ze(r,n,v)}}break;case 5:to(h,h.return);break;case 22:if(h.memoizedState!==null){ag(f);continue}}m!==null?(m.return=h,Y=m):ag(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nx("display",a))}catch(v){ze(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ze(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:sn(t,e),_n(e),r&4&&og(e);break;case 21:break;default:sn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(k0(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pi(s,""),r.flags&=-33);var o=sg(e);tf(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=sg(e);ef(e,l,a);break;default:throw Error(U(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pE(e,t,n){Y=e,A0(e)}function A0(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ia;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ht;l=Ia;var u=ht;if(Ia=a,(ht=c)&&!u)for(Y=s;Y!==null;)a=Y,c=a.child,a.tag===22&&a.memoizedState!==null?lg(s):c!==null?(c.return=a,Y=c):lg(s);for(;o!==null;)Y=o,A0(o),o=o.sibling;Y=s,Ia=l,ht=u}ig(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):ig(e)}}function ig(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||_c(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:cn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Wm(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wm(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ii(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ht||t.flags&512&&Zd(t)}catch(h){ze(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function ag(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function lg(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_c(4,t)}catch(c){ze(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ze(t,s,c)}}var o=t.return;try{Zd(t)}catch(c){ze(t,o,c)}break;case 5:var a=t.return;try{Zd(t)}catch(c){ze(t,a,c)}}}catch(c){ze(t,t.return,c)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var mE=Math.ceil,Bl=or.ReactCurrentDispatcher,Fh=or.ReactCurrentOwner,Qt=or.ReactCurrentBatchConfig,Ce=0,tt=null,Ke=null,it=0,$t=0,no=Br(0),Qe=0,qi=null,ws=0,Cc=0,Vh=0,yi=null,kt=null,Uh=0,_o=1/0,Bn=null,zl=!1,nf=null,kr=null,Ma=!1,yr=null,Wl=0,xi=0,rf=null,dl=-1,fl=0;function St(){return Ce&6?qe():dl!==-1?dl:dl=qe()}function Tr(e){return e.mode&1?Ce&2&&it!==0?it&-it:QC.transition!==null?(fl===0&&(fl=mx()),fl):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:bx(e.type)),e):1}function mn(e,t,n,r){if(50<xi)throw xi=0,rf=null,Error(U(185));oa(e,n,r),(!(Ce&2)||e!==tt)&&(e===tt&&(!(Ce&2)&&(Cc|=n),Qe===4&&mr(e,it)),Ot(e,r),n===1&&Ce===0&&!(t.mode&1)&&(_o=qe()+500,jc&&zr()))}function Ot(e,t){var n=e.callbackNode;Q_(e,t);var r=Nl(e,e===tt?it:0);if(r===0)n!==null&&vm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vm(n),t===1)e.tag===0?XC(cg.bind(null,e)):Ux(cg.bind(null,e)),GC(function(){!(Ce&6)&&zr()}),n=null;else{switch(gx(r)){case 1:n=hh;break;case 4:n=hx;break;case 16:n=El;break;case 536870912:n=px;break;default:n=El}n=F0(n,R0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function R0(e,t){if(dl=-1,fl=0,Ce&6)throw Error(U(327));var n=e.callbackNode;if(ho()&&e.callbackNode!==n)return null;var r=Nl(e,e===tt?it:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ql(e,r);else{t=r;var s=Ce;Ce|=2;var o=I0();(tt!==e||it!==t)&&(Bn=null,_o=qe()+500,hs(e,t));do try{yE();break}catch(l){O0(e,l)}while(1);Eh(),Bl.current=o,Ce=s,Ke!==null?t=0:(tt=null,it=0,t=Qe)}if(t!==0){if(t===2&&(s=Pd(e),s!==0&&(r=s,t=sf(e,s))),t===1)throw n=qi,hs(e,0),mr(e,r),Ot(e,qe()),n;if(t===6)mr(e,r);else{if(s=e.current.alternate,!(r&30)&&!gE(s)&&(t=ql(e,r),t===2&&(o=Pd(e),o!==0&&(r=o,t=sf(e,o))),t===1))throw n=qi,hs(e,0),mr(e,r),Ot(e,qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:ts(e,kt,Bn);break;case 3:if(mr(e,r),(r&130023424)===r&&(t=Uh+500-qe(),10<t)){if(Nl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$d(ts.bind(null,e,kt,Bn),t);break}ts(e,kt,Bn);break;case 4:if(mr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-pn(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mE(r/1960))-r,10<r){e.timeoutHandle=$d(ts.bind(null,e,kt,Bn),r);break}ts(e,kt,Bn);break;case 5:ts(e,kt,Bn);break;default:throw Error(U(329))}}}return Ot(e,qe()),e.callbackNode===n?R0.bind(null,e):null}function sf(e,t){var n=yi;return e.current.memoizedState.isDehydrated&&(hs(e,t).flags|=256),e=ql(e,t),e!==2&&(t=kt,kt=n,t!==null&&of(t)),e}function of(e){kt===null?kt=e:kt.push.apply(kt,e)}function gE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!xn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~Vh,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pn(t),r=1<<n;e[n]=-1,t&=~r}}function cg(e){if(Ce&6)throw Error(U(327));ho();var t=Nl(e,0);if(!(t&1))return Ot(e,qe()),null;var n=ql(e,t);if(e.tag!==0&&n===2){var r=Pd(e);r!==0&&(t=r,n=sf(e,r))}if(n===1)throw n=qi,hs(e,0),mr(e,t),Ot(e,qe()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ts(e,kt,Bn),Ot(e,qe()),null}function Bh(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(_o=qe()+500,jc&&zr())}}function js(e){yr!==null&&yr.tag===0&&!(Ce&6)&&ho();var t=Ce;Ce|=1;var n=Qt.transition,r=Ne;try{if(Qt.transition=null,Ne=1,e)return e()}finally{Ne=r,Qt.transition=n,Ce=t,!(Ce&6)&&zr()}}function zh(){$t=no.current,De(no)}function hs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,HC(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(Sh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rl();break;case 3:bo(),De(At),De(gt),Rh();break;case 5:Ah(r);break;case 4:bo();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:Nh(r.type._context);break;case 22:case 23:zh()}n=n.return}if(tt=e,Ke=e=Pr(e.current,null),it=$t=t,Qe=0,qi=null,Vh=Cc=ws=0,kt=yi=null,cs!==null){for(t=0;t<cs.length;t++)if(n=cs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}cs=null}return e}function O0(e,t){do{var n=Ke;try{if(Eh(),ll.current=Ul,Vl){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vl=!1}if(xs=0,et=Xe=Ue=null,gi=!1,Bi=0,Fh.current=null,n===null||n.return===null){Qe=1,qi=t,Ke=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=it,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ym(a);if(m!==null){m.flags&=-257,Xm(m,a,l,o,t),m.mode&1&&Jm(o,u,t),t=m,c=u;var j=t.updateQueue;if(j===null){var v=new Set;v.add(c),t.updateQueue=v}else j.add(c);break e}else{if(!(t&1)){Jm(o,u,t),Wh();break e}c=Error(U(426))}}else if($e&&l.mode&1){var w=Ym(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Xm(w,a,l,o,t),_h(So(c,l));break e}}o=c=So(c,l),Qe!==4&&(Qe=2),yi===null?yi=[o]:yi.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=g0(o,c,t);zm(o,x);break e;case 1:l=c;var y=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(kr===null||!kr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=v0(o,l,t);zm(o,b);break e}}o=o.return}while(o!==null)}L0(n)}catch(S){t=S,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function I0(){var e=Bl.current;return Bl.current=Ul,e===null?Ul:e}function Wh(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),tt===null||!(ws&268435455)&&!(Cc&268435455)||mr(tt,it)}function ql(e,t){var n=Ce;Ce|=2;var r=I0();(tt!==e||it!==t)&&(Bn=null,hs(e,t));do try{vE();break}catch(s){O0(e,s)}while(1);if(Eh(),Ce=n,Bl.current=r,Ke!==null)throw Error(U(261));return tt=null,it=0,Qe}function vE(){for(;Ke!==null;)M0(Ke)}function yE(){for(;Ke!==null&&!z_();)M0(Ke)}function M0(e){var t=$0(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?L0(e):Ke=t,Fh.current=null}function L0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dE(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ke=null;return}}else if(n=uE(n,t,$t),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Qe===0&&(Qe=5)}function ts(e,t,n){var r=Ne,s=Qt.transition;try{Qt.transition=null,Ne=1,xE(e,t,n,r)}finally{Qt.transition=s,Ne=r}return null}function xE(e,t,n,r){do ho();while(yr!==null);if(Ce&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Z_(e,o),e===tt&&(Ke=tt=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ma||(Ma=!0,F0(El,function(){return ho(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qt.transition,Qt.transition=null;var a=Ne;Ne=1;var l=Ce;Ce|=4,Fh.current=null,hE(e,n),P0(n,e),FC(Ld),kl=!!Md,Ld=Md=null,e.current=n,pE(n),W_(),Ce=l,Ne=a,Qt.transition=o}else e.current=n;if(Ma&&(Ma=!1,yr=e,Wl=s),o=e.pendingLanes,o===0&&(kr=null),G_(n.stateNode),Ot(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zl)throw zl=!1,e=nf,nf=null,e;return Wl&1&&e.tag!==0&&ho(),o=e.pendingLanes,o&1?e===rf?xi++:(xi=0,rf=e):xi=0,zr(),null}function ho(){if(yr!==null){var e=gx(Wl),t=Qt.transition,n=Ne;try{if(Qt.transition=null,Ne=16>e?16:e,yr===null)var r=!1;else{if(e=yr,yr=null,Wl=0,Ce&6)throw Error(U(331));var s=Ce;for(Ce|=4,Y=e.current;Y!==null;){var o=Y,a=o.child;if(Y.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:vi(8,d,o)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var h=d.sibling,m=d.return;if(N0(d),d===u){Y=null;break}if(h!==null){h.return=m,Y=h;break}Y=m}}}var j=o.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Y=a;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vi(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Y=x;break e}Y=o.return}}var y=e.current;for(Y=y;Y!==null;){a=Y;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,Y=g;else e:for(a=y;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_c(9,l)}}catch(S){ze(l,l.return,S)}if(l===a){Y=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Y=b;break e}Y=l.return}}if(Ce=s,zr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(gc,e)}catch{}r=!0}return r}finally{Ne=n,Qt.transition=t}}return!1}function ug(e,t,n){t=So(n,t),t=g0(e,t,1),e=Nr(e,t,1),t=St(),e!==null&&(oa(e,1,t),Ot(e,t))}function ze(e,t,n){if(e.tag===3)ug(e,e,n);else for(;t!==null;){if(t.tag===3){ug(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){e=So(n,e),e=v0(t,e,1),t=Nr(t,e,1),e=St(),t!==null&&(oa(t,1,e),Ot(t,e));break}}t=t.return}}function wE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(it&n)===n&&(Qe===4||Qe===3&&(it&130023424)===it&&500>qe()-Uh?hs(e,0):Vh|=n),Ot(e,t)}function D0(e,t){t===0&&(e.mode&1?(t=Ca,Ca<<=1,!(Ca&130023424)&&(Ca=4194304)):t=1);var n=St();e=er(e,t),e!==null&&(oa(e,t,n),Ot(e,n))}function jE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),D0(e,n)}function bE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),D0(e,n)}var $0;$0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)Pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pt=!1,cE(e,t,n);Pt=!!(e.flags&131072)}else Pt=!1,$e&&t.flags&1048576&&Bx(t,Ml,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ul(e,t),e=t.pendingProps;var s=xo(t,gt.current);fo(t,n),s=Ih(null,t,r,e,s,n);var o=Mh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(r)?(o=!0,Ol(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Th(t),s.updater=Sc,t.stateNode=s,s._reactInternals=t,qd(t,r,e,n),t=Kd(null,t,r,!0,o,n)):(t.tag=0,$e&&o&&bh(t),wt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ul(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=_E(r),e=cn(r,e),s){case 0:t=Gd(null,t,r,e,n);break e;case 1:t=eg(null,t,r,e,n);break e;case 11:t=Qm(null,t,r,e,n);break e;case 14:t=Zm(null,t,r,cn(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cn(r,s),Gd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cn(r,s),eg(e,t,r,s,n);case 3:e:{if(j0(t),e===null)throw Error(U(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Kx(e,t),$l(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=So(Error(U(423)),t),t=tg(e,t,r,n,s);break e}else if(r!==s){s=So(Error(U(424)),t),t=tg(e,t,r,n,s);break e}else for(Vt=Er(t.stateNode.containerInfo.firstChild),Ut=t,$e=!0,hn=null,n=Hx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wo(),r===s){t=tr(e,t,n);break e}wt(e,t,r,n)}t=t.child}return t;case 5:return Jx(t),e===null&&Bd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Dd(r,s)?a=null:o!==null&&Dd(r,o)&&(t.flags|=32),w0(e,t),wt(e,t,a,n),t.child;case 6:return e===null&&Bd(t),null;case 13:return b0(e,t,n);case 4:return Ph(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=jo(t,null,r,n):wt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cn(r,s),Qm(e,t,r,s,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Pe(Ll,r._currentValue),r._currentValue=a,o!==null)if(xn(o.value,a)){if(o.children===s.children&&!At.current){t=tr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Jn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),zd(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(U(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),zd(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}wt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fo(t,n),s=en(s),r=r(s),t.flags|=1,wt(e,t,r,n),t.child;case 14:return r=t.type,s=cn(r,t.pendingProps),s=cn(r.type,s),Zm(e,t,r,s,n);case 15:return y0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cn(r,s),ul(e,t),t.tag=1,Rt(r)?(e=!0,Ol(t)):e=!1,fo(t,n),m0(t,r,s),qd(t,r,s,n),Kd(null,t,r,!0,e,n);case 19:return S0(e,t,n);case 22:return x0(e,t,n)}throw Error(U(156,t.tag))};function F0(e,t){return fx(e,t)}function SE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,n,r){return new SE(e,t,n,r)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _E(e){if(typeof e=="function")return qh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uh)return 11;if(e===dh)return 14}return 2}function Pr(e,t){var n=e.alternate;return n===null?(n=Xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hl(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")qh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Hs:return ps(n.children,s,o,t);case ch:a=8,s|=8;break;case md:return e=Xt(12,n,t,s|2),e.elementType=md,e.lanes=o,e;case gd:return e=Xt(13,n,t,s),e.elementType=gd,e.lanes=o,e;case vd:return e=Xt(19,n,t,s),e.elementType=vd,e.lanes=o,e;case Jy:return Ec(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gy:a=10;break e;case Ky:a=9;break e;case uh:a=11;break e;case dh:a=14;break e;case dr:a=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Xt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function ps(e,t,n,r){return e=Xt(7,e,r,t),e.lanes=n,e}function Ec(e,t,n,r){return e=Xt(22,e,r,t),e.elementType=Jy,e.lanes=n,e.stateNode={isHidden:!1},e}function Ru(e,t,n){return e=Xt(6,e,null,t),e.lanes=n,e}function Ou(e,t,n){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hu(0),this.expirationTimes=hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hh(e,t,n,r,s,o,a,l,c){return e=new CE(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Xt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(o),e}function EE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function V0(e){if(!e)return Lr;e=e._reactInternals;e:{if(Ts(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Rt(n))return Vx(e,n,t)}return t}function U0(e,t,n,r,s,o,a,l,c){return e=Hh(n,r,!0,e,s,o,a,l,c),e.context=V0(null),n=e.current,r=St(),s=Tr(n),o=Jn(r,s),o.callback=t??null,Nr(n,o,s),e.current.lanes=s,oa(e,s,r),Ot(e,r),e}function Nc(e,t,n,r){var s=t.current,o=St(),a=Tr(s);return n=V0(n),t.context===null?t.context=n:t.pendingContext=n,t=Jn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nr(s,t,a),e!==null&&(mn(e,s,a,o),al(e,s,a)),a}function Hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gh(e,t){dg(e,t),(e=e.alternate)&&dg(e,t)}function NE(){return null}var B0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kh(e){this._internalRoot=e}kc.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Nc(e,t,null,null)};kc.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;js(function(){Nc(null,e,null,null)}),t[Zn]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pr.length&&t!==0&&t<pr[n].priority;n++);pr.splice(n,0,e),n===0&&jx(e)}};function Jh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fg(){}function kE(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Hl(a);o.call(u)}}var a=U0(t,r,e,0,null,!1,!1,"",fg);return e._reactRootContainer=a,e[Zn]=a.current,Di(e.nodeType===8?e.parentNode:e),js(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Hl(c);l.call(u)}}var c=Hh(e,0,!1,null,null,!1,!1,"",fg);return e._reactRootContainer=c,e[Zn]=c.current,Di(e.nodeType===8?e.parentNode:e),js(function(){Nc(t,c,n,r)}),c}function Pc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Hl(a);l.call(c)}}Nc(t,a,e,s)}else a=kE(n,t,e,s,r);return Hl(a)}vx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ii(t.pendingLanes);n!==0&&(ph(t,n|1),Ot(t,qe()),!(Ce&6)&&(_o=qe()+500,zr()))}break;case 13:js(function(){var r=er(e,1);if(r!==null){var s=St();mn(r,e,1,s)}}),Gh(e,1)}};mh=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var n=St();mn(t,e,134217728,n)}Gh(e,134217728)}};yx=function(e){if(e.tag===13){var t=Tr(e),n=er(e,t);if(n!==null){var r=St();mn(n,e,t,r)}Gh(e,t)}};xx=function(){return Ne};wx=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}};Nd=function(e,t,n){switch(t){case"input":if(wd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=wc(r);if(!s)throw Error(U(90));Xy(r),wd(r,s)}}}break;case"textarea":Zy(e,n);break;case"select":t=n.value,t!=null&&ao(e,!!n.multiple,t,!1)}};ix=Bh;ax=js;var TE={usingClientEntryPoint:!1,Events:[aa,Ys,wc,sx,ox,Bh]},Qo={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PE={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ux(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||NE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{gc=La.inject(PE),Pn=La}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TE;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(t))throw Error(U(200));return EE(e,t,null,n)};qt.createRoot=function(e,t){if(!Jh(e))throw Error(U(299));var n=!1,r="",s=B0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hh(e,1,!1,null,null,n,!1,r,s),e[Zn]=t.current,Di(e.nodeType===8?e.parentNode:e),new Kh(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=ux(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return js(e)};qt.hydrate=function(e,t,n){if(!Tc(t))throw Error(U(200));return Pc(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!Jh(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=B0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=U0(t,null,e,1,n??null,s,!1,o,a),e[Zn]=t.current,Di(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new kc(t)};qt.render=function(e,t,n){if(!Tc(t))throw Error(U(200));return Pc(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!Tc(e))throw Error(U(40));return e._reactRootContainer?(js(function(){Pc(null,null,e,!1,function(){e._reactRootContainer=null,e[Zn]=null})}),!0):!1};qt.unstable_batchedUpdates=Bh;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tc(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Pc(e,t,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z0)}catch(e){console.error(e)}}z0(),zy.exports=qt;var Ps=zy.exports;const AE=Ay(Ps);var hg=Ps;hd.createRoot=hg.createRoot,hd.hydrateRoot=hg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi.apply(this,arguments)}var xr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xr||(xr={}));const pg="popstate";function RE(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:a,hash:l}=r.location;return af("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Gl(s)}return IE(t,n,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function W0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OE(){return Math.random().toString(36).substr(2,8)}function mg(e,t){return{usr:e.state,key:e.key,idx:t}}function af(e,t,n,r){return n===void 0&&(n=null),Hi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Io(t):t,{state:n,key:t&&t.key||r||OE()})}function Gl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Io(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function IE(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l=xr.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Hi({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=xr.Pop;let w=d(),x=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:x})}function h(w,x){l=xr.Push;let y=af(v.location,w,x);n&&n(y,w),u=d()+1;let g=mg(y,u),b=v.createHref(y);try{a.pushState(g,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}o&&c&&c({action:l,location:v.location,delta:1})}function m(w,x){l=xr.Replace;let y=af(v.location,w,x);n&&n(y,w),u=d();let g=mg(y,u),b=v.createHref(y);a.replaceState(g,"",b),o&&c&&c({action:l,location:v.location,delta:0})}function j(w){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:Gl(w);return y=y.replace(/ $/,"%20"),He(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return l},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(pg,f),c=w,()=>{s.removeEventListener(pg,f),c=null}},createHref(w){return t(s,w)},createURL:j,encodeLocation(w){let x=j(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(w){return a.go(w)}};return v}var gg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gg||(gg={}));function ME(e,t,n){return n===void 0&&(n="/"),LE(e,t,n,!1)}function LE(e,t,n,r){let s=typeof t=="string"?Io(t):t,o=Yh(s.pathname||"/",n);if(o==null)return null;let a=q0(e);DE(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=KE(o);l=HE(a[c],u,r)}return l}function q0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ar([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(He(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),q0(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:WE(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of H0(o.path))s(o,a,c)}),t}function H0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=H0(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function DE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:qE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $E=/^:[\w-]+$/,FE=3,VE=2,UE=1,BE=10,zE=-2,vg=e=>e==="*";function WE(e,t){let n=e.split("/"),r=n.length;return n.some(vg)&&(r+=zE),t&&(r+=VE),n.filter(s=>!vg(s)).reduce((s,o)=>s+($E.test(o)?FE:o===""?UE:BE),r)}function qE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function HE(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=yg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=yg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Ar([o,f.pathname]),pathnameBase:QE(Ar([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ar([o,f.pathnameBase]))}return a}function yg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GE(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=l[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const j=l[f];return m&&!j?u[h]=void 0:u[h]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function GE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),W0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function KE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return W0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function JE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Io(e):e;return{pathname:n?n.startsWith("/")?n:YE(n,t):t,search:ZE(r),hash:eN(s)}}function YE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Iu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Xh(e,t){let n=XE(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Io(e):(s=Hi({},e),He(!s.pathname||!s.pathname.includes("?"),Iu("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),Iu("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),Iu("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=JE(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ar=e=>e.join("/").replace(/\/\/+/g,"/"),QE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const G0=["post","put","patch","delete"];new Set(G0);const nN=["get",...G0];new Set(nN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gi.apply(this,arguments)}const Zh=p.createContext(null),rN=p.createContext(null),Wr=p.createContext(null),Ac=p.createContext(null),Dn=p.createContext({outlet:null,matches:[],isDataRoute:!1}),K0=p.createContext(null);function sN(e,t){let{relative:n}=t===void 0?{}:t;Mo()||He(!1);let{basename:r,navigator:s}=p.useContext(Wr),{hash:o,pathname:a,search:l}=Y0(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Ar([r,a])),s.createHref({pathname:c,search:l,hash:o})}function Mo(){return p.useContext(Ac)!=null}function Lo(){return Mo()||He(!1),p.useContext(Ac).location}function J0(e){p.useContext(Wr).static||p.useLayoutEffect(e)}function ep(){let{isDataRoute:e}=p.useContext(Dn);return e?wN():oN()}function oN(){Mo()||He(!1);let e=p.useContext(Zh),{basename:t,future:n,navigator:r}=p.useContext(Wr),{matches:s}=p.useContext(Dn),{pathname:o}=Lo(),a=JSON.stringify(Xh(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return J0(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Qh(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ar([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,o,e])}const iN=p.createContext(null);function aN(e){let t=p.useContext(Dn).outlet;return t&&p.createElement(iN.Provider,{value:e},t)}function lN(){let{matches:e}=p.useContext(Dn),t=e[e.length-1];return t?t.params:{}}function Y0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Wr),{matches:s}=p.useContext(Dn),{pathname:o}=Lo(),a=JSON.stringify(Xh(s,r.v7_relativeSplatPath));return p.useMemo(()=>Qh(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function cN(e,t){return uN(e,t)}function uN(e,t,n,r){Mo()||He(!1);let{navigator:s}=p.useContext(Wr),{matches:o}=p.useContext(Dn),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Lo(),d;if(t){var f;let w=typeof t=="string"?Io(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||He(!1),d=w}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=ME(e,{pathname:m}),v=mN(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ar([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ar([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&v?p.createElement(Ac.Provider,{value:{location:Gi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xr.Pop}},v):v}function dN(){let e=xN(),t=tN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,o)}const fN=p.createElement(dN,null);class hN extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Dn.Provider,{value:this.props.routeContext},p.createElement(K0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pN(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(Zh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Dn.Provider,{value:t},r)}function mN(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||He(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,j=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||j){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,j=!1,v=null,w=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||fN,c&&(u<0&&h===0?(jN("route-fallback",!1),j=!0,w=null):u===h&&(j=!0,w=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),y=()=>{let g;return m?g=v:j?g=w:f.route.Component?g=p.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,p.createElement(pN,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(hN,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var X0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(X0||{}),Kl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kl||{});function gN(e){let t=p.useContext(Zh);return t||He(!1),t}function vN(e){let t=p.useContext(rN);return t||He(!1),t}function yN(e){let t=p.useContext(Dn);return t||He(!1),t}function Q0(e){let t=yN(),n=t.matches[t.matches.length-1];return n.route.id||He(!1),n.route.id}function xN(){var e;let t=p.useContext(K0),n=vN(Kl.UseRouteError),r=Q0(Kl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function wN(){let{router:e}=gN(X0.UseNavigateStable),t=Q0(Kl.UseNavigateStable),n=p.useRef(!1);return J0(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Gi({fromRouteId:t},o)))},[e,t])}const xg={};function jN(e,t,n){!t&&!xg[e]&&(xg[e]=!0)}function bN(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Jl(e){let{to:t,replace:n,state:r,relative:s}=e;Mo()||He(!1);let{future:o,static:a}=p.useContext(Wr),{matches:l}=p.useContext(Dn),{pathname:c}=Lo(),u=ep(),d=Qh(t,Xh(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function SN(e){return aN(e.context)}function dt(e){He(!1)}function _N(e){let{basename:t="/",children:n=null,location:r,navigationType:s=xr.Pop,navigator:o,static:a=!1,future:l}=e;Mo()&&He(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:a,future:Gi({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=Io(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:j="default"}=r,v=p.useMemo(()=>{let w=Yh(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:m,key:j},navigationType:s}},[c,d,f,h,m,j,s]);return v==null?null:p.createElement(Wr.Provider,{value:u},p.createElement(Ac.Provider,{children:n,value:v}))}function CN(e){let{children:t,location:n}=e;return cN(lf(t),n)}new Promise(()=>{});function lf(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,lf(r.props.children,o));return}r.type!==dt&&He(!1),!r.props.index||!r.props.children||He(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=lf(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(this,arguments)}function EN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function NN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kN(e,t){return e.button===0&&(!t||t==="_self")&&!NN(e)}const TN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PN="6";try{window.__reactRouterVersion=PN}catch{}const AN="startTransition",wg=oh[AN];function RN(e){let{basename:t,children:n,future:r,window:s}=e,o=p.useRef();o.current==null&&(o.current=RE({window:s,v5Compat:!0}));let a=o.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&wg?wg(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>bN(r),[r]),p.createElement(_N,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const ON=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,po=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=EN(t,TN),{basename:m}=p.useContext(Wr),j,v=!1;if(typeof u=="string"&&IN.test(u)&&(j=u,ON))try{let g=new URL(window.location.href),b=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=Yh(b.pathname,m);b.origin===g.origin&&S!=null?u=S+b.search+b.hash:v=!0}catch{}let w=sN(u,{relative:s}),x=MN(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(g){r&&r(g),g.defaultPrevented||x(g)}return p.createElement("a",cf({},h,{href:j||w,onClick:v||o?r:y,ref:n,target:c}))});var jg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jg||(jg={}));var bg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bg||(bg={}));function MN(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=ep(),u=Lo(),d=Y0(e,{relative:a});return p.useCallback(f=>{if(kN(f,n)){f.preventDefault();let h=r!==void 0?r:Gl(u)===Gl(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,o,a,l])}function Z0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Z0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ew(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Z0(e))&&(r&&(r+=" "),r+=t);return r}function LN(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=tw(t))&&(r&&(r+=" "),r+=n);return r}function tw(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=tw(e[r]))&&(n&&(n+=" "),n+=t);return n}var tp="-";function DN(e){var t=FN(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(tp);return c[0]===""&&c.length!==1&&c.shift(),nw(c,t)||$N(l)}function a(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:a}}function nw(e,t){var a;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?nw(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(tp);return(a=t.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:a.classGroupId}}var Sg=/^\[(.+)\]$/;function $N(e){if(Sg.test(e)){var t=Sg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function FN(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=UN(Object.entries(e.classGroups),n);return s.forEach(function(o){var a=o[0],l=o[1];uf(l,r,a,t)}),r}function uf(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var o=s===""?t:_g(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(VN(s)){uf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(a){var l=a[0],c=a[1];uf(c,_g(t,l),n,r)})})}function _g(e,t){var n=e;return t.split(tp).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function VN(e){return e.isThemeGetter}function UN(e,t){return t?e.map(function(n){var r=n[0],s=n[1],o=s.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):a});return[r,o]}):e}function BN(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(o,a){n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(a){var l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set:function(a,l){n.has(a)?n.set(a,l):s(a,l)}}}var rw="!";function zN(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(a){for(var l=[],c=0,u=0,d,f=0;f<a.length;f++){var h=a[f];if(c===0){if(h===r&&(n||a.slice(f,f+s)===t)){l.push(a.slice(u,f)),u=f+s;continue}if(h==="/"){d=f;continue}}h==="["?c++:h==="]"&&c--}var m=l.length===0?a:a.substring(u),j=m.startsWith(rw),v=j?m.substring(1):m,w=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:j,baseClassName:v,maybePostfixModifierPosition:w}}}function WN(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function qN(e){return{cache:BN(e.cacheSize),splitModifiers:zN(e),...DN(e)}}var HN=/\s+/;function GN(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(HN).map(function(a){var l=n(a),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,h=r(f?d.substring(0,f):d),m=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:a};if(h=r(d),!h)return{isTailwindClass:!1,originalClassName:a};m=!1}var j=WN(c).join(":"),v=u?j+rw:j;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:a,hasPostfixModifier:m}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,c=a.classGroupId,u=a.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function KN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,o,a=l;function l(u){var d=t[0],f=t.slice(1),h=f.reduce(function(m,j){return j(m)},d());return r=qN(h),s=r.cache.get,o=r.cache.set,a=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=GN(u,r);return o(u,f),f}return function(){return a(LN.apply(null,arguments))}}function Ie(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var sw=/^\[(?:([a-z-]+):)?(.+)\]$/i,JN=/^\d+\/\d+$/,YN=new Set(["px","full","screen"]),XN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function on(e){return ds(e)||YN.has(e)||JN.test(e)||df(e)}function df(e){return As(e,"length",ok)}function ek(e){return As(e,"size",ow)}function tk(e){return As(e,"position",ow)}function nk(e){return As(e,"url",ik)}function Da(e){return As(e,"number",ds)}function ds(e){return!Number.isNaN(Number(e))}function rk(e){return e.endsWith("%")&&ds(e.slice(0,-1))}function Zo(e){return Cg(e)||As(e,"number",Cg)}function we(e){return sw.test(e)}function ei(){return!0}function ar(e){return XN.test(e)}function sk(e){return As(e,"",ak)}function As(e,t,n){var r=sw.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function ok(e){return QN.test(e)}function ow(){return!1}function ik(e){return e.startsWith("url(")}function Cg(e){return Number.isInteger(Number(e))}function ak(e){return ZN.test(e)}function lk(){var e=Ie("colors"),t=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),o=Ie("borderRadius"),a=Ie("borderSpacing"),l=Ie("borderWidth"),c=Ie("contrast"),u=Ie("grayscale"),d=Ie("hueRotate"),f=Ie("invert"),h=Ie("gap"),m=Ie("gradientColorStops"),j=Ie("gradientColorStopPositions"),v=Ie("inset"),w=Ie("margin"),x=Ie("opacity"),y=Ie("padding"),g=Ie("saturate"),b=Ie("scale"),S=Ie("sepia"),k=Ie("skew"),E=Ie("space"),_=Ie("translate"),C=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},I=function(){return["auto",we,t]},O=function(){return[we,t]},F=function(){return["",on]},N=function(){return["auto",ds,we]},D=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},T=function(){return["solid","dashed","dotted","double","none"]},L=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},A=function(){return["start","end","center","between","around","evenly","stretch"]},P=function(){return["","0",we]},V=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},M=function(){return[ds,Da]},W=function(){return[ds,we]};return{cacheSize:500,theme:{colors:[ei],spacing:[on],blur:["none","",ar,we],brightness:M(),borderColor:[e],borderRadius:["none","","full",ar,we],borderSpacing:O(),borderWidth:F(),contrast:M(),grayscale:P(),hueRotate:W(),invert:P(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[rk,df],inset:I(),margin:I(),opacity:M(),padding:O(),saturate:M(),scale:M(),sepia:P(),skew:W(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[ar]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(D(),[we])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zo]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Zo]}],"grid-cols":[{"grid-cols":[ei]}],"col-start-end":[{col:["auto",{span:["full",Zo]},we]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[ei]}],"row-start-end":[{row:["auto",{span:[Zo]},we]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(A())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(A(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(A(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",we,t]}],"min-w":[{"min-w":["min","max","fit",we,on]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ar]},ar,we]}],h:[{h:[we,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",we,on]}],"max-h":[{"max-h":[we,t,"min","max","fit"]}],"font-size":[{text:["base",ar,df]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Da]}],"font-family":[{font:[ei]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",ds,Da]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",we,on]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(T(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",on]}],"underline-offset":[{"underline-offset":["auto",we,on]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(D(),[tk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ek]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(T(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(T())}],"outline-offset":[{"outline-offset":[we,on]}],"outline-w":[{outline:[on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ar,sk]}],"shadow-color":[{shadow:[ei]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":L()}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ar,we]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Zo,we]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[on,Da]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var ck=KN(lk);function Se(...e){return ck(ew(e))}function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Eg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iw(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Eg(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Eg(e[s],null)}}}}function Re(...e){return p.useCallback(iw(...e),e)}function uk(e,t){const n=p.createContext(t),r=o=>{const{children:a,...l}=o,c=p.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(o){const a=p.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function qr(e,t=[]){let n=[];function r(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=f=>{var x;const{scope:h,children:m,...j}=f,v=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=p.useMemo(()=>j,Object.values(j));return i.jsx(v.Provider,{value:w,children:m})};u.displayName=o+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,j=p.useContext(m);if(j)return j;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,dk(s,...t)]}function dk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Co(e){const t=hk(e),n=p.forwardRef((r,s)=>{const{children:o,...a}=r,l=p.Children.toArray(o),c=l.find(mk);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...a,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var fk=Co("Slot");function hk(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const a=vk(s),l=gk(o,s.props);return s.type!==p.Fragment&&(l.ref=r?iw(r,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pk=Symbol("radix.slottable");function mk(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pk}function gk(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function vk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function np(e){const t=e+"CollectionProvider",[n,r]=qr(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:w,children:x}=v,y=ae.useRef(null),g=ae.useRef(new Map).current;return i.jsx(s,{scope:w,itemMap:g,collectionRef:y,children:x})};a.displayName=t;const l=e+"CollectionSlot",c=Co(l),u=ae.forwardRef((v,w)=>{const{scope:x,children:y}=v,g=o(l,x),b=Re(w,g.collectionRef);return i.jsx(c,{ref:b,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Co(d),m=ae.forwardRef((v,w)=>{const{scope:x,children:y,...g}=v,b=ae.useRef(null),S=Re(w,b),k=o(d,x);return ae.useEffect(()=>(k.itemMap.set(b,{ref:b,...g}),()=>void k.itemMap.delete(b))),i.jsx(h,{[f]:"",ref:S,children:y})});m.displayName=d;function j(v){const w=o(e+"CollectionConsumer",v);return ae.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((k,E)=>g.indexOf(k.ref.current)-g.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},j,r]}var yk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=yk.reduce((e,t)=>{const n=Co(`Primitive.${t}`),r=p.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function aw(e,t){e&&Ps.flushSync(()=>e.dispatchEvent(t))}function nn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function xk(e,t=globalThis==null?void 0:globalThis.document){const n=nn(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var wk="DismissableLayer",ff="dismissableLayer.update",jk="dismissableLayer.pointerDownOutside",bk="dismissableLayer.focusOutside",Ng,lw=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=p.useContext(lw),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),j=Re(t,E=>f(E)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(w),y=d?v.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,b=y>=x,S=_k(E=>{const _=E.target,C=[...u.branches].some(R=>R.contains(_));!b||C||(s==null||s(E),a==null||a(E),E.defaultPrevented||l==null||l())},h),k=Ck(E=>{const _=E.target;[...u.branches].some(R=>R.contains(_))||(o==null||o(E),a==null||a(E),E.defaultPrevented||l==null||l())},h);return xk(E=>{y===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ng=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),kg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ng)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),kg())},[d,u]),p.useEffect(()=>{const E=()=>m({});return document.addEventListener(ff,E),()=>document.removeEventListener(ff,E)},[]),i.jsx(de.div,{...c,ref:j,style:{pointerEvents:g?b?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,S.onPointerDownCapture)})});Rc.displayName=wk;var Sk="DismissableLayerBranch",cw=p.forwardRef((e,t)=>{const n=p.useContext(lw),r=p.useRef(null),s=Re(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(de.div,{...e,ref:s})});cw.displayName=Sk;function _k(e,t=globalThis==null?void 0:globalThis.document){const n=nn(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){uw(jk,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Ck(e,t=globalThis==null?void 0:globalThis.document){const n=nn(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&uw(bk,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kg(){const e=new CustomEvent(ff);document.dispatchEvent(e)}function uw(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?aw(s,o):s.dispatchEvent(o)}var Ek=Rc,Nk=cw,lt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},kk="Portal",Oc=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=p.useState(!1);lt(()=>o(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?AE.createPortal(i.jsx(de.div,{...r,ref:t}),a):null});Oc.displayName=kk;function Tk(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Do=e=>{const{present:t,children:n}=e,r=Pk(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Re(r.ref,Ak(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};Do.displayName="Presence";function Pk(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Tk(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=$a(r.current);o.current=l==="mounted"?u:"none"},[l]),lt(()=>{const u=r.current,d=s.current;if(d!==e){const h=o.current,m=$a(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),lt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=$a(r.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=m=>{m.target===t&&(o.current=$a(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function $a(e){return(e==null?void 0:e.animationName)||"none"}function Ak(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rk=oh[" useInsertionEffect ".trim().toString()]||lt;function bs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,a]=Ok({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var f;if(l){const h=Ik(d)?d(e):d;h!==e&&((f=a.current)==null||f.call(a,h))}else o(d)},[l,e,o,a]);return[c,u]}function Ok({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),o=p.useRef(t);return Rk(()=>{o.current=t},[t]),p.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function Ik(e){return typeof e=="function"}var dw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Mk="VisuallyHidden",rp=p.forwardRef((e,t)=>i.jsx(de.span,{...e,ref:t,style:{...dw,...e.style}}));rp.displayName=Mk;var sp="ToastProvider",[op,Lk,Dk]=np("Toast"),[fw,Z$]=qr("Toast",[Dk]),[$k,Ic]=fw(sp),hw=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${sp}\`. Expected non-empty \`string\`.`),i.jsx(op.Provider,{scope:t,children:i.jsx($k,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};hw.displayName=sp;var pw="ToastViewport",Fk=["F8"],hf="toast.viewportPause",pf="toast.viewportResume",mw=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Fk,label:s="Notifications ({hotkey})",...o}=e,a=Ic(pw,n),l=Lk(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Re(t,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=a.toastCount>0;p.useEffect(()=>{const w=x=>{var g;r.length!==0&&r.every(b=>x[b]||x.code===b)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),p.useEffect(()=>{const w=c.current,x=f.current;if(j&&w&&x){const y=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent(hf);x.dispatchEvent(k),a.isClosePausedRef.current=!0}},g=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(pf);x.dispatchEvent(k),a.isClosePausedRef.current=!1}},b=k=>{!w.contains(k.relatedTarget)&&g()},S=()=>{w.contains(document.activeElement)||g()};return w.addEventListener("focusin",y),w.addEventListener("focusout",b),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",g),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",b),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",g)}}},[j,a.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:w})=>{const y=l().map(g=>{const b=g.ref.current,S=[b,...Qk(b)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const w=f.current;if(w){const x=y=>{var S,k,E;const g=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!g){const _=document.activeElement,C=y.shiftKey;if(y.target===w&&C){(S=u.current)==null||S.focus();return}const O=v({tabbingDirection:C?"backwards":"forwards"}),F=O.findIndex(N=>N===_);Mu(O.slice(F+1))?y.preventDefault():C?(k=u.current)==null||k.focus():(E=d.current)==null||E.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[l,v]),i.jsxs(Nk,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&i.jsx(mf,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Mu(w)}}),i.jsx(op.Slot,{scope:n,children:i.jsx(de.ol,{tabIndex:-1,...o,ref:h})}),j&&i.jsx(mf,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Mu(w)}})]})});mw.displayName=pw;var gw="ToastFocusProxy",mf=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Ic(gw,n);return i.jsx(rp,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});mf.displayName=gw;var ca="Toast",Vk="toast.swipeStart",Uk="toast.swipeMove",Bk="toast.swipeCancel",zk="toast.swipeEnd",vw=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...a}=e,[l,c]=bs({prop:r,defaultProp:s??!0,onChange:o,caller:ca});return i.jsx(Do,{present:n||l,children:i.jsx(Hk,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:nn(e.onPause),onResume:nn(e.onResume),onSwipeStart:oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});vw.displayName=ca;var[Wk,qk]=fw(ca,{onClose(){}}),Hk=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...j}=e,v=Ic(ca,n),[w,x]=p.useState(null),y=Re(t,N=>x(N)),g=p.useRef(null),b=p.useRef(null),S=s||v.duration,k=p.useRef(0),E=p.useRef(S),_=p.useRef(0),{onToastAdd:C,onToastRemove:R}=v,I=nn(()=>{var D;(w==null?void 0:w.contains(document.activeElement))&&((D=v.viewport)==null||D.focus()),a()}),O=p.useCallback(N=>{!N||N===1/0||(window.clearTimeout(_.current),k.current=new Date().getTime(),_.current=window.setTimeout(I,N))},[I]);p.useEffect(()=>{const N=v.viewport;if(N){const D=()=>{O(E.current),u==null||u()},T=()=>{const L=new Date().getTime()-k.current;E.current=E.current-L,window.clearTimeout(_.current),c==null||c()};return N.addEventListener(hf,T),N.addEventListener(pf,D),()=>{N.removeEventListener(hf,T),N.removeEventListener(pf,D)}}},[v.viewport,S,c,u,O]),p.useEffect(()=>{o&&!v.isClosePausedRef.current&&O(S)},[o,S,v.isClosePausedRef,O]),p.useEffect(()=>(C(),()=>R()),[C,R]);const F=p.useMemo(()=>w?_w(w):null,[w]);return v.viewport?i.jsxs(i.Fragment,{children:[F&&i.jsx(Gk,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),i.jsx(Wk,{scope:n,onClose:I,children:Ps.createPortal(i.jsx(op.ItemSlot,{scope:n,children:i.jsx(Ek,{asChild:!0,onEscapeKeyDown:oe(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||I(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...j,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,N=>{N.key==="Escape"&&(l==null||l(N.nativeEvent),N.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:oe(e.onPointerDown,N=>{N.button===0&&(g.current={x:N.clientX,y:N.clientY})}),onPointerMove:oe(e.onPointerMove,N=>{if(!g.current)return;const D=N.clientX-g.current.x,T=N.clientY-g.current.y,L=!!b.current,A=["left","right"].includes(v.swipeDirection),P=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,V=A?P(0,D):0,M=A?0:P(0,T),W=N.pointerType==="touch"?10:2,Q={x:V,y:M},ie={originalEvent:N,delta:Q};L?(b.current=Q,Fa(Uk,f,ie,{discrete:!1})):Tg(Q,v.swipeDirection,W)?(b.current=Q,Fa(Vk,d,ie,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(D)>W||Math.abs(T)>W)&&(g.current=null)}),onPointerUp:oe(e.onPointerUp,N=>{const D=b.current,T=N.target;if(T.hasPointerCapture(N.pointerId)&&T.releasePointerCapture(N.pointerId),b.current=null,g.current=null,D){const L=N.currentTarget,A={originalEvent:N,delta:D};Tg(D,v.swipeDirection,v.swipeThreshold)?Fa(zk,m,A,{discrete:!0}):Fa(Bk,h,A,{discrete:!0}),L.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Gk=e=>{const{__scopeToast:t,children:n,...r}=e,s=Ic(ca,t),[o,a]=p.useState(!1),[l,c]=p.useState(!1);return Yk(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Oc,{asChild:!0,children:i.jsx(rp,{...r,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},Kk="ToastTitle",yw=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(de.div,{...r,ref:t})});yw.displayName=Kk;var Jk="ToastDescription",xw=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(de.div,{...r,ref:t})});xw.displayName=Jk;var ww="ToastAction",jw=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(Sw,{altText:n,asChild:!0,children:i.jsx(ip,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ww}\`. Expected non-empty \`string\`.`),null)});jw.displayName=ww;var bw="ToastClose",ip=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=qk(bw,n);return i.jsx(Sw,{asChild:!0,children:i.jsx(de.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,s.onClose)})})});ip.displayName=bw;var Sw=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function _w(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Xk(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(..._w(r))}}),t}function Fa(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?aw(s,o):s.dispatchEvent(o)}var Tg=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function Yk(e=()=>{}){const t=nn(e);lt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Xk(e){return e.nodeType===e.ELEMENT_NODE}function Qk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Zk=hw,Cw=mw,Ew=vw,Nw=yw,kw=xw,Tw=jw,Pw=ip;const Pg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ag=ew,Mc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ag(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=Pg(d)||Pg(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(j=>{let[v,w]=j;return Array.isArray(w)?w.includes({...o,...l}[v]):{...o,...l}[v]===w})?[...u,f,h]:u},[]);return Ag(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};var e2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const t2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:l,...c},u)=>p.createElement("svg",{ref:u,...e2,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:`lucide lucide-${t2(e)}`,...c},[...t.map(([d,f])=>p.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},Aw=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),n2=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Rg=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Rw=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),r2=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),s2=Z("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Og=Z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),o2=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ap=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),i2=Z("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Ow=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),a2=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),l2=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Iw=Z("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]),c2=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ss=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Mw=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),u2=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),lp=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ki=Z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),d2=Z("GalleryHorizontalEnd",[["path",{d:"M2 7v10",key:"a2pl2d"}],["path",{d:"M6 5v14",key:"1kq3d7"}],["rect",{width:"12",height:"18",x:"10",y:"3",rx:"2",key:"13i7bc"}]]),pl=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Lu=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),f2=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),h2=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),gf=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),p2=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),m2=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),g2=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Yl=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),v2=Z("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Rn=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Lc=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),y2=Z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),x2=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),wn=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Xl=Z("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),w2=Z("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),Ig=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Mg=Z("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),j2=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),vf=Z("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Ji=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),b2=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),yf=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),S2=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),_2=Z("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Yi=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Xi=Z("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),xf=Z("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Lg=Z("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),$o=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),C2=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Dc=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Dg=Z("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),ms=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),gs=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),E2=Z("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),wf=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),cp=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),N2=Zk,Lw=ae.forwardRef(({className:e,...t},n)=>i.jsx(Cw,{ref:n,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Lw.displayName=Cw.displayName;const k2=Mc("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Dw=ae.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(Ew,{ref:r,className:Se(k2({variant:t}),e),...n}));Dw.displayName=Ew.displayName;const T2=ae.forwardRef(({className:e,...t},n)=>i.jsx(Tw,{ref:n,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));T2.displayName=Tw.displayName;const $w=ae.forwardRef(({className:e,...t},n)=>i.jsx(Pw,{ref:n,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(cp,{className:"h-4 w-4"})}));$w.displayName=Pw.displayName;const Fw=ae.forwardRef(({className:e,...t},n)=>i.jsx(Nw,{ref:n,className:Se("text-sm font-semibold",e),...t}));Fw.displayName=Nw.displayName;const Vw=ae.forwardRef(({className:e,...t},n)=>i.jsx(kw,{ref:n,className:Se("text-sm opacity-90",e),...t}));Vw.displayName=kw.displayName;const P2=1;let Du=0;function A2(){return Du=(Du+1)%Number.MAX_VALUE,Du.toString()}const yt={state:{toasts:[]},listeners:[],getState:()=>yt.state,setState:e=>{typeof e=="function"?yt.state=e(yt.state):yt.state={...yt.state,...e},yt.listeners.forEach(t=>t(yt.state))},subscribe:e=>(yt.listeners.push(e),()=>{yt.listeners=yt.listeners.filter(t=>t!==e)})},R2=({...e})=>{const t=A2(),n=s=>yt.setState(o=>({...o,toasts:o.toasts.map(a=>a.id===t?{...a,...s}:a)})),r=()=>yt.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==t)}));return yt.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,P2)})),{id:t,dismiss:r,update:n}};function vt(){const[e,t]=p.useState(yt.getState());return p.useEffect(()=>yt.subscribe(r=>{t(r)}),[]),p.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:R2,toasts:e.toasts}}function O2(){const{toasts:e}=vt();return i.jsxs(N2,{children:[e.map(({id:t,title:n,description:r,action:s,dismiss:o,...a})=>i.jsxs(Dw,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(Fw,{children:n}),r&&i.jsx(Vw,{children:r})]}),s,i.jsx($w,{})]},t)),i.jsx(Lw,{})]})}const Uw=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$c=p.createContext({}),Fc=p.createContext(null),Vc=typeof document<"u",up=Vc?p.useLayoutEffect:p.useEffect,Bw=p.createContext({strict:!1}),dp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),I2="framerAppearId",zw="data-"+dp(I2);function M2(e,t,n,r){const{visualElement:s}=p.useContext($c),o=p.useContext(Bw),a=p.useContext(Fc),l=p.useContext(Uw).reducedMotion,c=p.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;p.useInsertionEffect(()=>{u&&u.update(n,a)});const d=p.useRef(!!(n[zw]&&!window.HandoffComplete));return up(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ro(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L2(e,t,n){return p.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ro(n)&&(n.current=r))},[t])}function Qi(e){return typeof e=="string"||Array.isArray(e)}function Uc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const fp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hp=["initial",...fp];function Bc(e){return Uc(e.animate)||hp.some(t=>Qi(e[t]))}function Ww(e){return!!(Bc(e)||e.variants)}function D2(e,t){if(Bc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Qi(n)?n:void 0,animate:Qi(r)?r:void 0}}return e.inherit!==!1?t:{}}function $2(e){const{initial:t,animate:n}=D2(e,p.useContext($c));return p.useMemo(()=>({initial:t,animate:n}),[$g(t),$g(n)])}function $g(e){return Array.isArray(e)?e.join(" "):e}const Fg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zi={};for(const e in Fg)Zi[e]={isEnabled:t=>Fg[e].some(n=>!!t[n])};function F2(e){for(const t in e)Zi[t]={...Zi[t],...e[t]}}const pp=p.createContext({}),qw=p.createContext({}),V2=Symbol.for("motionComponentSymbol");function U2({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&F2(e);function o(l,c){let u;const d={...p.useContext(Uw),...l,layoutId:B2(l)},{isStatic:f}=d,h=$2(l),m=r(l,f);if(!f&&Vc){h.visualElement=M2(s,m,d,t);const j=p.useContext(qw),v=p.useContext(Bw).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,v,e,j))}return p.createElement($c.Provider,{value:h},u&&h.visualElement?p.createElement(u,{visualElement:h.visualElement,...d}):null,n(s,l,L2(m,h.visualElement,c),m,f,h.visualElement))}const a=p.forwardRef(o);return a[V2]=s,a}function B2({layoutId:e}){const t=p.useContext(pp).id;return t&&e!==void 0?t+"-"+e:e}function z2(e){function t(r,s={}){return U2(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const W2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mp(e){return typeof e!="string"||e.includes("-")?!1:!!(W2.indexOf(e)>-1||/[A-Z]/.test(e))}const Ql={};function q2(e){Object.assign(Ql,e)}const ua=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rs=new Set(ua);function Hw(e,{layout:t,layoutId:n}){return Rs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ql[e]||e==="opacity")}const Mt=e=>!!(e&&e.getVelocity),H2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G2=ua.length;function K2(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let a=0;a<G2;a++){const l=ua[a];if(e[l]!==void 0){const c=H2[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const Gw=e=>t=>typeof t=="string"&&t.startsWith(e),Kw=Gw("--"),jf=Gw("var(--"),J2=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Y2=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Dr=(e,t,n)=>Math.min(Math.max(n,e),t),Os={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wi={...Os,transform:e=>Dr(0,1,e)},Va={...Os,default:1},ji=e=>Math.round(e*1e5)/1e5,zc=/(-)?([\d]*\.?[\d])+/g,Jw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,X2=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function da(e){return typeof e=="string"}const fa=e=>({test:t=>da(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),lr=fa("deg"),On=fa("%"),re=fa("px"),Q2=fa("vh"),Z2=fa("vw"),Vg={...On,parse:e=>On.parse(e)/100,transform:e=>On.transform(e*100)},Ug={...Os,transform:Math.round},Yw={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:lr,rotateX:lr,rotateY:lr,rotateZ:lr,scale:Va,scaleX:Va,scaleY:Va,scaleZ:Va,skew:lr,skewX:lr,skewY:lr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:wi,originX:Vg,originY:Vg,originZ:re,zIndex:Ug,fillOpacity:wi,strokeOpacity:wi,numOctaves:Ug};function gp(e,t,n,r){const{style:s,vars:o,transform:a,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(Kw(f)){o[f]=h;continue}const m=Yw[f],j=Y2(h,m);if(Rs.has(f)){if(c=!0,a[f]=j,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=j):s[f]=j}if(t.transform||(c||r?s.transform=K2(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${h} ${m}`}}const vp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xw(e,t,n){for(const r in t)!Mt(t[r])&&!Hw(r,n)&&(e[r]=t[r])}function eT({transformTemplate:e},t,n){return p.useMemo(()=>{const r=vp();return gp(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function tT(e,t,n){const r=e.style||{},s={};return Xw(s,r,e),Object.assign(s,eT(e,t,n)),e.transformValues?e.transformValues(s):s}function nT(e,t,n){const r={},s=tT(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const rT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rT.has(e)}let Qw=e=>!Zl(e);function sT(e){e&&(Qw=t=>t.startsWith("on")?!Zl(t):e(t))}try{sT(require("@emotion/is-prop-valid").default)}catch{}function oT(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Qw(s)||n===!0&&Zl(s)||!t&&!Zl(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Bg(e,t,n){return typeof e=="string"?e:re.transform(t+n*e)}function iT(e,t,n){const r=Bg(t,e.x,e.width),s=Bg(n,e.y,e.height);return`${r} ${s}`}const aT={offset:"stroke-dashoffset",array:"stroke-dasharray"},lT={offset:"strokeDashoffset",array:"strokeDasharray"};function cT(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?aT:lT;e[o.offset]=re.transform(-r);const a=re.transform(t),l=re.transform(n);e[o.array]=`${a} ${l}`}function yp(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(gp(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:j,dimensions:v}=e;m.transform&&(v&&(j.transform=m.transform),delete m.transform),v&&(s!==void 0||o!==void 0||j.transform)&&(j.transformOrigin=iT(v,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&cT(m,a,l,c,!1)}const Zw=()=>({...vp(),attrs:{}}),xp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uT(e,t,n,r){const s=p.useMemo(()=>{const o=Zw();return yp(o,t,{enableHardwareAcceleration:!1},xp(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Xw(o,e.style,e),s.style={...o,...s.style}}return s}function dT(e=!1){return(n,r,s,{latestValues:o},a)=>{const c=(mp(n)?uT:nT)(r,o,a,n),d={...oT(r,typeof n=="string",e),...c,ref:s},{children:f}=r,h=p.useMemo(()=>Mt(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function ej(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const tj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nj(e,t,n,r){ej(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(tj.has(s)?s:dp(s),t.attrs[s])}function wp(e,t){const{style:n}=e,r={};for(const s in n)(Mt(n[s])||t.style&&Mt(t.style[s])||Hw(s,e))&&(r[s]=n[s]);return r}function rj(e,t){const n=wp(e,t);for(const r in e)if(Mt(e[r])||Mt(t[r])){const s=ua.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function jp(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function sj(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const ec=e=>Array.isArray(e),fT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),hT=e=>ec(e)?e[e.length-1]||0:e;function ml(e){const t=Mt(e)?e.get():e;return fT(t)?t.toValue():t}function pT({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const a={latestValues:mT(r,s,o,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const oj=e=>(t,n)=>{const r=p.useContext($c),s=p.useContext(Fc),o=()=>pT(e,t,r,s);return n?o():sj(o)};function mT(e,t,n,r){const s={},o=r(e,{});for(const h in o)s[h]=ml(o[h]);let{initial:a,animate:l}=e;const c=Bc(e),u=Ww(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;return f&&typeof f!="boolean"&&!Uc(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const j=jp(e,m);if(!j)return;const{transitionEnd:v,transition:w,...x}=j;for(const y in x){let g=x[y];if(Array.isArray(g)){const b=d?g.length-1:0;g=g[b]}g!==null&&(s[y]=g)}for(const y in v)s[y]=v[y]}),s}const We=e=>e;class zg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function gT(e){let t=new zg,n=new zg,r=0,s=!1,o=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:n;return u&&a.add(c),h.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),a.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const Ua=["prepare","read","update","preRender","render","postRender"],vT=40;function yT(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Ua.reduce((f,h)=>(f[h]=gT(()=>n=!0),f),{}),a=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,vT),1),s.timestamp=f,s.isProcessing=!0,Ua.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:Ua.reduce((f,h)=>{const m=o[h];return f[h]=(j,v=!1,w=!1)=>(n||c(),m.schedule(j,v,w)),f},{}),cancel:f=>Ua.forEach(h=>o[h].cancel(f)),state:s,steps:o}}const{schedule:Ae,cancel:nr,state:ft,steps:$u}=yT(typeof requestAnimationFrame<"u"?requestAnimationFrame:We,!0),xT={useVisualState:oj({scrapeMotionValuesFromProps:rj,createRenderState:Zw,onMount:(e,t,{renderState:n,latestValues:r})=>{Ae.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ae.render(()=>{yp(n,r,{enableHardwareAcceleration:!1},xp(t.tagName),e.transformTemplate),nj(t,n)})}})},wT={useVisualState:oj({scrapeMotionValuesFromProps:wp,createRenderState:vp})};function jT(e,{forwardMotionProps:t=!1},n,r){return{...mp(e)?xT:wT,preloadedFeatures:n,useRender:dT(t),createVisualElement:r,Component:e}}function Kn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const ij=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Wc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const bT=e=>t=>ij(t)&&e(t,Wc(t));function Yn(e,t,n,r){return Kn(e,t,bT(n),r)}const ST=(e,t)=>n=>t(e(n)),Rr=(...e)=>e.reduce(ST);function aj(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Wg=aj("dragHorizontal"),qg=aj("dragVertical");function lj(e){let t=!1;if(e==="y")t=qg();else if(e==="x")t=Wg();else{const n=Wg(),r=qg();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function cj(){const e=lj(!0);return e?(e(),!1):!0}class Hr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Hg(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,a)=>{if(o.pointerType==="touch"||cj())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Ae.update(()=>l[r](o,a))};return Yn(e.current,n,s,{passive:!e.getProps()[r]})}class _T extends Hr{mount(){this.unmount=Rr(Hg(this.node,!0),Hg(this.node,!1))}unmount(){}}class CT extends Hr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rr(Kn(this.node.current,"focus",()=>this.onFocus()),Kn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const uj=(e,t)=>t?e===t?!0:uj(e,t.parentElement):!1;function Fu(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Wc(n))}class ET extends Hr{constructor(){super(...arguments),this.removeStartListeners=We,this.removeEndListeners=We,this.removeAccessibleListeners=We,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Yn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Ae.update(()=>{!f&&!uj(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=Yn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Rr(o,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Fu("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Ae.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Kn(this.node.current,"keyup",a),Fu("down",(l,c)=>{this.startPress(l,c)})},n=Kn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Fu("cancel",(o,a)=>this.cancelPress(o,a))},s=Kn(this.node.current,"blur",r);this.removeAccessibleListeners=Rr(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ae.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!cj()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ae.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Yn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Kn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Rr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const bf=new WeakMap,Vu=new WeakMap,NT=e=>{const t=bf.get(e.target);t&&t(e)},kT=e=>{e.forEach(NT)};function TT({root:e,...t}){const n=e||document;Vu.has(n)||Vu.set(n,{});const r=Vu.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(kT,{root:e,...t})),r[s]}function PT(e,t,n){const r=TT(t);return bf.set(e,n),r.observe(e),()=>{bf.delete(e),r.unobserve(e)}}const AT={some:0,all:1};class RT extends Hr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:AT[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return PT(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(OT(t,n))&&this.startObserver()}unmount(){}}function OT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const IT={inView:{Feature:RT},tap:{Feature:ET},focus:{Feature:CT},hover:{Feature:_T}};function dj(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function MT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function LT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function qc(e,t,n){const r=e.getProps();return jp(r,t,n!==void 0?n:r.custom,MT(e),LT(e))}let DT=We,bp=We;const Or=e=>e*1e3,Xn=e=>e/1e3,$T={current:!1},fj=e=>Array.isArray(e)&&typeof e[0]=="number";function hj(e){return!!(!e||typeof e=="string"&&pj[e]||fj(e)||Array.isArray(e)&&e.every(hj))}const li=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,pj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:li([0,.65,.55,1]),circOut:li([.55,0,1,.45]),backIn:li([.31,.01,.66,-.59]),backOut:li([.33,1.53,.69,.99])};function mj(e){if(e)return fj(e)?li(e):Array.isArray(e)?e.map(mj):pj[e]}function FT(e,t,n,{delay:r=0,duration:s,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=mj(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function VT(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const gj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,UT=1e-7,BT=12;function zT(e,t,n,r,s){let o,a,l=0;do a=t+(n-t)/2,o=gj(a,r,s)-e,o>0?n=a:t=a;while(Math.abs(o)>UT&&++l<BT);return a}function ha(e,t,n,r){if(e===t&&n===r)return We;const s=o=>zT(o,0,1,e,n);return o=>o===0||o===1?o:gj(s(o),t,r)}const WT=ha(.42,0,1,1),qT=ha(0,0,.58,1),vj=ha(.42,0,.58,1),HT=e=>Array.isArray(e)&&typeof e[0]!="number",yj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xj=e=>t=>1-e(1-t),Sp=e=>1-Math.sin(Math.acos(e)),wj=xj(Sp),GT=yj(Sp),jj=ha(.33,1.53,.69,.99),_p=xj(jj),KT=yj(_p),JT=e=>(e*=2)<1?.5*_p(e):.5*(2-Math.pow(2,-10*(e-1))),YT={linear:We,easeIn:WT,easeInOut:vj,easeOut:qT,circIn:Sp,circInOut:GT,circOut:wj,backIn:_p,backInOut:KT,backOut:jj,anticipate:JT},Gg=e=>{if(Array.isArray(e)){bp(e.length===4);const[t,n,r,s]=e;return ha(t,n,r,s)}else if(typeof e=="string")return YT[e];return e},Cp=(e,t)=>n=>!!(da(n)&&X2.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),bj=(e,t,n)=>r=>{if(!da(r))return r;const[s,o,a,l]=r.match(zc);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},XT=e=>Dr(0,255,e),Uu={...Os,transform:e=>Math.round(XT(e))},fs={test:Cp("rgb","red"),parse:bj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Uu.transform(e)+", "+Uu.transform(t)+", "+Uu.transform(n)+", "+ji(wi.transform(r))+")"};function QT(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Sf={test:Cp("#"),parse:QT,transform:fs.transform},so={test:Cp("hsl","hue"),parse:bj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+On.transform(ji(t))+", "+On.transform(ji(n))+", "+ji(wi.transform(r))+")"},xt={test:e=>fs.test(e)||Sf.test(e)||so.test(e),parse:e=>fs.test(e)?fs.parse(e):so.test(e)?so.parse(e):Sf.parse(e),transform:e=>da(e)?e:e.hasOwnProperty("red")?fs.transform(e):so.transform(e)},Ve=(e,t,n)=>-n*e+n*t+e;function Bu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ZT({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,a=0;if(!t)s=o=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Bu(c,l,e+1/3),o=Bu(c,l,e),a=Bu(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const zu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},eP=[Sf,fs,so],tP=e=>eP.find(t=>t.test(e));function Kg(e){const t=tP(e);let n=t.parse(e);return t===so&&(n=ZT(n)),n}const Sj=(e,t)=>{const n=Kg(e),r=Kg(t),s={...n};return o=>(s.red=zu(n.red,r.red,o),s.green=zu(n.green,r.green,o),s.blue=zu(n.blue,r.blue,o),s.alpha=Ve(n.alpha,r.alpha,o),fs.transform(s))};function nP(e){var t,n;return isNaN(e)&&da(e)&&(((t=e.match(zc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Jw))===null||n===void 0?void 0:n.length)||0)>0}const _j={regex:J2,countKey:"Vars",token:"${v}",parse:We},Cj={regex:Jw,countKey:"Colors",token:"${c}",parse:xt.parse},Ej={regex:zc,countKey:"Numbers",token:"${n}",parse:Os.parse};function Wu(e,{regex:t,countKey:n,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function tc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Wu(n,_j),Wu(n,Cj),Wu(n,Ej),n}function Nj(e){return tc(e).values}function kj(e){const{values:t,numColors:n,numVars:r,tokenised:s}=tc(e),o=t.length;return a=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(_j.token,a[c]):c<r+n?l=l.replace(Cj.token,xt.transform(a[c])):l=l.replace(Ej.token,ji(a[c]));return l}}const rP=e=>typeof e=="number"?0:e;function sP(e){const t=Nj(e);return kj(e)(t.map(rP))}const $r={test:nP,parse:Nj,createTransformer:kj,getAnimatableNone:sP},Tj=(e,t)=>n=>`${n>0?t:e}`;function Pj(e,t){return typeof e=="number"?n=>Ve(e,t,n):xt.test(e)?Sj(e,t):e.startsWith("var(")?Tj(e,t):Rj(e,t)}const Aj=(e,t)=>{const n=[...e],r=n.length,s=e.map((o,a)=>Pj(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}},oP=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Pj(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},Rj=(e,t)=>{const n=$r.createTransformer(t),r=tc(e),s=tc(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Rr(Aj(r.values,s.values),n):Tj(e,t)},ea=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Jg=(e,t)=>n=>Ve(e,t,n);function iP(e){return typeof e=="number"?Jg:typeof e=="string"?xt.test(e)?Sj:Rj:Array.isArray(e)?Aj:typeof e=="object"?oP:Jg}function aP(e,t,n){const r=[],s=n||iP(e[0]),o=e.length-1;for(let a=0;a<o;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||We:t;l=Rr(c,l)}r.push(l)}return r}function Oj(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(bp(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=aP(t,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=ea(e[d],e[d+1],u);return a[d](f)};return n?u=>c(Dr(e[0],e[o-1],u)):c}function lP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ea(0,t,r);e.push(Ve(n,1,s))}}function cP(e){const t=[0];return lP(t,e.length-1),t}function uP(e,t){return e.map(n=>n*t)}function dP(e,t){return e.map(()=>t||vj).splice(0,e.length-1)}function nc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=HT(r)?r.map(Gg):Gg(r),o={done:!1,value:t[0]},a=uP(n&&n.length===t.length?n:cP(t),e),l=Oj(a,t,{ease:Array.isArray(s)?s:dP(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function Ij(e,t){return t?e*(1e3/t):0}const fP=5;function Mj(e,t,n){const r=Math.max(t-fP,0);return Ij(n-e(r),t-r)}const qu=.001,hP=.01,Yg=10,pP=.05,mP=1;function gP({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o;DT(e<=Or(Yg));let a=1-t;a=Dr(pP,mP,a),e=Dr(hP,Yg,Xn(e)),a<1?(s=u=>{const d=u*a,f=d*e,h=d-n,m=_f(u,a),j=Math.exp(-f);return qu-h/m*j},o=u=>{const f=u*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,j=Math.exp(-f),v=_f(Math.pow(u,2),a);return(-s(u)+qu>0?-1:1)*((h-m)*j)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-qu+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=yP(s,o,l);if(e=Or(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const vP=12;function yP(e,t,n){let r=n;for(let s=1;s<vP;s++)r=r-e(r)/t(r);return r}function _f(e,t){return e*Math.sqrt(1-t*t)}const xP=["duration","bounce"],wP=["stiffness","damping","mass"];function Xg(e,t){return t.some(n=>e[n]!==void 0)}function jP(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Xg(e,wP)&&Xg(e,xP)){const n=gP(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Lj({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=jP({...r,velocity:-Xn(r.velocity||0)}),m=f||0,j=c/(2*Math.sqrt(l*u)),v=o-s,w=Xn(Math.sqrt(l/u)),x=Math.abs(v)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let y;if(j<1){const g=_f(w,j);y=b=>{const S=Math.exp(-j*w*b);return o-S*((m+j*w*v)/g*Math.sin(g*b)+v*Math.cos(g*b))}}else if(j===1)y=g=>o-Math.exp(-w*g)*(v+(m+w*v)*g);else{const g=w*Math.sqrt(j*j-1);y=b=>{const S=Math.exp(-j*w*b),k=Math.min(g*b,300);return o-S*((m+j*w*v)*Math.sinh(k)+g*v*Math.cosh(k))/g}}return{calculatedDuration:h&&d||null,next:g=>{const b=y(g);if(h)a.done=g>=d;else{let S=m;g!==0&&(j<1?S=Mj(y,g,b):S=0);const k=Math.abs(S)<=n,E=Math.abs(o-b)<=t;a.done=k&&E}return a.value=a.done?o:b,a}}}function Qg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=_=>l!==void 0&&_<l||c!==void 0&&_>c,j=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let v=n*t;const w=f+v,x=a===void 0?w:a(w);x!==w&&(v=x-f);const y=_=>-v*Math.exp(-_/r),g=_=>x+y(_),b=_=>{const C=y(_),R=g(_);h.done=Math.abs(C)<=u,h.value=h.done?x:R};let S,k;const E=_=>{m(h.value)&&(S=_,k=Lj({keyframes:[h.value,j(h.value)],velocity:Mj(g,_,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:_=>{let C=!1;return!k&&S===void 0&&(C=!0,b(_),E(_)),S!==void 0&&_>S?k.next(_-S):(!C&&b(_),h)}}}const bP=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ae.update(t,!0),stop:()=>nr(t),now:()=>ft.isProcessing?ft.timestamp:performance.now()}},Zg=2e4;function ev(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Zg;)t+=n,r=e.next(t);return t>=Zg?1/0:t}const SP={decay:Qg,inertia:Qg,tween:nc,keyframes:nc,spring:Lj};function rc({autoplay:e=!0,delay:t=0,driver:n=bP,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,j=!1,v,w;const x=()=>{w=new Promise(M=>{v=M})};x();let y;const g=SP[s]||nc;let b;g!==nc&&typeof r[0]!="number"&&(b=Oj([0,100],r,{clamp:!1}),r=[0,100]);const S=g({...h,keyframes:r});let k;l==="mirror"&&(k=g({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let E="idle",_=null,C=null,R=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=ev(S));const{calculatedDuration:I}=S;let O=1/0,F=1/0;I!==null&&(O=I+a,F=O*(o+1)-a);let N=0;const D=M=>{if(C===null)return;m>0&&(C=Math.min(C,M)),m<0&&(C=Math.min(M-F/m,C)),_!==null?N=_:N=Math.round(M-C)*m;const W=N-t*(m>=0?1:-1),Q=m>=0?W<0:W>F;N=Math.max(W,0),E==="finished"&&_===null&&(N=F);let ie=N,fe=S;if(o){const ke=Math.min(N,F)/O;let ge=Math.floor(ke),le=ke%1;!le&&ke>=1&&(le=1),le===1&&ge--,ge=Math.min(ge,o+1),!!(ge%2)&&(l==="reverse"?(le=1-le,a&&(le-=a/O)):l==="mirror"&&(fe=k)),ie=Dr(0,1,le)*O}const pe=Q?{done:!1,value:r[0]}:fe.next(ie);b&&(pe.value=b(pe.value));let{done:G}=pe;!Q&&I!==null&&(G=m>=0?N>=F:N<=0);const me=_===null&&(E==="finished"||E==="running"&&G);return f&&f(pe.value),me&&A(),pe},T=()=>{y&&y.stop(),y=void 0},L=()=>{E="idle",T(),v(),x(),C=R=null},A=()=>{E="finished",d&&d(),T(),v()},P=()=>{if(j)return;y||(y=n(D));const M=y.now();c&&c(),_!==null?C=M-_:(!C||E==="finished")&&(C=M),E==="finished"&&x(),R=C,_=null,E="running",y.start()};e&&P();const V={then(M,W){return w.then(M,W)},get time(){return Xn(N)},set time(M){M=Or(M),N=M,_!==null||!y||m===0?_=M:C=y.now()-M/m},get duration(){const M=S.calculatedDuration===null?ev(S):S.calculatedDuration;return Xn(M)},get speed(){return m},set speed(M){M===m||!y||(m=M,V.time=Xn(N))},get state(){return E},play:P,pause:()=>{E="paused",_=N},stop:()=>{j=!0,E!=="idle"&&(E="idle",u&&u(),L())},cancel:()=>{R!==null&&D(R),L()},complete:()=>{E="finished"},sample:M=>(C=0,D(M))};return V}function _P(e){let t;return()=>(t===void 0&&(t=e()),t)}const CP=_P(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),EP=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ba=10,NP=2e4,kP=(e,t)=>t.type==="spring"||e==="backgroundColor"||!hj(t.ease);function TP(e,t,{onUpdate:n,onComplete:r,...s}){if(!(CP()&&EP.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(g=>{l=g})};d();let{keyframes:f,duration:h=300,ease:m,times:j}=s;if(kP(t,s)){const g=rc({...s,repeat:0,delay:0});let b={done:!1,value:f[0]};const S=[];let k=0;for(;!b.done&&k<NP;)b=g.sample(k),S.push(b.value),k+=Ba;j=void 0,f=S,h=k-Ba,m="linear"}const v=FT(e.owner.current,t,f,{...s,duration:h,ease:m,times:j}),w=()=>{u=!1,v.cancel()},x=()=>{u=!0,Ae.update(w),l(),d()};return v.onfinish=()=>{u||(e.set(VT(f,s)),r&&r(),x())},{then(g,b){return c.then(g,b)},attachTimeline(g){return v.timeline=g,v.onfinish=null,We},get time(){return Xn(v.currentTime||0)},set time(g){v.currentTime=Or(g)},get speed(){return v.playbackRate},set speed(g){v.playbackRate=g},get duration(){return Xn(h)},play:()=>{a||(v.play(),nr(w))},pause:()=>v.pause(),stop:()=>{if(a=!0,v.playState==="idle")return;const{currentTime:g}=v;if(g){const b=rc({...s,autoplay:!1});e.setWithVelocity(b.sample(g-Ba).value,b.sample(g).value,Ba)}x()},complete:()=>{u||v.finish()},cancel:x}}function PP({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:We,pause:We,stop:We,then:o=>(o(),Promise.resolve()),cancel:We,complete:We});return t?rc({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const AP={type:"spring",stiffness:500,damping:25,restSpeed:10},RP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),OP={type:"keyframes",duration:.8},IP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MP=(e,{keyframes:t})=>t.length>2?OP:Rs.has(e)?e.startsWith("scale")?RP(t[1]):AP:IP,Cf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($r.test(t)||t==="0")&&!t.startsWith("url(")),LP=new Set(["brightness","contrast","saturate","opacity"]);function DP(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(zc)||[];if(!r)return e;const s=n.replace(r,"");let o=LP.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const $P=/([a-z-]*)\(.*?\)/g,Ef={...$r,getAnimatableNone:e=>{const t=e.match($P);return t?t.map(DP).join(" "):e}},FP={...Yw,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:Ef,WebkitFilter:Ef},Ep=e=>FP[e];function Dj(e,t){let n=Ep(e);return n!==Ef&&(n=$r),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $j=e=>/^0[^.\s]+$/.test(e);function VP(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||$j(e)}function UP(e,t,n,r){const s=Cf(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),VP(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=Dj(t,l)}return o}function BP({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Np(e,t){return e[t]||e.default||e}const zP={skipAnimations:!1},kp=(e,t,n,r={})=>s=>{const o=Np(r,e)||{},a=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Or(a);const c=UP(t,e,n,o),u=c[0],d=c[c.length-1],f=Cf(e,u),h=Cf(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:j=>{t.set(j),o.onUpdate&&o.onUpdate(j)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(BP(o)||(m={...m,...MP(e,m)}),m.duration&&(m.duration=Or(m.duration)),m.repeatDelay&&(m.repeatDelay=Or(m.repeatDelay)),!f||!h||$T.current||o.type===!1||zP.skipAnimations)return PP(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const j=TP(t,e,m);if(j)return j}return rc(m)};function sc(e){return!!(Mt(e)&&e.add)}const Fj=e=>/^\-?\d*\.?\d+$/.test(e);function Tp(e,t){e.indexOf(t)===-1&&e.push(t)}function Pp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ap{constructor(){this.subscriptions=[]}add(t){return Tp(this.subscriptions,t),()=>Pp(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const WP=e=>!isNaN(parseFloat(e));class qP{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:a}=ft;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,Ae.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ae.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=WP(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ap);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ij(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eo(e,t){return new qP(e,t)}const Vj=e=>t=>t.test(e),HP={test:e=>e==="auto",parse:e=>e},Uj=[Os,re,On,lr,Z2,Q2,HP],ti=e=>Uj.find(Vj(e)),GP=[...Uj,xt,$r],KP=e=>GP.find(Vj(e));function JP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Eo(n))}function YP(e,t){const n=qc(e,t);let{transitionEnd:r={},transition:s={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){const l=hT(o[a]);JP(e,a,l)}}function XP(e,t,n){var r,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(Fj(d)||$j(d))?d=parseFloat(d):!KP(d)&&$r.test(u)&&(d=Dj(c,u)),e.addValue(c,Eo(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function QP(e,t){return t?(t[e]||t.default||t).from:void 0}function ZP(e,t,n){const r={};for(const s in e){const o=QP(s,t);if(o!==void 0)r[s]=o;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function eA({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function tA(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Bj(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),m=l[f];if(!h||m===void 0||d&&eA(d,f))continue;const j={delay:n,elapsed:0,...Np(o||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[zw];if(x){const y=window.HandoffAppearAnimations(x,f,h,Ae);y!==null&&(j.elapsed=y,j.isHandoff=!0)}}let v=!j.isHandoff&&!tA(h,m);if(j.type==="spring"&&(h.getVelocity()||j.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(kp(f,h,m,e.shouldReduceMotion&&Rs.has(f)?{type:!1}:j));const w=h.animation;sc(c)&&(c.add(f),w.then(()=>c.remove(f))),u.push(w)}return a&&Promise.all(u).then(()=>{a&&YP(e,a)}),u}function Nf(e,t,n={}){const r=qc(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(Bj(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return nA(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function nA(e,t,n=0,r=0,s=1,o){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(rA).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(Nf(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function rA(e,t){return e.sortNodePosition(t)}function sA(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Nf(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=Nf(e,t,n);else{const s=typeof t=="function"?qc(e,t,n.custom):t;r=Promise.all(Bj(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const oA=[...fp].reverse(),iA=fp.length;function aA(e){return t=>Promise.all(t.map(({animation:n,options:r})=>sA(e,n,r)))}function lA(e){let t=aA(e);const n=uA();let r=!0;const s=(c,u)=>{const d=qc(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function o(c){t=c(e)}function a(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let j={},v=1/0;for(let x=0;x<iA;x++){const y=oA[x],g=n[y],b=d[y]!==void 0?d[y]:f[y],S=Qi(b),k=y===u?g.isActive:null;k===!1&&(v=x);let E=b===f[y]&&b!==d[y]&&S;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...j},!g.isActive&&k===null||!b&&!g.prevProp||Uc(b)||typeof b=="boolean")continue;let C=cA(g.prevProp,b)||y===u&&g.isActive&&!E&&S||x>v&&S,R=!1;const I=Array.isArray(b)?b:[b];let O=I.reduce(s,{});k===!1&&(O={});const{prevResolvedValues:F={}}=g,N={...F,...O},D=T=>{C=!0,m.has(T)&&(R=!0,m.delete(T)),g.needsAnimating[T]=!0};for(const T in N){const L=O[T],A=F[T];if(j.hasOwnProperty(T))continue;let P=!1;ec(L)&&ec(A)?P=!dj(L,A):P=L!==A,P?L!==void 0?D(T):m.add(T):L!==void 0&&m.has(T)?D(T):g.protectedKeys[T]=!0}g.prevProp=b,g.prevResolvedValues=O,g.isActive&&(j={...j,...O}),r&&e.blockInitialAnimation&&(C=!1),C&&(!E||R)&&h.push(...I.map(T=>({animation:T,options:{type:y,...c}})))}if(m.size){const x={};m.forEach(y=>{const g=e.getBaseTarget(y);g!==void 0&&(x[y]=g)}),h.push({animation:x})}let w=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var j;return(j=m.animationState)===null||j===void 0?void 0:j.setActive(c,u)}),n[c].isActive=u;const h=a(d,c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n}}function cA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dj(t,e):!1}function Qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uA(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}class dA extends Hr{constructor(t){super(t),t.animationState||(t.animationState=lA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Uc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fA=0;class hA extends Hr{constructor(){super(...arguments),this.id=fA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pA={animation:{Feature:dA},exit:{Feature:hA}},tv=(e,t)=>Math.abs(e-t);function mA(e,t){const n=tv(e.x,t.x),r=tv(e.y,t.y);return Math.sqrt(n**2+r**2)}class zj{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Gu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=mA(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:j}=f,{timestamp:v}=ft;this.history.push({...j,timestamp:v});const{onStart:w,onMove:x}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Hu(h,this.transformPagePoint),Ae.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:j,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Gu(f.type==="pointercancel"?this.lastMoveEventInfo:Hu(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,w),j&&j(f,w)},!ij(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Wc(t),l=Hu(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=ft;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Gu(l,this.history)),this.removeListeners=Rr(Yn(this.contextWindow,"pointermove",this.handlePointerMove),Yn(this.contextWindow,"pointerup",this.handlePointerUp),Yn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function Hu(e,t){return t?{point:t(e.point)}:e}function nv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gu({point:e},t){return{point:e,delta:nv(e,Wj(t)),offset:nv(e,gA(t)),velocity:vA(t,.1)}}function gA(e){return e[0]}function Wj(e){return e[e.length-1]}function vA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Wj(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Or(t)));)n--;if(!r)return{x:0,y:0};const o=Xn(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Wt(e){return e.max-e.min}function kf(e,t=0,n=.01){return Math.abs(e-t)<=n}function rv(e,t,n,r=.5){e.origin=r,e.originPoint=Ve(t.min,t.max,e.origin),e.scale=Wt(n)/Wt(t),(kf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ve(n.min,n.max,e.origin)-e.originPoint,(kf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function bi(e,t,n,r){rv(e.x,t.x,n.x,r?r.originX:void 0),rv(e.y,t.y,n.y,r?r.originY:void 0)}function sv(e,t,n){e.min=n.min+t.min,e.max=e.min+Wt(t)}function yA(e,t,n){sv(e.x,t.x,n.x),sv(e.y,t.y,n.y)}function ov(e,t,n){e.min=t.min-n.min,e.max=e.min+Wt(t)}function Si(e,t,n){ov(e.x,t.x,n.x),ov(e.y,t.y,n.y)}function xA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ve(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ve(n,e,r.max):Math.min(e,n)),e}function iv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wA(e,{top:t,left:n,bottom:r,right:s}){return{x:iv(e.x,n,s),y:iv(e.y,t,r)}}function av(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function jA(e,t){return{x:av(e.x,t.x),y:av(e.y,t.y)}}function bA(e,t){let n=.5;const r=Wt(e),s=Wt(t);return s>r?n=ea(t.min,t.max-r,e.min):r>s&&(n=ea(e.min,e.max-s,t.min)),Dr(0,1,n)}function SA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Tf=.35;function _A(e=Tf){return e===!1?e=0:e===!0&&(e=Tf),{x:lv(e,"left","right"),y:lv(e,"top","bottom")}}function lv(e,t,n){return{min:cv(e,t),max:cv(e,n)}}function cv(e,t){return typeof e=="number"?e:e[t]||0}const uv=()=>({translate:0,scale:1,origin:0,originPoint:0}),oo=()=>({x:uv(),y:uv()}),dv=()=>({min:0,max:0}),Ge=()=>({x:dv(),y:dv()});function Kt(e){return[e("x"),e("y")]}function qj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function CA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function EA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ku(e){return e===void 0||e===1}function Pf({scale:e,scaleX:t,scaleY:n}){return!Ku(e)||!Ku(t)||!Ku(n)}function ns(e){return Pf(e)||Hj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Hj(e){return fv(e.x)||fv(e.y)}function fv(e){return e&&e!=="0%"}function oc(e,t,n){const r=e-n,s=t*r;return n+s}function hv(e,t,n,r,s){return s!==void 0&&(e=oc(e,s,r)),oc(e,n,r)+t}function Af(e,t=0,n=1,r,s){e.min=hv(e.min,t,n,r,s),e.max=hv(e.max,t,n,r,s)}function Gj(e,{x:t,y:n}){Af(e.x,t.translate,t.scale,t.originPoint),Af(e.y,n.translate,n.scale,n.originPoint)}function NA(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,a;for(let l=0;l<s;l++){o=n[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&io(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Gj(e,a)),r&&ns(o.latestValues)&&io(e,o.latestValues))}t.x=pv(t.x),t.y=pv(t.y)}function pv(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function hr(e,t){e.min=e.min+t,e.max=e.max+t}function mv(e,t,[n,r,s]){const o=t[s]!==void 0?t[s]:.5,a=Ve(e.min,e.max,o);Af(e,t[n],t[r],a,t.scale)}const kA=["x","scaleX","originX"],TA=["y","scaleY","originY"];function io(e,t){mv(e.x,t,kA),mv(e.y,t,TA)}function Kj(e,t){return qj(EA(e.getBoundingClientRect(),t))}function PA(e,t,n){const r=Kj(e,n),{scroll:s}=t;return s&&(hr(r.x,s.offset.x),hr(r.y,s.offset.y)),r}const Jj=({current:e})=>e?e.ownerDocument.defaultView:null,AA=new WeakMap;class RA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wc(d,"page").point)},o=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:j}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=lj(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kt(w=>{let x=this.getAxisMotionValue(w).get()||0;if(On.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const g=y.layout.layoutBox[w];g&&(x=Wt(g)*(parseFloat(x)/100))}}this.originPoint[w]=x}),j&&Ae.update(()=>j(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:j,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=f;if(m&&this.currentDirection===null){this.currentDirection=OA(w),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Kt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new zj(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Jj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ae.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!za(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=xA(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&ro(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=wA(s.layoutBox,n):this.constraints=!1,this.elastic=_A(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Kt(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=SA(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ro(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=PA(r,s.root,this.visualElement.getTransformPagePoint());let a=jA(s.layout.layoutBox,o);if(n){const l=n(CA(a));this.hasMutatedConstraints=!!l,l&&(a=qj(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Kt(d=>{if(!za(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,j={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,j)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(kp(t,r,0,n))}stopAnimation(){Kt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kt(n=>{const{drag:r}=this.getProps();if(!za(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];o.set(t[n]-Ve(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ro(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Kt(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=bA({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kt(a=>{if(!za(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ve(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;AA.set(this.visualElement,this);const t=this.visualElement.current,n=Yn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ro(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Kn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Kt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=Tf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function za(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function OA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class IA extends Hr{constructor(t){super(t),this.removeGroupControls=We,this.removeListeners=We,this.controls=new RA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||We}unmount(){this.removeGroupControls(),this.removeListeners()}}const gv=e=>(t,n)=>{e&&Ae.update(()=>e(t,n))};class MA extends Hr{constructor(){super(...arguments),this.removePointerDownListener=We}onPointerDown(t){this.session=new zj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Jj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:gv(t),onStart:gv(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&Ae.update(()=>s(o,a))}}}mount(){this.removePointerDownListener=Yn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function LA(){const e=p.useContext(Fc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=p.useId();return p.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const gl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ni={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const n=vv(e,t.target.x),r=vv(e,t.target.y);return`${n}% ${r}%`}},DA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=$r.parse(e);if(s.length>5)return r;const o=$r.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=Ve(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),o(s)}};class $A extends ae.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;q2(FA),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),gl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Ae.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Yj(e){const[t,n]=LA(),r=p.useContext(pp);return ae.createElement($A,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(qw),isPresent:t,safeToRemove:n})}const FA={borderRadius:{...ni,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ni,borderTopRightRadius:ni,borderBottomLeftRadius:ni,borderBottomRightRadius:ni,boxShadow:DA},Xj=["TopLeft","TopRight","BottomLeft","BottomRight"],VA=Xj.length,yv=e=>typeof e=="string"?parseFloat(e):e,xv=e=>typeof e=="number"||re.test(e);function UA(e,t,n,r,s,o){s?(e.opacity=Ve(0,n.opacity!==void 0?n.opacity:1,BA(r)),e.opacityExit=Ve(t.opacity!==void 0?t.opacity:1,0,zA(r))):o&&(e.opacity=Ve(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<VA;a++){const l=`border${Xj[a]}Radius`;let c=wv(t,l),u=wv(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||xv(c)===xv(u)?(e[l]=Math.max(Ve(yv(c),yv(u),r),0),(On.test(u)||On.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ve(t.rotate||0,n.rotate||0,r))}function wv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BA=Qj(0,.5,wj),zA=Qj(.5,.95,We);function Qj(e,t,n){return r=>r<e?0:r>t?1:n(ea(e,t,r))}function jv(e,t){e.min=t.min,e.max=t.max}function Gt(e,t){jv(e.x,t.x),jv(e.y,t.y)}function bv(e,t,n,r,s){return e-=t,e=oc(e,1/n,r),s!==void 0&&(e=oc(e,1/s,r)),e}function WA(e,t=0,n=1,r=.5,s,o=e,a=e){if(On.test(t)&&(t=parseFloat(t),t=Ve(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ve(o.min,o.max,r);e===o&&(l-=t),e.min=bv(e.min,t,n,l,s),e.max=bv(e.max,t,n,l,s)}function Sv(e,t,[n,r,s],o,a){WA(e,t[n],t[r],t[s],t.scale,o,a)}const qA=["x","scaleX","originX"],HA=["y","scaleY","originY"];function _v(e,t,n,r){Sv(e.x,t,qA,n?n.x:void 0,r?r.x:void 0),Sv(e.y,t,HA,n?n.y:void 0,r?r.y:void 0)}function Cv(e){return e.translate===0&&e.scale===1}function Zj(e){return Cv(e.x)&&Cv(e.y)}function GA(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function e1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ev(e){return Wt(e.x)/Wt(e.y)}class KA{constructor(){this.members=[]}add(t){Tp(this.members,t),t.scheduleRender()}remove(t){if(Pp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nv(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const JA=(e,t)=>e.depth-t.depth;class YA{constructor(){this.children=[],this.isDirty=!1}add(t){Tp(this.children,t),this.isDirty=!0}remove(t){Pp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JA),this.isDirty=!1,this.children.forEach(t)}}function XA(e,t){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(nr(r),e(o-t))};return Ae.read(r,!0),()=>nr(r)}function QA(e){window.MotionDebug&&window.MotionDebug.record(e)}function ZA(e){return e instanceof SVGElement&&e.tagName!=="svg"}function eR(e,t,n){const r=Mt(e)?e:Eo(e);return r.start(kp("",r,t,n)),r.animation}const kv=["","X","Y","Z"],tR={visibility:"hidden"},Tv=1e3;let nR=0;const rs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function t1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=nR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rs.totalNodes=rs.resolvedTargetDeltas=rs.recalculatedProjection=0,this.nodes.forEach(oR),this.nodes.forEach(uR),this.nodes.forEach(dR),this.nodes.forEach(iR),QA(rs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YA)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Ap),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ZA(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=XA(h,250),gl.hasAnimatedSinceResize&&(gl.hasAnimatedSinceResize=!1,this.nodes.forEach(Av))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||gR,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!e1(this.targetLayout,j)||m,g=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const b={...Np(v,"layout"),onPlay:w,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||Av(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fR),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pv);return}this.isUpdating||this.nodes.forEach(lR),this.isUpdating=!1,this.nodes.forEach(cR),this.nodes.forEach(rR),this.nodes.forEach(sR),this.clearAllSnapshots();const l=performance.now();ft.delta=Dr(0,1e3/60,l-ft.timestamp),ft.timestamp=l,ft.isProcessing=!0,$u.update.process(ft),$u.preRender.process(ft),$u.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(aR),this.sharedNodes.forEach(hR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Zj(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||ns(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),vR(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ge();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(hr(l.x,c.offset.x),hr(l.y,c.offset.y)),l}removeElementScroll(a){const l=Ge();Gt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Gt(l,a);const{scroll:h}=this.root;h&&(hr(l.x,-h.offset.x),hr(l.y,-h.offset.y))}hr(l.x,d.offset.x),hr(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=Ge();Gt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&io(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ns(d.latestValues)&&io(c,d.latestValues)}return ns(this.latestValues)&&io(c,this.latestValues),c}removeTransform(a){const l=Ge();Gt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ns(u.latestValues))continue;Pf(u.latestValues)&&u.updateSnapshot();const d=Ge(),f=u.measurePageBox();Gt(d,f),_v(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ns(this.latestValues)&&_v(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),Si(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gt(this.target,this.layout.layoutBox),Gj(this.target,this.targetDelta)):Gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),Si(this.relativeTargetOrigin,this.target,m.target),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Pf(this.parent.latestValues)||Hj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Gt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;NA(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:j}=l;if(!j){this.projectionTransform&&(this.projectionDelta=oo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=oo(),this.projectionDeltaWithTransform=oo());const v=this.projectionTransform;bi(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=Nv(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),rs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ge(),m=c?c.source:void 0,j=this.layout?this.layout.source:void 0,v=m!==j,w=this.getStack(),x=!w||w.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(mR));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const S=b/1e3;Rv(f.x,a.x,S),Rv(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Si(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pR(this.relativeTarget,this.relativeTargetOrigin,h,S),g&&GA(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Ge()),Gt(g,this.relativeTarget)),v&&(this.animationValues=d,UA(d,u,this.latestValues,S,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ae.update(()=>{gl.hasAnimatedSinceResize=!0,this.currentAnimation=eR(0,Tv,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&n1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ge();const f=Wt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Wt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Gt(l,c),io(l,d),bi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new KA),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<kv.length;d++){const f="rotate"+kv[d];c[f]&&(u[f]=c[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tR;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ml(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ml(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Nv(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:j}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${j.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Ql){if(h[v]===void 0)continue;const{correct:w,applyTo:x}=Ql[v],y=u.transform==="none"?h[v]:w(h[v],f);if(x){const g=x.length;for(let b=0;b<g;b++)u[x[b]]=y}else u[v]=y}return this.options.layoutId&&(u.pointerEvents=f===this?ml(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Pv),this.root.sharedNodes.clear()}}}function rR(e){e.updateLayout()}function sR(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;o==="size"?Kt(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=Wt(h);h.min=r[f].min,h.max=h.min+m}):n1(o,n.layoutBox,r)&&Kt(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=Wt(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=oo();bi(l,r,n.layoutBox);const c=oo();a?bi(c,e.applyTransform(s,!0),n.measuredBox):bi(c,r,n.layoutBox);const u=!Zj(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const j=Ge();Si(j,n.layoutBox,h.layoutBox);const v=Ge();Si(v,r,m.layoutBox),e1(j,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=j,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function oR(e){rs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aR(e){e.clearSnapshot()}function Pv(e){e.clearMeasurements()}function lR(e){e.isLayoutDirty=!1}function cR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Av(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uR(e){e.resolveTargetDelta()}function dR(e){e.calcProjection()}function fR(e){e.resetRotation()}function hR(e){e.removeLeadSnapshot()}function Rv(e,t,n){e.translate=Ve(t.translate,0,n),e.scale=Ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ov(e,t,n,r){e.min=Ve(t.min,n.min,r),e.max=Ve(t.max,n.max,r)}function pR(e,t,n,r){Ov(e.x,t.x,n.x,r),Ov(e.y,t.y,n.y,r)}function mR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gR={duration:.45,ease:[.4,0,.1,1]},Iv=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Mv=Iv("applewebkit/")&&!Iv("chrome/")?Math.round:We;function Lv(e){e.min=Mv(e.min),e.max=Mv(e.max)}function vR(e){Lv(e.x),Lv(e.y)}function n1(e,t,n){return e==="position"||e==="preserve-aspect"&&!kf(Ev(t),Ev(n),.2)}const yR=t1({attachResizeListener:(e,t)=>Kn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ju={current:void 0},r1=t1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ju.current){const e=new yR({});e.mount(window),e.setOptions({layoutScroll:!0}),Ju.current=e}return Ju.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xR={pan:{Feature:MA},drag:{Feature:IA,ProjectionNode:r1,MeasureLayout:Yj}},wR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jR(e){const t=wR.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Rf(e,t,n=1){const[r,s]=jR(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return Fj(a)?parseFloat(a):a}else return jf(s)?Rf(s,t,n+1):s}function bR(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const o=s.get();if(!jf(o))return;const a=Rf(o,r);a&&s.set(a)});for(const s in t){const o=t[s];if(!jf(o))continue;const a=Rf(o,r);a&&(t[s]=a,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:t,transitionEnd:n}}const SR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),s1=e=>SR.has(e),_R=e=>Object.keys(e).some(s1),Dv=e=>e===Os||e===re,$v=(e,t)=>parseFloat(e.split(", ")[t]),Fv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return $v(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?$v(o[1],e):0}},CR=new Set(["x","y","z"]),ER=ua.filter(e=>!CR.has(e));function NR(e){const t=[];return ER.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const No={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Fv(4,13),y:Fv(5,14)};No.translateX=No.x;No.translateY=No.y;const kR=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:a}=o,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=No[u](r,o)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=No[u](c,o)}),e},TR=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(s1);let o=[],a=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=ti(d);const h=t[c];let m;if(ec(h)){const j=h.length,v=h[0]===null?1:0;d=h[v],f=ti(d);for(let w=v;w<j&&h[w]!==null;w++)m?bp(ti(h[w])===m):m=ti(h[w])}else m=ti(h);if(f!==m)if(Dv(f)&&Dv(m)){const j=u.get();typeof j=="string"&&u.set(parseFloat(j)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&m===re&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(h):(a||(o=NR(e),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=kR(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Vc&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function PR(e,t,n,r){return _R(t)?TR(e,t,n,r):{target:t,transitionEnd:r}}const AR=(e,t,n,r)=>{const s=bR(e,t,r);return t=s.target,r=s.transitionEnd,PR(e,t,n,r)},Of={current:null},o1={current:!1};function RR(){if(o1.current=!0,!!Vc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Of.current=e.matches;e.addListener(t),t()}else Of.current=!1}function OR(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],a=n[s];if(Mt(o))e.addValue(s,o),sc(r)&&r.add(s);else if(Mt(a))e.addValue(s,Eo(o,{owner:e})),sc(r)&&r.remove(s);else if(a!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,Eo(l!==void 0?l:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Vv=new WeakMap,i1=Object.keys(Zi),IR=i1.length,Uv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],MR=hp.length;class LR{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ae.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=Bc(n),this.isVariantNode=Ww(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&Mt(h)&&(h.set(l[f],!1),sc(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Vv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),o1.current||RR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Of.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vv.delete(this.current),this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Rs.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ae.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let a,l;for(let c=0;c<IR;c++){const u=i1[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Zi[u];h&&(a=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&ro(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Uv.length;r++){const s=Uv[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=OR(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<MR;r++){const s=hp[r],o=this.props[s];(Qi(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Eo(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=jp(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Mt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ap),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class a1 extends LR{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},o){let a=ZP(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),o){XP(this,r,a);const l=AR(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function DR(e){return window.getComputedStyle(e)}class $R extends a1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Rs.has(n)){const r=Ep(n);return r&&r.default||0}else{const r=DR(t),s=(Kw(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Kj(t,n)}build(t,n,r,s){gp(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return wp(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){ej(t,n,r,s)}}class FR extends a1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Rs.has(n)){const r=Ep(n);return r&&r.default||0}return n=tj.has(n)?n:dp(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ge()}scrapeMotionValuesFromProps(t,n){return rj(t,n)}build(t,n,r,s){yp(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){nj(t,n,r,s)}mount(t){this.isSVGTag=xp(t.tagName),super.mount(t)}}const VR=(e,t)=>mp(e)?new FR(t,{enableHardwareAcceleration:!1}):new $R(t,{enableHardwareAcceleration:!0}),UR={layout:{ProjectionNode:r1,MeasureLayout:Yj}},BR={...pA,...IT,...xR,...UR},Gr=z2((e,t)=>jT(e,t,BR,VR));function l1(){const e=p.useRef(!1);return up(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function zR(){const e=l1(),[t,n]=p.useState(0),r=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>Ae.postRender(r),[r]),t]}class WR extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qR({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),p.createElement(WR,{isPresent:t,childRef:r,sizeRef:s},p.cloneElement(e,{ref:r}))}const Yu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a})=>{const l=sj(HR),c=p.useId(),u=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return p.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=p.createElement(qR,{isPresent:n},e)),p.createElement(Fc.Provider,{value:u},e)};function HR(){return new Map}function GR(e){return p.useEffect(()=>()=>e(),[])}const ss=e=>e.key||"";function KR(e,t){e.forEach(n=>{const r=ss(n);t.set(r,n)})}function JR(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const YR=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=p.useContext(pp).forceRender||zR()[0],c=l1(),u=JR(e);let d=u;const f=p.useRef(new Map).current,h=p.useRef(d),m=p.useRef(new Map).current,j=p.useRef(!0);if(up(()=>{j.current=!1,KR(u,m),h.current=d}),GR(()=>{j.current=!0,m.clear(),f.clear()}),j.current)return p.createElement(p.Fragment,null,d.map(y=>p.createElement(Yu,{key:ss(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:a},y)));d=[...d];const v=h.current.map(ss),w=u.map(ss),x=v.length;for(let y=0;y<x;y++){const g=v[y];w.indexOf(g)===-1&&!f.has(g)&&f.set(g,void 0)}return a==="wait"&&f.size&&(d=[]),f.forEach((y,g)=>{if(w.indexOf(g)!==-1)return;const b=m.get(g);if(!b)return;const S=v.indexOf(g);let k=y;if(!k){const E=()=>{f.delete(g);const _=Array.from(m.keys()).filter(C=>!w.includes(C));if(_.forEach(C=>m.delete(C)),h.current=u.filter(C=>{const R=ss(C);return R===g||_.includes(R)}),!f.size){if(c.current===!1)return;l(),r&&r()}};k=p.createElement(Yu,{key:ss(b),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:o,mode:a},b),f.set(g,k)}d.splice(S,0,k)}),d=d.map(y=>{const g=y.key;return f.has(g)?y:p.createElement(Yu,{key:ss(y),isPresent:!0,presenceAffectsLayout:o,mode:a},y)}),p.createElement(p.Fragment,null,f.size?d:d.map(y=>p.cloneElement(y)))},XR=Mc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=ae.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const a=r?fk:"button";return i.jsx(a,{className:Se(XR({variant:t,size:n,className:e})),ref:o,...s})});$.displayName="Button";const H=ae.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));H.displayName="Input";var QR="Label",c1=p.forwardRef((e,t)=>i.jsx(de.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));c1.displayName=QR;var u1=c1;const ZR=Mc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=ae.forwardRef(({className:e,...t},n)=>i.jsx(u1,{ref:n,className:Se(ZR(),e),...t}));z.displayName=u1.displayName;const ee=ae.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ee.displayName="Card";const je=ae.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));je.displayName="CardHeader";const be=ae.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));be.displayName="CardTitle";const d1=ae.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:Se("text-sm text-muted-foreground",e),...t}));d1.displayName="CardDescription";const ne=ae.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("p-6 pt-0",e),...t}));ne.displayName="CardContent";const eO=ae.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Se("flex items-center p-6 pt-0",e),...t}));eO.displayName="CardFooter";const tO="modulepreload",nO=function(e){return"/"+e},Bv={},pa=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=nO(o),o in Bv)return;Bv[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":tO,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})},rO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pa(()=>Promise.resolve().then(()=>Fo),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Rp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class sO extends Rp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zv extends Rp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Wv extends Rp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var If;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(If||(If={}));var oO=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class iO{constructor(t,{headers:n={},customFetch:r,region:s=If.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=rO(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return oO(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new sO(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new zv(f);if(!f.ok)throw new Wv(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),j;return m==="application/json"?j=yield f.json():m==="application/octet-stream"?j=yield f.blob():m==="text/event-stream"?j=f:m==="multipart/form-data"?j=yield f.formData():j=yield f.text(),{data:j,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Wv||s instanceof zv?s.context:void 0}}})}}var Tt={},Op={},Hc={},ma={},Gc={},Kc={},aO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ko=aO();const lO=ko.fetch,f1=ko.fetch.bind(ko),h1=ko.Headers,cO=ko.Request,uO=ko.Response,Fo=Object.freeze(Object.defineProperty({__proto__:null,Headers:h1,Request:cO,Response:uO,default:f1,fetch:lO},Symbol.toStringTag,{value:"Module"})),dO=o_(Fo);var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});let fO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Jc.default=fO;var p1=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kc,"__esModule",{value:!0});const hO=p1(dO),pO=p1(Jc);let mO=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c,u;let d=null,f=null,h=null,m=o.status,j=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,j="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await o.text();try{d=JSON.parse(w),Array.isArray(d)&&o.status===404&&(f=[],d=null,m=200,j="OK")}catch{o.status===404&&w===""?(m=204,j="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,j="OK"),d&&this.shouldThrowOnError)throw new pO.default(d)}return{error:d,data:f,count:h,status:m,statusText:j}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Kc.default=mO;var gO=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gc,"__esModule",{value:!0});const vO=gO(Kc);let yO=class extends vO.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Gc.default=yO;var xO=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ma,"__esModule",{value:!0});const wO=xO(Gc);let jO=class extends wO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ma.default=jO;var bO=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hc,"__esModule",{value:!0});const ri=bO(ma);let SO=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new ri.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ri.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ri.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ri.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ri.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Hc.default=SO;var m1=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Op,"__esModule",{value:!0});const _O=m1(Hc),CO=m1(ma);let EO=class g1{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new _O.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new g1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new CO.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Op.default=EO;var Vo=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const v1=Vo(Op);Tt.PostgrestClient=v1.default;const y1=Vo(Hc);Tt.PostgrestQueryBuilder=y1.default;const x1=Vo(ma);Tt.PostgrestFilterBuilder=x1.default;const w1=Vo(Gc);Tt.PostgrestTransformBuilder=w1.default;const j1=Vo(Kc);Tt.PostgrestBuilder=j1.default;const b1=Vo(Jc);Tt.PostgrestError=b1.default;var NO=Tt.default={PostgrestClient:v1.default,PostgrestQueryBuilder:y1.default,PostgrestFilterBuilder:x1.default,PostgrestTransformBuilder:w1.default,PostgrestBuilder:j1.default,PostgrestError:b1.default};const{PostgrestClient:kO,PostgrestQueryBuilder:iF,PostgrestFilterBuilder:aF,PostgrestTransformBuilder:lF,PostgrestBuilder:cF,PostgrestError:uF}=NO;function TO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const PO=TO(),AO="2.12.2",RO=`realtime-js/${AO}`,OO="1.0.0",S1=1e4,IO=1e3;var _i;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_i||(_i={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var fn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fn||(fn={}));var Mf;(function(e){e.websocket="websocket"})(Mf||(Mf={}));var is;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(is||(is={}));class MO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class _1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Te||(Te={}));const qv=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,a)=>(o[a]=LO(a,e,t,s),o),{})},LO=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?C1(o,a):Lf(a)},C1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return VO(t,n)}switch(e){case Te.bool:return DO(t);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return $O(t);case Te.json:case Te.jsonb:return FO(t);case Te.timestamp:return UO(t);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Lf(t);default:return Lf(t)}},Lf=e=>e,DO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$O=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},FO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},VO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>C1(t,l))}return e},UO=e=>typeof e=="string"?e.replace(" ","T"):e,E1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Xu{constructor(t,n,r={},s=S1){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hv||(Hv={}));class Ci{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ci.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=Ci.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ci.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),j=d.filter(w=>m.indexOf(w.presence_ref)<0),v=f.filter(w=>h.indexOf(w.presence_ref)<0);j.length>0&&(l[u]=j),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gv||(Gv={}));var ic;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ic||(ic={}));var zn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zn||(zn={}));class Ip{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xu(this,fn.join,this.params,this.timeout),this.rejoinTimer=new _1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ci(this),this.broadcastEndpointURL=E1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[ic.PRESENCE],d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(zn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(zn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(zn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,v=(m=j==null?void 0:j.length)!==null&&m!==void 0?m:0,w=[];for(let x=0;x<v;x++){const y=j[x],{filter:{event:g,schema:b,table:S,filter:k}}=y,E=h&&h[x];if(E&&E.event===g&&E.schema===b&&E.table===S&&E.filter===k)w.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(zn.SUBSCRIBED);return}}).receive("error",h=>{this.state=rt.errored,t==null||t(zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===rt.joined&&t===ic.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Xu(this,fn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xu(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=fn;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var j,v,w;return((j=m.filter)===null||j===void 0?void 0:j.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var j,v,w,x,y,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const b=m.id,S=(j=m.filter)===null||j===void 0?void 0:j.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const j=h.data,{schema:v,table:w,commit_timestamp:x,type:y,errors:g}=j;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:x,eventType:y,new:{},old:{},errors:g}),this._getPayloadRecords(j))}m.callback(h,r)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Ip.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fn.close,{},t)}_onError(t){this._on(fn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=qv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=qv(t.columns,t.old_record)),n}}const Kv=()=>{},BO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zO{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=S1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kv,this.ref=0,this.logger=Kv,this.conn=null,this.sendBuffer=[],this.serializer=new MO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>pa(()=>Promise.resolve().then(()=>Fo),void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Mf.websocket}`,this.httpEndpoint=E1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,a)=>a(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(setTimeout(()=>{this.setAuth().catch(t=>{this.log("error","error setting auth",t)})},0),!this.conn){if(this.transport||(this.transport=PO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _i.connecting:return is.Connecting;case _i.open:return is.Open;case _i.closing:return is.Closing;default:return is.Closed}}isConnected(){return this.connectionState()===is.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Ip(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:RO};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(fn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(IO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(fn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([BO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Mp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WO extends Mp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Df extends Mp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var qO=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const N1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pa(()=>Promise.resolve().then(()=>Fo),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},HO=()=>qO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pa(()=>Promise.resolve().then(()=>Fo),void 0)).Response:Response}),$f=e=>{if(Array.isArray(e))return e.map(n=>$f(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=$f(r)}),t},GO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Is=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Qu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KO=(e,t,n)=>Is(void 0,void 0,void 0,function*(){const r=yield HO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new WO(Qu(s),o,a))}).catch(s=>{t(new Df(Qu(s),s))}):t(new Df(Qu(e),e))}),JO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(GO(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function ga(e,t,n,r,s,o){return Is(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,JO(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>KO(c,l,r))})})}function ac(e,t,n,r){return Is(this,void 0,void 0,function*(){return ga(e,"GET",t,n,r)})}function Wn(e,t,n,r,s){return Is(this,void 0,void 0,function*(){return ga(e,"POST",t,r,s,n)})}function Ff(e,t,n,r,s){return Is(this,void 0,void 0,function*(){return ga(e,"PUT",t,r,s,n)})}function YO(e,t,n,r){return Is(this,void 0,void 0,function*(){return ga(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function k1(e,t,n,r,s){return Is(this,void 0,void 0,function*(){return ga(e,"DELETE",t,r,s,n)})}var Nt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const XO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QO{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=N1(s)}uploadOrUpdate(t,n,r,s){return Nt(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Jv),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Ff:Wn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Nt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Jv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Ff(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Nt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Wn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new Mp("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}update(t,n,r){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Nt(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Nt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Wn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Nt(this,void 0,void 0,function*(){try{const s=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}download(t,n){return Nt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ac(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}info(t){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ac(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$f(r),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}exists(t){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield YO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ze(r)&&r instanceof Df){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Nt(this,void 0,void 0,function*(){try{return{data:yield k1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}list(t,n,r){return Nt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},XO),n),{prefix:t||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ZO="2.10.2",eI={"X-Client-Info":`storage-js/${ZO}`};var Ls=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class tI{constructor(t,n={},r,s){const o=new URL(t);if(s!=null&&s.useNewHostname){const a=/supabase\.(co|in|red)$/.test(o.hostname),l="/storage";a&&!o.hostname.includes("storage.supabase.")&&o.pathname.startsWith(l)&&(o.pathname=o.pathname.substring(l.length),o.hostname=o.hostname.replace("supabase.","storage.supabase."))}this.url=o.href,this.headers=Object.assign(Object.assign({},eI),n),this.fetch=N1(r)}listBuckets(){return Ls(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ze(t))return{data:null,error:t};throw t}})}getBucket(t){return Ls(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ls(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ls(this,void 0,void 0,function*(){try{return{data:yield Ff(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ls(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ls(this,void 0,void 0,function*(){try{return{data:yield k1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}}class nI extends tI{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new QO(this.url,this.headers,t,this.fetch)}}const rI="2.39.0";let ci="";typeof Deno<"u"?ci="deno":typeof document<"u"?ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ci="react-native":ci="node";const sI={"X-Client-Info":`supabase-js-${ci}/${rI}`};var oI=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const iI=e=>{let t;return e?t=e:typeof fetch>"u"?t=f1:t=fetch,(...n)=>t(...n)},aI=()=>typeof Headers>"u"?h1:Headers,lI=(e,t,n)=>{const r=iI(n),s=aI();return(o,a)=>oI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:u}))})};function cI(e){return e.replace(/\/$/,"")}function uI(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:a,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o)}}const T1="2.70.0",Ws=30*1e3,Vf=3,Zu=Vf*Ws,dI="http://localhost:9999",fI="supabase.auth.token",hI={"X-Client-Info":`gotrue-js/${T1}`},Uf="X-Supabase-Api-Version",P1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mI=6e5;class Lp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gI extends Lp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vI(e){return ce(e)&&e.name==="AuthApiError"}class A1 extends Lp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Kr extends Lp{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class cr extends Kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yI(e){return ce(e)&&e.name==="AuthSessionMissingError"}class Wa extends Kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qa extends Kr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ha extends Kr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xI(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yv extends Kr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bf extends Kr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ed(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class Xv extends Kr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ei extends Kr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qv=` 	
\r=`.split(""),wI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Qv.length;t+=1)e[Qv[t].charCodeAt(0)]=-2;for(let t=0;t<lc.length;t+=1)e[lc[t].charCodeAt(0)]=t;return e})();function Zv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(lc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(lc[r]),t.queuedBits-=6}}function R1(e,t,n){const r=wI[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ey(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{SI(a,r,n)};for(let a=0;a<e.length;a+=1)R1(e.charCodeAt(a),s,o);return t.join("")}function jI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}jI(r,t)}}function SI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function _I(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)R1(e.charCodeAt(s),n,r);return new Uint8Array(t)}function CI(e){const t=[];return bI(e,n=>t.push(n)),new Uint8Array(t)}function EI(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Zv(s,n,r)),Zv(null,n,r),t.join("")}function NI(e){return Math.round(Date.now()/1e3)+e}function kI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const an=()=>typeof window<"u"&&typeof document<"u",Zr={tested:!1,writable:!1},Ni=()=>{if(!an())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zr.tested)return Zr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zr.tested=!0,Zr.writable=!0}catch{Zr.tested=!0,Zr.writable=!1}return Zr.writable};function TI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const O1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pa(()=>Promise.resolve().then(()=>Fo),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},PI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",I1=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ga=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ka=async(e,t)=>{await e.removeItem(t)};class Yc{constructor(){this.promise=new Yc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Yc.promiseConstructor=Promise;function td(e){const t=e.split(".");if(t.length!==3)throw new Ei("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!pI.test(t[r]))throw new Ei("JWT not in base64url format");return{header:JSON.parse(ey(t[0])),payload:JSON.parse(ey(t[1])),signature:_I(t[2]),raw:{header:t[0],payload:t[1]}}}async function AI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function RI(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function OI(e){return("0"+e.toString(16)).substr(-2)}function II(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,OI).join("")}async function MI(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function LI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await MI(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(e,t,n=!1){const r=II();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await I1(e,`${t}-code-verifier`,s);const o=await LI(r);return[o,r===o?"plain":"s256"]}const DI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $I(e){const t=e.headers.get(Uf);if(!t||!t.match(DI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function VI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(e){if(!UI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var BI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zI=[502,503,504];async function ty(e){var t;if(!PI(e))throw new Bf(os(e),0);if(zI.includes(e.status))throw new Bf(os(e),e.status);let n;try{n=await e.json()}catch(o){throw new A1(os(o),o)}let r;const s=$I(e);if(s&&s.getTime()>=P1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xv(os(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new cr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Xv(os(n),e.status,n.weak_password.reasons);throw new gI(os(n),e.status||500,r)}const WI=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ve(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Uf]||(o[Uf]=P1["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await qI(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function qI(e,t,n,r,s,o){const a=WI(t,r,s,o);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Bf(os(c),0)}if(l.ok||await ty(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await ty(c)}}function Un(e){var t;let n=null;JI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=NI(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ny(e){const t=Un(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function HI(e){return{data:e,error:null}}function GI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=BI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function KI(e){return e}function JI(e){return e.access_token&&e.refresh_token&&e.expires_in}const nd=["global","local","others"];var YI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class XI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=O1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=nd[0]){if(nd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nd.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=YI(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:GI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:KI});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(j=>{const v=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(j.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){$s(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){$s(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:gr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){$s(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:gr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){$s(t.userId);try{const{data:n,error:r}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){$s(t.userId),$s(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}const QI={getItem:e=>Ni()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ni()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ni()&&globalThis.localStorage.removeItem(e)}};function ry(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function ZI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fs={debug:!!(globalThis&&Ni()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class M1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eM extends M1{}async function tM(e,t,n){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ZI();const nM={url:dI,storageKey:fI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sy(e,t,n){return await n()}class ta{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ta.nextInstanceID,ta.nextInstanceID+=1,this.instanceID>0&&an()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},nM),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new XI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=O1(s.fetch),this.lock=s.lock||sy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:an()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=tM:this.lock=sy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ni()?this.storage=QI:(this.memoryStorage={},this.storage=ry(this.memoryStorage)):(this.memoryStorage={},this.storage=ry(this.memoryStorage)),an()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${T1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=TI(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),an()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),xI(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?{error:n}:{error:new A1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Un}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,j=null;this.flowType==="pkce"&&([m,j]=await Ds(this.storage,this.storageKey)),o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:j},xform:Un})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Un})}else throw new qa("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:l}=t;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ny})}else if("phone"in t){const{phone:o,password:a,options:l}=t;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ny})}else throw new qa("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,a,l,c,u,d,f,h,m;let j,v;if("message"in t)j=t.message,v=t.signature;else{const{chain:w,wallet:x,statement:y,options:g}=t;let b;if(an())if(typeof x=="object")b=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const S=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)j=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(j),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:w,error:x}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:EI(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Un});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Wa}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(ce(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Ga(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Un});if(await Ka(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Wa}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(ce(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,l=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Un}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Wa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ds(this.storage,this.storageKey));const{error:f}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new qa("You must provide either an email or phone number.")}catch(l){if(ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Un});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Ds(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:HI})}catch(o){if(ce(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new cr;const{error:s}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:l}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new qa("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Zu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gr}):await this._useSession(async n=>{var r,s,o;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:gr})})}catch(n){if(ce(n))return yI(n)&&(await this._removeSession(),await Ka(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new cr;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ds(this.storage,this.storageKey));const{data:u,error:d}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:gr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=td(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new cr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!an())throw new Ha("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ha(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ha("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yv("No code detected.");const{data:y,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new Ha("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const j=h-f;d-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,h,d):d-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,h,d);const{data:v,error:w}=await this._getUser(o);if(w)throw w;const x={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(ce(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ga(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(vI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ka(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=kI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ds(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ce(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return an()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ce(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await RI(async s=>(s>0&&await AI(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Un})),(s,o)=>{const a=200*Math.pow(2,s);return o&&ed(o)&&Date.now()+a-r<Ws})}catch(r){if(this._debug(n,"error",r),ce(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),an()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ga(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Zu;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Zu}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ed(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yc;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new cr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ce(o)){const a={session:null,error:o};return ed(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await I1(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ka(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&an()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ws);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ws}ms, refresh threshold is ${Vf} ticks`),s<=Vf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof M1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!an()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ds(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:l}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=td(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r||(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+mI>Date.now()))return r;const{data:s,error:o}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Ei("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===t),!r)throw new Ei("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:j}=await this.getSession();if(j||!m.session)return{data:null,error:j};r=m.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=td(r);if(FI(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:a},error:null}}const u=VI(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,CI(`${l}.${c}`)))throw new Ei("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}ta.nextInstanceID=0;class rM extends ta{constructor(t){super(t)}}var sM=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const oM={headers:sI},iM={schema:"public"},aM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lM={};class cM{constructor(t,n,r){var s,o,a,l,c,u,d,f;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=cI(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const m=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,j={db:iM,realtime:lM,auth:Object.assign(Object.assign({},aM),{storageKey:m}),global:oM},v=uI(r??{},j);this.storageKey=(o=(s=v.auth)===null||s===void 0?void 0:s.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=(a=v.global)===null||a===void 0?void 0:a.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,(u=v.global)===null||u===void 0?void 0:u.fetch),this.fetch=lI(n,this._getAccessToken.bind(this),(d=v.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new kO(`${h}/rest/v1`,{headers:this.headers,schema:(f=v.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new iO(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nI(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return sM(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rM({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,debug:l,fetch:u})}_initRealtimeClient(t){return new zO(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uM=(e,t,n)=>new cM(e,t,n),dM="https://ovpfcyqudltassvckvxk.supabase.co",fM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im92cGZjeXF1ZGx0YXNzdmNrdnhrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNzc0NTMsImV4cCI6MjA2NTg1MzQ1M30.0VVPA3XWy0nk5BQFa9e2KlFxqoMhU7MVkbBXq_q8XrM",te=uM(dM,fM),ot={ADMIN:"admin",MANAGER:"manager",CASHIER:"cashier",STOCK:"stock",SALESPERSON:"salesperson",NONE:"none"},K={MANAGE_USERS:"manage_users",MANAGE_PRODUCTS:"manage_products",MANAGE_CATEGORIES:"manage_categories",MANAGE_STOCK:"manage_stock",MANAGE_SALES:"manage_sales",MANAGE_REPORTS:"manage_reports",VIEW_REPORTS:"view_reports",PROCESS_SALES:"process_sales",CASH_REGISTER_MANAGEMENT:"cash_register_management",MANAGE_CUSTOMERS:"manage_customers",MANAGE_FISCAL_DOCUMENTS:"manage_fiscal_documents",VIEW_ALL_STORES_DATA:"view_all_stores_data",SHARE_STOCK:"share_stock",APPLY_DISCOUNTS:"apply_discounts",CANCEL_SALES:"cancel_sales"},vl={admin:[K.MANAGE_USERS,K.MANAGE_PRODUCTS,K.MANAGE_CATEGORIES,K.MANAGE_STOCK,K.MANAGE_SALES,K.MANAGE_REPORTS,K.VIEW_REPORTS,K.PROCESS_SALES,K.CASH_REGISTER_MANAGEMENT,K.MANAGE_CUSTOMERS,K.MANAGE_FISCAL_DOCUMENTS,K.VIEW_ALL_STORES_DATA,K.SHARE_STOCK,K.APPLY_DISCOUNTS,K.CANCEL_SALES],manager:[K.MANAGE_PRODUCTS,K.MANAGE_CATEGORIES,K.MANAGE_STOCK,K.MANAGE_SALES,K.MANAGE_REPORTS,K.VIEW_REPORTS,K.PROCESS_SALES,K.CASH_REGISTER_MANAGEMENT,K.MANAGE_CUSTOMERS,K.MANAGE_FISCAL_DOCUMENTS,K.SHARE_STOCK,K.APPLY_DISCOUNTS,K.CANCEL_SALES],cashier:[K.PROCESS_SALES,K.CASH_REGISTER_MANAGEMENT,K.MANAGE_CUSTOMERS],stock:[K.MANAGE_STOCK,K.MANAGE_PRODUCTS,K.MANAGE_CATEGORIES,K.SHARE_STOCK],salesperson:[K.PROCESS_SALES],none:[]},It=(e,t)=>{var n;return((n=vl[e])==null?void 0:n.includes(t))||!1},Je=()=>{const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null},oy=e=>{localStorage.setItem("currentUser",JSON.stringify(e))},zf=()=>{localStorage.removeItem("currentUser")},L1=async()=>{try{console.log("🔄 Buscando usuários...");const e=await fetch("/api/usuarios",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Erro ao buscar usuários");const t=await e.json();console.log("👥 Usuários do backend:",t.users.length);const{data:n,error:r}=await te.from("user_roles").select("*");if(r)return console.error("Erro ao buscar roles:",r),[];console.log("🏪 Roles encontradas:",n.length),console.log("🏪 Detalhes das roles:",n);const{data:s,error:o}=await te.from("stores").select("*");if(o)return console.error("Erro ao buscar stores:",o),[];console.log("🏪 Stores encontradas:",s.length);const a={};return s.forEach(c=>{a[c.id]=c}),t.users.map(c=>{var h,m,j;console.log("🔍 Processando usuário:",c.id,"Nome:",((h=c.user_metadata)==null?void 0:h.name)||c.email.split("@")[0]);const u=n.find(v=>v.user_id===c.id);console.log("🔍 Role encontrada para usuário:",c.id,":",u);const d=u!=null&&u.store_id?a[u.store_id]:null;console.log("🔍 Store encontrada para usuário:",c.id,"store_id:",u==null?void 0:u.store_id,"store:",d);const f={id:c.id,username:c.email,name:((m=c.user_metadata)==null?void 0:m.name)||c.email.split("@")[0],role:u?u.role:"none",store_id:u?u.store_id:null,active:u?u.active:!0,created_at:c.created_at,stores:d};return console.log("👤 Usuário processado:",f.name,"Role:",f.role,"Loja:",((j=f.stores)==null?void 0:j.name)||"Não definida","Ativo:",f.active),f})}catch(e){return console.error("Erro ao buscar usuários:",e),[]}},hM=async(e,t)=>{var n;try{const{data:r,error:s}=await te.auth.signInWithPassword({email:e,password:t});if(s||!(r!=null&&r.user))return console.error("[AUTH] Erro ao autenticar:",s),null;let o="none";return r.user.email==="admin@server.com"&&(o="admin"),{id:r.user.id,email:r.user.email,name:((n=r.user.user_metadata)==null?void 0:n.name)||e.split("@")[0],role:o,store_id:null,active:!0,created_at:r.user.created_at,stores:null}}catch(r){return console.error("[AUTH] Erro inesperado:",r),null}},pM=async(e,t)=>{try{const n=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,role:t.role,store_id:t.store_id,password:t.password||void 0})});if(!n.ok){const s=await n.json();throw console.error("❌ Erro do backend (update):",s),new Error(s.error||"Erro ao atualizar usuário")}return await n.json()}catch(n){throw console.error("❌ Erro na comunicação (update):",n),new Error(`Erro na comunicação com o backend: ${n.message}`)}},mM=async e=>{try{const t=await fetch(`/api/usuarios/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const n=await t.json();throw new Error(n.error||"Erro ao deletar usuário")}return await t.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},Jr=async(e=!1)=>{let t=te.from("stores").select("*").order("name",{ascending:!0});e&&(t=t.eq("is_online_store",!1));const{data:n,error:r}=await t;return r?[]:n},gM=async(e,t)=>{try{const n=await fetch(`/api/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:t})});if(!n.ok){const s=await n.json();throw console.error("❌ Erro do backend:",s),new Error(s.error||"Erro ao alterar status do usuário")}return await n.json()}catch(n){throw console.error("❌ Erro na comunicação:",n),new Error(`Erro na comunicação com o backend: ${n.message}`)}},vM=({onLogin:e})=>{const[t,n]=p.useState(""),[r,s]=p.useState(""),[o,a]=p.useState(!1),{toast:l}=vt(),c=async u=>{u.preventDefault(),console.log("[LOGIN] handleSubmit chamado"),a(!0);try{console.log("[LOGIN] Antes do authenticateUser");const d=await hM(t,r);console.log("[LOGIN] Resultado do login:",d),d?d.role==="none"?(l({title:"Acesso restrito",description:"Seu usuário ainda não possui permissão de acesso. Solicite a um administrador para atribuir uma função (role).",variant:"destructive"}),console.warn("[LOGIN] Usuário sem role, acesso bloqueado:",d)):(l({title:"Login realizado com sucesso!",description:`Bem-vindo, ${d.email}!`}),e(d)):(l({title:"Erro no login",description:"Usuário ou senha incorretos, ou usuário sem permissão ativa.",variant:"destructive"}),console.error("[LOGIN] Falha no login: usuário não encontrado ou sem permissão."))}catch(d){console.error("[LOGIN] Erro inesperado:",d),l({title:"Erro no sistema",description:"Ocorreu um problema ao tentar fazer login. Tente novamente.",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg-fdg p-4",children:i.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:i.jsxs(ee,{className:"glass-effect neon-glow",children:[i.jsxs(je,{className:"text-center",children:[i.jsx("img",{src:"/images/logobranca fdg.png",alt:"Fio de Gala",className:"mx-auto mb-4 w-32 h-32 object-contain"}),i.jsx(be,{className:"text-2xl font-bold text-white",children:"FDG System"}),i.jsx(d1,{className:"text-gray-300",children:"Faça login para acessar o sistema"})]}),i.jsxs(ne,{children:[i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(z,{htmlFor:"email",className:"text-white",children:"E-mail"}),i.jsxs("div",{className:"relative",children:[i.jsx(ms,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(H,{id:"email",type:"email",placeholder:"Digite seu e-mail",value:t,onChange:u=>n(u.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(z,{htmlFor:"password",className:"text-white",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(gf,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(H,{id:"password",type:"password",placeholder:"Digite sua senha",value:r,onChange:u=>s(u.target.value),className:"pl-10 bg-background/50 border-gray-600 text-white placeholder:text-gray-400",required:!0})]})]}),i.jsx($,{type:"submit",className:"w-full bg-[#3B657B] hover:bg-[#33566a] text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105",disabled:o,children:o?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"loading-spinner w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Entrando..."]}):"Entrar"})]}),i.jsxs("div",{className:"mt-6 p-4 bg-background/20 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Use o e-mail cadastrado no Supabase Authentication:"}),i.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[i.jsx("div",{children:"Exemplo: admin@admin.com / sua senha"}),i.jsx("div",{children:"Exemplo: gerente@empresa.com / sua senha"})]})]})]})]})})})},yM=({onLogout:e})=>{var m;const[t,n]=p.useState(!1),r=Je(),s=ep(),o=Lo(),l=[{id:"pos",label:"Frente de Caixa",icon:Yi,path:"/pos",permission:K.PROCESS_SALES},{id:"products",label:"Produtos",icon:Rn,path:"/products",permission:K.MANAGE_PRODUCTS},{id:"categories",label:"Categorias",icon:xf,path:"/categories",permission:K.MANAGE_CATEGORIES},{id:"stock",label:"Estoque",icon:E2,path:"/stock",permission:K.MANAGE_STOCK},{id:"customers",label:"Clientes",icon:gs,path:"/customers",permission:K.MANAGE_PRODUCTS},{id:"reports",label:"Relatórios",icon:Rw,path:"/reports",permission:K.VIEW_REPORTS},{id:"users",label:"Usuários",icon:yf,path:"/users",permission:K.MANAGE_USERS},{id:"cash-register",label:"Controle de Caixa",icon:Ss,path:"/cash-register",permission:K.CASH_REGISTER_MANAGEMENT},{id:"peripherals",label:"Periféricos",icon:Xl,path:"/peripherals",permission:K.MANAGE_USERS}].filter(j=>It(r==null?void 0:r.role,j.permission)),c=()=>{zf(),e(),s("/login")},u=()=>{const j=o.pathname==="/"?"/pos":o.pathname,v=l.find(w=>w.path===j);return(v==null?void 0:v.label)||"Dashboard"};p.useEffect(()=>{const j=()=>{window.innerWidth>=1024?n(!0):n(!1)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const d={open:{x:0},closed:{x:"-100%"}},f={type:"spring",stiffness:300,damping:30},h=((m=r==null?void 0:r.stores)==null?void 0:m.name)||(It(r==null?void 0:r.role,K.VIEW_ALL_STORES_DATA)?"Todas as Lojas":"Loja não definida");return i.jsxs("div",{className:"min-h-screen bg-background flex",children:[i.jsx(YR,{children:t&&i.jsx(Gr.div,{variants:d,initial:"closed",animate:"open",exit:"closed",transition:f,className:"fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border shadow-lg lg:static lg:translate-x-0",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[i.jsxs(po,{to:"/",className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/images/logobranca fdg.png",alt:"FDG System",className:"w-8 h-8 object-contain"}),i.jsx("span",{className:"font-bold text-lg",children:"FDG System"})]}),i.jsx($,{variant:"ghost",size:"icon",onClick:()=>n(!1),className:"lg:hidden",children:i.jsx(cp,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 p-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Logado como:"}),i.jsx("p",{className:"font-semibold",children:r==null?void 0:r.name}),i.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:r==null?void 0:r.role}),i.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[i.jsx(Xi,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:h})]})]}),i.jsx("nav",{className:"space-y-2",children:l.map(j=>{const v=j.icon,w=o.pathname===j.path||o.pathname==="/"&&j.path==="/pos";return i.jsx($,{variant:w?"default":"ghost",className:`w-full justify-start ${w?"bg-primary text-primary-foreground":""}`,asChild:!0,onClick:()=>{window.innerWidth<1024&&n(!1)},children:i.jsxs(po,{to:j.path,children:[i.jsx(v,{className:"w-5 h-5 mr-3"}),j.label]})},j.id)})})]}),i.jsx("div",{className:"p-4 border-t border-border",children:i.jsxs($,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:c,children:[i.jsx(p2,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})},"sidebar")}),t&&window.innerWidth<1024&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>n(!1)}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[i.jsxs("header",{className:"bg-card border-b border-border p-4 flex items-center justify-between sticky top-0 z-30",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx($,{variant:"ghost",size:"icon",onClick:()=>n(!0),className:"lg:hidden",children:i.jsx(g2,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h1",{className:"text-xl font-semibold",children:u()}),i.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(Xi,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:h})]})]})]}),It(K.MANAGE_FISCAL_DOCUMENTS)&&i.jsxs(po,{to:"/fiscal-documents",className:`flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50 ${o.pathname==="/fiscal-documents"?"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-50":""}`,children:[i.jsx(Ki,{className:"h-4 w-4"}),"Documentos Fiscais"]})]}),i.jsx("main",{className:"flex-1 p-6 overflow-auto",children:i.jsx(SN,{})})]})]})},xM=async()=>{var s;const e=Je();let t=te.from("stock_movements").select(`
      *,
      products (name, barcode),
      stores (name, is_online_store),
      product_store_stock (id)
    `).order("created_at",{ascending:!1});e&&e.store_id&&!((s=e.stores)!=null&&s.is_online_store)&&!It(e.role,K.VIEW_ALL_STORES_DATA)&&(t=t.or(`store_id.eq.${e.store_id},stock_type.eq.online`));const{data:n,error:r}=await t;return r?(console.error("Error fetching stock movements:",r),[]):n.map(o=>{var a,l;return{...o,productName:((a=o.products)==null?void 0:a.name)||"Produto Desconhecido",userName:"Usuário do Sistema",storeName:((l=o.stores)==null?void 0:l.name)||(o.stock_type==="online"?"Estoque Online":"Loja Desconhecida")}})},yl=async e=>{const t=Je();let n={...e};if(n.user_id=n.user_id||(t==null?void 0:t.id),!n.store_id&&n.stock_type!=="online")n.store_id=t==null?void 0:t.store_id;else if(n.stock_type==="online"){const a=(await Jr()).find(l=>l.is_online_store);a&&(n.store_id=a.id)}if(!n.store_id&&n.stock_type==="physical_store"&&!It(t==null?void 0:t.role,K.VIEW_ALL_STORES_DATA))throw console.error("Error: store_id is required for this user to add stock movement for a physical store."),new Error("store_id é obrigatório para movimentação em loja física.");const{data:r,error:s}=await te.from("stock_movements").insert([n]).select().single();if(s)throw console.error("Error adding stock movement:",s),s;return r},D1=async(e=!1)=>{Je();let t=te.from("products").select("*, stores(name, is_online_store)").eq("active",!0).order("name",{ascending:!0});const{data:n,error:r}=await t;if(r)return console.error("Error fetching products:",r),[];if(e&&n){for(let s of n)if(s.product_type==="variable"){const{data:o,error:a}=await te.from("product_variations").select("*").eq("product_id",s.id);a&&console.error(`Error fetching variations for product ${s.id}:`,a),s.variations=o||[]}}return n},wM=async(e=!1)=>{console.log("🔍 getAllProducts iniciado, includeVariations:",e);let t=te.from("products").select("*, stores(name, is_online_store)").order("name",{ascending:!0});const{data:n,error:r}=await t;if(r)return console.error("❌ Erro ao buscar todos os produtos:",r),[];if(console.log("📋 Produtos encontrados:",(n==null?void 0:n.length)||0),e&&n){for(let s of n)if(s.product_type==="variable"){const{data:o,error:a}=await te.from("product_variations").select("*").eq("product_id",s.id);a&&console.error(`❌ Erro ao buscar variações do produto ${s.id}:`,a),s.variations=o||[]}}return console.log("✅ getAllProducts concluído"),n},jM=async e=>{console.log("🔄 addProduct iniciado com dados:",e);const t=Je();console.log("👤 Usuário atual:",t);const{variations:n,...r}=e;let s={...r};if(console.log("📦 Dados principais para inserção:",s),!s.store_id){console.log("🏪 Buscando loja online...");const l=await Jr();console.log("🏪 Lojas disponíveis:",l);const c=l.find(u=>u.is_online_store);if(c)s.store_id=c.id,console.log("✅ Loja online associada:",c.id);else throw console.error("❌ Loja online principal não encontrada para associar o produto."),new Error("Loja online principal não encontrada.")}console.log("📝 Inserindo produto no Supabase...");const{data:o,error:a}=await te.from("products").insert([s]).select("*, stores(name, is_online_store)").single();if(a)throw console.error("❌ Erro ao inserir produto:",a),a;if(console.log("✅ Produto inserido com sucesso:",o),o&&o.product_type==="variable"&&n&&n.length>0){console.log("🔄 Inserindo variações...");const l=n.map(u=>({...u,product_id:o.id}));console.log("📦 Variações para inserir:",l);const{error:c}=await te.from("product_variations").insert(l);if(c)throw console.error("❌ Erro ao inserir variações:",c),await te.from("products").delete().eq("id",o.id),c;console.log("✅ Variações inseridas com sucesso")}return console.log("🎉 Produto criado completamente:",o),o},xl=async(e,t)=>{const{variations:n,...r}=t,{data:s,error:o}=await te.from("products").update(r).eq("id",e).select("*, stores(name, is_online_store)").single();if(o)throw console.error("Error updating product:",o),o;if(s&&s.product_type==="variable"){if(await te.from("product_variations").delete().eq("product_id",e),n&&n.length>0){const a=n.map(c=>{const{id:u,...d}=c;return{...d,product_id:e}}),{error:l}=await te.from("product_variations").insert(a);if(l)throw console.error("Error updating product variations:",l),l}}else s&&s.product_type==="simple"&&await te.from("product_variations").delete().eq("product_id",e);return s},bM=async e=>{const{data:t,error:n}=await te.from("products").select("*, stores(name, is_online_store)").eq("id",e).single();if(n||!t)return console.error("Erro ao buscar produto por ID:",n),null;if(t.product_type==="variable"){const{data:r,error:s}=await te.from("product_variations").select("*").eq("product_id",e);s&&console.error("Erro ao buscar variações:",s),t.variations=r||[]}else t.variations=[];if(te.from("product_images")){const{data:r,error:s}=await te.from("product_images").select("*").eq("product_id",e);s||(t.images=r)}return t},To=async(e,t=null,n=null)=>{let r=te.from("product_store_stock").select("*, stores(name, is_online_store), product_variations(id, attributes)").eq("product_id",e);t&&(r=r.eq("store_id",t)),n&&(r=r.eq("variation_id",n));const{data:s,error:o}=await r;return o?(console.error("Error fetching product store stock:",o),t&&n?null:[]):t&&n?s[0]||null:s},SM=async(e,t,n,r=null)=>{const s=await To(e,t,r);let o,a=s==null?void 0:s.id;if(s){o=s.quantity+n;const{error:l}=await te.from("product_store_stock").update({quantity:o}).eq("id",s.id);if(l)throw l}else{o=n;const{data:l,error:c}=await te.from("product_store_stock").insert({product_id:e,store_id:t,variation_id:r,quantity:o}).select("id").single();if(c)throw c;a=l==null?void 0:l.id}return await $1(e),await yl({product_id:e,variation_id:r,store_id:t,type:"transfer_in",quantity:n,previous_stock:s?s.quantity:0,new_stock:o,reason:"Compartilhamento de estoque para loja física.",stock_type:"physical_store",product_store_stock_id:a}),{success:!0}},$1=async e=>{const{data:t,error:n}=await te.from("products").select("product_type, stock").eq("id",e).single();if(n||!t){console.error("Error fetching product for stock recalculation:",n);return}let r=0;if(t.product_type==="variable"){const{data:s,error:o}=await te.from("product_variations").select("stock").eq("product_id",e);if(o){console.error("Error fetching variations for stock recalculation:",o);return}r=s.reduce((a,l)=>a+l.stock,0)}else{const{data:s,error:o}=await te.from("product_store_stock").select("quantity").eq("product_id",e).is("variation_id",null);if(o){console.error("Error fetching physical stocks for simple product:",o);return}r=s.reduce((a,l)=>a+l.quantity,0)}if(t.stock!==r){const{error:s}=await te.from("products").update({stock:r}).eq("id",e);s&&console.error("Error updating online/general stock:",s)}},_M=async e=>{await te.from("products").delete().eq("id",e),await te.from("product_variations").delete().eq("product_id",e),te.from("product_images")&&await te.from("product_images").delete().eq("product_id",e)},CM=(e,t=null,n={specificStoreId:null})=>{var o;const r=Je(),s=t?`${t}.`:"";return n.specificStoreId?e.eq(`${s}store_id`,n.specificStoreId):r&&r.store_id&&!((o=r.stores)!=null&&o.is_online_store)&&!It(r.role,K.VIEW_ALL_STORES_DATA)?e.eq(`${s}store_id`,r.store_id):e},F1=async()=>{let e=te.from("sales").select("*, customers(name), stores(name, is_online_store)").order("created_at",{ascending:!1});e=CM(e,"sales");const{data:t,error:n}=await e;return n?(console.error("Error fetching sales:",n),[]):t},EM=async()=>{const{data:e,error:t}=await te.from("customers").select("*").order("name",{ascending:!0});return t?(console.error("Error fetching customers:",t),[]):e},NM=async e=>{const{data:t,error:n}=await te.from("customers").insert([e]).select();return n?(console.error("Error adding customer:",n),null):t?t[0]:null},kM=async(e,t)=>{const{data:n,error:r}=await te.from("customers").update(t).eq("id",e).select();return r?(console.error("Error updating customer:",r),null):n?n[0]:null},TM=async e=>{const{error:t}=await te.from("customers").delete().eq("id",e);return t?(console.error("Error deleting customer:",t),!1):!0},PM=async()=>{var a,l;const e=Je();let t=te.from("cash_register_logs").select("*, stores(name, is_online_store)").order("created_at",{ascending:!1}),n=null;if(e&&e.store_id&&!((a=e.stores)!=null&&a.is_online_store)&&!It(e.role,K.VIEW_ALL_STORES_DATA))n=e.store_id;else if(e&&((l=e.stores)!=null&&l.is_online_store))n=e.store_id;else if(e&&e.role===ot.ADMIN&&!e.store_id){const u=(await Jr()).find(d=>d.is_online_store);u&&(n=u.id)}if(n)t=t.eq("store_id",n);else if(!It(e==null?void 0:e.role,K.VIEW_ALL_STORES_DATA))return console.warn("Usuário sem loja definida e sem permissão para ver todos os caixas. Retornando caixa fechado."),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};const{data:r,error:s}=await t.limit(1).maybeSingle();if(s)return console.error("Error fetching current cash register state:",s),{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null};if(!r)return{isOpen:!1,openingAmount:0,currentAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:n,store:e==null?void 0:e.stores};const o=r.type!=="close";return{id:r.id,isOpen:o,openingAmount:r.type==="open"||o?r.initial_amount:0,currentAmount:r.current_amount,openedBy:o&&r.type==="open"||o?r.user_id:null,openedAt:o&&r.type==="open"||o?r.created_at:null,closedAt:r.type==="close"?r.created_at:null,store_id:r.store_id,store:r.stores}},V1="http://localhost:4000/api",Wf=async(e,t=null,n="varejo")=>{try{const r=new URLSearchParams;r.append("code",e),t&&r.append("store_id",t),n&&r.append("modalidade",n);const s=await fetch(`${V1}/sales/products/barcode/${e}?${r}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){const o=await s.json();throw new Error(o.error||"Erro ao buscar produto")}return await s.json()}catch(r){throw new Error(`Erro na comunicação com o backend: ${r.message}`)}},AM=async e=>{try{const t=await fetch(`${V1}/sales`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.error||"Erro ao criar venda")}return await t.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}};class RM{constructor(){this.baseUrl="/api/peripherals"}async testPrinter(t){try{const n=await fetch(`${this.baseUrl}/test-printer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printerConfig:t})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Erro ao testar impressora");return r}catch(n){throw console.error("Erro no teste da impressora:",n),n}}async testScanner(t){try{const n=await fetch(`${this.baseUrl}/test-scanner`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scannerConfig:t})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Erro ao testar scanner");return r}catch(n){throw console.error("Erro no teste do scanner:",n),n}}async scanBarcode(t){try{const n=await fetch(`${this.baseUrl}/scan-barcode`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scannerConfig:t})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Erro ao ler código de barras");return r}catch(n){throw console.error("Erro na leitura do código de barras:",n),n}}async printReceipt(t,n){try{const r=await fetch(`${this.baseUrl}/print-receipt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({saleData:t,printerConfig:n})}),s=await r.json();if(!r.ok)throw new Error(s.error||"Erro ao imprimir recibo");return s}catch(r){throw console.error("Erro na impressão:",r),r}}async getConfig(){try{const t=await fetch(`${this.baseUrl}/config`,{method:"GET",headers:{"Content-Type":"application/json"}}),n=await t.json();if(!t.ok)throw new Error(n.error||"Erro ao obter configurações");return n.config}catch(t){throw console.error("Erro ao obter configurações:",t),t}}async saveConfig(t){try{const n=await fetch(`${this.baseUrl}/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:t})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Erro ao salvar configurações");return r}catch(n){throw console.error("Erro ao salvar configurações:",n),n}}async detectDevices(){try{const t=await fetch(`${this.baseUrl}/detect-devices`,{method:"GET",headers:{"Content-Type":"application/json"}}),n=await t.json();if(!t.ok)throw new Error(n.error||"Erro ao detectar dispositivos");return n.devices}catch(t){throw console.error("Erro ao detectar dispositivos:",t),t}}generateReceiptPreview(t){const n=new Date,r=n.toLocaleDateString("pt-BR"),s=n.toLocaleTimeString("pt-BR");return`
================================
    ${t.store_name||"LOJA"}
================================
Data: ${r}
Hora: ${s}
Venda: #${t.id}
================================
${t.items.map(o=>`${o.name}
${o.quantity}x R$ ${o.price.toFixed(2)} = R$ ${o.subtotal.toFixed(2)}`).join(`
`)}
================================
Subtotal: R$ ${t.subtotal.toFixed(2)}
Desconto: R$ ${(t.discount||0).toFixed(2)}
TOTAL: R$ ${t.total.toFixed(2)}
================================
${t.payments.map(o=>`${o.method}: R$ ${o.amount.toFixed(2)}`).join(`
`)}
================================
Obrigado pela preferência!
================================
    `.trim()}}const En=new RM;class OM{constructor(){this.baseUrl="/api/fiscal"}async getConfig(){try{const t=await fetch(`${this.baseUrl}/config`,{method:"GET",headers:{"Content-Type":"application/json"}}),n=await t.json();if(!t.ok)throw new Error(n.error||"Erro ao obter configurações fiscais");return n.config}catch(t){throw console.error("Erro ao obter configurações fiscais:",t),t}}async saveConfig(t){try{const n=await fetch(`${this.baseUrl}/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:t})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Erro ao salvar configurações fiscais");return r}catch(n){throw console.error("Erro ao salvar configurações fiscais:",n),n}}async generateNFe(t,n){try{const r=await fetch(`${this.baseUrl}/generate-nfe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({saleData:t,fiscalConfig:n})}),s=await r.json();if(!r.ok)throw new Error(s.error||"Erro ao gerar NF-e");return s}catch(r){throw console.error("Erro ao gerar NF-e:",r),r}}async generateSAT(t,n){try{const r=await fetch(`${this.baseUrl}/generate-sat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({saleData:t,fiscalConfig:n})}),s=await r.json();if(!r.ok)throw new Error(s.error||"Erro ao gerar SAT");return s}catch(r){throw console.error("Erro ao gerar SAT:",r),r}}async sendDocument(t,n){try{const r=await fetch(`${this.baseUrl}/send-document`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentId:t,documentType:n})}),s=await r.json();if(!r.ok)throw new Error(s.error||"Erro ao enviar documento fiscal");return s}catch(r){throw console.error("Erro ao enviar documento fiscal:",r),r}}async getDocuments(t={}){try{const n=new URLSearchParams;Object.keys(t).forEach(o=>{t[o]&&n.append(o,t[o])});const r=await fetch(`${this.baseUrl}/documents?${n}`,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await r.json();if(!r.ok)throw new Error(s.error||"Erro ao obter documentos fiscais");return s.documents}catch(n){throw console.error("Erro ao obter documentos fiscais:",n),n}}async generateFiscalDocument(t){try{const n=await this.getConfig();if(n.nfe.enabled)return await this.generateNFe(t,n);if(n.sat.enabled)return await this.generateSAT(t,n);throw new Error("Nenhum sistema fiscal habilitado")}catch(n){throw console.error("Erro ao gerar documento fiscal:",n),n}}validateCNPJ(t){if(t=t.replace(/[^\d]/g,""),t.length!==14||/^(\d)\1+$/.test(t))return!1;let n=0,r=2;for(let o=11;o>=0;o--)n+=parseInt(t.charAt(o))*r,r=r===9?2:r+1;let s=11-n%11;if(s>9&&(s=0),parseInt(t.charAt(12))!==s)return!1;n=0,r=2;for(let o=12;o>=0;o--)n+=parseInt(t.charAt(o))*r,r=r===9?2:r+1;return s=11-n%11,s>9&&(s=0),parseInt(t.charAt(13))===s}formatCNPJ(t){return t.replace(/[^\d]/g,"").replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")}}const wr=new OM,IM=({onProductFound:e})=>{const[t,n]=p.useState(""),{toast:r}=vt(),s=async a=>{if(a.preventDefault(),!!t.trim())try{const l=await Wf(t);l&&l.product?(e(l.product),n("")):r({title:"Produto não encontrado",description:`Código de barras: ${t}`,variant:"destructive"})}catch(l){r({title:"Erro ao buscar produto",description:l.message,variant:"destructive"})}},o=async a=>{try{const l=await Wf(a);l&&l.product?e(l.product):r({title:"Produto de teste não encontrado",description:`Código: ${a}`,variant:"destructive"})}catch(l){r({title:"Erro ao buscar produto de teste",description:l.message,variant:"destructive"})}};return i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(vf,{className:"w-5 h-5"}),i.jsx("span",{children:"Leitor de Código de Barras"})]})}),i.jsxs(ne,{children:[i.jsxs("form",{onSubmit:s,className:"flex space-x-2",children:[i.jsx(H,{placeholder:"Escaneie ou digite o código de barras",value:t,onChange:a=>n(a.target.value),className:"flex-1 barcode-scanner",autoFocus:!0}),i.jsx($,{type:"submit",children:i.jsx(wn,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-2",children:[i.jsx($,{variant:"outline",onClick:()=>o("7891234567890"),className:"text-sm",children:"Camiseta Básica"}),i.jsx($,{variant:"outline",onClick:()=>o("7891234567891"),className:"text-sm",children:"Calça Jeans"}),i.jsx($,{variant:"outline",onClick:()=>o("7891234567892"),className:"text-sm",children:"Vestido Floral"})]})]})]})},MM=({cart:e,onUpdateQuantity:t,onRemoveFromCart:n,onClearCart:r})=>i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Yi,{className:"w-5 h-5"}),i.jsxs("span",{children:["Carrinho (",e.length," itens)"]})]}),e.length>0&&i.jsx($,{variant:"outline",size:"sm",onClick:r,children:"Limpar"})]})}),i.jsx(ne,{children:e.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Yi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Carrinho vazio"}),i.jsx("p",{className:"text-sm",children:"Escaneie um produto para começar"})]}):i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(s=>i.jsxs(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:s.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",s.price.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(s.id,s.quantity-1),children:i.jsx(Yl,{className:"w-3 h-3"})}),i.jsx("span",{className:"w-8 text-center",children:s.quantity}),i.jsx($,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>t(s.id,s.quantity+1),children:i.jsx(wn,{className:"w-3 h-3"})}),i.jsxs("span",{className:"w-20 text-right font-medium",children:["R$ ",s.subtotal.toFixed(2)]}),i.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>n(s.id),children:i.jsx($o,{className:"w-3 h-3"})})]})]},s.id))})})]}),LM=({subtotal:e,discountAmount:t,total:n,onApplyDiscount:r})=>{const s=Je();return i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(s2,{className:"w-5 h-5"}),i.jsx("span",{children:"Totais"})]})}),i.jsxs(ne,{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal:"}),i.jsxs("span",{children:["R$ ",e.toFixed(2)]})]}),t>0&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsx("span",{children:"Desconto:"}),i.jsxs("span",{children:["- R$ ",t.toFixed(2)]})]}),i.jsx("div",{className:"border-t pt-2",children:i.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[i.jsx("span",{children:"Total:"}),i.jsxs("span",{children:["R$ ",n.toFixed(2)]})]})}),It(s==null?void 0:s.role,K.APPLY_DISCOUNTS)&&i.jsx("div",{className:"pt-2 border-t",children:i.jsxs($,{variant:"outline",size:"sm",className:"w-full",onClick:r,children:[i.jsx(y2,{className:"w-4 h-4 mr-2"}),"Aplicar Desconto"]})})]})]})},Ja={CASH:"cash",DEBIT:"debit",CREDIT:"credit",PIX:"pix"},ki={[Ja.CASH]:"Dinheiro",[Ja.DEBIT]:"Cartão Débito",[Ja.CREDIT]:"Cartão Crédito",[Ja.PIX]:"PIX"},DM=({cartLength:e,payments:t,totalPaid:n,remainingAmount:r,onAddPayment:s,onFinalizeSale:o,canFinalize:a,onPrintReceipt:l,canPrintReceipt:c})=>e===0?null:i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(c2,{className:"w-5 h-5"}),i.jsx("span",{children:"Pagamento"})]})}),i.jsxs(ne,{className:"space-y-4",children:[t.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Pagamentos:"}),t.map(u=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:ki[u.method]}),i.jsxs("span",{children:["R$ ",u.amount.toFixed(2)]})]},u.id)),i.jsxs("div",{className:"border-t pt-2",children:[i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total Pago:"}),i.jsxs("span",{children:["R$ ",n.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Restante:"}),i.jsxs("span",{children:["R$ ",r.toFixed(2)]})]})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(ki).map(([u,d])=>i.jsx($,{variant:"outline",size:"sm",onClick:()=>{r>0&&s(u,r)},disabled:r<=0,children:d},u))}),i.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[i.jsxs($,{className:"w-full",size:"lg",onClick:o,disabled:!a,children:[i.jsx(w2,{className:"w-4 h-4 mr-2"}),"Finalizar Venda"]}),c&&i.jsxs($,{variant:"outline",size:"sm",onClick:l,className:"w-full",children:[i.jsx(Xl,{className:"w-4 h-4 mr-2"}),"Imprimir Recibo"]})]})]})]});function iy(e,[t,n]){return Math.min(n,Math.max(t,e))}var $M=p.createContext(void 0);function Dp(e){const t=p.useContext($M);return e||t||"ltr"}var rd=0;function U1(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ay()),document.body.insertAdjacentElement("beforeend",e[1]??ay()),rd++,()=>{rd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rd--}},[])}function ay(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sd="focusScope.autoFocusOnMount",od="focusScope.autoFocusOnUnmount",ly={bubbles:!1,cancelable:!0},FM="FocusScope",$p=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[l,c]=p.useState(null),u=nn(s),d=nn(o),f=p.useRef(null),h=Re(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(g){if(m.paused||!l)return;const b=g.target;l.contains(b)?f.current=b:ur(f.current,{select:!0})},w=function(g){if(m.paused||!l)return;const b=g.relatedTarget;b!==null&&(l.contains(b)||ur(f.current,{select:!0}))},x=function(g){if(document.activeElement===document.body)for(const S of g)S.removedNodes.length>0&&ur(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),y.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){uy.add(m);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(sd,ly);l.addEventListener(sd,u),l.dispatchEvent(x),x.defaultPrevented||(VM(qM(B1(l)),{select:!0}),document.activeElement===v&&ur(l))}return()=>{l.removeEventListener(sd,u),setTimeout(()=>{const x=new CustomEvent(od,ly);l.addEventListener(od,d),l.dispatchEvent(x),x.defaultPrevented||ur(v??document.body,{select:!0}),l.removeEventListener(od,d),uy.remove(m)},0)}}},[l,u,d,m]);const j=p.useCallback(v=>{if(!n&&!r||m.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(w&&x){const y=v.currentTarget,[g,b]=UM(y);g&&b?!v.shiftKey&&x===b?(v.preventDefault(),n&&ur(g,{select:!0})):v.shiftKey&&x===g&&(v.preventDefault(),n&&ur(b,{select:!0})):x===y&&v.preventDefault()}},[n,r,m.paused]);return i.jsx(de.div,{tabIndex:-1,...a,ref:h,onKeyDown:j})});$p.displayName=FM;function VM(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ur(r,{select:t}),document.activeElement!==n)return}function UM(e){const t=B1(e),n=cy(t,e),r=cy(t.reverse(),e);return[n,r]}function B1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function cy(e,t){for(const n of e)if(!BM(n,{upTo:t}))return n}function BM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zM(e){return e instanceof HTMLInputElement&&"select"in e}function ur(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zM(e)&&t&&e.select()}}var uy=WM();function WM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=dy(e,t),e.unshift(t)},remove(t){var n;e=dy(e,t),(n=e[0])==null||n.resume()}}}function dy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function qM(e){return e.filter(t=>t.tagName!=="A")}var HM=oh[" useId ".trim().toString()]||(()=>{}),GM=0;function Ir(e){const[t,n]=p.useState(HM());return lt(()=>{e||n(r=>r??String(GM++))},[e]),e||(t?`radix-${t}`:"")}const KM=["top","right","bottom","left"],Fr=Math.min,Ft=Math.max,cc=Math.round,Ya=Math.floor,In=e=>({x:e,y:e}),JM={left:"right",right:"left",bottom:"top",top:"bottom"},YM={start:"end",end:"start"};function qf(e,t,n){return Ft(e,Fr(t,n))}function rr(e,t){return typeof e=="function"?e(t):e}function sr(e){return e.split("-")[0]}function Uo(e){return e.split("-")[1]}function Fp(e){return e==="x"?"y":"x"}function Vp(e){return e==="y"?"height":"width"}const XM=new Set(["top","bottom"]);function Tn(e){return XM.has(sr(e))?"y":"x"}function Up(e){return Fp(Tn(e))}function QM(e,t,n){n===void 0&&(n=!1);const r=Uo(e),s=Up(e),o=Vp(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=uc(a)),[a,uc(a)]}function ZM(e){const t=uc(e);return[Hf(e),t,Hf(t)]}function Hf(e){return e.replace(/start|end/g,t=>YM[t])}const fy=["left","right"],hy=["right","left"],eL=["top","bottom"],tL=["bottom","top"];function nL(e,t,n){switch(e){case"top":case"bottom":return n?t?hy:fy:t?fy:hy;case"left":case"right":return t?eL:tL;default:return[]}}function rL(e,t,n,r){const s=Uo(e);let o=nL(sr(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(Hf)))),o}function uc(e){return e.replace(/left|right|bottom|top/g,t=>JM[t])}function sL(e){return{top:0,right:0,bottom:0,left:0,...e}}function z1(e){return typeof e!="number"?sL(e):{top:e,right:e,bottom:e,left:e}}function dc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function py(e,t,n){let{reference:r,floating:s}=e;const o=Tn(t),a=Up(t),l=Vp(a),c=sr(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Uo(t)){case"start":m[a]-=h*(n&&u?-1:1);break;case"end":m[a]+=h*(n&&u?-1:1);break}return m}const oL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=py(u,r,c),h=r,m={},j=0;for(let v=0;v<l.length;v++){const{name:w,fn:x}=l[v],{x:y,y:g,data:b,reset:S}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,f=g??f,m={...m,[w]:{...m[w],...b}},S&&j<=50&&(j++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=py(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function na(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=rr(t,e),j=z1(m),w=l[h?f==="floating"?"reference":"floating":f],x=dc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),b=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},S=dc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:g,strategy:c}):y);return{top:(x.top-S.top+j.top)/b.y,bottom:(S.bottom-x.bottom+j.bottom)/b.y,left:(x.left-S.left+j.left)/b.x,right:(S.right-x.right+j.right)/b.x}}const iL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=rr(e,t)||{};if(u==null)return{};const f=z1(d),h={x:n,y:r},m=Up(s),j=Vp(m),v=await a.getDimensions(u),w=m==="y",x=w?"top":"left",y=w?"bottom":"right",g=w?"clientHeight":"clientWidth",b=o.reference[j]+o.reference[m]-h[m]-o.floating[j],S=h[m]-o.reference[m],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=k?k[g]:0;(!E||!await(a.isElement==null?void 0:a.isElement(k)))&&(E=l.floating[g]||o.floating[j]);const _=b/2-S/2,C=E/2-v[j]/2-1,R=Fr(f[x],C),I=Fr(f[y],C),O=R,F=E-v[j]-I,N=E/2-v[j]/2+_,D=qf(O,N,F),T=!c.arrow&&Uo(s)!=null&&N!==D&&o.reference[j]/2-(N<O?R:I)-v[j]/2<0,L=T?N<O?N-O:N-F:0;return{[m]:h[m]+L,data:{[m]:D,centerOffset:N-D-L,...T&&{alignmentOffset:L}},reset:T}}}),aL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:v=!0,...w}=rr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=sr(s),y=Tn(l),g=sr(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(g||!v?[uc(l)]:ZM(l)),k=j!=="none";!h&&k&&S.push(...rL(l,v,j,b));const E=[l,...S],_=await na(t,w),C=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&C.push(_[x]),f){const N=QM(s,a,b);C.push(_[N[0]],_[N[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(N=>N<=0)){var I,O;const N=(((I=o.flip)==null?void 0:I.index)||0)+1,D=E[N];if(D&&(!(f==="alignment"?y!==Tn(D):!1)||R.every(A=>A.overflows[0]>0&&Tn(A.placement)===y)))return{data:{index:N,overflows:R},reset:{placement:D}};let T=(O=R.filter(L=>L.overflows[0]<=0).sort((L,A)=>L.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!T)switch(m){case"bestFit":{var F;const L=(F=R.filter(A=>{if(k){const P=Tn(A.placement);return P===y||P==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(P=>P>0).reduce((P,V)=>P+V,0)]).sort((A,P)=>A[1]-P[1])[0])==null?void 0:F[0];L&&(T=L);break}case"initialPlacement":T=l;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function my(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gy(e){return KM.some(t=>e[t]>=0)}const lL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=rr(e,t);switch(r){case"referenceHidden":{const o=await na(t,{...s,elementContext:"reference"}),a=my(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:gy(a)}}}case"escaped":{const o=await na(t,{...s,altBoundary:!0}),a=my(o,n.floating);return{data:{escapedOffsets:a,escaped:gy(a)}}}default:return{}}}}},W1=new Set(["left","top"]);async function cL(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=sr(n),l=Uo(n),c=Tn(n)==="y",u=W1.has(a)?-1:1,d=o&&c?-1:1,f=rr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof j=="number"&&(m=l==="end"?j*-1:j),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const uL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await cL(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},dL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x,y}=w;return{x,y}}},...c}=rr(e,t),u={x:n,y:r},d=await na(t,c),f=Tn(sr(s)),h=Fp(f);let m=u[h],j=u[f];if(o){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=m+d[w],g=m-d[x];m=qf(y,m,g)}if(a){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=j+d[w],g=j-d[x];j=qf(y,j,g)}const v=l.fn({...t,[h]:m,[f]:j});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:a}}}}}},fL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=rr(e,t),d={x:n,y:r},f=Tn(s),h=Fp(f);let m=d[h],j=d[f];const v=rr(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const g=h==="y"?"height":"width",b=o.reference[h]-o.floating[g]+w.mainAxis,S=o.reference[h]+o.reference[g]-w.mainAxis;m<b?m=b:m>S&&(m=S)}if(u){var x,y;const g=h==="y"?"width":"height",b=W1.has(sr(s)),S=o.reference[f]-o.floating[g]+(b&&((x=a.offset)==null?void 0:x[f])||0)+(b?0:w.crossAxis),k=o.reference[f]+o.reference[g]+(b?0:((y=a.offset)==null?void 0:y[f])||0)-(b?w.crossAxis:0);j<S?j=S:j>k&&(j=k)}return{[h]:m,[f]:j}}}},hL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=rr(e,t),d=await na(t,u),f=sr(s),h=Uo(s),m=Tn(s)==="y",{width:j,height:v}=o.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,w=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,g=j-d.left-d.right,b=Fr(v-d[w],y),S=Fr(j-d[x],g),k=!t.middlewareData.shift;let E=b,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=y),k&&!h){const R=Ft(d.left,0),I=Ft(d.right,0),O=Ft(d.top,0),F=Ft(d.bottom,0);m?_=j-2*(R!==0||I!==0?R+I:Ft(d.left,d.right)):E=v-2*(O!==0||F!==0?O+F:Ft(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:E});const C=await a.getDimensions(l.floating);return j!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function Xc(){return typeof window<"u"}function Bo(e){return q1(e)?(e.nodeName||"").toLowerCase():"#document"}function Bt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $n(e){var t;return(t=(q1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function q1(e){return Xc()?e instanceof Node||e instanceof Bt(e).Node:!1}function jn(e){return Xc()?e instanceof Element||e instanceof Bt(e).Element:!1}function Ln(e){return Xc()?e instanceof HTMLElement||e instanceof Bt(e).HTMLElement:!1}function vy(e){return!Xc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bt(e).ShadowRoot}const pL=new Set(["inline","contents"]);function va(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!pL.has(s)}const mL=new Set(["table","td","th"]);function gL(e){return mL.has(Bo(e))}const vL=[":popover-open",":modal"];function Qc(e){return vL.some(t=>{try{return e.matches(t)}catch{return!1}})}const yL=["transform","translate","scale","rotate","perspective"],xL=["transform","translate","scale","rotate","perspective","filter"],wL=["paint","layout","strict","content"];function Bp(e){const t=zp(),n=jn(e)?bn(e):e;return yL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||xL.some(r=>(n.willChange||"").includes(r))||wL.some(r=>(n.contain||"").includes(r))}function jL(e){let t=Vr(e);for(;Ln(t)&&!Po(t);){if(Bp(t))return t;if(Qc(t))return null;t=Vr(t)}return null}function zp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bL=new Set(["html","body","#document"]);function Po(e){return bL.has(Bo(e))}function bn(e){return Bt(e).getComputedStyle(e)}function Zc(e){return jn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vr(e){if(Bo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vy(e)&&e.host||$n(e);return vy(t)?t.host:t}function H1(e){const t=Vr(e);return Po(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&va(t)?t:H1(t)}function ra(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=H1(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=Bt(s);if(o){const l=Gf(a);return t.concat(a,a.visualViewport||[],va(s)?s:[],l&&n?ra(l):[])}return t.concat(s,ra(s,[],n))}function Gf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function G1(e){const t=bn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ln(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=cc(n)!==o||cc(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function Wp(e){return jn(e)?e:e.contextElement}function mo(e){const t=Wp(e);if(!Ln(t))return In(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=G1(t);let a=(o?cc(n.width):n.width)/r,l=(o?cc(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const SL=In(0);function K1(e){const t=Bt(e);return!zp()||!t.visualViewport?SL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _L(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Bt(e)?!1:t}function _s(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Wp(e);let a=In(1);t&&(r?jn(r)&&(a=mo(r)):a=mo(e));const l=_L(o,n,r)?K1(o):In(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const h=Bt(o),m=r&&jn(r)?Bt(r):r;let j=h,v=Gf(j);for(;v&&r&&m!==j;){const w=mo(v),x=v.getBoundingClientRect(),y=bn(v),g=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*w.x,b=x.top+(v.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=g,u+=b,j=Bt(v),v=Gf(j)}}return dc({width:d,height:f,x:c,y:u})}function qp(e,t){const n=Zc(e).scrollLeft;return t?t.left+n:_s($n(e)).left+n}function J1(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:qp(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function CL(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=$n(r),l=t?Qc(t.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=In(1);const d=In(0),f=Ln(r);if((f||!f&&!o)&&((Bo(r)!=="body"||va(a))&&(c=Zc(r)),Ln(r))){const m=_s(r);u=mo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=a&&!f&&!o?J1(a,c,!0):In(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function EL(e){return Array.from(e.getClientRects())}function NL(e){const t=$n(e),n=Zc(e),r=e.ownerDocument.body,s=Ft(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ft(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+qp(e);const l=-n.scrollTop;return bn(r).direction==="rtl"&&(a+=Ft(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:l}}function kL(e,t){const n=Bt(e),r=$n(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=zp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}const TL=new Set(["absolute","fixed"]);function PL(e,t){const n=_s(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ln(e)?mo(e):In(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:a,height:l,x:c,y:u}}function yy(e,t,n){let r;if(t==="viewport")r=kL(e,n);else if(t==="document")r=NL($n(e));else if(jn(t))r=PL(t,n);else{const s=K1(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return dc(r)}function Y1(e,t){const n=Vr(e);return n===t||!jn(n)||Po(n)?!1:bn(n).position==="fixed"||Y1(n,t)}function AL(e,t){const n=t.get(e);if(n)return n;let r=ra(e,[],!1).filter(l=>jn(l)&&Bo(l)!=="body"),s=null;const o=bn(e).position==="fixed";let a=o?Vr(e):e;for(;jn(a)&&!Po(a);){const l=bn(a),c=Bp(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&TL.has(s.position)||va(a)&&!c&&Y1(e,a))?r=r.filter(d=>d!==a):s=l,a=Vr(a)}return t.set(e,r),r}function RL(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Qc(t)?[]:AL(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=yy(t,d,s);return u.top=Ft(f.top,u.top),u.right=Fr(f.right,u.right),u.bottom=Fr(f.bottom,u.bottom),u.left=Ft(f.left,u.left),u},yy(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function OL(e){const{width:t,height:n}=G1(e);return{width:t,height:n}}function IL(e,t,n){const r=Ln(t),s=$n(t),o=n==="fixed",a=_s(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=In(0);function u(){c.x=qp(s)}if(r||!r&&!o)if((Bo(t)!=="body"||va(s))&&(l=Zc(t)),r){const m=_s(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?J1(s,l):In(0),f=a.left+l.scrollLeft-c.x-d.x,h=a.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function id(e){return bn(e).position==="static"}function xy(e,t){if(!Ln(e)||bn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $n(e)===n&&(n=n.ownerDocument.body),n}function X1(e,t){const n=Bt(e);if(Qc(e))return n;if(!Ln(e)){let s=Vr(e);for(;s&&!Po(s);){if(jn(s)&&!id(s))return s;s=Vr(s)}return n}let r=xy(e,t);for(;r&&gL(r)&&id(r);)r=xy(r,t);return r&&Po(r)&&id(r)&&!Bp(r)?n:r||jL(e)||n}const ML=async function(e){const t=this.getOffsetParent||X1,n=this.getDimensions,r=await n(e.floating);return{reference:IL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LL(e){return bn(e).direction==="rtl"}const DL={convertOffsetParentRelativeRectToViewportRelativeRect:CL,getDocumentElement:$n,getClippingRect:RL,getOffsetParent:X1,getElementRects:ML,getClientRects:EL,getDimensions:OL,getScale:mo,isElement:jn,isRTL:LL};function Q1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $L(e,t){let n=null,r;const s=$n(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const j=Ya(f),v=Ya(s.clientWidth-(d+h)),w=Ya(s.clientHeight-(f+m)),x=Ya(d),g={rootMargin:-j+"px "+-v+"px "+-w+"px "+-x+"px",threshold:Ft(0,Fr(1,c))||1};let b=!0;function S(k){const E=k[0].intersectionRatio;if(E!==c){if(!b)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!Q1(u,e.getBoundingClientRect())&&a(),b=!1}try{n=new IntersectionObserver(S,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,g)}n.observe(e)}return a(!0),o}function FL(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Wp(e),d=s||o?[...u?ra(u):[],...ra(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=u&&l?$L(u,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=m)==null||g.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let j,v=c?_s(e):null;c&&w();function w(){const x=_s(e);v&&!Q1(v,x)&&n(),v=x,j=requestAnimationFrame(w)}return n(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(j)}}const VL=uL,UL=dL,BL=aL,zL=hL,WL=lL,wy=iL,qL=fL,HL=(e,t,n)=>{const r=new Map,s={platform:DL,...n},o={...s.platform,_c:r};return oL(e,t,{...s,platform:o})};var GL=typeof document<"u",KL=function(){},wl=GL?p.useLayoutEffect:KL;function fc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!fc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!fc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Z1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jy(e,t){const n=Z1(e);return Math.round(t*n)/n}function ad(e){const t=p.useRef(e);return wl(()=>{t.current=e}),t}function JL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);fc(h,r)||m(r);const[j,v]=p.useState(null),[w,x]=p.useState(null),y=p.useCallback(A=>{A!==k.current&&(k.current=A,v(A))},[]),g=p.useCallback(A=>{A!==E.current&&(E.current=A,x(A))},[]),b=o||j,S=a||w,k=p.useRef(null),E=p.useRef(null),_=p.useRef(d),C=c!=null,R=ad(c),I=ad(s),O=ad(u),F=p.useCallback(()=>{if(!k.current||!E.current)return;const A={placement:t,strategy:n,middleware:h};I.current&&(A.platform=I.current),HL(k.current,E.current,A).then(P=>{const V={...P,isPositioned:O.current!==!1};N.current&&!fc(_.current,V)&&(_.current=V,Ps.flushSync(()=>{f(V)}))})},[h,t,n,I,O]);wl(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const N=p.useRef(!1);wl(()=>(N.current=!0,()=>{N.current=!1}),[]),wl(()=>{if(b&&(k.current=b),S&&(E.current=S),b&&S){if(R.current)return R.current(b,S,F);F()}},[b,S,F,R,C]);const D=p.useMemo(()=>({reference:k,floating:E,setReference:y,setFloating:g}),[y,g]),T=p.useMemo(()=>({reference:b,floating:S}),[b,S]),L=p.useMemo(()=>{const A={position:n,left:0,top:0};if(!T.floating)return A;const P=jy(T.floating,d.x),V=jy(T.floating,d.y);return l?{...A,transform:"translate("+P+"px, "+V+"px)",...Z1(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:V}},[n,l,T.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:F,refs:D,elements:T,floatingStyles:L}),[d,F,D,T,L])}const YL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?wy({element:r.current,padding:s}).fn(n):{}:r?wy({element:r,padding:s}).fn(n):{}}}},XL=(e,t)=>({...VL(e),options:[e,t]}),QL=(e,t)=>({...UL(e),options:[e,t]}),ZL=(e,t)=>({...qL(e),options:[e,t]}),eD=(e,t)=>({...BL(e),options:[e,t]}),tD=(e,t)=>({...zL(e),options:[e,t]}),nD=(e,t)=>({...WL(e),options:[e,t]}),rD=(e,t)=>({...YL(e),options:[e,t]});var sD="Arrow",eb=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return i.jsx(de.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});eb.displayName=sD;var oD=eb;function tb(e){const[t,n]=p.useState(void 0);return lt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Hp="Popper",[nb,rb]=qr(Hp),[iD,sb]=nb(Hp),ob=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return i.jsx(iD,{scope:t,anchor:r,onAnchorChange:s,children:n})};ob.displayName=Hp;var ib="PopperAnchor",ab=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=sb(ib,n),a=p.useRef(null),l=Re(t,a);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:i.jsx(de.div,{...s,ref:l})});ab.displayName=ib;var Gp="PopperContent",[aD,lD]=nb(Gp),lb=p.forwardRef((e,t)=>{var G,me,ke,ge,le,_e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:j,...v}=e,w=sb(Gp,n),[x,y]=p.useState(null),g=Re(t,Ye=>y(Ye)),[b,S]=p.useState(null),k=tb(b),E=(k==null?void 0:k.width)??0,_=(k==null?void 0:k.height)??0,C=r+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,F={padding:R,boundary:I.filter(uD),altBoundary:O},{refs:N,floatingStyles:D,placement:T,isPositioned:L,middlewareData:A}=JL({strategy:"fixed",placement:C,whileElementsMounted:(...Ye)=>FL(...Ye,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[XL({mainAxis:s+_,alignmentAxis:a}),c&&QL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ZL():void 0,...F}),c&&eD({...F}),tD({...F,apply:({elements:Ye,rects:Et,availableWidth:Fn,availableHeight:Vn})=>{const{width:B,height:J}=Et.reference,ue=Ye.floating.style;ue.setProperty("--radix-popper-available-width",`${Fn}px`),ue.setProperty("--radix-popper-available-height",`${Vn}px`),ue.setProperty("--radix-popper-anchor-width",`${B}px`),ue.setProperty("--radix-popper-anchor-height",`${J}px`)}}),b&&rD({element:b,padding:l}),dD({arrowWidth:E,arrowHeight:_}),h&&nD({strategy:"referenceHidden",...F})]}),[P,V]=db(T),M=nn(j);lt(()=>{L&&(M==null||M())},[L,M]);const W=(G=A.arrow)==null?void 0:G.x,Q=(me=A.arrow)==null?void 0:me.y,ie=((ke=A.arrow)==null?void 0:ke.centerOffset)!==0,[fe,pe]=p.useState();return lt(()=>{x&&pe(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:L?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(ge=A.transformOrigin)==null?void 0:ge.x,(le=A.transformOrigin)==null?void 0:le.y].join(" "),...((_e=A.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(aD,{scope:n,placedSide:P,onArrowChange:S,arrowX:W,arrowY:Q,shouldHideArrow:ie,children:i.jsx(de.div,{"data-side":P,"data-align":V,...v,ref:g,style:{...v.style,animation:L?void 0:"none"}})})})});lb.displayName=Gp;var cb="PopperArrow",cD={top:"bottom",right:"left",bottom:"top",left:"right"},ub=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=lD(cb,r),a=cD[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(oD,{...s,ref:n,style:{...s.style,display:"block"}})})});ub.displayName=cb;function uD(e){return e!==null}var dD=e=>({name:"transformOrigin",options:e,fn(t){var w,x,y;const{placement:n,rects:r,middlewareData:s}=t,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=db(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let j="",v="";return u==="bottom"?(j=a?f:`${h}px`,v=`${-c}px`):u==="top"?(j=a?f:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(j=`${-c}px`,v=a?f:`${m}px`):u==="left"&&(j=`${r.floating.width+c}px`,v=a?f:`${m}px`),{data:{x:j,y:v}}}});function db(e){const[t,n="center"]=e.split("-");return[t,n]}var fD=ob,hD=ab,pD=lb,mD=ub;function fb(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vs=new WeakMap,Xa=new WeakMap,Qa={},ld=0,hb=function(e){return e&&(e.host||hb(e.parentNode))},vD=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yD=function(e,t,n,r){var s=vD(t,Array.isArray(e)?e:[e]);Qa[n]||(Qa[n]=new WeakMap);var o=Qa[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),j=m!==null&&m!=="false",v=(Vs.get(h)||0)+1,w=(o.get(h)||0)+1;Vs.set(h,v),o.set(h,w),a.push(h),v===1&&j&&Xa.set(h,!0),w===1&&h.setAttribute(n,"true"),j||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),ld++,function(){a.forEach(function(f){var h=Vs.get(f)-1,m=o.get(f)-1;Vs.set(f,h),o.set(f,m),h||(Xa.has(f)||f.removeAttribute(r),Xa.delete(f)),m||f.removeAttribute(n)}),ld--,ld||(Vs=new WeakMap,Vs=new WeakMap,Xa=new WeakMap,Qa={})}},pb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||gD(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),yD(r,s,n,"aria-hidden")):function(){return null}},kn=function(){return kn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},kn.apply(this,arguments)};function mb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function xD(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var jl="right-scroll-bar-position",bl="width-before-scroll-bar",wD="with-scroll-bars-hidden",jD="--removed-body-scroll-bar-size";function cd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bD(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var SD=typeof window<"u"?p.useLayoutEffect:p.useEffect,by=new WeakMap;function _D(e,t){var n=bD(t||null,function(r){return e.forEach(function(s){return cd(s,r)})});return SD(function(){var r=by.get(n);if(r){var s=new Set(r),o=new Set(e),a=n.current;s.forEach(function(l){o.has(l)||cd(l,null)}),o.forEach(function(l){s.has(l)||cd(l,a)})}by.set(n,e)},[e]),n}function CD(e){return e}function ED(e,t){t===void 0&&(t=CD);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function ND(e){e===void 0&&(e={});var t=ED(null);return t.options=kn({async:!0,ssr:!1},e),t}var gb=function(e){var t=e.sideCar,n=mb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,kn({},n))};gb.isSideCarExport=!0;function kD(e,t){return e.useMedium(t),gb}var vb=ND(),ud=function(){},eu=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:ud,onWheelCapture:ud,onTouchMoveCapture:ud}),s=r[0],o=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,j=e.noIsolation,v=e.inert,w=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,g=e.gapMode,b=mb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=_D([n,t]),E=kn(kn({},b),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:vb,removeScrollBar:u,shards:f,noRelative:m,noIsolation:j,inert:v,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:g}),a?p.cloneElement(p.Children.only(l),kn(kn({},E),{ref:k})):p.createElement(y,kn({},E,{className:c,ref:k}),l))});eu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eu.classNames={fullWidth:bl,zeroRight:jl};var Sy,TD=function(){if(Sy)return Sy;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=TD();return t&&e.setAttribute("nonce",t),e}function AD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function RD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var OD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=PD())&&(AD(t,n),RD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ID=function(){var e=OD();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yb=function(){var e=ID(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},MD={left:0,top:0,right:0,gap:0},dd=function(e){return parseInt(e||"",10)||0},LD=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[dd(n),dd(r),dd(s)]},DD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return MD;var t=LD(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},$D=yb(),go="data-scroll-locked",FD=function(e,t,n,r){var s=e.left,o=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(go,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(bl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bl," .").concat(bl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(go,`] {
    `).concat(jD,": ").concat(l,`px;
  }
`)},_y=function(){var e=parseInt(document.body.getAttribute(go)||"0",10);return isFinite(e)?e:0},VD=function(){p.useEffect(function(){return document.body.setAttribute(go,(_y()+1).toString()),function(){var e=_y()-1;e<=0?document.body.removeAttribute(go):document.body.setAttribute(go,e.toString())}},[])},UD=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;VD();var o=p.useMemo(function(){return DD(s)},[s]);return p.createElement($D,{styles:FD(o,!t,s,n?"":"!important")})},Kf=!1;if(typeof window<"u")try{var Za=Object.defineProperty({},"passive",{get:function(){return Kf=!0,!0}});window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Kf=!1}var Us=Kf?{passive:!1}:!1,BD=function(e){return e.tagName==="TEXTAREA"},xb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!BD(e)&&n[t]==="visible")},zD=function(e){return xb(e,"overflowY")},WD=function(e){return xb(e,"overflowX")},Cy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=wb(e,r);if(s){var o=jb(e,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},qD=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},HD=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},wb=function(e,t){return e==="v"?zD(t):WD(t)},jb=function(e,t){return e==="v"?qD(t):HD(t)},GD=function(e,t){return e==="h"&&t==="rtl"?-1:1},KD=function(e,t,n,r,s){var o=GD(e,window.getComputedStyle(t).direction),a=o*r,l=n.target,c=t.contains(l),u=!1,d=a>0,f=0,h=0;do{if(!l)break;var m=jb(e,l),j=m[0],v=m[1],w=m[2],x=v-w-o*j;(j||x)&&wb(e,l)&&(f+=x,h+=j);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(f)<1||!s&&a>f)||!d&&(s&&Math.abs(h)<1||!s&&-a>h))&&(u=!0),u},el=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ey=function(e){return[e.deltaX,e.deltaY]},Ny=function(e){return e&&"current"in e?e.current:e},JD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},XD=0,Bs=[];function QD(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(XD++)[0],o=p.useState(yb)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=xD([e.lockRef.current],(e.shards||[]).map(Ny),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var x=el(v),y=n.current,g="deltaX"in v?v.deltaX:y[0]-x[0],b="deltaY"in v?v.deltaY:y[1]-x[1],S,k=v.target,E=Math.abs(g)>Math.abs(b)?"h":"v";if("touches"in v&&E==="h"&&k.type==="range")return!1;var _=Cy(E,k);if(!_)return!0;if(_?S=E:(S=E==="v"?"h":"v",_=Cy(E,k)),!_)return!1;if(!r.current&&"changedTouches"in v&&(g||b)&&(r.current=S),!S)return!0;var C=r.current||S;return KD(C,w,v,C==="h"?g:b,!0)},[]),c=p.useCallback(function(v){var w=v;if(!(!Bs.length||Bs[Bs.length-1]!==o)){var x="deltaY"in w?Ey(w):el(w),y=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&JD(S.delta,x)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var g=(a.current.shards||[]).map(Ny).filter(Boolean).filter(function(S){return S.contains(w.target)}),b=g.length>0?l(w,g[0]):!a.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(v,w,x,y){var g={name:v,delta:w,target:x,should:y,shadowParent:ZD(x)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(b){return b!==g})},1)},[]),d=p.useCallback(function(v){n.current=el(v),r.current=void 0},[]),f=p.useCallback(function(v){u(v.type,Ey(v),v.target,l(v,e.lockRef.current))},[]),h=p.useCallback(function(v){u(v.type,el(v),v.target,l(v,e.lockRef.current))},[]);p.useEffect(function(){return Bs.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Us),document.addEventListener("touchmove",c,Us),document.addEventListener("touchstart",d,Us),function(){Bs=Bs.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Us),document.removeEventListener("touchmove",c,Us),document.removeEventListener("touchstart",d,Us)}},[]);var m=e.removeScrollBar,j=e.inert;return p.createElement(p.Fragment,null,j?p.createElement(o,{styles:YD(s)}):null,m?p.createElement(UD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ZD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const e4=kD(vb,QD);var bb=p.forwardRef(function(e,t){return p.createElement(eu,kn({},e,{ref:t,sideCar:e4}))});bb.classNames=eu.classNames;const Sb=bb;var t4=[" ","Enter","ArrowUp","ArrowDown"],n4=[" ","Enter"],Cs="Select",[tu,nu,r4]=np(Cs),[zo,dF]=qr(Cs,[r4,rb]),ru=rb(),[s4,Yr]=zo(Cs),[o4,i4]=zo(Cs),_b=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:j}=e,v=ru(t),[w,x]=p.useState(null),[y,g]=p.useState(null),[b,S]=p.useState(!1),k=Dp(u),[E,_]=bs({prop:r,defaultProp:s??!1,onChange:o,caller:Cs}),[C,R]=bs({prop:a,defaultProp:l,onChange:c,caller:Cs}),I=p.useRef(null),O=w?j||!!w.closest("form"):!0,[F,N]=p.useState(new Set),D=Array.from(F).map(T=>T.props.value).join(";");return i.jsx(fD,{...v,children:i.jsxs(s4,{required:m,scope:t,trigger:w,onTriggerChange:x,valueNode:y,onValueNodeChange:g,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:Ir(),value:C,onValueChange:R,open:E,onOpenChange:_,dir:k,triggerPointerDownPosRef:I,disabled:h,children:[i.jsx(tu.Provider,{scope:t,children:i.jsx(o4,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(T=>{N(L=>new Set(L).add(T))},[]),onNativeOptionRemove:p.useCallback(T=>{N(L=>{const A=new Set(L);return A.delete(T),A})},[]),children:n})}),O?i.jsxs(Kb,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:T=>R(T.target.value),disabled:h,form:j,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(F)]},D):null]})})};_b.displayName=Cs;var Cb="SelectTrigger",Eb=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=ru(n),a=Yr(Cb,n),l=a.disabled||r,c=Re(t,a.onTriggerChange),u=nu(n),d=p.useRef("touch"),[f,h,m]=Yb(v=>{const w=u().filter(g=>!g.disabled),x=w.find(g=>g.value===a.value),y=Xb(w,v,x);y!==void 0&&a.onValueChange(y.value)}),j=v=>{l||(a.onOpenChange(!0),m()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(hD,{asChild:!0,...o,children:i.jsx(de.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Jb(a.value)?"":void 0,...s,ref:c,onClick:oe(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&j(v)}),onPointerDown:oe(s.onPointerDown,v=>{d.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(j(v),v.preventDefault())}),onKeyDown:oe(s.onKeyDown,v=>{const w=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(w&&v.key===" ")&&t4.includes(v.key)&&(j(),v.preventDefault())})})})});Eb.displayName=Cb;var Nb="SelectValue",kb=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...l}=e,c=Yr(Nb,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Re(t,c.onValueNodeChange);return lt(()=>{u(d)},[u,d]),i.jsx(de.span,{...l,ref:f,style:{pointerEvents:"none"},children:Jb(c.value)?i.jsx(i.Fragment,{children:a}):o})});kb.displayName=Nb;var a4="SelectIcon",Tb=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(de.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});Tb.displayName=a4;var l4="SelectPortal",Pb=e=>i.jsx(Oc,{asChild:!0,...e});Pb.displayName=l4;var Es="SelectContent",Ab=p.forwardRef((e,t)=>{const n=Yr(Es,e.__scopeSelect),[r,s]=p.useState();if(lt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Ps.createPortal(i.jsx(Rb,{scope:e.__scopeSelect,children:i.jsx(tu.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),o):null}return i.jsx(Ob,{...e,ref:t})});Ab.displayName=Es;var ln=10,[Rb,Xr]=zo(Es),c4="SelectContentImpl",u4=Co("SelectContent.RemoveScroll"),Ob=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:j,hideWhenDetached:v,avoidCollisions:w,...x}=e,y=Yr(Es,n),[g,b]=p.useState(null),[S,k]=p.useState(null),E=Re(t,G=>b(G)),[_,C]=p.useState(null),[R,I]=p.useState(null),O=nu(n),[F,N]=p.useState(!1),D=p.useRef(!1);p.useEffect(()=>{if(g)return pb(g)},[g]),U1();const T=p.useCallback(G=>{const[me,...ke]=O().map(_e=>_e.ref.current),[ge]=ke.slice(-1),le=document.activeElement;for(const _e of G)if(_e===le||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===me&&S&&(S.scrollTop=0),_e===ge&&S&&(S.scrollTop=S.scrollHeight),_e==null||_e.focus(),document.activeElement!==le))return},[O,S]),L=p.useCallback(()=>T([_,g]),[T,_,g]);p.useEffect(()=>{F&&L()},[F,L]);const{onOpenChange:A,triggerPointerDownPosRef:P}=y;p.useEffect(()=>{if(g){let G={x:0,y:0};const me=ge=>{var le,_e;G={x:Math.abs(Math.round(ge.pageX)-(((le=P.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((_e=P.current)==null?void 0:_e.y)??0))}},ke=ge=>{G.x<=10&&G.y<=10?ge.preventDefault():g.contains(ge.target)||A(!1),document.removeEventListener("pointermove",me),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ke,{capture:!0})}}},[g,A,P]),p.useEffect(()=>{const G=()=>A(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[A]);const[V,M]=Yb(G=>{const me=O().filter(le=>!le.disabled),ke=me.find(le=>le.ref.current===document.activeElement),ge=Xb(me,G,ke);ge&&setTimeout(()=>ge.ref.current.focus())}),W=p.useCallback((G,me,ke)=>{const ge=!D.current&&!ke;(y.value!==void 0&&y.value===me||ge)&&(C(G),ge&&(D.current=!0))},[y.value]),Q=p.useCallback(()=>g==null?void 0:g.focus(),[g]),ie=p.useCallback((G,me,ke)=>{const ge=!D.current&&!ke;(y.value!==void 0&&y.value===me||ge)&&I(G)},[y.value]),fe=r==="popper"?Jf:Ib,pe=fe===Jf?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:j,hideWhenDetached:v,avoidCollisions:w}:{};return i.jsx(Rb,{scope:n,content:g,viewport:S,onViewportChange:k,itemRefCallback:W,selectedItem:_,onItemLeave:Q,itemTextRefCallback:ie,focusSelectedItem:L,selectedItemText:R,position:r,isPositioned:F,searchRef:V,children:i.jsx(Sb,{as:u4,allowPinchZoom:!0,children:i.jsx($p,{asChild:!0,trapped:y.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:oe(s,G=>{var me;(me=y.trigger)==null||me.focus({preventScroll:!0}),G.preventDefault()}),children:i.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(fe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:G=>G.preventDefault(),...x,...pe,onPlaced:()=>N(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:oe(x.onKeyDown,G=>{const me=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!me&&G.key.length===1&&M(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let ge=O().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(G.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const le=G.target,_e=ge.indexOf(le);ge=ge.slice(_e+1)}setTimeout(()=>T(ge)),G.preventDefault()}})})})})})})});Ob.displayName=c4;var d4="SelectItemAlignedPosition",Ib=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Yr(Es,n),a=Xr(Es,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=Re(t,E=>d(E)),h=nu(n),m=p.useRef(!1),j=p.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:x,focusSelectedItem:y}=a,g=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&v&&w&&x){const E=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(o.dir!=="rtl"){const le=R.left-_.left,_e=C.left-le,Ye=E.left-_e,Et=E.width+Ye,Fn=Math.max(Et,_.width),Vn=window.innerWidth-ln,B=iy(_e,[ln,Math.max(ln,Vn-Fn)]);l.style.minWidth=Et+"px",l.style.left=B+"px"}else{const le=_.right-R.right,_e=window.innerWidth-C.right-le,Ye=window.innerWidth-E.right-_e,Et=E.width+Ye,Fn=Math.max(Et,_.width),Vn=window.innerWidth-ln,B=iy(_e,[ln,Math.max(ln,Vn-Fn)]);l.style.minWidth=Et+"px",l.style.right=B+"px"}const I=h(),O=window.innerHeight-ln*2,F=v.scrollHeight,N=window.getComputedStyle(u),D=parseInt(N.borderTopWidth,10),T=parseInt(N.paddingTop,10),L=parseInt(N.borderBottomWidth,10),A=parseInt(N.paddingBottom,10),P=D+T+F+A+L,V=Math.min(w.offsetHeight*5,P),M=window.getComputedStyle(v),W=parseInt(M.paddingTop,10),Q=parseInt(M.paddingBottom,10),ie=E.top+E.height/2-ln,fe=O-ie,pe=w.offsetHeight/2,G=w.offsetTop+pe,me=D+T+G,ke=P-me;if(me<=ie){const le=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const _e=u.clientHeight-v.offsetTop-v.offsetHeight,Ye=Math.max(fe,pe+(le?Q:0)+_e+L),Et=me+Ye;l.style.height=Et+"px"}else{const le=I.length>0&&w===I[0].ref.current;l.style.top="0px";const Ye=Math.max(ie,D+v.offsetTop+(le?W:0)+pe)+ke;l.style.height=Ye+"px",v.scrollTop=me-ie+v.offsetTop}l.style.margin=`${ln}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,l,u,v,w,x,o.dir,r]);lt(()=>g(),[g]);const[b,S]=p.useState();lt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=p.useCallback(E=>{E&&j.current===!0&&(g(),y==null||y(),j.current=!1)},[g,y]);return i.jsx(h4,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:i.jsx(de.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ib.displayName=d4;var f4="SelectPopperPosition",Jf=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ln,...o}=e,a=ru(n);return i.jsx(pD,{...a,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jf.displayName=f4;var[h4,Kp]=zo(Es,{}),Yf="SelectViewport",Mb=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Xr(Yf,n),a=Kp(Yf,n),l=Re(t,o.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(tu.Slot,{scope:n,children:i.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const j=window.innerHeight-ln*2,v=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(v,w);if(x<j){const y=x+m,g=Math.min(j,y),b=y-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Mb.displayName=Yf;var Lb="SelectGroup",[p4,m4]=zo(Lb),g4=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ir();return i.jsx(p4,{scope:n,id:s,children:i.jsx(de.div,{role:"group","aria-labelledby":s,...r,ref:t})})});g4.displayName=Lb;var Db="SelectLabel",$b=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=m4(Db,n);return i.jsx(de.div,{id:s.id,...r,ref:t})});$b.displayName=Db;var hc="SelectItem",[v4,Fb]=zo(hc),Vb=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=e,l=Yr(hc,n),c=Xr(hc,n),u=l.value===r,[d,f]=p.useState(o??""),[h,m]=p.useState(!1),j=Re(t,y=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,y,r,s)}),v=Ir(),w=p.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(v4,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:p.useCallback(y=>{f(g=>g||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(tu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(de.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:j,onFocus:oe(a.onFocus,()=>m(!0)),onBlur:oe(a.onBlur,()=>m(!1)),onClick:oe(a.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:oe(a.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:oe(a.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:oe(a.onPointerMove,y=>{var g;w.current=y.pointerType,s?(g=c.onItemLeave)==null||g.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(a.onPointerLeave,y=>{var g;y.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:oe(a.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(n4.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});Vb.displayName=hc;var ui="SelectItemText",Ub=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,a=Yr(ui,n),l=Xr(ui,n),c=Fb(ui,n),u=i4(ui,n),[d,f]=p.useState(null),h=Re(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,j=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return lt(()=>(v(j),()=>w(j)),[v,w,j]),i.jsxs(i.Fragment,{children:[i.jsx(de.span,{id:c.textId,...o,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ps.createPortal(o.children,a.valueNode):null]})});Ub.displayName=ui;var Bb="SelectItemIndicator",zb=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Fb(Bb,n).isSelected?i.jsx(de.span,{"aria-hidden":!0,...r,ref:t}):null});zb.displayName=Bb;var Xf="SelectScrollUpButton",Wb=p.forwardRef((e,t)=>{const n=Xr(Xf,e.__scopeSelect),r=Kp(Xf,e.__scopeSelect),[s,o]=p.useState(!1),a=Re(t,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(Hb,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Wb.displayName=Xf;var Qf="SelectScrollDownButton",qb=p.forwardRef((e,t)=>{const n=Xr(Qf,e.__scopeSelect),r=Kp(Qf,e.__scopeSelect),[s,o]=p.useState(!1),a=Re(t,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(Hb,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});qb.displayName=Qf;var Hb=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Xr("SelectScrollButton",n),a=p.useRef(null),l=nu(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),lt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(de.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{c()})})}),y4="SelectSeparator",Gb=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(de.div,{"aria-hidden":!0,...r,ref:t})});Gb.displayName=y4;var Zf="SelectArrow",x4=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ru(n),o=Yr(Zf,n),a=Xr(Zf,n);return o.open&&a.position==="popper"?i.jsx(mD,{...s,...r,ref:t}):null});x4.displayName=Zf;var w4="SelectBubbleInput",Kb=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),o=Re(r,s),a=fb(t);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[a,t]),i.jsx(de.select,{...n,style:{...dw,...n.style},ref:o,defaultValue:t})});Kb.displayName=w4;function Jb(e){return e===""||e===void 0}function Yb(e){const t=nn(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Xb(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=j4(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function j4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var b4=_b,Qb=Eb,S4=kb,_4=Tb,C4=Pb,Zb=Ab,E4=Mb,eS=$b,tS=Vb,N4=Ub,k4=zb,nS=Wb,rS=qb,sS=Gb;const jt=b4,bt=S4,pt=ae.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(Qb,{ref:r,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(_4,{asChild:!0,children:i.jsx(Ow,{className:"h-4 w-4 opacity-50"})})]}));pt.displayName=Qb.displayName;const oS=ae.forwardRef(({className:e,...t},n)=>i.jsx(nS,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(a2,{className:"h-4 w-4"})}));oS.displayName=nS.displayName;const iS=ae.forwardRef(({className:e,...t},n)=>i.jsx(rS,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Ow,{className:"h-4 w-4"})}));iS.displayName=rS.displayName;const mt=ae.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(C4,{children:i.jsxs(Zb,{ref:s,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(oS,{}),i.jsx(E4,{className:Se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(iS,{})]})}));mt.displayName=Zb.displayName;const T4=ae.forwardRef(({className:e,...t},n)=>i.jsx(eS,{ref:n,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));T4.displayName=eS.displayName;const Le=ae.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(tS,{ref:r,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(k4,{children:i.jsx(i2,{className:"h-4 w-4"})})}),i.jsx(N4,{children:t})]}));Le.displayName=tS.displayName;const P4=ae.forwardRef(({className:e,...t},n)=>i.jsx(sS,{ref:n,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));P4.displayName=sS.displayName;const ky=[{value:"varejo",label:"Varejo"},{value:"atacado",label:"Atacado"},{value:"atacarejo",label:"Atacarejo"}],A4=Array.from({length:10},(e,t)=>t+1),Ty=()=>{const[e,t]=p.useState([]),[n,r]=p.useState({type:"percentage",value:0}),[s,o]=p.useState([]),[a,l]=p.useState({isOpen:!1,currentAmount:0,openingAmount:0,id:null,store_id:null}),[c,u]=p.useState(null),{toast:d}=vt(),f=Je(),h=!!(f!=null&&f.store_id)&&!It(f.role,K.VIEW_ALL_STORES_DATA),[m,j]=p.useState(0),[v,w]=p.useState(""),[x,y]=p.useState(null),[g,b]=p.useState([]),[S,k]=p.useState(!1),[E,_]=p.useState(1),[C,R]=p.useState([{method:"",amount:"",parcelas:1},{method:"",amount:"",parcelas:1}]),[I,O]=p.useState(!1),[F,N]=p.useState(!1),D=()=>{var B;return i.jsxs("div",{className:"space-y-6 max-w-2xl",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumo da Venda"}),i.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Modalidade:"})," ",(B=ky.find(J=>J.value===v))==null?void 0:B.label]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Vendedor:"})," ",x==null?void 0:x.name]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Tipo de venda:"})," ",I?"Troca":"Normal"]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Itens:"}),i.jsx("ul",{className:"ml-4 list-disc",children:e.map(J=>i.jsxs("li",{children:[J.name," - ",J.quantity," x R$ ",J.price.toFixed(2)," = R$ ",(J.price*J.quantity).toFixed(2)]},J.id))})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Total:"})," R$ ",fe().toFixed(2)]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Pagamentos:"}),i.jsx("ul",{className:"ml-4 list-disc",children:C.slice(0,E).map((J,ue)=>i.jsxs("li",{children:[ki[J.method]," - R$ ",parseFloat(J.amount).toFixed(2),J.method==="credit"?` (${J.parcelas}x)`:""]},ue))})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("input",{type:"checkbox",id:"troca",checked:I,onChange:J=>O(J.target.checked)}),i.jsxs("label",{htmlFor:"troca",className:"text-sm",children:["Esta venda é uma ",i.jsx("b",{children:"troca"})]})]})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx($,{onClick:async()=>{N(!0);try{const J={items:e.map(se=>({productId:se.productId,name:se.name,price:se.price,barcode:se.barcode,quantity:se.quantity,subtotal:se.subtotal})),subtotal:Q(),discount:ie(),total:fe(),payments:C.slice(0,E).map(se=>({method:se.method,amount:parseFloat(se.amount),parcelas:se.method==="credit"?se.parcelas:void 0})),cashier:f==null?void 0:f.name,cashierId:f==null?void 0:f.id,store_id:(c==null?void 0:c.id)||(f==null?void 0:f.store_id)||null,modalidade:v,vendedor_id:x==null?void 0:x.id,tipo_venda:I?"troca":"normal"},ue=await AM(J);try{const se=await En.getConfig();if(se.printer.enabled){const nt={...ue.sale,items:J.items,payments:J.payments,store_name:(c==null?void 0:c.name)||"Loja",user_id:f==null?void 0:f.id,store_id:(c==null?void 0:c.id)||(f==null?void 0:f.store_id)};await En.printReceipt(nt,se.printer),d({title:"Venda finalizada e recibo impresso!",description:`Venda #${ue.sale.id} criada e recibo impresso automaticamente.`,variant:"default"})}else d({title:"Venda finalizada com sucesso!",description:`Venda #${ue.sale.id} criada.`,variant:"default"})}catch(se){console.error("Erro ao imprimir recibo:",se),d({title:"Venda finalizada com sucesso!",description:`Venda #${ue.sale.id} criada. (Erro na impressão: ${se.message})`,variant:"default"})}try{const se=await wr.getConfig();if(se.nfe.enabled||se.sat.enabled){const nt={...ue.sale,items:J.items,payments:J.payments,store_name:(c==null?void 0:c.name)||"Loja",user_id:f==null?void 0:f.id,store_id:(c==null?void 0:c.id)||(f==null?void 0:f.store_id)},Lt=await wr.generateFiscalDocument(nt);d({title:"Documento fiscal gerado!",description:`Documento fiscal gerado automaticamente para venda #${ue.sale.id}.`,variant:"default"})}}catch(se){console.error("Erro ao gerar documento fiscal:",se)}W(),O(!1),j(0),y(null),R([{method:"",amount:"",parcelas:1},{method:"",amount:"",parcelas:1}]),_(1)}catch(J){d({title:"Erro ao finalizar venda",description:J.message||"Tente novamente.",variant:"destructive"})}finally{N(!1)}},disabled:F,children:F?"Finalizando...":"Finalizar Venda"}),i.jsx($,{variant:"ghost",onClick:()=>j(3),disabled:F,children:"Voltar"})]})]})};p.useEffect(()=>{m===1&&g.length===0&&(k(!0),L1().then(B=>{const J=B.filter(ue=>["manager","cashier","admin"].includes(ue.role));b(J)}).finally(()=>k(!1)))},[m,g.length]);const T=p.useCallback(async()=>{const B=await PM();l(B),h&&(f!=null&&f.store_id)?u({id:f.store_id,name:f.store_name||"Loja Física"}):u({id:null,name:"Loja Online"})},[h,f==null?void 0:f.store_id,f==null?void 0:f.store_name]);p.useEffect(()=>{T()},[T]);const L=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx(IM,{onProductFound:P,getProductByBarcode:Wf}),i.jsx(MM,{cart:e,onUpdateQuantity:V,onRemoveFromCart:M,onClearCart:W}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx($,{onClick:()=>e.length>0&&j(3),disabled:e.length===0,children:"Avançar"}),i.jsx($,{variant:"ghost",onClick:()=>j(1),children:"Voltar"})]})]}),A=B=>v==="varejo"&&B.price_varejo!=null?B.price_varejo:v==="atacado"&&B.price_atacado!=null?B.price_atacado:v==="atacarejo"&&B.price_atacarejo!=null?B.price_atacarejo:B.price,P=async B=>{var se,nt;if(h&&B.is_physical_store_stock&&(!B.stock||B.stock<=0)){d({title:"Sem estoque na sua loja",description:`O produto ${B.name} não tem estoque disponível na sua loja.`,variant:"warning"});return}if(!h&&(!B.stock||B.stock<=0)){d({title:"Sem estoque online",description:`O produto ${B.name} não tem estoque online disponível.`,variant:"warning"});return}const J=A(B),ue=e.find(Lt=>Lt.productId===B.id);if(ue)V(ue.id,ue.quantity+1,B.stock);else{const Lt={id:`${B.id}-${Date.now()}`,productId:B.id,name:B.name,price:J,barcode:B.barcode,quantity:1,size:((se=B.sizes)==null?void 0:se[0])||null,color:((nt=B.colors)==null?void 0:nt[0])||null,subtotal:J,product_main_store_id:B.store_id,max_available_stock:B.stock};t(q=>[...q,Lt])}d({title:"Produto adicionado",description:`${B.name} adicionado ao carrinho. Estoque disponível: ${B.stock}`})},V=(B,J,ue)=>{const se=e.find(Lt=>Lt.id===B);if(!se)return;const nt=ue!==void 0?ue:se.max_available_stock;if(J>nt&&(d({title:"Quantidade excede estoque",description:`Máximo de ${nt} unidades disponíveis.`,variant:"warning"}),J=nt),J<=0){M(B);return}t(Lt=>Lt.map(q=>q.id===B?{...q,quantity:J,subtotal:q.price*J}:q))},M=B=>{t(J=>J.filter(ue=>ue.id!==B))},W=()=>{t([]),o([]),r({type:"percentage",value:0})},Q=()=>e.reduce((B,J)=>B+J.subtotal,0),ie=()=>{const B=Q();return n.type==="percentage"?B*n.value/100:Math.min(n.value,B)},fe=()=>Q()-ie(),pe=()=>{if(!It(f==null?void 0:f.role,K.APPLY_DISCOUNTS)){d({title:"Sem permissão",description:"Você não tem permissão para aplicar descontos",variant:"destructive"});return}const B=prompt("Digite a porcentagem de desconto (ex: 10 para 10%):"),J=parseFloat(B);!isNaN(J)&&J>=0&&J<=100?(r({type:"percentage",value:J}),d({title:"Desconto aplicado",description:`${J}% de desconto.`})):B!==null&&d({title:"Valor inválido",description:"Por favor, insira um valor entre 0 e 100.",variant:"destructive"})},G=(B,J)=>{o(ue=>[...ue,{method:B,amount:parseFloat(J.toFixed(2)),id:Date.now()}])},me=async()=>{try{const B=await En.getConfig();if(!B.printer.enabled){d({title:"Impressora desabilitada",description:"Configure a impressora nas configurações de periféricos.",variant:"destructive"});return}const J={id:`PREVIEW_${Date.now()}`,items:e.map(ue=>({name:ue.name,quantity:ue.quantity,price:ue.price,subtotal:ue.subtotal})),subtotal:Q(),discount:ie(),total:fe(),payments:s.map(ue=>({method:ki[ue.method],amount:ue.amount})),store_name:(c==null?void 0:c.name)||"Loja",user_id:f==null?void 0:f.id,store_id:(c==null?void 0:c.id)||(f==null?void 0:f.store_id)};await En.printReceipt(J,B.printer),d({title:"Recibo impresso!",description:"Recibo enviado para impressão com sucesso.",variant:"default"})}catch(B){console.error("Erro ao imprimir recibo:",B),d({title:"Erro ao imprimir recibo",description:B.message||"Verifique a configuração da impressora.",variant:"destructive"})}},ke=()=>s.reduce((B,J)=>B+J.amount,0),ge=()=>fe()-ke(),le=()=>e.length>0&&ge()<=.001,_e=()=>e.length>0,Ye=(B,J,ue)=>{R(se=>se.map((nt,Lt)=>Lt===B?{...nt,[J]:ue}:nt))},Et=()=>i.jsxs("div",{className:"space-y-6 max-w-xl",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Formas de Pagamento"}),i.jsxs("div",{className:"flex gap-4 mb-2",children:[i.jsx($,{variant:E===1?"default":"outline",onClick:()=>_(1),children:"1 Forma"}),i.jsx($,{variant:E===2?"default":"outline",onClick:()=>_(2),children:"2 Formas"})]}),[...Array(E)].map((B,J)=>{var ue;return i.jsxs("div",{className:"border rounded-lg p-4 mb-2 bg-card",children:[i.jsxs("div",{className:"mb-2 font-medium",children:["Pagamento ",J+1]}),i.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[i.jsxs(jt,{value:C[J].method,onValueChange:se=>Ye(J,"method",se),children:[i.jsx(pt,{className:"w-40",children:i.jsx(bt,{placeholder:"Forma de Pagamento"})}),i.jsx(mt,{children:Object.entries(ki).map(([se,nt])=>i.jsx(Le,{value:se,children:nt},se))})]}),i.jsx(H,{type:"number",min:"0",step:"0.01",placeholder:"Valor",className:"w-32",value:C[J].amount,onChange:se=>Ye(J,"amount",se.target.value)}),C[J].method==="credit"&&i.jsxs(jt,{value:((ue=C[J].parcelas)==null?void 0:ue.toString())||"1",onValueChange:se=>Ye(J,"parcelas",parseInt(se)),children:[i.jsx(pt,{className:"w-28",children:i.jsx(bt,{placeholder:"Parcelas"})}),i.jsx(mt,{children:A4.map(se=>i.jsxs(Le,{value:se.toString(),children:[se,"x"]},se))})]})]})]},J)}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"font-medium",children:"Total da venda:"})," R$ ",fe().toFixed(2),i.jsx("br",{}),i.jsx("span",{className:"font-medium",children:"Total informado:"})," R$ ",ke().toFixed(2)]}),!le&&i.jsx("div",{className:"text-destructive text-sm mb-2",children:"Preencha todas as formas de pagamento corretamente e o valor total deve bater com o total da venda."}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx($,{onClick:()=>le&&j(4),disabled:!le,children:"Avançar"}),i.jsx($,{variant:"ghost",onClick:()=>j(2),children:"Voltar"})]})]}),Fn=()=>i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione a modalidade da venda"}),i.jsx("div",{className:"flex gap-4 mb-4",children:ky.map(B=>i.jsx($,{variant:v===B.value?"default":"outline",onClick:()=>w(B.value),className:"min-w-[120px]",children:B.label},B.value))}),i.jsx($,{onClick:()=>v&&j(1),disabled:!v,className:"mt-2",children:"Avançar"})]}),Vn=()=>i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selecione o vendedor responsável"}),S?i.jsx("div",{children:"Carregando vendedores..."}):i.jsx("div",{className:"flex flex-col gap-2 mb-4 max-w-md",children:g.map(B=>i.jsxs($,{variant:(x==null?void 0:x.id)===B.id?"default":"outline",onClick:()=>y(B),className:"justify-start",children:[B.name," ",i.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",B.role,")"]})]},B.id))}),i.jsx($,{onClick:()=>x&&j(2),disabled:!x,className:"mt-2",children:"Avançar"}),i.jsx($,{variant:"ghost",className:"mt-2 ml-2",onClick:()=>j(0),children:"Voltar"})]});return fe(),C.slice(0,E).reduce((B,J)=>B+(parseFloat(J.amount)||0),0),C.slice(0,E).every(B=>B.method&&B.amount&&!isNaN(parseFloat(B.amount))&&(B.method!=="credit"||B.parcelas)),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m===0&&Fn(),m===1&&Vn(),m===2&&L(),m===3&&Et(),m===4&&D()]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(LM,{subtotal:Q(),discountAmount:ie(),total:fe(),onApplyDiscount:pe}),i.jsx(DM,{cartLength:e.length,payments:s,totalPaid:ke(),remainingAmount:ge(),onAddPayment:G,onFinalizeSale:()=>j(3),canFinalize:le(),onPrintReceipt:me,canPrintReceipt:_e()}),i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(Ss,{className:"w-5 h-5"}),i.jsx("span",{children:"Status do Caixa"})]})}),i.jsxs(ne,{className:"space-y-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),i.jsx("p",{className:`font-bold ${a.isOpen?"text-green-600":"text-red-600"}`,children:a.isOpen?"ABERTO":"FECHADO"}),a.isOpen&&i.jsxs("p",{className:"text-lg font-bold",children:["R$ ",a.currentAmount.toFixed(2)]})]}),i.jsx("div",{className:"text-center",children:i.jsx($,{variant:"outline",size:"sm",onClick:()=>window.location.href="/cash-register",className:"w-full",children:"Gerenciar Caixa"})})]})]})]})]})},R4=({products:e,onEdit:t,onDelete:n,stores:r,currentUser:s})=>{if(e.length===0)return i.jsx(ee,{children:i.jsxs(ne,{className:"text-center py-12",children:[i.jsx(Rn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum produto encontrado"}),i.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro produto."})]})});const o=a=>{var l;return((l=r.find(c=>c.id===a))==null?void 0:l.name)||"Loja Desconhecida"};return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(a=>{var u,d,f;let l=a.stock,c="Est. Online/Geral";if(s&&s.store_id&&!((u=s.stores)!=null&&u.is_online_store)){const h=(d=a.physicalStocks)==null?void 0:d.find(m=>m.store_id===s.store_id);h?(l=h.quantity,c=`Est. ${s.stores.name}`):(l=0,c=`Est. ${s.stores.name}`)}return i.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:i.jsxs(ee,{className:"glass-effect flex flex-col h-full",children:[i.jsxs(je,{children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[a.image_url?i.jsx("img",{src:a.image_url,alt:a.name,className:"w-10 h-10 object-cover rounded-md border",onError:h=>{console.log("❌ Erro ao carregar imagem:",a.image_url,"para produto:",a.name),h.target.style.display="none",h.target.nextSibling.style.display="block"},onLoad:()=>{console.log("✅ Imagem carregada com sucesso:",a.image_url,"para produto:",a.name)}}):null,i.jsx(Rn,{className:`w-5 h-5 text-primary ${a.image_url?"hidden":"block"}`}),i.jsx(be,{className:"text-lg",children:a.name})]}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(po,{to:`/products/${a.id}`,children:i.jsx($,{variant:"ghost",size:"icon",children:i.jsx(lp,{className:"w-4 h-4"})})}),i.jsx($,{variant:"ghost",size:"icon",onClick:()=>t(a),children:i.jsx(Lc,{className:"w-4 h-4"})}),i.jsx($,{variant:"ghost",size:"icon",onClick:()=>n(a.id),className:"text-destructive hover:text-destructive",children:i.jsx($o,{className:"w-4 h-4"})})]})]}),i.jsxs("p",{className:"text-xs text-muted-foreground pt-1",children:["Cód: ",a.barcode]}),i.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:["Tipo: ",a.product_type==="variable"?"Variável":"Simples"]}),a.store_id&&i.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(Xi,{className:"w-3 h-3 mr-1"}),i.jsxs("span",{children:["Cadastrado em: ",o(a.store_id)]})]})]}),i.jsxs(ne,{className:"space-y-3 flex-grow flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Categoria:"}),i.jsx("p",{children:a.category||"-"})]})}),s&&(((f=s.stores)==null?void 0:f.is_online_store)||s.role==="admin")&&a.physicalStocks&&a.physicalStocks.length>0&&i.jsxs("div",{className:"mt-3 pt-2 border-t border-dashed",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Estoque nas Lojas Físicas:"}),i.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto text-xs",children:a.physicalStocks.map(h=>{var m;return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Iw,{className:"w-3 h-3 mr-1 text-muted-foreground"}),i.jsxs("span",{children:[((m=h.stores)==null?void 0:m.name)||o(h.store_id),":"]})]}),i.jsxs("span",{children:[h.quantity," un."]})]},h.id)})})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 border-t mt-3",children:[i.jsxs("span",{className:"text-xl font-bold text-primary",children:["R$ ",a.price.toFixed(2)]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`text-sm font-medium ${l<=a.min_stock?"text-orange-600":"text-green-600"}`,children:[c,": ",l]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Alerta Mín: ",a.min_stock]})]})]})]})]})},a.id)})})};var su="Dialog",[aS,fF]=qr(su),[O4,Sn]=aS(su),lS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=bs({prop:r,defaultProp:s??!1,onChange:o,caller:su});return i.jsx(O4,{scope:t,triggerRef:l,contentRef:c,contentId:Ir(),titleId:Ir(),descriptionId:Ir(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};lS.displayName=su;var cS="DialogTrigger",uS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(cS,n),o=Re(t,s.triggerRef);return i.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Xp(s.open),...r,ref:o,onClick:oe(e.onClick,s.onOpenToggle)})});uS.displayName=cS;var Jp="DialogPortal",[I4,dS]=aS(Jp,{forceMount:void 0}),fS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Sn(Jp,t);return i.jsx(I4,{scope:t,forceMount:n,children:p.Children.map(r,a=>i.jsx(Do,{present:n||o.open,children:i.jsx(Oc,{asChild:!0,container:s,children:a})}))})};fS.displayName=Jp;var pc="DialogOverlay",hS=p.forwardRef((e,t)=>{const n=dS(pc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Sn(pc,e.__scopeDialog);return o.modal?i.jsx(Do,{present:r||o.open,children:i.jsx(L4,{...s,ref:t})}):null});hS.displayName=pc;var M4=Co("DialogOverlay.RemoveScroll"),L4=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(pc,n);return i.jsx(Sb,{as:M4,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(de.div,{"data-state":Xp(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ns="DialogContent",pS=p.forwardRef((e,t)=>{const n=dS(Ns,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Sn(Ns,e.__scopeDialog);return i.jsx(Do,{present:r||o.open,children:o.modal?i.jsx(D4,{...s,ref:t}):i.jsx($4,{...s,ref:t})})});pS.displayName=Ns;var D4=p.forwardRef((e,t)=>{const n=Sn(Ns,e.__scopeDialog),r=p.useRef(null),s=Re(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return pb(o)},[]),i.jsx(mS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,o=>o.preventDefault())})}),$4=p.forwardRef((e,t)=>{const n=Sn(Ns,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return i.jsx(mS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),mS=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,l=Sn(Ns,n),c=p.useRef(null),u=Re(t,c);return U1(),i.jsxs(i.Fragment,{children:[i.jsx($p,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Rc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Xp(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(F4,{titleId:l.titleId}),i.jsx(U4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Yp="DialogTitle",gS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(Yp,n);return i.jsx(de.h2,{id:s.titleId,...r,ref:t})});gS.displayName=Yp;var vS="DialogDescription",yS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(vS,n);return i.jsx(de.p,{id:s.descriptionId,...r,ref:t})});yS.displayName=vS;var xS="DialogClose",wS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(xS,n);return i.jsx(de.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});wS.displayName=xS;function Xp(e){return e?"open":"closed"}var jS="DialogTitleWarning",[hF,bS]=uk(jS,{contentName:Ns,titleName:Yp,docsSlug:"dialog"}),F4=({titleId:e})=>{const t=bS(jS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},V4="DialogDescriptionWarning",U4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bS(V4).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},B4=lS,z4=uS,W4=fS,SS=hS,_S=pS,CS=gS,ES=yS,q4=wS;const Mn=B4,vo=z4,H4=W4,NS=ae.forwardRef(({className:e,...t},n)=>i.jsx(SS,{ref:n,className:Se("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));NS.displayName=SS.displayName;const gn=ae.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(H4,{children:[i.jsx(NS,{}),i.jsxs(_S,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(q4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(cp,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gn.displayName=_S.displayName;const vn=({className:e,...t})=>i.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vn.displayName="DialogHeader";const yn=ae.forwardRef(({className:e,...t},n)=>i.jsx(CS,{ref:n,className:Se("text-lg font-semibold leading-none tracking-tight",e),...t}));yn.displayName=CS.displayName;const kS=ae.forwardRef(({className:e,...t},n)=>i.jsx(ES,{ref:n,className:Se("text-sm text-muted-foreground",e),...t}));kS.displayName=ES.displayName;const G4=async()=>{try{const e=Je();let t=te.from("categories").select("*").order("name");(e==null?void 0:e.role)!=="admin"&&(e!=null&&e.store_id)?t=t.eq("store_id",e.store_id):(e==null?void 0:e.role)!=="admin"&&(t=t.is("store_id",null));const{data:n,error:r}=await t;if(r)throw console.error("Erro ao buscar categorias:",r),new Error("Erro ao buscar categorias");return n||[]}catch(e){throw console.error("Erro em getCategories:",e),e}},K4=async e=>{try{const t=Je(),n={...e,store_id:(t==null?void 0:t.store_id)||null},{data:r,error:s}=await te.from("categories").insert([n]).select().single();if(s)throw console.error("Erro ao adicionar categoria:",s),new Error("Erro ao adicionar categoria");return r}catch(t){throw console.error("Erro em addCategory:",t),t}},J4=async(e,t)=>{try{const{data:n,error:r}=await te.from("categories").update(t).eq("id",e).select().single();if(r)throw console.error("Erro ao atualizar categoria:",r),new Error("Erro ao atualizar categoria");return n}catch(n){throw console.error("Erro em updateCategory:",n),n}},Y4=async e=>{try{const{error:t}=await te.from("categories").delete().eq("id",e);if(t)throw console.error("Erro ao deletar categoria:",t),new Error("Erro ao deletar categoria");return!0}catch(t){throw console.error("Erro em deleteCategory:",t),t}},X4=async()=>{try{const e=Je();let t=te.from("categories").select("*").eq("active",!0).order("name");(e==null?void 0:e.role)!=="admin"&&(e!=null&&e.store_id)?t=t.eq("store_id",e.store_id):(e==null?void 0:e.role)!=="admin"&&(t=t.is("store_id",null));const{data:n,error:r}=await t;if(r)throw console.error("Erro ao buscar categorias ativas:",r),new Error("Erro ao buscar categorias ativas");return n||[]}catch(e){throw console.error("Erro em getActiveCategories:",e),e}},Q4=async e=>{try{const{data:t,error:n}=await te.from("products").select("id, name").eq("category",e).limit(1);if(n)throw console.error("Erro ao verificar uso da categoria:",n),new Error("Erro ao verificar uso da categoria");return t.length>0}catch(t){throw console.error("Erro em checkCategoryUsage:",t),t}},un={SIMPLE:"simple",VARIABLE:"variable"},Z4=({formData:e,handleInputChange:t,handleProductTypeChange:n,categories:r=[]})=>i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"name",children:"Nome do Produto *"}),i.jsx(H,{id:"name",name:"name",value:e.name,onChange:t,required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"category",children:"Categoria"}),i.jsxs(jt,{name:"category",value:e.category,onValueChange:s=>t({target:{name:"category",value:s}}),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione a categoria"})}),i.jsx(mt,{children:r.map(s=>i.jsx(Le,{value:s.name,children:s.name},s.id))})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"barcode",children:"Código de Barras Principal *"}),i.jsx(H,{id:"barcode",name:"barcode",value:e.barcode,onChange:t,required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"price",children:"Preço Principal *"}),i.jsx(H,{id:"price",name:"price",type:"number",step:"0.01",value:e.price,onChange:t,required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"price_varejo",children:"Preço de Varejo"}),i.jsx(H,{id:"price_varejo",name:"price_varejo",type:"number",step:"0.01",value:e.price_varejo||"",onChange:t})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"price_atacado",children:"Preço de Atacado"}),i.jsx(H,{id:"price_atacado",name:"price_atacado",type:"number",step:"0.01",value:e.price_atacado||"",onChange:t})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"price_atacarejo",children:"Cliente Exclusivo"}),i.jsx(H,{id:"price_atacarejo",name:"price_atacarejo",type:"number",step:"0.01",value:e.price_atacarejo||"",onChange:t})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"product_type",children:"Tipo de Produto *"}),i.jsxs(jt,{name:"product_type",value:e.product_type,onValueChange:n,children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione o tipo"})}),i.jsxs(mt,{children:[i.jsx(Le,{value:un.SIMPLE,children:"Produto Simples"}),i.jsx(Le,{value:un.VARIABLE,children:"Produto Variável"})]})]})]}),e.product_type===un.SIMPLE&&i.jsxs("div",{children:[i.jsx(z,{htmlFor:"stock",children:"Estoque (Simples) *"}),i.jsx(H,{id:"stock",name:"stock",type:"number",value:e.stock,onChange:t,required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"referencia",children:"Referência *"}),i.jsx(H,{id:"referencia",name:"referencia",value:e.referencia||"",onChange:t,required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"min_stock",children:"Estoque Mínimo Global (Alerta)"}),i.jsx(H,{id:"min_stock",name:"min_stock",type:"number",value:e.min_stock,onChange:t})]})]}),i.jsxs("div",{className:"pt-4 border-t mt-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dimensões e Peso (para frete)"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"weight",children:"Peso (kg)"}),i.jsx(H,{id:"weight",name:"weight",type:"number",step:"0.01",value:e.weight,onChange:t})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"length",children:"Comprimento (cm)"}),i.jsx(H,{id:"length",name:"length",type:"number",step:"0.1",value:e.length,onChange:t})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"height",children:"Altura (cm)"}),i.jsx(H,{id:"height",name:"height",type:"number",step:"0.1",value:e.height,onChange:t})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"width",children:"Largura (cm)"}),i.jsx(H,{id:"width",name:"width",type:"number",step:"0.1",value:e.width,onChange:t})]})]})]})]}),TS=({title:e,imageUrlPreview:t,handleImageChange:n,imageInputRef:r,idPrefix:s="main"})=>i.jsxs("div",{className:"pt-4 border-t mt-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:e}),i.jsx(H,{type:"file",accept:"image/*",onChange:n,ref:r,className:"mb-2",id:`${s}_image_upload`}),t&&i.jsx("img",{src:t,alt:`Preview ${e}`,className:"w-32 h-32 object-cover rounded-md border"})]}),e$=({variations:e,handleVariationChange:t,handleVariationAttributeChange:n,removeVariation:r,addVariation:s,handleVariationImageChange:o,variationImageUrlPreviews:a})=>!e||e.length===0?i.jsx("div",{className:"pt-4 border-t mt-6",children:i.jsxs($,{type:"button",variant:"outline",onClick:s,children:[i.jsx(wn,{className:"w-4 h-4 mr-2"}),"Adicionar Primeira Variação"]})}):i.jsxs("div",{className:"pt-4 border-t mt-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Variações do Produto"}),e.map((l,c)=>i.jsxs("div",{className:"p-4 border rounded-md mb-4 space-y-3 bg-muted/20 relative",children:[i.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-destructive",onClick:()=>r(c),children:i.jsx($o,{className:"w-4 h-4"})}),i.jsxs("p",{className:"font-semibold text-md",children:["Variação ",c+1]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(l.attributes||[{name:"",value:""}]).map((u,d)=>i.jsxs(ae.Fragment,{children:[i.jsxs("div",{children:[i.jsxs(z,{htmlFor:`variation_${c}_attribute_name_${d}`,children:["Nome do Atributo ",d+1," (Ex: Cor, Tamanho)"]}),i.jsx(H,{id:`variation_${c}_attribute_name_${d}`,value:u.name,onChange:f=>n(c,d,"name",f.target.value)})]}),i.jsxs("div",{children:[i.jsxs(z,{htmlFor:`variation_${c}_attribute_value_${d}`,children:["Valor do Atributo ",d+1," (Ex: Azul, M)"]}),i.jsx(H,{id:`variation_${c}_attribute_value_${d}`,value:u.value,onChange:f=>n(c,d,"value",f.target.value)})]})]},d))}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:`variation_sku_${c}`,children:"SKU da Variação"}),i.jsx(H,{id:`variation_sku_${c}`,value:l.sku||"",onChange:u=>t(c,"sku",u.target.value)})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:`variation_barcode_${c}`,children:"Cód. Barras Variação"}),i.jsx(H,{id:`variation_barcode_${c}`,value:l.barcode||"",onChange:u=>t(c,"barcode",u.target.value),onKeyDown:u=>{var d;if(u.key==="Enter"){u.preventDefault(),u.stopPropagation();const f=(d=u.target.closest("form"))==null?void 0:d.querySelector(`#variation_referencia_${c}`);f&&f.focus()}}})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:`variation_referencia_${c}`,children:"Referência"}),i.jsx(H,{id:`variation_referencia_${c}`,value:l.referencia||"",onChange:u=>t(c,"referencia",u.target.value)})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:`variation_price_${c}`,children:"Preço Variação (opcional)"}),i.jsx(H,{id:`variation_price_${c}`,type:"number",step:"0.01",value:l.price||"",onChange:u=>t(c,"price",u.target.value),placeholder:"Usar preço principal"})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:`variation_price_varejo_${c}`,children:"Preço Varejo"}),i.jsx(H,{id:`variation_price_varejo_${c}`,type:"number",step:"0.01",value:l.price_varejo||"",onChange:u=>t(c,"price_varejo",u.target.value)})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:`variation_price_atacado_${c}`,children:"Preço Atacado"}),i.jsx(H,{id:`variation_price_atacado_${c}`,type:"number",step:"0.01",value:l.price_atacado||"",onChange:u=>t(c,"price_atacado",u.target.value)})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:`variation_price_atacarejo_${c}`,children:"Cliente Exclusivo"}),i.jsx(H,{id:`variation_price_atacarejo_${c}`,type:"number",step:"0.01",value:l.price_atacarejo||"",onChange:u=>t(c,"price_atacarejo",u.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:`variation_stock_${c}`,children:"Estoque da Variação *"}),i.jsx(H,{id:`variation_stock_${c}`,type:"number",value:l.stock||"0",onChange:u=>t(c,"stock",u.target.value),required:!0})]}),i.jsx(TS,{title:"Imagem da Variação (opcional)",imageUrlPreview:a[c],handleImageChange:u=>o(c,u),idPrefix:`variation_${c}`})]},c)),i.jsxs($,{type:"button",variant:"outline",onClick:s,children:[i.jsx(wn,{className:"w-4 h-4 mr-2"}),"Adicionar Variação"]})]}),t$=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingProduct:o,resetForm:a,onStockShared:l})=>{const[c,u]=p.useState([]),[d,f]=p.useState([]),[h,m]=p.useState(!1),[j,v]=p.useState(""),[w,x]=p.useState(""),[y,g]=p.useState([]),[b,S]=p.useState([]),[k,E]=p.useState(null),[_,C]=p.useState(""),[R,I]=p.useState({}),[O,F]=p.useState({}),[N,D]=p.useState([]),[T,L]=p.useState([]),[A,P]=p.useState(!1),[V,M]=p.useState(n.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""});p.useRef(null);const{toast:W}=vt(),Q=Je(),ie={name:"",category:"",barcode:"",price:"",price_varejo:"",price_atacado:"",price_atacarejo:"",referencia:"",stock:"0",min_stock:"0",active:!0,weight:"",length:"",height:"",width:"",product_type:un.SIMPLE,image_url:""};p.useEffect(()=>{var q,X,xe,Oe,Ee,rn,Wo,au,tm,nm;if(o){r({name:o.name||"",category:o.category||"",barcode:o.barcode||"",price:((q=o.price)==null?void 0:q.toString())||"",price_varejo:((X=o.price_varejo)==null?void 0:X.toString())||"",price_atacado:((xe=o.price_atacado)==null?void 0:xe.toString())||"",price_atacarejo:((Oe=o.price_atacarejo)==null?void 0:Oe.toString())||"",referencia:o.referencia||"",stock:o.product_type===un.SIMPLE&&((Ee=o.stock)==null?void 0:Ee.toString())||"0",min_stock:((rn=o.min_stock)==null?void 0:rn.toString())||"0",active:o.active!==void 0?o.active:!0,weight:((Wo=o.weight)==null?void 0:Wo.toString())||"",length:((au=o.length)==null?void 0:au.toString())||"",height:((tm=o.height)==null?void 0:tm.toString())||"",width:((nm=o.width)==null?void 0:nm.toString())||"",product_type:o.product_type||un.SIMPLE,image_url:o.image_url||""}),S(o.variations||[]),C(o.image_url||"");const rm={};(o.variations||[]).forEach((sm,r_)=>{sm.image_url&&(rm[r_]=sm.image_url)}),F(rm)}else r(ie),S([]),C(""),F({})},[o,e,r]),p.useEffect(()=>{M(n.medidas||{ombro:"",busto:"",cintura:"",quadril:"",comprimento:"",manga:"",tornozelo:""})},[n.medidas]);const fe=()=>{const q=n.category,X=["Camiseta","Gola Média","Camisa","Blazer","Jaqueta","Súeter"],xe=["Calças","Bermudas"];return X.includes(q)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"busto",label:"Busto"},{name:"cintura",label:"Cintura"},{name:"ombro",label:"Ombro"},{name:"manga",label:"Manga"}]:xe.includes(q)?[{name:"tamanho",label:"Tamanho"},{name:"comprimento",label:"Comprimento"},{name:"cintura",label:"Cintura"},{name:"tornozelo",label:"Tornozelo"}]:[]};p.useEffect(()=>{(async()=>{const X=await Jr(!0);u(X||[])})()},[]),p.useEffect(()=>{(async()=>{try{const X=await X4();f(X||[])}catch(X){console.error("Erro ao buscar categorias:",X)}})()},[]),p.useEffect(()=>{e&&o&&(async()=>{if(o&&o.id){const X=await To(o.id);g(X||[])}else g([])})()},[e,o]);const pe=q=>{const{name:X,value:xe}=q.target;r(Oe=>({...Oe,[X]:xe}))},G=q=>{const{name:X,value:xe}=q.target;M(Oe=>({...Oe,[X]:xe}))},me=()=>{r(q=>({...q,medidas:V})),P(!1)},ke=q=>{r(X=>({...X,product_type:q,stock:q===un.SIMPLE?X.stock:"0"})),q===un.SIMPLE?S([]):b.length===0&&ge()},ge=()=>{S(q=>[...q,{attributes:[{name:"Cor",value:""},{name:"Tamanho",value:""}],sku:"",barcode:"",price:"",stock:"0",image_url:""}])},le=(q,X,xe)=>{const Oe=[...b];Oe[q][X]=xe,S(Oe)},_e=(q,X,xe,Oe)=>{const Ee=[...b];Ee[q].attributes||(Ee[q].attributes=[]),Ee[q].attributes[X]||(Ee[q].attributes[X]={name:"",value:""}),Ee[q].attributes[X][xe]=Oe,S(Ee)},Ye=q=>{S(X=>X.filter((xe,Oe)=>Oe!==q)),I(X=>{const xe={...X};return delete xe[q],xe}),F(X=>{const xe={...X};return delete xe[q],xe})},Et=q=>{const X=q.target.files[0];X&&(E(X),C(URL.createObjectURL(X)))},Fn=(q,X)=>{const xe=X.target.files[0];xe&&(I(Oe=>({...Oe,[q]:xe})),F(Oe=>({...Oe,[q]:URL.createObjectURL(xe)})))},Vn=q=>{const X=Array.from(q.target.files);D(X),L(X.map(xe=>URL.createObjectURL(xe)))},B=async(q,X="img-products")=>{if(!q)return null;const xe=`${Date.now()}_${q.name.replace(/\s/g,"_")}`,{data:Oe,error:Ee}=await te.storage.from(X).upload(xe,q);if(Ee)throw W({title:"Erro no Upload da Imagem",description:Ee.message,variant:"destructive"}),Ee;const{data:{publicUrl:rn}}=te.storage.from(X).getPublicUrl(xe);return rn},J=async q=>{q.preventDefault(),await ue()},ue=async()=>{let q=n.image_url;if(k)try{q=await B(k)}catch{return}let X=[];N.length>0&&(X=await Promise.all(N.map(async Ee=>{try{return await B(Ee)}catch{return null}})),X=X.filter(Boolean));const xe=await Promise.all(b.map(async(Ee,rn)=>{let Wo=Ee.image_url;if(R[rn])try{Wo=await B(R[rn])}catch{throw new Error(`Erro ao fazer upload da imagem para variação ${rn+1}.`)}return{...Ee,image_url:Wo,price:parseFloat(Ee.price)||null,stock:parseInt(Ee.stock)||0}})).catch(Ee=>(W({title:"Erro no processamento de variações",description:Ee.message,variant:"destructive"}),null));if(!xe&&b.length>0)return;const Oe={...n,referencia:n.referencia,image_url:q,variations:n.product_type===un.VARIABLE?xe:[],weight:parseFloat(n.weight)||null,length:parseFloat(n.length)||null,height:parseFloat(n.height)||null,width:parseFloat(n.width)||null};Oe.product_type===un.VARIABLE?Oe.stock=(xe||[]).reduce((Ee,rn)=>Ee+(parseInt(rn.stock)||0),0):Oe.stock=parseInt(n.stock)||0,s(Oe,X)},se=async()=>{if(!o||!j||!w){W({title:"Erro",description:"Selecione produto, loja e quantidade para compartilhar.",variant:"destructive"});return}const q=parseInt(w);if(isNaN(q)||q<=0){W({title:"Erro",description:"Quantidade inválida.",variant:"destructive"});return}try{await SM(o.id,j,q,null),W({title:"Estoque Compartilhado!",description:`${q} unidades compartilhadas com sucesso.`}),v(""),x(""),m(!1);const X=await To(o.id);g(X||[]),l&&l()}catch(X){W({title:"Erro ao compartilhar",description:X.message,variant:"destructive"})}},nt=Q&&It(Q.role,K.SHARE_STOCK),Lt=()=>{t(!1),a(),m(!1),v(""),x(""),g([]),S([]),E(null),C(""),I({}),F({})};return i.jsxs(Mn,{open:e,onOpenChange:q=>{q?t(!0):Lt()},children:[i.jsx(vo,{asChild:!0,children:i.jsxs($,{children:[i.jsx(wn,{className:"w-4 h-4 mr-2"}),"Novo Produto"]})}),i.jsxs(gn,{className:"max-w-4xl",children:[i.jsx(vn,{children:i.jsx(yn,{children:o?"Editar Produto":"Novo Produto"})}),i.jsxs("form",{onSubmit:J,className:"space-y-6 max-h-[80vh] overflow-y-auto p-2",children:[i.jsx(Z4,{formData:n,handleInputChange:pe,handleProductTypeChange:ke,categories:d}),i.jsx(TS,{title:"Imagem Principal (opcional)",imageUrlPreview:_,handleImageChange:Et,idPrefix:"main"}),i.jsxs("div",{className:"mt-4",children:[i.jsx(z,{children:"Imagens do Produto (várias)"}),i.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[T.map((q,X)=>i.jsxs("div",{className:`relative group rounded-lg shadow-md border bg-background ${X===0?"ring-2 ring-primary":""}`,children:[i.jsx("img",{src:q,alt:`Imagem ${X+1}`,className:"w-24 h-24 object-cover rounded-lg transition-transform group-hover:scale-105"}),X===0&&i.jsx("span",{className:"absolute top-1 left-1 bg-primary text-xs text-white px-2 py-0.5 rounded shadow",children:"Destaque"}),i.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-destructive text-white rounded-full p-1 opacity-80 hover:opacity-100",onClick:()=>{D(xe=>xe.filter((Oe,Ee)=>Ee!==X)),L(xe=>xe.filter((Oe,Ee)=>Ee!==X))},title:"Remover imagem",children:"×"})]},X)),i.jsxs("label",{className:"flex flex-col items-center justify-center w-24 h-24 border-2 border-dashed border-muted-foreground rounded-lg cursor-pointer hover:bg-muted transition",children:[i.jsx("span",{className:"text-3xl text-muted-foreground",children:"+"}),i.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:Vn})]})]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"A primeira imagem será a de destaque."})]}),n.product_type===un.VARIABLE&&i.jsx(e$,{variations:b,handleVariationChange:le,handleVariationAttributeChange:_e,removeVariation:Ye,addVariation:ge,handleVariationImageChange:Fn,variationImageUrlPreviews:O}),o&&nt&&i.jsxs("div",{className:"pt-4 border-t mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Compartilhar Estoque com Lojas Físicas"}),i.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:()=>m(!h),children:[i.jsx(S2,{className:"w-4 h-4 mr-2"}),h?"Fechar":"Abrir"," Compartilhamento"]})]}),h&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-md bg-muted/30",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"shareStoreId",children:"Loja Física"}),i.jsxs(jt,{value:j,onValueChange:v,children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione a loja"})}),i.jsx(mt,{children:c.map(q=>i.jsx(Le,{value:q.id,children:q.name},q.id))})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"shareQuantity",children:"Qtd. a Compartilhar"}),i.jsx("input",{id:"shareQuantity",type:"number",min:"1",value:w,onChange:q=>x(q.target.value),className:"input w-full border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 rounded-md"})]}),i.jsx("div",{className:"md:self-end",children:i.jsx($,{type:"button",onClick:se,className:"w-full",children:"Compartilhar"})})]}),y.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Estoque Compartilhado:"}),y.map(q=>{var X;return i.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-background rounded-md",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Iw,{className:"w-4 h-4 mr-2 text-muted-foreground"}),i.jsx("span",{children:((X=q.stores)==null?void 0:X.name)||"Loja desconhecida"})]}),i.jsxs("span",{children:[q.quantity," unidades"]})]},q.id)})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-6 border-t",children:[i.jsx($,{type:"button",variant:"outline",onClick:Lt,children:"Cancelar"}),i.jsxs($,{type:"submit",children:[o?"Atualizar":"Criar"," Produto"]})]})]}),i.jsx($,{type:"button",variant:"outline",className:"mt-2",onClick:()=>P(!0),children:"Adicionar Medidas"}),i.jsx(Mn,{open:A,onOpenChange:P,children:i.jsxs(gn,{children:[i.jsx(vn,{children:i.jsx(yn,{children:"Medidas da Peça"})}),n.category?i.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:fe().map(q=>i.jsxs("div",{children:[i.jsx(z,{children:q.label}),i.jsx(H,{name:q.name,value:V[q.name]||"",onChange:G})]},q.name))}):i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Selecione uma categoria primeiro para ver os campos de medidas disponíveis."}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx($,{type:"button",variant:"ghost",onClick:()=>P(!1),children:"Cancelar"}),i.jsx($,{type:"button",onClick:me,children:"Salvar"})]})]})})]})]})},n$=({products:e})=>e.length===0?null:i.jsxs(ee,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2 text-orange-700 dark:text-orange-300",children:[i.jsx(n2,{className:"w-5 h-5"}),i.jsx("span",{children:"Produtos com Estoque Baixo"})]})}),i.jsx(ne,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.map(t=>i.jsxs("div",{className:"text-sm p-2 bg-orange-100 dark:bg-orange-900/50 rounded",children:[i.jsx("span",{className:"font-medium",children:t.name}),i.jsxs("span",{className:"text-orange-600 dark:text-orange-400 ml-2",children:["(Estoque: ",t.stock," / Mín: ",t.min_stock,")"]})]},t.id))})})]}),r$=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(""),[s,o]=p.useState(null),[a,l]=p.useState(!1),[c,u]=p.useState(!0),[d,f]=p.useState([]),{toast:h}=vt(),m=Je(),[j,v]=p.useState({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),[w,x]=p.useState({barcode:"",sku:"",referencia:"",name:""}),y=I=>{const{name:O,value:F}=I.target;x(N=>({...N,[O]:F}))},g=e.filter(I=>{var O,F,N,D;return(!w.barcode||((O=I.barcode)==null?void 0:O.toLowerCase().includes(w.barcode.toLowerCase())))&&(!w.sku||((F=I.sku)==null?void 0:F.toLowerCase().includes(w.sku.toLowerCase()))||I.variations&&I.variations.some(T=>{var L;return(L=T.sku)==null?void 0:L.toLowerCase().includes(w.sku.toLowerCase())}))&&(!w.referencia||((N=I.referencia)==null?void 0:N.toLowerCase().includes(w.referencia.toLowerCase()))||I.variations&&I.variations.some(T=>{var L;return(L=T.referencia)==null?void 0:L.toLowerCase().includes(w.referencia.toLowerCase())}))&&(!w.name||((D=I.name)==null?void 0:D.toLowerCase().includes(w.name.toLowerCase())))}),b=p.useCallback(async()=>{u(!0);try{const[I,O]=await Promise.all([D1(),Jr()]),F=await Promise.all((I||[]).map(async N=>{const D=await To(N.id);return{...N,physicalStocks:D||[]}}));t(F),f(O||[])}catch(I){h({title:"Erro ao carregar produtos ou lojas",description:I.message,variant:"destructive"})}finally{u(!1)}},[h,m==null?void 0:m.store_id,m==null?void 0:m.role]);p.useEffect(()=>{b()},[b]);const S=()=>{v({name:"",category:"",brand:"",barcode:"",sizes:"",colors:"",price:"",stock:"",min_stock:"",active:!0}),o(null)},k=async I=>{var F,N;console.log("🚀 Iniciando criação de produto..."),console.log("📋 Dados recebidos:",I);const O={...I,price:parseFloat(I.price)||0,stock:parseInt(I.stock)||0,min_stock:parseInt(I.min_stock)||0,sizes:I.sizes?I.sizes.split(",").map(D=>D.trim()).filter(D=>D):[],colors:I.colors?I.colors.split(",").map(D=>D.trim()).filter(D=>D):[]};if(console.log("📦 Dados processados:",O),!O.name||!O.barcode||!O.price||isNaN(O.stock)){console.log("❌ Erro de validação:",{name:O.name,barcode:O.barcode,price:O.price,stock:O.stock}),h({title:"Erro de Validação",description:"Nome, Código de Barras, Preço e Estoque Online são obrigatórios.",variant:"destructive"});return}u(!0);try{if(console.log("🏪 Verificando loja..."),!s&&!((F=m==null?void 0:m.stores)!=null&&F.is_online_store)){const D=d.find(T=>T.is_online_store);if(console.log("🏪 Loja online encontrada:",D),D)O.store_id=D.id;else{console.log("❌ Loja online não encontrada"),h({title:"Erro",description:"Loja online principal não encontrada para cadastro.",variant:"destructive"}),u(!1);return}}else s?O.store_id=s.store_id:(N=m==null?void 0:m.stores)!=null&&N.is_online_store&&(O.store_id=m.store_id);if(console.log("📦 Dados finais antes de salvar:",O),s)console.log("✏️ Atualizando produto..."),await xl(s.id,O),h({title:"Produto atualizado!",description:`${O.name} foi atualizado.`});else{console.log("🔍 Verificando código de barras duplicado...");const D=await wM();if(console.log("📋 Produtos existentes:",D.length),D.some(L=>L.barcode===O.barcode)){console.log("❌ Código de barras já existe:",O.barcode),h({title:"Erro de Validação",description:"Código de barras já existe.",variant:"destructive"}),u(!1);return}console.log("✅ Criando produto...");const T=await jM(O);console.log("✅ Produto criado com sucesso:",T),h({title:"Produto criado!",description:`${O.name} foi criado.`})}b(),l(!1),S()}catch(D){console.error("❌ Erro ao salvar produto:",D),h({title:"Erro ao salvar produto",description:D.message,variant:"destructive"})}finally{u(!1)}},E=async I=>{var O,F;u(!0);try{const N=await bM(I.id);o(N),v({name:N.name,category:N.category||"",brand:N.brand||"",barcode:N.barcode,sizes:((O=N.sizes)==null?void 0:O.join(", "))||"",colors:((F=N.colors)==null?void 0:F.join(", "))||"",price:N.price.toString(),stock:N.stock.toString(),min_stock:N.min_stock.toString(),active:N.active}),l(!0)}catch(N){h({title:"Erro ao buscar produto para edição",description:N.message,variant:"destructive"})}finally{u(!1)}},_=async I=>{if(window.confirm("Deseja realmente excluir este produto? Esta ação é irreversível!")){u(!0);try{await _M(I),h({title:"Produto excluído!",description:"O produto foi removido do sistema."}),b()}catch(O){h({title:"Erro ao excluir produto",description:O.message,variant:"destructive"})}finally{u(!1)}}},C=()=>e.filter(I=>I.active&&I.stock<=I.min_stock),R=()=>{b()};return c&&e.length===0?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"loading-spinner"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsx(H,{placeholder:"Buscar por Código de Barras",name:"barcode",value:w.barcode,onChange:y,className:"w-44"}),i.jsx(H,{placeholder:"Buscar por SKU",name:"sku",value:w.sku,onChange:y,className:"w-36"}),i.jsx(H,{placeholder:"Buscar por Referência",name:"referencia",value:w.referencia,onChange:y,className:"w-32"}),i.jsx(H,{placeholder:"Buscar por Nome",name:"name",value:w.name,onChange:y,className:"w-44"})]}),i.jsx(t$,{open:a,onOpenChange:l,formData:j,setFormData:v,onSubmit:k,editingProduct:s,resetForm:S,onStockShared:R})]}),i.jsx(n$,{products:C()}),i.jsx(ee,{children:i.jsx(ne,{className:"pt-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ji,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(H,{placeholder:"Buscar produtos por nome, categoria, marca ou código...",value:n,onChange:I=>r(I.target.value),className:"pl-10"})]})})}),e.length>0?i.jsx(R4,{products:g,onEdit:E,onDelete:_,stores:d,currentUser:m}):i.jsx(ee,{className:"mt-6",children:i.jsxs(ne,{className:"text-center py-12",children:[i.jsx(v2,{className:"w-16 h-16 mx-auto mb-6 text-muted-foreground opacity-50"}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum produto encontrado"}),i.jsxs("p",{className:"text-muted-foreground mb-6",children:[n?"Tente ajustar sua busca ou ":"",'Clique em "Novo Produto" para começar a cadastrar.']})]})})]})},s$=()=>{var E;const{id:e}=lN(),[t,n]=p.useState(null),[r,s]=p.useState([]),[o,a]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,h]=p.useState([]),[m,j]=p.useState(null),[v,w]=p.useState(!1),{toast:x}=vt(),y=p.useCallback(async()=>{d(!0);try{const{data:_,error:C}=await te.from("products").select("*").eq("id",e).single();if(C)throw C;n(_);const R=[];if(_.image_url&&R.push({id:"main",image_url:_.image_url,is_featured:!0}),h(R),console.log("🖼️ Imagens encontradas:",R),_.product_type==="variable"){const{data:F,error:N}=await te.from("product_variations").select("*").eq("product_id",e);if(N)throw N;s(F||[]),console.log("🔄 Variações encontradas:",F)}const I=await To(e);a(I||[]);const O=await Jr();c(O||[])}catch(_){x({title:"Erro ao buscar detalhes do produto",description:_.message,variant:"destructive"}),n(null)}finally{d(!1)}},[e,x]);p.useEffect(()=>{y()},[y]);const g=_=>{var C;return((C=l.find(R=>R.id===_))==null?void 0:C.name)||"Loja Desconhecida"},b=_=>{j(_),w(!0)},S=()=>{w(!1),j(null)};if(u)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("div",{className:"loading-spinner"})});if(!t)return i.jsxs("div",{className:"container mx-auto p-6 text-center",children:[i.jsx(Rn,{className:"w-24 h-24 mx-auto text-muted-foreground mb-4"}),i.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Produto não encontrado"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"O produto que você está procurando não existe ou foi removido."}),i.jsx($,{asChild:!0,variant:"outline",children:i.jsxs(po,{to:"/products",children:[i.jsx(Rg,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})})]});const k=t.product_type==="variable"?r.reduce((_,C)=>_+C.stock,0):t.stock;return i.jsxs("div",{className:"container mx-auto p-4 md:p-8 space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx($,{asChild:!0,variant:"outline",size:"sm",children:i.jsxs(po,{to:"/products",children:[i.jsx(Rg,{className:"mr-2 h-4 w-4"})," Voltar para Produtos"]})}),i.jsx("h1",{className:"text-3xl font-bold text-center flex-grow",children:t.name}),i.jsx("div",{className:"w-24"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center",children:[i.jsx(d2,{className:"mr-2 text-primary"})," Imagens do Produto"]})}),i.jsx(ne,{children:f.length>0?i.jsxs("div",{children:[i.jsx("img",{src:f[0].image_url,alt:"Destaque",className:"w-full h-64 object-cover rounded-lg border mb-2 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b(f[0]),onError:_=>{console.log("❌ Erro ao carregar imagem principal:",f[0].image_url),_.target.style.display="none",_.target.nextSibling.style.display="flex"},onLoad:()=>{console.log("✅ Imagem principal carregada:",f[0].image_url)}}),i.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center hidden",children:i.jsx(Lu,{className:"w-16 h-16 text-muted-foreground"})}),i.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:f.map((_,C)=>i.jsx("img",{src:_.image_url,alt:`Imagem ${C+1}`,className:`w-16 h-16 object-cover rounded border cursor-pointer hover:opacity-90 transition-opacity ${C===0?"ring-2 ring-primary":""}`,title:_.is_featured?"Destaque":"",onClick:()=>b(_),onError:R=>{console.log("❌ Erro ao carregar miniatura:",_.image_url),R.target.style.display="none"},onLoad:()=>{console.log("✅ Miniatura carregada:",_.image_url)}},_.id))})]}):i.jsx("div",{className:"w-full h-64 bg-muted rounded-lg flex items-center justify-center",children:i.jsx(Lu,{className:"w-16 h-16 text-muted-foreground"})})})]}),i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center",children:[i.jsx(f2,{className:"mr-2 text-primary"})," Dados Principais"]})}),i.jsxs(ne,{className:"space-y-3 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Nome:"})," ",t.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Referência:"})," ",t.referencia||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Categoria:"})," ",t.category||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Código de Barras:"})," ",t.barcode]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Tipo:"})," ",i.jsx("span",{className:"capitalize",children:t.product_type==="variable"?"Produto Variável":"Produto Simples"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",t.active?"Ativo":"Inativo"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Data de Cadastro:"})," ",t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"]})]})]}),i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center",children:[i.jsx(Ss,{className:"mr-2 text-primary"})," Preços"]})}),i.jsxs(ne,{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Preço Principal:"})," R$ ",(E=t.price)==null?void 0:E.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Preço Varejo:"})," ",t.price_varejo?`R$ ${t.price_varejo.toFixed(2)}`:"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Preço Atacado:"})," ",t.price_atacado?`R$ ${t.price_atacado.toFixed(2)}`:"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Preço Atacarejo:"})," ",t.price_atacarejo?`R$ ${t.price_atacarejo.toFixed(2)}`:"N/A"]})]})]}),i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center",children:[i.jsx(Mg,{className:"mr-2 text-primary"})," Dimensões e Peso"]})}),i.jsxs(ne,{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Peso:"})," ",t.weight?`${t.weight} kg`:"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Comprimento:"})," ",t.length?`${t.length} cm`:"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Altura:"})," ",t.height?`${t.height} cm`:"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Largura:"})," ",t.width?`${t.width} cm`:"N/A"]})]})]}),t.medidas&&i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center",children:[i.jsx(Mg,{className:"mr-2 text-primary"})," Medidas da Peça"]})}),i.jsx(ne,{className:"space-y-2 text-sm",children:Object.entries(t.medidas).map(([_,C])=>i.jsxs("p",{children:[i.jsxs("strong",{children:[_.charAt(0).toUpperCase()+_.slice(1),":"]})," ",C||"N/A"]},_))})]})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center",children:[i.jsx(_2,{className:"mr-2 text-primary"})," Estoque"]})}),i.jsxs(ne,{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Estoque Mínimo Global:"})," ",t.min_stock," unidades"]}),i.jsxs("p",{className:`font-semibold ${k<=t.min_stock?"text-orange-500":"text-green-500"}`,children:["Estoque Online/Geral Total: ",k," unidades"]})]})]}),o.length>0&&i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center",children:[i.jsx(Xi,{className:"mr-2 text-primary"})," Estoque nas Lojas Físicas"]})}),i.jsx(ne,{className:"space-y-2",children:o.map(_=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-background/30 rounded-md text-sm",children:[i.jsx("p",{children:i.jsxs("strong",{children:[g(_.store_id),":"]})}),i.jsxs("p",{children:[_.quantity," unidades ",_.variation_id?`(Variação ID: ${_.variation_id.substring(0,8)}...)`:"(Produto Simples/Agregado)"]})]},_.id))})]}),o.length===0&&i.jsx(ee,{className:"glass-effect",children:i.jsx(ne,{className:"p-6 text-center text-muted-foreground",children:"Este produto (ou suas variações) ainda não teve estoque compartilhado com lojas físicas."})}),t.product_type==="variable"&&r.length>0&&i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center",children:[i.jsx(h2,{className:"mr-2 text-primary"})," Variações do Produto (",r.length,")"]})}),i.jsx(ne,{className:"space-y-4",children:r.map((_,C)=>{var R;return i.jsx(ee,{className:"bg-background/30 p-4 rounded-md",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[i.jsxs("div",{className:"md:col-span-1",children:[_.image_url?i.jsx("img",{src:_.image_url,alt:`Variação ${C+1}`,className:"w-full h-auto object-cover rounded border aspect-square cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b({image_url:_.image_url,id:_.id}),onError:I=>{console.log("❌ Erro ao carregar imagem da variação:",_.image_url),I.target.style.display="none",I.target.nextSibling.style.display="flex"},onLoad:()=>{console.log("✅ Imagem da variação carregada:",_.image_url)}}):null,i.jsx("div",{className:"w-full h-32 bg-muted rounded flex items-center justify-center",style:{display:_.image_url?"none":"flex"},children:i.jsx(Lu,{className:"w-10 h-10 text-muted-foreground"})})]}),i.jsxs("div",{className:"md:col-span-2 space-y-2 text-sm",children:[i.jsx("p",{className:"font-semibold text-base",children:((R=_.attributes)==null?void 0:R.map(I=>`${I.name}: ${I.value}`).join(" / "))||`Variação ${C+1}`}),_.sku&&i.jsxs("p",{children:[i.jsx("strong",{children:"SKU:"})," ",_.sku]}),_.barcode&&i.jsxs("p",{children:[i.jsx("strong",{children:"Cód. Barras:"})," ",_.barcode]}),_.referencia&&i.jsxs("p",{children:[i.jsx("strong",{children:"Referência:"})," ",_.referencia]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Preço Específico:"})," ",_.price?`R$ ${_.price.toFixed(2)}`:"Usar preço principal"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Preço Varejo:"})," ",_.price_varejo?`R$ ${_.price_varejo}`:"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Preço Atacado:"})," ",_.price_atacado?`R$ ${_.price_atacado}`:"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Preço Atacarejo:"})," ",_.price_atacarejo?`R$ ${_.price_atacarejo}`:"N/A"]}),i.jsxs("p",{className:"font-medium",children:[i.jsx("strong",{children:"Estoque da Variação:"})," ",_.stock," unidades"]}),_.medidas&&i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"font-semibold",children:"Medidas:"}),i.jsx("ul",{className:"ml-4 list-disc",children:Object.entries(_.medidas).map(([I,O])=>i.jsxs("li",{children:[i.jsxs("strong",{children:[I.charAt(0).toUpperCase()+I.slice(1),":"]})," ",O||"N/A"]},I))})]})]})]})},_.id||C)})})]}),t.product_type==="variable"&&r.length===0&&i.jsx(ee,{className:"glass-effect",children:i.jsx(ne,{className:"p-6 text-center text-muted-foreground",children:"Nenhuma variação cadastrada para este produto."})})]})]}),v&&m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:S,children:i.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[i.jsx("button",{onClick:S,className:"absolute top-4 right-4 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full p-2 transition-all z-10",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("img",{src:m.image_url,alt:"Visualização",className:"max-w-full max-h-full object-contain rounded-lg",onClick:_=>_.stopPropagation()})]})})]})},he={IN:"in",OUT:"out",ADJUSTMENT:"adjustment",SALE_ONLINE:"sale_online_physical_debit",SALE_PHYSICAL:"sale_physical_store",TRANSFER_IN:"transfer_in",TRANSFER_OUT:"transfer_out",TRANSFER_TO_STORE:"transfer_to_store"},tl={[he.IN]:"Entrada Manual",[he.OUT]:"Saída Manual",[he.ADJUSTMENT]:"Ajuste Manual",[he.SALE_ONLINE]:"Venda Online (Débito Físico)",[he.SALE_PHYSICAL]:"Venda Loja Física",[he.TRANSFER_IN]:"Transferência (Entrada Loja)",[he.TRANSFER_OUT]:"Transferência (Saída Online)",[he.TRANSFER_TO_STORE]:"Transferência para Loja"},o$=()=>{var D;const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(""),[a,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState([]),[j,v]=p.useState(!0),[w,x]=p.useState(null),{toast:y}=vt(),g=Je(),[b,S]=p.useState({type:"",quantity:"",reason:"",target_store_id:""}),k=p.useCallback(async()=>{v(!0),x(null);try{console.log("[STOCK] Iniciando carregamento de dados...");const[T,L,A]=await Promise.all([D1(),xM(),Jr()]);console.log("[STOCK] Dados carregados:",{products:(T==null?void 0:T.length)||0,movements:(L==null?void 0:L.length)||0,stores:(A==null?void 0:A.length)||0});const P=await Promise.all((T||[]).map(async V=>{try{const M=await To(V.id);return{...V,physicalStocks:M||[]}}catch(M){return console.error("[STOCK] Erro ao carregar estoque físico para produto:",V.id,M),{...V,physicalStocks:[]}}}));t(P),r(L||[]),m(A||[]),console.log("[STOCK] Dados processados com sucesso")}catch(T){console.error("[STOCK] Erro ao carregar dados:",T),x(T.message),y({title:"Erro ao carregar dados de estoque",description:T.message,variant:"destructive"})}finally{v(!1)}},[y,g==null?void 0:g.store_id]);if(p.useEffect(()=>{k()},[k]),w)return i.jsx("div",{className:"min-h-screen bg-background p-8",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rn,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Erro ao Carregar Estoque"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:w}),i.jsx($,{onClick:k,className:"bg-red-600 hover:bg-red-700",children:"Tentar Novamente"})]})})});if(j)return i.jsx("div",{className:"min-h-screen bg-background p-8",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"loading-spinner w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Carregando Estoque..."}),i.jsx("p",{className:"text-muted-foreground",children:"Aguarde enquanto carregamos os dados"})]})})});const E=e.filter(T=>{var L,A,P;return T.active&&(((L=T.name)==null?void 0:L.toLowerCase().includes(s.toLowerCase()))||((A=T.category)==null?void 0:A.toLowerCase().includes(s.toLowerCase()))||((P=T.barcode)==null?void 0:P.includes(s)))}),_=async T=>{var A;if(T.preventDefault(),!c||!b.type||!b.quantity){y({title:"Erro",description:"Produto, tipo e quantidade são obrigatórios.",variant:"destructive"});return}const L=parseInt(b.quantity);if(isNaN(L)||L<=0){y({title:"Erro",description:"Quantidade deve ser um número positivo.",variant:"destructive"});return}v(!0);try{let P,V,M=b.target_store_id||c.store_id,W="online",Q=null;if(b.type===he.TRANSFER_TO_STORE){if(!b.target_store_id){y({title:"Erro",description:"Selecione uma loja de destino para a transferência.",variant:"destructive"}),v(!1);return}if(c.stock<L){y({title:"Erro",description:"Estoque online insuficiente para esta transferência.",variant:"destructive"}),v(!1);return}const ie=c.stock-L;await xl(c.id,{stock:ie});const fe=c.physicalStocks.find(G=>G.store_id===b.target_store_id);let pe;if(fe)pe=fe.quantity+L,await te.from("product_store_stock").update({quantity:pe}).eq("id",fe.id),Q=fe.id;else{pe=L;const{data:G}=await te.from("product_store_stock").insert({product_id:c.id,store_id:b.target_store_id,quantity:pe}).select("id").single();Q=G==null?void 0:G.id}await yl({product_id:c.id,type:he.TRANSFER_TO_STORE,quantity:L,previous_stock:c.stock,new_stock:ie,reason:`Transferência para ${R(b.target_store_id)} - ${b.reason}`,user_id:g==null?void 0:g.id,store_id:b.target_store_id,stock_type:"physical_store",product_store_stock_id:Q}),y({title:"Transferência realizada!",description:`${L} unidades transferidas para ${R(b.target_store_id)}.`}),k(),l(!1),S({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null),v(!1);return}if(b.target_store_id){if(b.type===he.OUT){if(c.stock<L){y({title:"Erro",description:"Estoque online insuficiente para esta transferência.",variant:"destructive"}),v(!1);return}const fe=c.stock-L;await xl(c.id,{stock:fe});const pe=c.physicalStocks.find(me=>me.store_id===b.target_store_id);let G;if(pe)G=pe.quantity+L,await te.from("product_store_stock").update({quantity:G}).eq("id",pe.id),Q=pe.id;else{G=L;const{data:me}=await te.from("product_store_stock").insert({product_id:c.id,store_id:b.target_store_id,quantity:G}).select("id").single();Q=me==null?void 0:me.id}await yl({product_id:c.id,type:he.TRANSFER_TO_STORE,quantity:L,previous_stock:c.stock,new_stock:fe,reason:`Transferência para ${R(b.target_store_id)} - ${b.reason}`,user_id:g==null?void 0:g.id,store_id:b.target_store_id,stock_type:"physical_store",product_store_stock_id:Q}),y({title:"Transferência realizada!",description:`${L} unidades transferidas para ${R(b.target_store_id)}.`}),k(),l(!1),S({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null),v(!1);return}W="physical_store";const ie=c.physicalStocks.find(fe=>fe.store_id===b.target_store_id);if(P=ie?ie.quantity:0,Q=ie?ie.id:null,b.type===he.IN?V=P+L:b.type===he.ADJUSTMENT&&(V=L),V<0&&b.type!==he.ADJUSTMENT){y({title:"Erro",description:"Estoque da loja física não pode ficar negativo.",variant:"destructive"}),v(!1);return}if(b.type===he.ADJUSTMENT&&V<0&&(V=0),ie)await te.from("product_store_stock").update({quantity:V}).eq("id",ie.id);else{const{data:fe}=await te.from("product_store_stock").insert({product_id:c.id,store_id:b.target_store_id,quantity:V}).select("id").single();Q=fe==null?void 0:fe.id}await $1(c.id)}else{if(!((A=g==null?void 0:g.stores)!=null&&A.is_online_store)&&(g==null?void 0:g.role)!==ot.ADMIN){y({title:"Ação não permitida",description:"Selecione uma loja física para esta movimentação ou realize no estoque Online (se admin/online).",variant:"destructive"}),v(!1);return}if(M=c.store_id,P=c.stock,b.type===he.IN?V=P+L:b.type===he.OUT?V=P-L:b.type===he.ADJUSTMENT&&(V=L),V<0&&b.type!==he.ADJUSTMENT){y({title:"Erro",description:"Estoque online/geral não pode ficar negativo.",variant:"destructive"}),v(!1);return}b.type===he.ADJUSTMENT&&V<0&&(V=0),await xl(c.id,{stock:V})}await yl({product_id:c.id,type:b.type,quantity:L,previous_stock:P,new_stock:V,reason:b.reason,user_id:g==null?void 0:g.id,store_id:M,stock_type:W,product_store_stock_id:W==="physical_store"?Q:null}),y({title:"Movimentação registrada!",description:`${tl[b.type]||b.type} de ${L} unidades para ${c.name}.`}),k(),l(!1),S({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null)}catch(P){y({title:"Erro ao registrar movimentação",description:P.message,variant:"destructive"})}finally{v(!1)}},C=(T,L,A=null)=>{var P;u(T),f(A),S({...b,type:L,target_store_id:A?A.id:(P=g==null?void 0:g.stores)!=null&&P.is_online_store||(g==null?void 0:g.role)===ot.ADMIN?"":g==null?void 0:g.store_id}),l(!0)},R=T=>{var L;return((L=h.find(A=>A.id===T))==null?void 0:L.name)||"N/A"},I=()=>e.filter(T=>T.active&&T.stock<=T.min_stock).length,O=()=>e.filter(T=>T.active).length,F=()=>e.filter(T=>T.active).reduce((T,L)=>T+L.stock,0),N=h.filter(T=>!T.is_online_store);return i.jsx("div",{className:"min-h-screen bg-background p-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Controle de Estoque"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie o estoque dos seus produtos"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm",children:[i.jsx(Rn,{className:"w-7 h-7 text-green-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:O()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Produtos Ativos"})]})]}),i.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm",children:[i.jsx(Dc,{className:"w-7 h-7 text-blue-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:F()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Estoque Online"})]})]}),i.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm",children:[i.jsx(C2,{className:"w-7 h-7 text-orange-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:I()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Estoque Baixo"})]})]}),i.jsxs("div",{className:"rounded-xl bg-card border border-border p-4 flex items-center gap-3 shadow-sm",children:[i.jsx(pl,{className:"w-7 h-7 text-purple-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Movimentações"})]})]})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"relative max-w-md mx-auto",children:[i.jsx(Ji,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(H,{placeholder:"Buscar produtos...",value:s,onChange:T=>o(T.target.value),className:"pl-10"})]})}),i.jsx("div",{className:"space-y-4 mt-8",children:E.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rn,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhum produto encontrado"})]}):E.map(T=>i.jsxs(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-xl bg-card border border-border p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 shadow-sm hover:shadow-lg transition",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-lg font-bold text-foreground",children:T.name}),T.stock<=T.min_stock&&i.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Baixo estoque"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.category," • ",T.barcode]}),i.jsx("div",{className:"flex flex-wrap gap-3 mt-2",children:i.jsxs("span",{className:"text-xs text-foreground bg-muted rounded px-2 py-0.5",children:["Online: ",i.jsx("b",{children:T.stock})," un."]})})]}),i.jsxs("div",{className:"flex flex-col md:items-end gap-1",children:[i.jsxs("span",{className:`text-base font-semibold ${T.stock<=T.min_stock?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:["Online: ",T.stock," un."]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Mín. Online: ",T.min_stock]})]}),i.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[i.jsxs($,{variant:"outline",size:"sm",onClick:()=>C(T,he.IN),children:[i.jsx(wn,{className:"w-4 h-4 mr-1"}),"Entrada"]}),i.jsxs($,{variant:"outline",size:"sm",onClick:()=>C(T,he.OUT),children:[i.jsx(Yl,{className:"w-4 h-4 mr-1"}),"Saída"]}),i.jsx($,{variant:"outline",size:"sm",onClick:()=>C(T,he.ADJUSTMENT),children:"Ajuste"})]})]},T.id))}),i.jsxs("div",{className:"mt-10",children:[i.jsxs("h3",{className:"text-lg font-bold text-foreground mb-2 flex items-center gap-2",children:[i.jsx(pl,{className:"w-5 h-5 text-purple-500"}),"Histórico de Movimentações"]}),i.jsx("div",{className:"rounded-xl bg-card border border-border p-4 max-h-96 overflow-y-auto",children:n.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(pl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhuma movimentação registrada"})]}):i.jsx("div",{className:"space-y-3",children:n.slice(0,20).map(T=>{var L,A;return i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 transition text-sm",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h4",{className:"font-semibold text-foreground",children:[T.productName||((L=T.products)==null?void 0:L.name)," (",(A=T.products)==null?void 0:A.barcode,")"]}),i.jsxs("p",{className:"text-muted-foreground",children:[tl[T.type]||T.type," • ",T.storeName]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.userName," • ",new Date(T.created_at).toLocaleString()," • ",T.reason]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${T.type===he.IN||T.type===he.TRANSFER_IN?"text-green-600 dark:text-green-400":T.type===he.OUT||T.type===he.TRANSFER_OUT||T.type===he.SALE_ONLINE||T.type===he.SALE_PHYSICAL?"text-red-600 dark:text-red-400":"text-purple-600 dark:text-purple-400"}`,children:[T.type===he.IN||T.type===he.TRANSFER_IN?"+":T.type===he.OUT||T.type===he.TRANSFER_OUT||T.type===he.SALE_ONLINE||T.type===he.SALE_PHYSICAL?"-":"=",T.quantity]}),i.jsxs("p",{className:"text-muted-foreground",children:[T.previous_stock," → ",T.new_stock]})]})]},T.id)})})})]}),i.jsx(Mn,{open:a,onOpenChange:T=>{l(T),T||(S({type:"",quantity:"",reason:"",target_store_id:""}),u(null),f(null))},children:i.jsxs(gn,{children:[i.jsx(vn,{children:i.jsx(yn,{children:b.type&&`${tl[b.type]||b.type} de Estoque`})}),c&&i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(z,{children:"Produto"}),i.jsx(H,{value:c.name,disabled:!0})]}),(b.type===he.TRANSFER_TO_STORE||b.type===he.OUT&&(((D=g==null?void 0:g.stores)==null?void 0:D.is_online_store)||(g==null?void 0:g.role)===ot.ADMIN))&&i.jsxs("div",{children:[i.jsx(z,{htmlFor:"target_store_id",children:"Loja de Destino"}),i.jsxs(jt,{value:b.target_store_id,onValueChange:T=>S({...b,target_store_id:T}),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione a loja de destino"})}),i.jsx(mt,{children:N.map(T=>i.jsx(Le,{value:T.id,children:T.name},T.id))})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:b.type===he.TRANSFER_TO_STORE?"Transferir estoque do online para esta loja":"Movimentar estoque nesta loja específica"})]}),i.jsxs("div",{children:[i.jsx(z,{children:"Estoque Atual"}),i.jsx(H,{value:`${c.stock} unidades (Online)`,disabled:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"quantity",children:b.type===he.ADJUSTMENT?"Novo Estoque":"Quantidade da Movimentação"}),i.jsx(H,{id:"quantity",type:"number",min:"1",value:b.quantity,onChange:T=>S({...b,quantity:T.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"reason",children:"Motivo/Observação"}),i.jsx(H,{id:"reason",placeholder:"Descreva o motivo da movimentação",value:b.reason,onChange:T=>S({...b,reason:T.target.value}),required:!0})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),i.jsx($,{type:"submit",disabled:j,children:j?"Salvando...":`Confirmar ${tl[b.type]||b.type}`})]})]})]})})]})})},i$=Mc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Qp=ae.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,className:Se(i$({variant:t}),e),...n}));Qp.displayName="Badge";const a$=({categories:e,onEdit:t,onDelete:n,loading:r})=>r?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(xf,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Nenhuma categoria encontrada"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Crie sua primeira categoria para organizar seus produtos"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((s,o)=>i.jsxs(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-card border border-border rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color||"#3B82F6"}}),i.jsx("h3",{className:"font-semibold text-lg",children:s.name})]}),i.jsx(Qp,{variant:s.active?"default":"secondary",children:s.active?"Ativa":"Inativa"})]}),s.description&&i.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:s.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[i.jsx(xf,{className:"w-3 h-3"}),i.jsxs("span",{children:["Criada em ",new Date(s.created_at).toLocaleDateString("pt-BR")]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx($,{variant:"ghost",size:"sm",onClick:()=>t(s),className:"h-8 w-8 p-0",children:i.jsx(Lc,{className:"w-4 h-4"})}),i.jsx($,{variant:"ghost",size:"sm",onClick:()=>n(s),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:i.jsx($o,{className:"w-4 h-4"})})]})]})]},s.id))}),PS=ae.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));PS.displayName="Textarea";var ou="Switch",[l$,pF]=qr(ou),[c$,u$]=l$(ou),AS=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),j=Re(t,g=>m(g)),v=p.useRef(!1),w=h?d||!!h.closest("form"):!0,[x,y]=bs({prop:s,defaultProp:o??!1,onChange:u,caller:ou});return i.jsxs(c$,{scope:n,checked:x,disabled:l,children:[i.jsx(de.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":MS(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:j,onClick:oe(e.onClick,g=>{y(b=>!b),w&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),w&&i.jsx(IS,{control:h,bubbles:!v.current,name:r,value:c,checked:x,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});AS.displayName=ou;var RS="SwitchThumb",OS=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=u$(RS,n);return i.jsx(de.span,{"data-state":MS(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});OS.displayName=RS;var d$="SwitchBubbleInput",IS=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const a=p.useRef(null),l=Re(a,o),c=fb(n),u=tb(t);return p.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const j=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(j)}},[c,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});IS.displayName=d$;function MS(e){return e?"checked":"unchecked"}var LS=AS,f$=OS;const as=ae.forwardRef(({className:e,...t},n)=>i.jsx(LS,{className:Se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(f$,{className:Se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));as.displayName=LS.displayName;const h$=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingCategory:o})=>{const a=(u,d)=>{r(f=>({...f,[u]:d}))},l=[{value:"tag",label:"Tag"},{value:"shirt",label:"Camisa"},{value:"footprints",label:"Calçados"},{value:"watch",label:"Relógio"},{value:"dumbbell",label:"Esportes"},{value:"baby",label:"Infantil"},{value:"home",label:"Casa"},{value:"gift",label:"Presente"},{value:"heart",label:"Coração"},{value:"star",label:"Estrela"},{value:"bookmark",label:"Marcador"},{value:"package",label:"Pacote"}],c=[{value:"#3B82F6",label:"Azul"},{value:"#10B981",label:"Verde"},{value:"#F59E0B",label:"Amarelo"},{value:"#EF4444",label:"Vermelho"},{value:"#8B5CF6",label:"Roxo"},{value:"#06B6D4",label:"Ciano"},{value:"#F97316",label:"Laranja"},{value:"#EC4899",label:"Rosa"},{value:"#6B7280",label:"Cinza"},{value:"#000000",label:"Preto"}];return i.jsx(Mn,{open:e,onOpenChange:t,children:i.jsxs(gn,{className:"sm:max-w-[500px]",children:[i.jsx(vn,{children:i.jsx(yn,{children:o?"Editar Categoria":"Nova Categoria"})}),i.jsxs("form",{onSubmit:s,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(z,{htmlFor:"name",children:"Nome da Categoria *"}),i.jsx(H,{id:"name",value:n.name,onChange:u=>a("name",u.target.value),placeholder:"Ex: Roupas, Calçados, Acessórios",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(z,{htmlFor:"description",children:"Descrição"}),i.jsx(PS,{id:"description",value:n.description,onChange:u=>a("description",u.target.value),placeholder:"Descreva brevemente esta categoria...",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(z,{htmlFor:"icon",children:"Ícone"}),i.jsxs(jt,{value:n.icon,onValueChange:u=>a("icon",u),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione um ícone"})}),i.jsx(mt,{children:l.map(u=>i.jsx(Le,{value:u.value,children:u.label},u.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(z,{htmlFor:"color",children:"Cor"}),i.jsxs(jt,{value:n.color,onValueChange:u=>a("color",u),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione uma cor"})}),i.jsx(mt,{children:c.map(u=>i.jsx(Le,{value:u.value,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:u.value}}),i.jsx("span",{children:u.label})]})},u.value))})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(as,{id:"active",checked:n.active,onCheckedChange:u=>a("active",u)}),i.jsx(z,{htmlFor:"active",children:"Categoria ativa"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsxs($,{type:"submit",children:[o?"Atualizar":"Criar"," Categoria"]})]})]})]})})},p$=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(""),[s,o]=p.useState(null),[a,l]=p.useState(!1),[c,u]=p.useState(!0),{toast:d}=vt();Je();const[f,h]=p.useState({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),m=p.useCallback(async()=>{u(!0);try{const g=await G4();t(g||[])}catch(g){d({title:"Erro ao carregar categorias",description:g.message,variant:"destructive"})}finally{u(!1)}},[d]);p.useEffect(()=>{m()},[m]);const j=e.filter(g=>{var b,S;return((b=g.name)==null?void 0:b.toLowerCase().includes(n.toLowerCase()))||((S=g.description)==null?void 0:S.toLowerCase().includes(n.toLowerCase()))}),v=async g=>{if(g.preventDefault(),!f.name.trim()){d({title:"Erro",description:"Nome da categoria é obrigatório",variant:"destructive"});return}try{s?(await J4(s.id,f),d({title:"Sucesso",description:"Categoria atualizada com sucesso!"})):(await K4(f),d({title:"Sucesso",description:"Categoria criada com sucesso!"})),l(!1),o(null),h({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),m()}catch(b){d({title:"Erro",description:b.message,variant:"destructive"})}},w=g=>{o(g),h({name:g.name,description:g.description||"",color:g.color||"#3B82F6",icon:g.icon||"tag",active:g.active}),l(!0)},x=async g=>{try{if(await Q4(g.id)){d({title:"Não é possível deletar",description:"Esta categoria está sendo usada por produtos. Remova a associação primeiro.",variant:"destructive"});return}window.confirm(`Tem certeza que deseja deletar a categoria "${g.name}"?`)&&(await Y4(g.id),d({title:"Sucesso",description:"Categoria deletada com sucesso!"}),m())}catch(b){d({title:"Erro",description:b.message,variant:"destructive"})}},y=()=>{o(null),h({name:"",description:"",color:"#3B82F6",icon:"tag",active:!0}),l(!0)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Categorias"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie as categorias dos seus produtos"})]}),i.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[i.jsx(wn,{className:"w-4 h-4 mr-2"}),"Nova Categoria"]})]}),i.jsx(ee,{children:i.jsxs(ne,{className:"p-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Ji,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),i.jsx(H,{placeholder:"Buscar categorias...",value:n,onChange:g=>r(g.target.value),className:"pl-10"})]})}),i.jsx(a$,{categories:j,onEdit:w,onDelete:x,loading:c})]})}),i.jsx(h$,{open:a,onOpenChange:l,formData:f,setFormData:h,onSubmit:v,editingCategory:s})]})},m$=({customers:e,onEdit:t,onDelete:n,onViewHistory:r,getCustomerPurchases:s,getCustomerTotalSpent:o,formatCPF:a,formatPhone:l})=>e.length===0?i.jsx(ee,{children:i.jsxs(ne,{className:"text-center py-12",children:[i.jsx(ms,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum cliente encontrado"}),i.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os termos de busca ou crie seu primeiro cliente."})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>{const u=s(c.id),d=o(c.id);return i.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ms,{className:"w-5 h-5 text-primary"}),i.jsx(be,{className:"text-lg",children:c.name})]}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx($,{variant:"ghost",size:"icon",onClick:()=>r(c),title:"Ver Histórico",children:i.jsx(Ki,{className:"w-4 h-4"})}),i.jsx($,{variant:"ghost",size:"icon",onClick:()=>t(c),title:"Editar Cliente",children:i.jsx(Lc,{className:"w-4 h-4"})}),i.jsx($,{variant:"ghost",size:"icon",onClick:()=>n(c.id),className:"text-destructive hover:text-destructive",title:"Remover Cliente",children:i.jsx($o,{className:"w-4 h-4"})})]})]})}),i.jsxs(ne,{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[c.cpf&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(ms,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("span",{children:a(c.cpf)})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(x2,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("span",{children:l(c.phone)})]}),c.email&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(m2,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("span",{className:"truncate",children:c.email})]})]}),i.jsx("div",{className:"pt-3 border-t",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold text-primary",children:u.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Compras"})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",d.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Gasto"})]})]})}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cliente desde: ",new Date(c.created_at||c.createdAt).toLocaleDateString()]})]})]})},c.id)})}),g$=({open:e,onOpenChange:t,formData:n,setFormData:r,onSubmit:s,editingCustomer:o,formatCPF:a,formatPhone:l,resetForm:c})=>{const[u,d]=p.useState(!1),f=async m=>{const j=m.target.value.replace(/\D/g,"");if(j.length===8){d(!0);try{const w=await(await fetch(`https://viacep.com.br/ws/${j}/json/`)).json();w.erro||r({...n,cep:w.cep,street:w.logradouro,bairro:w.bairro,cidade:w.localidade,estado:w.uf,complemento:w.complemento})}finally{d(!1)}}},h=n.category==="Atacado"||n.category==="Atacarejo";return i.jsxs(Mn,{open:e,onOpenChange:m=>{t(m),m||c()},children:[i.jsx(vo,{asChild:!0,children:i.jsxs($,{children:[i.jsx(wn,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),i.jsxs(gn,{className:"max-w-2xl",children:[i.jsx(vn,{children:i.jsx(yn,{children:o?"Editar Cliente":"Novo Cliente"})}),i.jsxs("form",{onSubmit:s,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(z,{htmlFor:"name",children:"Nome Completo *"}),i.jsx(H,{id:"name",value:n.name,onChange:m=>r({...n,name:m.target.value})})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"cpf",children:"CPF"}),i.jsx(H,{id:"cpf",placeholder:"000.000.000-00",value:n.cpf,onChange:m=>r({...n,cpf:a(m.target.value)})})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"phone",children:"Telefone *"}),i.jsx(H,{id:"phone",placeholder:"(00) 00000-0000",value:n.phone,onChange:m=>r({...n,phone:l(m.target.value)})})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(z,{htmlFor:"email",children:"E-mail"}),i.jsx(H,{id:"email",type:"email",value:n.email,onChange:m=>r({...n,email:m.target.value})})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(z,{htmlFor:"category",children:"Categoria *"}),i.jsxs("select",{id:"category",value:n.category||"",onChange:m=>r({...n,category:m.target.value}),className:"bg-background/70 border-none text-white rounded-xl px-3 py-2 w-full",required:!0,children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Varejo",children:"Varejo"}),i.jsx("option",{value:"Atacado",children:"Atacado"}),i.jsx("option",{value:"Atacarejo",children:"Atacarejo"})]})]}),h&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"cnpj",children:"CNPJ *"}),i.jsx(H,{id:"cnpj",placeholder:"00.000.000/0000-00",value:n.cnpj||"",onChange:m=>r({...n,cnpj:m.target.value}),required:h})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"razao_social",children:"Razão Social *"}),i.jsx(H,{id:"razao_social",value:n.razao_social||"",onChange:m=>r({...n,razao_social:m.target.value}),required:h})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"inscricao_estadual",children:"Inscrição Estadual *"}),i.jsx(H,{id:"inscricao_estadual",value:n.inscricao_estadual||"",onChange:m=>r({...n,inscricao_estadual:m.target.value}),required:h})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(z,{htmlFor:"nome_fantasia",children:"Nome Fantasia"}),i.jsx(H,{id:"nome_fantasia",value:n.nome_fantasia||"",onChange:m=>r({...n,nome_fantasia:m.target.value})})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"cep",children:"CEP *"}),i.jsx(H,{id:"cep",placeholder:"00000-000",value:n.cep||"",onChange:m=>r({...n,cep:m.target.value}),onBlur:f,required:!0,disabled:u})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"street",children:"Rua *"}),i.jsx(H,{id:"street",value:n.street||"",onChange:m=>r({...n,street:m.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"bairro",children:"Bairro *"}),i.jsx(H,{id:"bairro",value:n.bairro||"",onChange:m=>r({...n,bairro:m.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"cidade",children:"Cidade *"}),i.jsx(H,{id:"cidade",value:n.cidade||"",onChange:m=>r({...n,cidade:m.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"estado",children:"Estado *"}),i.jsx(H,{id:"estado",value:n.estado||"",onChange:m=>r({...n,estado:m.target.value}),required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(z,{htmlFor:"complemento",children:"Complemento"}),i.jsx(H,{id:"complemento",value:n.complemento||"",onChange:m=>r({...n,complemento:m.target.value})})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>{t(!1),c()},children:"Cancelar"}),i.jsxs($,{type:"submit",children:[o?"Atualizar":"Criar"," Cliente"]})]})]})]})]})},v$=({open:e,onOpenChange:t,customer:n,purchases:r})=>n?i.jsx(Mn,{open:e,onOpenChange:t,children:i.jsxs(gn,{className:"max-w-2xl",children:[i.jsx(vn,{children:i.jsxs(yn,{children:["Histórico de Compras: ",n.name]})}),i.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3 p-1",children:r.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma compra encontrada para este cliente."}):r.map(s=>i.jsxs(ee,{className:"bg-background/50",children:[i.jsx(je,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(be,{className:"text-base",children:["Venda #",s.id]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at||s.date).toLocaleString()})]})}),i.jsxs(ne,{children:[i.jsx("ul",{className:"text-sm space-y-1",children:(s.items||s.sale_items||[]).map(o=>{var a;return i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[o.quantity,"x ",o.name||((a=o.products)==null?void 0:a.name)||"Produto Indisponível"]}),i.jsxs("span",{children:["R$ ",(o.subtotal||o.quantity*o.unit_price).toFixed(2)]})]},o.id||o.product_id)})}),i.jsxs("div",{className:"border-t mt-2 pt-2 flex justify-between font-semibold",children:[i.jsx("span",{children:"Total da Venda:"}),i.jsxs("span",{children:["R$ ",(s.total_amount||s.total).toFixed(2)]})]})]})]},s.id))})]})}):null,y$=()=>{const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(""),[a,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(null),[j,v]=p.useState(!0),{toast:w}=vt(),[x,y]=p.useState({name:"",cpf:"",phone:"",email:"",address:""}),g=p.useCallback(async()=>{v(!0);try{const M=await EM(),W=await F1();t(M||[]),r(W||[])}catch(M){w({title:"Erro ao carregar dados",description:M.message,variant:"destructive"})}finally{v(!1)}},[w]);p.useEffect(()=>{g()},[g]);const b=e.filter(M=>M.category==="Varejo").length,S=e.filter(M=>M.category==="Atacado").length,k=e.filter(M=>M.category==="Atacarejo").length,[E,_]=p.useState(""),[C,R]=p.useState(""),I=e.filter(M=>{var fe,pe,G;const W=(fe=M.name)==null?void 0:fe.toLowerCase().includes(s.toLowerCase()),Q=E?M.category===E:!0,ie=C?((pe=M.cpf)==null?void 0:pe.includes(C))||((G=M.cnpj)==null?void 0:G.includes(C)):!0;return W&&Q&&ie}),O=()=>{y({name:"",cpf:"",phone:"",email:"",address:""}),l(null)},F=M=>{if(!M)return"";const W=M.replace(/\D/g,"");return W.length>11&&W.slice(0,11),W.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")},N=M=>{if(!M)return"";const W=M.replace(/\D/g,"");return W.length>11&&W.slice(0,11),W.length===11?W.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):W.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3")},D=async M=>{M.preventDefault();const W={...x,cpf:x.cpf.replace(/\D/g,""),phone:x.phone.replace(/\D/g,"")};if(!W.name||!W.phone){w({title:"Erro de Validação",description:"Nome e Telefone são obrigatórios.",variant:"destructive"});return}if(W.cpf&&W.cpf.length!==11){w({title:"Erro de Validação",description:"CPF inválido.",variant:"destructive"});return}v(!0);try{a?(await kM(a.id,W),w({title:"Cliente atualizado!",description:`${W.name} foi atualizado.`})):(await NM(W),w({title:"Cliente criado!",description:`${W.name} foi criado.`})),g(),u(!1),O()}catch(Q){w({title:"Erro ao salvar cliente",description:Q.message,variant:"destructive"})}finally{v(!1)}},T=M=>{l(M),y({name:M.name,cpf:F(M.cpf),phone:N(M.phone),email:M.email,address:M.address||""}),u(!0)},L=async M=>{if(window.confirm("Tem certeza que deseja remover este cliente?")){v(!0);try{await TM(M),w({title:"Cliente removido!",description:"O cliente foi removido."}),g()}catch(W){w({title:"Erro ao remover cliente",description:W.message,variant:"destructive"})}finally{v(!1)}}},A=p.useCallback(M=>n.filter(W=>W.customer_id===M).sort((W,Q)=>new Date(Q.created_at||Q.date)-new Date(W.created_at||W.date)),[n]),P=p.useCallback(M=>A(M).reduce((Q,ie)=>Q+(ie.total_amount||ie.total),0),[A]),V=M=>{m(M),f(!0)};return j&&e.length===0?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"loading-spinner"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Clientes"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie o cadastro de clientes e seus históricos."})]}),i.jsx(g$,{open:c,onOpenChange:u,formData:x,setFormData:y,onSubmit:D,editingCustomer:a,formatCPF:F,formatPhone:N,resetForm:O})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx(ee,{className:"glass-effect",children:i.jsx(ne,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(gs,{className:"w-8 h-8 text-blue-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:e.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"})]})]})})}),i.jsx(ee,{className:"glass-effect",children:i.jsx(ne,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ms,{className:"w-8 h-8 text-green-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:b}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Varejo"})]})]})})}),i.jsx(ee,{className:"glass-effect",children:i.jsx(ne,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ms,{className:"w-8 h-8 text-yellow-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:S}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Atacado"})]})]})})}),i.jsx(ee,{className:"glass-effect",children:i.jsx(ne,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ms,{className:"w-8 h-8 text-purple-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:k}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes de Atacarejo"})]})]})})})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[i.jsx(H,{placeholder:"Buscar por nome...",value:s,onChange:M=>o(M.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"}),i.jsxs("select",{value:E,onChange:M=>_(M.target.value),className:"bg-background/70 border-none text-white rounded-xl px-3 py-2",children:[i.jsx("option",{value:"",children:"Todas as Categorias"}),i.jsx("option",{value:"Varejo",children:"Varejo"}),i.jsx("option",{value:"Atacado",children:"Atacado"}),i.jsx("option",{value:"Atacarejo",children:"Atacarejo"})]}),i.jsx(H,{placeholder:"Buscar por CPF ou CNPJ...",value:C,onChange:M=>R(M.target.value),className:"bg-background/70 border-none text-white placeholder:text-gray-400 rounded-xl"})]}),i.jsx(m$,{customers:I,onEdit:T,onDelete:L,onViewHistory:V,getCustomerPurchases:A,getCustomerTotalSpent:P,formatCPF:F,formatPhone:N}),i.jsx(v$,{open:d,onOpenChange:f,customer:h,purchases:h?A(h.id):[]})]})};var fd="rovingFocusGroup.onEntryFocus",x$={bubbles:!1,cancelable:!0},ya="RovingFocusGroup",[eh,DS,w$]=np(ya),[j$,$S]=qr(ya,[w$]),[b$,S$]=j$(ya),FS=p.forwardRef((e,t)=>i.jsx(eh.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(eh.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(_$,{...e,ref:t})})}));FS.displayName=ya;var _$=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Re(t,h),j=Dp(o),[v,w]=bs({prop:a,defaultProp:l??null,onChange:c,caller:ya}),[x,y]=p.useState(!1),g=nn(u),b=DS(n),S=p.useRef(!1),[k,E]=p.useState(0);return p.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(fd,g),()=>_.removeEventListener(fd,g)},[g]),i.jsx(b$,{scope:n,orientation:r,dir:j,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(_=>w(_),[w]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(_=>_+1),[]),onFocusableItemRemove:p.useCallback(()=>E(_=>_-1),[]),children:i.jsx(de.div,{tabIndex:x||k===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{S.current=!0}),onFocus:oe(e.onFocus,_=>{const C=!S.current;if(_.target===_.currentTarget&&C&&!x){const R=new CustomEvent(fd,x$);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const I=b().filter(T=>T.focusable),O=I.find(T=>T.active),F=I.find(T=>T.id===v),D=[O,F,...I].filter(Boolean).map(T=>T.ref.current);BS(D,d)}}S.current=!1}),onBlur:oe(e.onBlur,()=>y(!1))})})}),VS="RovingFocusGroupItem",US=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...l}=e,c=Ir(),u=o||c,d=S$(VS,n),f=d.currentTabStopId===u,h=DS(n),{onFocusableItemAdd:m,onFocusableItemRemove:j,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>j()},[r,m,j]),i.jsx(eh.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(de.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:oe(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:oe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:oe(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=N$(w,d.orientation,d.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let g=h().filter(b=>b.focusable).map(b=>b.ref.current);if(x==="last")g.reverse();else if(x==="prev"||x==="next"){x==="prev"&&g.reverse();const b=g.indexOf(w.currentTarget);g=d.loop?k$(g,b+1):g.slice(b+1)}setTimeout(()=>BS(g))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});US.displayName=VS;var C$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function N$(e,t,n){const r=E$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return C$[r]}function BS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function k$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var T$=FS,P$=US,iu="Tabs",[A$,mF]=qr(iu,[$S]),zS=$S(),[R$,Zp]=A$(iu),WS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Dp(l),[f,h]=bs({prop:r,onChange:s,defaultProp:o??"",caller:iu});return i.jsx(R$,{scope:n,baseId:Ir(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:i.jsx(de.div,{dir:d,"data-orientation":a,...u,ref:t})})});WS.displayName=iu;var qS="TabsList",HS=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Zp(qS,n),a=zS(n);return i.jsx(T$,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(de.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});HS.displayName=qS;var GS="TabsTrigger",KS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,a=Zp(GS,n),l=zS(n),c=XS(a.baseId,r),u=QS(a.baseId,r),d=r===a.value;return i.jsx(P$,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:oe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:oe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:oe(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});KS.displayName=GS;var JS="TabsContent",YS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=e,l=Zp(JS,n),c=XS(l.baseId,r),u=QS(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Do,{present:s||d,children:({present:h})=>i.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});YS.displayName=JS;function XS(e,t){return`${e}-trigger-${t}`}function QS(e,t){return`${e}-content-${t}`}var O$=WS,ZS=HS,e_=KS,t_=YS;const n_=O$,em=ae.forwardRef(({className:e,...t},n)=>i.jsx(ZS,{ref:n,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));em.displayName=ZS.displayName;const jr=ae.forwardRef(({className:e,...t},n)=>i.jsx(e_,{ref:n,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));jr.displayName=e_.displayName;const br=ae.forwardRef(({className:e,...t},n)=>i.jsx(t_,{ref:n,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));br.displayName=t_.displayName;const I$=({totalRevenue:e,totalSales:t,averageTicket:n,totalItemsSold:r})=>{const s=[{icon:Ss,value:`R$ ${e.toFixed(2)}`,label:"Faturamento",color:"text-green-500"},{icon:Yi,value:t,label:"Vendas",color:"text-blue-500"},{icon:Dc,value:`R$ ${n.toFixed(2)}`,label:"Ticket Médio",color:"text-purple-500"},{icon:Rn,value:r,label:"Itens Vendidos",color:"text-orange-500"}];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(o=>{const a=o.icon;return i.jsx(ee,{className:"glass-effect",children:i.jsx(ne,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-full bg-primary/10 ${o.color}`,children:i.jsx(a,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:o.value}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.label})]})]})})},o.label)})})},M$=({sales:e,salesByHour:t})=>i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(Rw,{className:"w-5 h-5"}),i.jsx("span",{children:"Vendas Recentes"})]})}),i.jsx(ne,{children:e.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Yi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhuma venda no período selecionado"})]}):i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.slice(0,10).map(n=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["Venda #",n.id]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.cashier," • ",new Date(n.date).toLocaleString()]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.items.length," itens"]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",n.total.toFixed(2)]})})]},n.id))})})]}),i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(Og,{className:"w-5 h-5"}),i.jsx("span",{children:"Vendas por Horário"})]})}),i.jsx(ne,{children:Object.keys(t).length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Og,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhuma venda por horário no período"})]}):i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Object.entries(t).sort(([n],[r])=>parseInt(n)-parseInt(r)).map(([n,r])=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-md",children:[i.jsxs("span",{className:"text-sm font-medium",children:[n.padStart(2,"0"),":00 - ",String(parseInt(n)+1).padStart(2,"0"),":00"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-xs px-2 py-0.5 bg-secondary rounded-full",children:[r.count," vendas"]}),i.jsxs("span",{className:"text-sm font-semibold text-primary",children:["R$ ",r.revenue.toFixed(2)]})]})]},n))})})]})]}),L$=({topProducts:e})=>i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(Rn,{className:"w-5 h-5"}),i.jsx("span",{children:"Produtos Mais Vendidos"})]})}),i.jsx(ne,{children:e.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Rn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum produto vendido no período"})]}):i.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:e.map((t,n)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-primary-foreground font-bold ${n===0?"bg-yellow-500":n===1?"bg-gray-400":n===2?"bg-yellow-700":"bg-primary"}`,children:n+1}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:t.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.quantity," unidades vendidas"]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",t.revenue.toFixed(2)]})})]},t.name))})})]}),D$={cash:"Dinheiro",debit:"Cartão Débito",credit:"Cartão Crédito",pix:"PIX"},$$=({paymentMethodStats:e,totalRevenue:t})=>i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(Ss,{className:"w-5 h-5"}),i.jsx("span",{children:"Métodos de Pagamento"})]})}),i.jsx(ne,{children:Object.keys(e).length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ss,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum pagamento registrado no período"})]}):i.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:Object.entries(e).map(([n,r])=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:D$[n]||n}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.count," transações"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",r.amount.toFixed(2)]}),t>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r.amount/t*100).toFixed(1),"% do total"]})]})]},n))})})]}),F$={today:"Hoje",yesterday:"Ontem",week:"Últimos 7 dias",month:"Este mês"},V$=({salesByUser:e,dateFilter:t,totalSales:n,totalRevenue:r,averageTicket:s,totalItemsSold:o})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(gs,{className:"w-5 h-5"}),i.jsx("span",{children:"Performance por Operador"})]})}),i.jsx(ne,{children:Object.keys(e).length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(gs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhuma venda por operador no período"})]}):i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Object.entries(e).map(([a,l])=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:a||"Não identificado"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.count," vendas"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",l.revenue.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ticket Médio: R$ ",(l.revenue/l.count||0).toFixed(2)]})]})]},a))})})]}),i.jsxs(ee,{className:"glass-effect",children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center space-x-2",children:[i.jsx(Dc,{className:"w-5 h-5"}),i.jsx("span",{children:"Resumo do Período"})]})}),i.jsx(ne,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[i.jsx("p",{className:"text-xl font-bold text-primary",children:F$[t]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Período Selecionado"})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total de Vendas:"}),i.jsx("span",{className:"font-medium",children:n})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Faturamento Total:"}),i.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",r.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Ticket Médio:"}),i.jsxs("span",{className:"font-medium",children:["R$ ",s.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Itens Vendidos:"}),i.jsx("span",{className:"font-medium",children:o})]})]})]})})]})]}),U$={today:"Hoje",yesterday:"Ontem",week:"Últimos 7 dias",month:"Este mês",all:"Todo o período"},B$=()=>{const[e,t]=p.useState([]),[n,r]=p.useState("today"),[s,o]=p.useState(!0),{toast:a}=vt(),l=p.useCallback(async()=>{o(!0);try{const f=await F1();t(f||[])}catch(f){a({title:"Erro ao carregar vendas",description:f.message,variant:"destructive"})}finally{o(!1)}},[a]);p.useEffect(()=>{l()},[l]);const c=p.useMemo(()=>{const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(h);m.setDate(m.getDate()-1);const j=new Date(f);j.setDate(f.getDate()-6),j.setHours(0,0,0,0);const v=new Date(f.getFullYear(),f.getMonth(),1);return e.filter(w=>{const x=new Date(w.created_at||w.date);switch(n){case"today":return x>=h&&x<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"yesterday":return x>=m&&x<h;case"week":return x>=j&&x<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"month":return x>=v&&x<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999);case"all":default:return!0}})},[e,n]),u=p.useMemo(()=>{const f=c.reduce((g,b)=>g+(b.total_amount||b.total||0),0),h=c.length,m=h>0?f/h:0,j=c.reduce((g,b)=>{const S=b.items||b.sale_items||[];return g+S.reduce((k,E)=>k+(E.quantity||0),0)},0),v=(()=>{const g={};return c.forEach(b=>{(b.items||b.sale_items||[]).forEach(k=>{var R;const E=k.product_id||k.productId,_=((R=k.products)==null?void 0:R.name)||k.name||"Produto Desconhecido",C=k.subtotal||k.quantity*k.unit_price||0;g[E]||(g[E]={id:E,name:_,quantity:0,revenue:0}),g[E].quantity+=k.quantity||0,g[E].revenue+=C})}),Object.values(g).sort((b,S)=>S.revenue-b.revenue).slice(0,10)})(),w=(()=>{const g={};return c.forEach(b=>{(b.payment_details||b.payments||[]).forEach(k=>{g[k.method]||(g[k.method]={count:0,amount:0}),g[k.method].count+=1,g[k.method].amount+=k.amount||0})}),g})(),x=(()=>{const g={};return c.forEach(b=>{const S=new Date(b.created_at||b.date).getHours().toString();g[S]||(g[S]={count:0,revenue:0}),g[S].count+=1,g[S].revenue+=b.total_amount||b.total||0}),g})(),y=(()=>{const g={};return c.forEach(b=>{const S=b.cashier_name||b.cashier||"Desconhecido";g[S]||(g[S]={count:0,revenue:0}),g[S].count+=1,g[S].revenue+=b.total_amount||b.total||0}),g})();return{totalRevenue:f,totalSales:h,averageTicket:m,totalItemsSold:j,topProducts:v,paymentMethodStats:w,salesByHour:x,salesByUser:y}},[c]),d=()=>{a({title:"🚧 Em Desenvolvimento 🚧",description:"A funcionalidade de exportar relatórios será implementada em breve!"})};return s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"loading-spinner"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Relatórios"}),i.jsx("p",{className:"text-muted-foreground",children:"Análise detalhada de vendas e performance da loja."})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(jt,{value:n,onValueChange:r,children:[i.jsx(pt,{className:"w-[180px]",children:i.jsx(bt,{placeholder:"Selecione o período"})}),i.jsx(mt,{children:Object.entries(U$).map(([f,h])=>i.jsx(Le,{value:f,children:h},f))})]}),i.jsxs($,{variant:"outline",onClick:d,children:[i.jsx(Mw,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),i.jsx(I$,{totalRevenue:u.totalRevenue,totalSales:u.totalSales,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold}),i.jsxs(n_,{defaultValue:"sales",className:"space-y-6",children:[i.jsxs(em,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[i.jsx(jr,{value:"sales",children:"Vendas"}),i.jsx(jr,{value:"products",children:"Produtos"}),i.jsx(jr,{value:"payments",children:"Pagamentos"}),i.jsx(jr,{value:"performance",children:"Performance"})]}),i.jsx(br,{value:"sales",children:i.jsx(M$,{sales:c,salesByHour:u.salesByHour})}),i.jsx(br,{value:"products",children:i.jsx(L$,{topProducts:u.topProducts})}),i.jsx(br,{value:"payments",children:i.jsx($$,{paymentMethodStats:u.paymentMethodStats,totalRevenue:u.totalRevenue})}),i.jsx(br,{value:"performance",children:i.jsx(V$,{salesByUser:u.salesByUser,dateFilter:n,totalSales:u.totalSales,totalRevenue:u.totalRevenue,averageTicket:u.averageTicket,totalItemsSold:u.totalItemsSold})})]})]})},Py={[ot.ADMIN]:"Administrador",[ot.MANAGER]:"Gerente",[ot.CASHIER]:"Operador de Caixa",[ot.STOCK]:"Estoquista",[ot.SALESPERSON]:"Vendedor"},zs="__no_store_selected__",z$=()=>{var _;const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(null),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!0),{toast:h}=vt(),[m,j]=p.useState({username:"",password:"",name:"",role:"",store_id:zs,active:!0}),v=((_=Je())==null?void 0:_.role)===ot.ADMIN,w=p.useCallback(async()=>{f(!0);try{const[C,R]=await Promise.all([L1(),Jr()]);t(C||[]),r(R||[])}catch(C){h({title:"Erro ao carregar dados",description:C.message,variant:"destructive"})}finally{f(!1)}},[h]);p.useEffect(()=>{w()},[w]);const x=()=>{j({username:"",password:"",name:"",role:"",store_id:zs,active:!0}),o(null),u(!1)},y=async C=>{var N;C.preventDefault();const R=m.store_id===zs?null:m.store_id,I=(N=n.find(D=>D.id===R))==null?void 0:N.is_online_store;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.username)){h({title:"Erro de Validação",description:"O e-mail do usuário é inválido.",variant:"destructive"});return}if(!m.role){h({title:"Erro de Validação",description:"Função é obrigatória.",variant:"destructive"});return}if(!R&&m.role!==ot.ADMIN&&!I){h({title:"Erro de Validação",description:"Loja é obrigatória para esta função (exceto Admin global ou se a loja for a online).",variant:"destructive"});return}if(e.find(D=>D.username===m.username&&(!s||D.id!==s.id))){h({title:"Erro",description:"Nome de usuário já existe.",variant:"destructive"});return}f(!0);try{const D={...m,store_id:R};if(s&&!m.password&&delete D.password,s)if(v){const T={name:m.name,role:m.role,store_id:m.store_id===zs?null:m.store_id,password:m.password||void 0};await pM(s.id,T),h({title:"Usuário atualizado!",description:`${m.name} foi atualizado com sucesso.`})}else h({title:"Apenas admin pode alterar usuários!",variant:"destructive"});else await g(D),h({title:"Funcionário criado!",description:`${m.name} foi criado com sucesso.`});w(),l(!1),x()}catch(D){h({title:"Erro ao salvar usuário",description:D.message,variant:"destructive"})}finally{f(!1)}},g=async C=>{try{const R=await fetch("/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:C.username,password:C.password,name:C.name,role:C.role,store_id:C.store_id})});if(!R.ok){const I=await R.json();throw new Error(I.error||"Erro ao criar funcionário")}return await R.json()}catch(R){throw new Error(`Erro na comunicação com o backend: ${R.message}`)}},b=C=>{o(C),j({username:C.username,password:"",name:C.name||C.username.split("@")[0],role:C.role,store_id:C.store_id||zs,active:C.active}),l(!0)},S=async C=>{f(!0);try{await gM(C.id,!C.active),h({title:C.active?"Usuário desativado":"Usuário ativado",description:`${C.name} foi ${C.active?"desativado":"ativado"}.`}),w()}catch(R){h({title:"Erro ao alterar status do usuário",description:R.message,variant:"destructive"})}finally{f(!1)}},k=async C=>{if(window.confirm("Tem certeza que deseja remover este usuário?")){f(!0);try{await mM(C),h({title:"Usuário removido!",description:"O usuário foi removido com sucesso."}),w()}catch(R){h({title:"Erro ao remover usuário",description:R.message,variant:"destructive"})}finally{f(!1)}}},E=C=>{switch(C){case ot.ADMIN:return"text-red-600 bg-red-100 dark:bg-red-900";case ot.MANAGER:return"text-blue-600 bg-blue-100 dark:bg-blue-900";case ot.CASHIER:return"text-green-600 bg-green-100 dark:bg-green-900";case ot.STOCK:return"text-purple-600 bg-purple-100 dark:bg-purple-900";case ot.SALESPERSON:return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900"}};return d&&e.length===0&&n.length===0?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"loading-spinner"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Usuários"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie usuários, funções e suas lojas"})]}),v&&i.jsxs(Mn,{open:a,onOpenChange:C=>{l(C),C||x()},children:[i.jsx(vo,{asChild:!0,children:i.jsxs($,{onClick:()=>x(),children:[i.jsx(wn,{className:"w-4 h-4 mr-2"}),"Novo Funcionário"]})}),i.jsxs(gn,{className:"max-w-md",children:[i.jsxs(vn,{children:[i.jsx(yn,{children:s?"Editar Usuário":"Novo Funcionário"}),i.jsx(kS,{children:s?"Edite as informações do usuário.":"Crie um novo funcionário no sistema."})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"name",children:"Nome Completo"}),i.jsx(H,{id:"name",value:m.name,onChange:C=>j({...m,name:C.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"username",children:"E-mail do Usuário"}),i.jsx(H,{id:"username",type:"email",value:m.username,onChange:C=>j({...m,username:C.target.value}),required:!0,placeholder:"usuario@exemplo.com"})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"password",children:s?"Nova Senha (deixe vazio para manter atual)":"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(H,{id:"password",type:c?"text":"password",value:m.password,onChange:C=>j({...m,password:C.target.value}),required:!s}),i.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:()=>u(!c),children:c?i.jsx(u2,{className:"w-4 h-4"}):i.jsx(lp,{className:"w-4 h-4"})})]})]}),v&&i.jsxs("div",{children:[i.jsx(z,{htmlFor:"role",children:"Função"}),i.jsxs(jt,{value:m.role,onValueChange:C=>j({...m,role:C}),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione uma função"})}),i.jsx(mt,{children:Object.entries(Py).map(([C,R])=>i.jsx(Le,{value:C,children:R},C))})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"store_id",children:"Loja"}),i.jsxs(jt,{value:m.store_id,onValueChange:C=>j({...m,store_id:C}),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione uma loja"})}),i.jsxs(mt,{children:[i.jsx(Le,{value:zs,children:"Nenhuma (Global/Admin)"}),n.map(C=>i.jsxs(Le,{value:C.id,children:[C.name," ",C.is_online_store?"(Online)":""]},C.id))]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),i.jsx($,{type:"submit",disabled:d,children:d?"Salvando...":(s?"Atualizar":"Criar")+" Usuário"})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(ee,{className:"glass-effect",children:i.jsx(ne,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(gs,{className:"w-8 h-8 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:e.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Usuários"})]})]})})}),i.jsx(ee,{className:"glass-effect",children:i.jsx(ne,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xi,{className:"w-8 h-8 text-green-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:n.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Lojas"})]})]})})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(C=>{var R,I,O;return i.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-hover",children:i.jsxs(ee,{className:`glass-effect ${C.active?"":"opacity-60"}`,children:[i.jsx(je,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(gs,{className:"w-5 h-5 text-primary"}),i.jsx(be,{className:"text-lg",children:C.name})]}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx($,{variant:"ghost",size:"icon",onClick:()=>b(C),children:i.jsx(Lc,{className:"w-4 h-4"})}),i.jsx($,{variant:"ghost",size:"icon",onClick:()=>k(C.id),className:"text-destructive hover:text-destructive",children:i.jsx($o,{className:"w-4 h-4"})})]})]})}),i.jsxs(ne,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usuário: ",C.username]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nome: ",C.name||C.username.split("@")[0]]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Loja: ",(R=C.stores)!=null&&R.name?`${C.stores.name}${C.stores.is_online_store?" (Online)":""}`:C.role===ot.ADMIN?"Todas (Admin)":"Não definida"]}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(C.role)}`,children:Py[C.role]}),v&&i.jsx($,{size:"xs",variant:"outline",onClick:()=>b(C),children:"Alterar Role"}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.active?"text-green-600 bg-green-100 dark:bg-green-900":"text-red-600 bg-red-100 dark:bg-red-900"}`,children:C.active?"Ativo":"Inativo"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Permissões:"}),i.jsxs("div",{className:"space-y-1",children:[(I=vl[C.role])==null?void 0:I.slice(0,3).map(F=>i.jsxs("div",{className:"text-xs text-muted-foreground",children:["• ",F.replace(/_/g," ").toLowerCase()]},F)),((O=vl[C.role])==null?void 0:O.length)>3&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:["• +",vl[C.role].length-3," mais..."]})]})]}),i.jsx("div",{className:"pt-2 border-t",children:i.jsx($,{variant:"outline",size:"sm",className:"w-full",onClick:()=>S(C),disabled:d,children:d?"Aguarde...":(C.active?"Desativar":"Ativar")+" Usuário"})})]})]})},C.id)})}),e.length===0&&!d&&i.jsx(ee,{children:i.jsxs(ne,{className:"text-center py-12",children:[i.jsx(gs,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum usuário encontrado"}),i.jsx("p",{className:"text-muted-foreground",children:"Comece criando seu primeiro usuário"})]})})]})},xa="http://localhost:4000/api",W$=async(e=null)=>{try{const t=new URLSearchParams;e&&t.append("store_id",e);const n=await fetch(`${xa}/cash-register/state?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json();throw new Error(r.error||"Erro ao buscar estado do caixa")}return await n.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},q$=async(e,t,n)=>{try{const r=await fetch(`${xa}/cash-register/open`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initial_amount:e,store_id:t,user_id:n})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Erro ao abrir caixa")}return await r.json()}catch(r){throw new Error(`Erro na comunicação com o backend: ${r.message}`)}},H$=async(e,t,n,r=null)=>{try{const s=await fetch(`${xa}/cash-register/close`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({final_amount:e,store_id:t,user_id:n,notes:r})});if(!s.ok){const o=await s.json();throw new Error(o.error||"Erro ao fechar caixa")}return await s.json()}catch(s){throw new Error(`Erro na comunicação com o backend: ${s.message}`)}},G$=async(e={})=>{try{const t=new URLSearchParams;e.store_id&&t.append("store_id",e.store_id),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.date_from&&t.append("date_from",e.date_from),e.date_to&&t.append("date_to",e.date_to);const n=await fetch(`${xa}/cash-register/logs?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json();throw new Error(r.error||"Erro ao buscar logs do caixa")}return await n.json()}catch(t){throw new Error(`Erro na comunicação com o backend: ${t.message}`)}},K$=async(e,t,n,r,s=null)=>{try{const o=await fetch(`${xa}/cash-register/logs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,amount:t,store_id:n,user_id:r,notes:s})});if(!o.ok){const a=await o.json();throw new Error(a.error||"Erro ao adicionar log do caixa")}return await o.json()}catch(o){throw new Error(`Erro na comunicação com o backend: ${o.message}`)}},J$=()=>{var A;const[e,t]=p.useState({isOpen:!1,currentAmount:0,openingAmount:0,openedBy:null,openedAt:null,closedAt:null,id:null,store_id:null,store:null}),[n,r]=p.useState([]),[s,o]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(""),[j,v]=p.useState(""),[w,x]=p.useState(""),[y,g]=p.useState("add"),[b,S]=p.useState(""),[k,E]=p.useState("status"),{toast:_}=vt(),C=Je(),R=It(C==null?void 0:C.role,K.CASH_REGISTER_MANAGEMENT),I=async()=>{try{o(!0);const P=(C==null?void 0:C.store_id)||"1fa90f00-cf02-4a42-8167-c599537c22bb",V=await W$(P);t(V)}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}finally{o(!1)}},O=async()=>{try{const P=await G$({limit:100});r(P.logs||[])}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}};p.useEffect(()=>{I(),O()},[]);const F=async()=>{if(!h||parseFloat(h)<0){_({title:"Erro",description:"Valor inicial é obrigatório e deve ser maior ou igual a zero.",variant:"destructive"});return}try{o(!0);const P=await q$(parseFloat(h),e.store_id,C==null?void 0:C.id);t(P.cashRegister),l(!1),m(""),_({title:"Sucesso",description:P.message}),O()}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}finally{o(!1)}},N=async()=>{try{o(!0);const P=await H$(parseFloat(j)||e.currentAmount,e.store_id,C==null?void 0:C.id,b);t(P.cashRegister),u(!1),v(""),S(""),_({title:"Sucesso",description:P.message}),O()}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}finally{o(!1)}},D=async()=>{if(!w||parseFloat(w)<=0){_({title:"Erro",description:"Valor é obrigatório e deve ser maior que zero.",variant:"destructive"});return}try{o(!0);const P=parseFloat(w),V=y==="add"?P:-P;await K$(y,P,e.store_id,C==null?void 0:C.id,b),f(!1),x(""),g("add"),S(""),_({title:"Sucesso",description:"Movimentação registrada com sucesso!"}),I(),O()}catch(P){_({title:"Erro",description:P.message,variant:"destructive"})}finally{o(!1)}},T=P=>new Date(P).toLocaleString("pt-BR"),L=P=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P);return R?i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(Ss,{className:"w-8 h-8"}),"Controle de Caixa"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:((A=e.store)==null?void 0:A.name)||"Loja Online"}),i.jsx($,{variant:"outline",size:"sm",onClick:async()=>{if(confirm("Tem certeza que deseja resetar o caixa? Isso apagará todo o histórico."))try{(await fetch(`http://31.97.86.88:4000/api/cash-register/reset/${e.store_id}`,{method:"DELETE"})).ok&&(_({title:"Sucesso",description:"Caixa resetado com sucesso!"}),I(),O())}catch{_({title:"Erro",description:"Erro ao resetar caixa",variant:"destructive"})}},children:"Resetar Caixa"})]})]}),i.jsxs(n_,{value:k,onValueChange:E,children:[i.jsxs(em,{className:"grid w-full grid-cols-3",children:[i.jsx(jr,{value:"status",children:"Status"}),i.jsx(jr,{value:"operations",children:"Operações"}),i.jsx(jr,{value:"history",children:"Histórico"})]}),i.jsx(br,{value:"status",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center gap-2",children:[e.isOpen?i.jsx(ap,{className:"w-6 h-6 text-green-500"}):i.jsx(wf,{className:"w-6 h-6 text-red-500"}),"Status do Caixa"]})}),i.jsxs(ne,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),i.jsx("p",{className:`text-lg font-bold ${e.isOpen?"text-green-600":"text-red-600"}`,children:e.isOpen?"ABERTO":"FECHADO"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Atual"}),i.jsx("p",{className:"text-2xl font-bold",children:L(e.currentAmount)})]})]}),e.isOpen&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Inicial"}),i.jsx("p",{className:"font-bold",children:L(e.openingAmount)})]}),i.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto por"}),i.jsx("p",{className:"font-bold",children:e.openedBy||"N/A"})]}),i.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aberto em"}),i.jsx("p",{className:"font-bold",children:e.openedAt?T(e.openedAt):"N/A"})]})]}),!e.isOpen&&e.closedAt&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Fechado em"}),i.jsx("p",{className:"font-bold",children:T(e.closedAt)})]}),i.jsxs("div",{className:"text-center p-3 border rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Final"}),i.jsx("p",{className:"font-bold",children:L(e.currentAmount)})]})]})]})]})}),i.jsx(br,{value:"operations",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(ee,{children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center gap-2",children:[i.jsx(Dg,{className:"w-5 h-5"}),"Abrir Caixa"]})}),i.jsx(ne,{children:i.jsxs(Mn,{open:a,onOpenChange:l,children:[i.jsx(vo,{asChild:!0,children:i.jsx($,{className:"w-full",disabled:e.isOpen||s,children:"Abrir Caixa"})}),i.jsxs(gn,{children:[i.jsx(vn,{children:i.jsx(yn,{children:"Abrir Caixa"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"initialAmount",children:"Valor Inicial (R$)"}),i.jsx(H,{id:"initialAmount",type:"number",step:"0.01",min:"0",value:h,onChange:P=>m(P.target.value),placeholder:"0,00"})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx($,{variant:"outline",onClick:()=>l(!1),disabled:s,children:"Cancelar"}),i.jsx($,{onClick:F,disabled:s,children:s?"Abrindo...":"Abrir Caixa"})]})]})]})]})})]}),i.jsxs(ee,{children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center gap-2",children:[i.jsx(gf,{className:"w-5 h-5"}),"Fechar Caixa"]})}),i.jsx(ne,{children:i.jsxs(Mn,{open:c,onOpenChange:u,children:[i.jsx(vo,{asChild:!0,children:i.jsx($,{variant:"outline",className:"w-full",disabled:!e.isOpen||s,children:"Fechar Caixa"})}),i.jsxs(gn,{children:[i.jsx(vn,{children:i.jsx(yn,{children:"Fechar Caixa"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"finalAmount",children:"Valor Final (R$)"}),i.jsx(H,{id:"finalAmount",type:"number",step:"0.01",min:"0",value:j,onChange:P=>v(P.target.value),placeholder:e.currentAmount.toFixed(2)})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"closeNotes",children:"Observações (opcional)"}),i.jsx(H,{id:"closeNotes",value:b,onChange:P=>S(P.target.value),placeholder:"Observações sobre o fechamento..."})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx($,{variant:"outline",onClick:()=>u(!1),disabled:s,children:"Cancelar"}),i.jsx($,{onClick:N,disabled:s,children:s?"Fechando...":"Fechar Caixa"})]})]})]})]})})]}),i.jsxs(ee,{children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center gap-2",children:[i.jsx(Dc,{className:"w-5 h-5"}),"Movimentações"]})}),i.jsx(ne,{children:i.jsxs(Mn,{open:d,onOpenChange:f,children:[i.jsx(vo,{asChild:!0,children:i.jsx($,{variant:"outline",className:"w-full",disabled:!e.isOpen||s,children:"Adicionar/Remover"})}),i.jsxs(gn,{children:[i.jsx(vn,{children:i.jsx(yn,{children:"Movimentação de Caixa"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(z,{children:"Tipo de Operação"}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs($,{variant:y==="add"?"default":"outline",onClick:()=>g("add"),className:"flex-1",children:[i.jsx(wn,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),i.jsxs($,{variant:y==="remove"?"default":"outline",onClick:()=>g("remove"),className:"flex-1",children:[i.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Remover"]})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"movementAmount",children:"Valor (R$)"}),i.jsx(H,{id:"movementAmount",type:"number",step:"0.01",min:"0",value:w,onChange:P=>x(P.target.value),placeholder:"0,00"})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"movementNotes",children:"Observações (opcional)"}),i.jsx(H,{id:"movementNotes",value:b,onChange:P=>S(P.target.value),placeholder:"Motivo da movimentação..."})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx($,{variant:"outline",onClick:()=>f(!1),disabled:s,children:"Cancelar"}),i.jsx($,{onClick:D,disabled:s,children:s?"Registrando...":"Registrar Movimentação"})]})]})]})]})})]})]})}),i.jsx(br,{value:"history",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center gap-2",children:[i.jsx(pl,{className:"w-5 h-5"}),"Histórico de Operações"]})}),i.jsx(ne,{children:i.jsxs("div",{className:"space-y-4",children:[n.map(P=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[P.type==="open"&&i.jsx(Dg,{className:"w-5 h-5 text-green-500"}),P.type==="close"&&i.jsx(gf,{className:"w-5 h-5 text-red-500"}),P.type==="add"&&i.jsx(wn,{className:"w-5 h-5 text-blue-500"}),P.type==="remove"&&i.jsx(Yl,{className:"w-5 h-5 text-orange-500"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:[P.type==="open"&&"Abertura de Caixa",P.type==="close"&&"Fechamento de Caixa",P.type==="add"&&"Adição de Dinheiro",P.type==="remove"&&"Remoção de Dinheiro"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:P.notes})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-bold",children:L(P.current_amount)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:T(P.created_at)})]})]},P.id)),n.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma operação registrada."})]})})]})})]})]}):i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(ee,{className:"max-w-md mx-auto",children:i.jsxs(ne,{className:"p-6 text-center",children:[i.jsx(wf,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Acesso Negado"}),i.jsx("p",{className:"text-muted-foreground",children:"Você não tem permissão para acessar o controle de caixa."})]})})})},Y$=()=>{const[e,t]=p.useState({printer:{type:"epson",interface:"USB",port:"USB001",enabled:!0},scanner:{deviceId:"",autoScan:!0,enabled:!0}}),[n,r]=p.useState({nfe:{enabled:!1,environment:"homologation",series:"1",nextNumber:1},sat:{enabled:!1,environment:"homologation",nextNumber:1},general:{cnpj:"",inscricaoEstadual:"",razaoSocial:"",nomeFantasia:""}}),[s,o]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState([]),[j,v]=p.useState(null),{toast:w}=vt();p.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0);const[N,D]=await Promise.all([En.getConfig(),wr.getConfig()]);t(N),r(D)}catch(N){w({title:"Erro ao carregar configurações",description:N.message,variant:"destructive"})}finally{o(!1)}},y=async()=>{try{o(!0),await En.saveConfig(e),w({title:"Configurações salvas",description:"As configurações de periféricos foram salvas com sucesso!"})}catch(N){w({title:"Erro ao salvar configurações",description:N.message,variant:"destructive"})}finally{o(!1)}},g=async()=>{try{o(!0),await wr.saveConfig(n),w({title:"Configurações fiscais salvas",description:"As configurações fiscais foram salvas com sucesso!"})}catch(N){w({title:"Erro ao salvar configurações fiscais",description:N.message,variant:"destructive"})}finally{o(!1)}},b=async()=>{try{l(!0),await En.testPrinter(e.printer),w({title:"Teste da impressora",description:"Impressora testada com sucesso!"})}catch(N){w({title:"Erro no teste da impressora",description:N.message,variant:"destructive"})}finally{l(!1)}},S=async()=>{try{u(!0);const N=await En.testScanner(e.scanner);w({title:"Teste do scanner",description:`Scanner testado com sucesso! Código de teste: ${N.testCode}`})}catch(N){w({title:"Erro no teste do scanner",description:N.message,variant:"destructive"})}finally{u(!1)}},k=async()=>{try{u(!0);const N=await En.scanBarcode(e.scanner);v(N.barcode),w({title:"Código de barras lido",description:`Código: ${N.barcode.text} (${N.barcode.format})`})}catch(N){w({title:"Erro na leitura",description:N.message,variant:"destructive"})}finally{u(!1)}},E=async()=>{try{f(!0);const N=await En.detectDevices();m(N),w({title:"Dispositivos detectados",description:`${N.length} dispositivo(s) encontrado(s)!`})}catch(N){w({title:"Erro ao detectar dispositivos",description:N.message,variant:"destructive"})}finally{f(!1)}},_=(N,D,T)=>{t(L=>({...L,[N]:{...L[N],[D]:T}}))},C=(N,D,T)=>{r(L=>({...L,[N]:{...L[N],[D]:T}}))},R=N=>N?wr.validateCNPJ(N):!0,I=N=>wr.formatCNPJ(N),O=N=>{const D=I(N);C("general","cnpj",D)},F=N=>{switch(N){case"printer":return i.jsx(Xl,{className:"w-4 h-4"});case"scanner":return i.jsx(vf,{className:"w-4 h-4"});default:return i.jsx(yf,{className:"w-4 h-4"})}};return s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[i.jsx(yf,{className:"w-6 h-6 text-primary"}),i.jsx("h1",{className:"text-2xl font-bold",children:"Configurações de Periféricos e Fiscal"})]}),i.jsxs(ee,{children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center gap-2",children:[i.jsx(Ji,{className:"w-5 h-5"}),"Detectar Dispositivos"]})}),i.jsxs(ne,{className:"space-y-4",children:[i.jsxs($,{onClick:E,disabled:d,className:"w-full",children:[i.jsx(Ji,{className:"w-4 h-4 mr-2"}),d?"Detectando...":"Detectar Dispositivos"]}),h.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Dispositivos Encontrados:"}),h.map((N,D)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[F(N.device_type),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:N.device_name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[N.interface_type," - ",N.port_address]})]}),N.is_connected?i.jsx(ap,{className:"w-5 h-5 text-green-500"}):i.jsx(Aw,{className:"w-5 h-5 text-red-500"})]},D))]})]})]}),i.jsxs(ee,{children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center gap-2",children:[i.jsx(Xl,{className:"w-5 h-5"}),"Configuração da Impressora"]})}),i.jsxs(ne,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(z,{htmlFor:"printer-enabled",children:"Ativar Impressora"}),i.jsx(as,{id:"printer-enabled",checked:e.printer.enabled,onCheckedChange:N=>_("printer","enabled",N)})]}),e.printer.enabled&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"printer-type",children:"Tipo de Impressora"}),i.jsxs(jt,{value:e.printer.type,onValueChange:N=>_("printer","type",N),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione o tipo"})}),i.jsxs(mt,{children:[i.jsx(Le,{value:"epson",children:"Epson"}),i.jsx(Le,{value:"star",children:"Star"}),i.jsx(Le,{value:"citizen",children:"Citizen"}),i.jsx(Le,{value:"bematech",children:"Bematech"})]})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"printer-interface",children:"Interface"}),i.jsxs(jt,{value:e.printer.interface,onValueChange:N=>_("printer","interface",N),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:"Selecione a interface"})}),i.jsxs(mt,{children:[i.jsx(Le,{value:"USB",children:"USB"}),i.jsx(Le,{value:"Network",children:"Rede"}),i.jsx(Le,{value:"Serial",children:"Serial"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"printer-port",children:"Porta/Endereço"}),i.jsx(H,{id:"printer-port",value:e.printer.port,onChange:N=>_("printer","port",N.target.value),placeholder:"Ex: USB001, 192.168.1.100:9100"})]}),i.jsxs($,{onClick:b,disabled:a,className:"w-full",children:[i.jsx(Lg,{className:"w-4 h-4 mr-2"}),a?"Testando...":"Testar Impressora"]})]})]})]}),i.jsxs(ee,{children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center gap-2",children:[i.jsx(vf,{className:"w-5 h-5"}),"Configuração do Scanner"]})}),i.jsxs(ne,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(z,{htmlFor:"scanner-enabled",children:"Ativar Scanner"}),i.jsx(as,{id:"scanner-enabled",checked:e.scanner.enabled,onCheckedChange:N=>_("scanner","enabled",N)})]}),e.scanner.enabled&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(z,{htmlFor:"scanner-auto",children:"Escaneamento Automático"}),i.jsx(as,{id:"scanner-auto",checked:e.scanner.autoScan,onCheckedChange:N=>_("scanner","autoScan",N)})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"scanner-device",children:"ID do Dispositivo"}),i.jsx(H,{id:"scanner-device",value:e.scanner.deviceId,onChange:N=>_("scanner","deviceId",N.target.value),placeholder:"Deixe vazio para auto-detecção"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[i.jsxs($,{onClick:S,disabled:c,className:"w-full",children:[i.jsx(Lg,{className:"w-4 h-4 mr-2"}),c?"Testando...":"Testar Scanner"]}),i.jsxs($,{onClick:k,disabled:c,variant:"outline",className:"w-full",children:[i.jsx(o2,{className:"w-4 h-4 mr-2"}),c?"Lendo...":"Ler Código"]})]}),j&&i.jsxs("div",{className:"p-3 border rounded-lg bg-muted",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Último código lido:"}),i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Código:"})," ",j.text]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Formato:"})," ",j.format]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Hora:"})," ",new Date(j.timestamp).toLocaleTimeString("pt-BR")]})]})]})]})]})]}),i.jsxs(ee,{children:[i.jsx(je,{children:i.jsxs(be,{className:"flex items-center gap-2",children:[i.jsx(r2,{className:"w-5 h-5"}),"Configuração Fiscal"]})}),i.jsxs(ne,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium",children:"Dados da Empresa"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"cnpj",children:"CNPJ"}),i.jsx(H,{id:"cnpj",value:n.general.cnpj,onChange:N=>O(N.target.value),placeholder:"00.000.000/0000-00",className:!R(n.general.cnpj)&&n.general.cnpj?"border-red-500":""}),!R(n.general.cnpj)&&n.general.cnpj&&i.jsx("p",{className:"text-sm text-red-500 mt-1",children:"CNPJ inválido"})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"ie",children:"Inscrição Estadual"}),i.jsx(H,{id:"ie",value:n.general.inscricaoEstadual,onChange:N=>C("general","inscricaoEstadual",N.target.value),placeholder:"000.000.000.000"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"razao-social",children:"Razão Social"}),i.jsx(H,{id:"razao-social",value:n.general.razaoSocial,onChange:N=>C("general","razaoSocial",N.target.value),placeholder:"Nome da empresa"})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"nome-fantasia",children:"Nome Fantasia"}),i.jsx(H,{id:"nome-fantasia",value:n.general.nomeFantasia,onChange:N=>C("general","nomeFantasia",N.target.value),placeholder:"Nome fantasia"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(z,{htmlFor:"nfe-enabled",children:"Ativar NF-e"}),i.jsx(as,{id:"nfe-enabled",checked:n.nfe.enabled,onCheckedChange:N=>C("nfe","enabled",N)})]}),n.nfe.enabled&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"nfe-environment",children:"Ambiente"}),i.jsxs(jt,{value:n.nfe.environment,onValueChange:N=>C("nfe","environment",N),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Le,{value:"homologation",children:"Homologação"}),i.jsx(Le,{value:"production",children:"Produção"})]})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"nfe-series",children:"Série"}),i.jsx(H,{id:"nfe-series",value:n.nfe.series,onChange:N=>C("nfe","series",N.target.value),placeholder:"1"})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"nfe-next-number",children:"Próximo Número"}),i.jsx(H,{id:"nfe-next-number",type:"number",value:n.nfe.nextNumber,onChange:N=>C("nfe","nextNumber",parseInt(N.target.value)),placeholder:"1"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(z,{htmlFor:"sat-enabled",children:"Ativar SAT"}),i.jsx(as,{id:"sat-enabled",checked:n.sat.enabled,onCheckedChange:N=>C("sat","enabled",N)})]}),n.sat.enabled&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(z,{htmlFor:"sat-environment",children:"Ambiente"}),i.jsxs(jt,{value:n.sat.environment,onValueChange:N=>C("sat","environment",N),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Le,{value:"homologation",children:"Homologação"}),i.jsx(Le,{value:"production",children:"Produção"})]})]})]}),i.jsxs("div",{children:[i.jsx(z,{htmlFor:"sat-next-number",children:"Próximo Número"}),i.jsx(H,{id:"sat-next-number",type:"number",value:n.sat.nextNumber,onChange:N=>C("sat","nextNumber",parseInt(N.target.value)),placeholder:"1"})]})]})]})]})]}),i.jsxs("div",{className:"flex gap-4 justify-end",children:[i.jsxs($,{onClick:y,disabled:s,variant:"outline",children:[i.jsx(j2,{className:"w-4 h-4 mr-2"}),"Salvar Periféricos"]}),i.jsxs($,{onClick:g,disabled:s,children:[i.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Salvar Fiscal"]})]})]})},X$=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!1),[s,o]=p.useState({status:"",document_type:""}),{toast:a}=vt();p.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const v=await wr.getDocuments(s);t(v||[])}catch(v){console.error("Erro ao carregar documentos:",v),a({title:"Erro ao carregar documentos",description:v.message,variant:"destructive"})}finally{r(!1)}},c=async(v,w)=>{try{await wr.sendDocument(v,w),a({title:"Documento enviado",description:"Documento fiscal enviado com sucesso!"}),l()}catch(x){a({title:"Erro ao enviar documento",description:x.message,variant:"destructive"})}},u=v=>{switch(v){case"approved":return i.jsx(ap,{className:"w-4 h-4 text-green-500"});case"pending":return i.jsx(l2,{className:"w-4 h-4 text-yellow-500"});case"rejected":case"cancelled":return i.jsx(wf,{className:"w-4 h-4 text-red-500"});default:return i.jsx(Aw,{className:"w-4 h-4 text-gray-500"})}},d=v=>{const w={pending:"Pendente",sent:"Enviado",approved:"Aprovado",rejected:"Rejeitado",cancelled:"Cancelado"},x={pending:"bg-yellow-100 text-yellow-800",sent:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"};return i.jsx(Qp,{className:x[v]||"bg-gray-100 text-gray-800",children:w[v]||v})},f=v=>({nfe:"NF-e",sat:"SAT",nfce:"NFC-e"})[v]||v.toUpperCase(),h=v=>new Date(v).toLocaleString("pt-BR"),m=(v,w)=>{o(x=>({...x,[v]:w}))},j=()=>{l()};return n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[i.jsx(Ki,{className:"w-6 h-6 text-primary"}),i.jsx("h1",{className:"text-2xl font-bold",children:"Documentos Fiscais"})]}),i.jsxs(ee,{children:[i.jsx(je,{children:i.jsx(be,{className:"text-lg",children:"Filtros"})}),i.jsx(ne,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Status"}),i.jsxs("select",{className:"w-full p-2 border rounded-md",value:s.status,onChange:v=>m("status",v.target.value),children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"pending",children:"Pendente"}),i.jsx("option",{value:"sent",children:"Enviado"}),i.jsx("option",{value:"approved",children:"Aprovado"}),i.jsx("option",{value:"rejected",children:"Rejeitado"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Tipo"}),i.jsxs("select",{className:"w-full p-2 border rounded-md",value:s.document_type,onChange:v=>m("document_type",v.target.value),children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"nfe",children:"NF-e"}),i.jsx("option",{value:"sat",children:"SAT"}),i.jsx("option",{value:"nfce",children:"NFC-e"})]})]}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsxs($,{onClick:j,className:"flex-1",children:[i.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Filtrar"]}),i.jsx($,{onClick:l,variant:"outline",children:i.jsx(Ig,{className:"w-4 h-4"})})]})]})})]}),i.jsx("div",{className:"space-y-4",children:e.length===0?i.jsx(ee,{children:i.jsxs(ne,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(Ki,{className:"w-12 h-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Nenhum documento fiscal encontrado"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Os documentos fiscais aparecerão aqui após serem gerados no POS"})]})}):e.map(v=>i.jsx(ee,{children:i.jsxs(ne,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[u(v.status),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold",children:[f(v.document_type)," #",v.document_number]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Venda #",v.sale_id," • ",h(v.created_at)]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:d(v.status)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Chave de Acesso"}),i.jsx("p",{className:"font-mono text-sm",children:v.access_key})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),i.jsx("p",{className:"text-sm",children:v.error_message||"Sem erros"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[v.status==="pending"&&i.jsxs($,{size:"sm",onClick:()=>c(v.id,v.document_type),children:[i.jsx(b2,{className:"w-4 h-4 mr-2"}),"Enviar"]}),i.jsxs($,{size:"sm",variant:"outline",children:[i.jsx(lp,{className:"w-4 h-4 mr-2"}),"Visualizar"]}),i.jsxs($,{size:"sm",variant:"outline",children:[i.jsx(Mw,{className:"w-4 h-4 mr-2"}),"Download XML"]})]})]})},v.id))})]})},Dt=({element:e,requiredPermission:t,user:n})=>!n||n.role==="none"?i.jsx(Jl,{to:"/login"}):t&&!It(n.role,t)?i.jsx(Jl,{to:"/"}):e;function Q$(){const[e,t]=p.useState(null),[n,r]=p.useState(!0),{toast:s}=vt();p.useEffect(()=>{const l=d=>{s(d.detail)};window.addEventListener("show-toast",l),(async()=>{const d=Je();d&&t(d),r(!1)})();const{data:u}=te.auth.onAuthStateChange(async(d,f)=>{var h;if(f!=null&&f.user){let m="none";f.user.email==="admin@server.com"&&(m="admin");const j={id:f.user.id,email:f.user.email,name:((h=f.user.user_metadata)==null?void 0:h.name)||f.user.email.split("@")[0],role:m,store_id:null,active:!0,created_at:f.user.created_at,stores:null};t(j),oy(j)}else t(null),zf();r(!1)});return()=>{var d;(d=u==null?void 0:u.subscription)==null||d.unsubscribe(),window.removeEventListener("show-toast",l)}},[s]),p.useEffect(()=>{(async()=>{try{const c=await Je();t(c)}catch(c){console.error("Erro ao verificar usuário:",c)}finally{r(!1)}})()},[]);const o=l=>{t(l),oy(l)},a=()=>{t(null),zf()};return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg",children:i.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-white border-t-transparent rounded-full"})}):i.jsxs(RN,{children:[i.jsxs(CN,{children:[i.jsx(dt,{path:"/login",element:e?i.jsx(Jl,{to:"/"}):i.jsx(vM,{onLogin:o})}),i.jsxs(dt,{path:"/",element:i.jsx(Dt,{user:e,element:i.jsx(yM,{onLogout:a})}),children:[i.jsx(dt,{index:!0,element:i.jsx(Dt,{user:e,element:i.jsx(Ty,{}),requiredPermission:K.PROCESS_SALES})}),i.jsx(dt,{path:"pos",element:i.jsx(Dt,{user:e,element:i.jsx(Ty,{}),requiredPermission:K.PROCESS_SALES})}),i.jsx(dt,{path:"products",element:i.jsx(Dt,{user:e,element:i.jsx(r$,{}),requiredPermission:K.MANAGE_PRODUCTS})}),i.jsx(dt,{path:"products/:id",element:i.jsx(Dt,{user:e,element:i.jsx(s$,{}),requiredPermission:K.MANAGE_PRODUCTS})}),i.jsx(dt,{path:"categories",element:i.jsx(Dt,{user:e,element:i.jsx(p$,{}),requiredPermission:K.MANAGE_CATEGORIES})}),i.jsx(dt,{path:"stock",element:i.jsx(Dt,{user:e,element:i.jsx(o$,{}),requiredPermission:K.MANAGE_STOCK})}),i.jsx(dt,{path:"customers",element:i.jsx(Dt,{user:e,element:i.jsx(y$,{}),requiredPermission:K.MANAGE_PRODUCTS})}),i.jsx(dt,{path:"reports",element:i.jsx(Dt,{user:e,element:i.jsx(B$,{}),requiredPermission:K.VIEW_REPORTS})}),i.jsx(dt,{path:"users",element:i.jsx(Dt,{user:e,element:i.jsx(z$,{}),requiredPermission:K.MANAGE_USERS})}),i.jsx(dt,{path:"cash-register",element:i.jsx(Dt,{user:e,element:i.jsx(J$,{}),requiredPermission:K.CASH_REGISTER_MANAGEMENT})}),i.jsx(dt,{path:"peripherals",element:i.jsx(Dt,{user:e,element:i.jsx(Y$,{}),requiredPermission:K.MANAGE_USERS})}),i.jsx(dt,{path:"/fiscal-documents",element:i.jsx(Dt,{permission:K.MANAGE_FISCAL_DOCUMENTS,children:i.jsx(X$,{})})}),i.jsx(dt,{path:"*",element:i.jsx(Jl,{to:e?"/":"/login"})})]})]}),i.jsx(O2,{})]})}hd.createRoot(document.getElementById("root")).render(i.jsx(ae.StrictMode,{children:i.jsx(Q$,{})}));
